!function(){"use strict";function a(e){var t;return null===e?"null":void 0===e?"undefined":"object"==(t=typeof e)&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}function i(e){return{eq:e}}function s(l){return i(function(e,t){var r,n=Object.keys(e),o=Object.keys(t);if(!m(p(f),function(e){return d(e,r)}).eq(n,o))return!1;for(var a=n.length,i=0;i<a;i++){var s=n[i];if(!l.eq(e[s],t[s]))return!1}return!0})}var d=function(e,t){return Array.prototype.slice.call(e).sort(t)},m=function(r,n){return i(function(e,t){return r.eq(n(e),n(t))})},f=i(function(e,t){return e===t}),p=function(o){return i(function(e,t){if(e.length!==t.length)return!1;for(var r=e.length,n=0;n<r;n++)if(!o.eq(e[n],t[n]))return!1;return!0})},l=i(function(e,t){var r;return e===t||(r=a(e))===a(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(r)?e===t:"array"===r?p(l).eq(e,t):"object"===r&&s(l).eq(e,t))});const y=Object.getPrototypeOf,C=(e,t,r)=>{return!!r(e,t.prototype)||(null==(r=e.constructor)?void 0:r.name)===t.name};var e=r=>e=>{return t=typeof(e=e),(null===e?"null":"object"==t&&Array.isArray(e)?"array":"object"==t&&C(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t)===r;var t},t=t=>e=>typeof e===t,r=t=>e=>t===e;const x=(e,t)=>k(e)&&C(e,t,(e,t)=>y(e)===t),j=e("string"),k=e("object"),_=e=>x(e,Object),re=e("array"),E=r(null),S=t("boolean"),N=r(void 0),ne=e=>null==e,H=e=>!ne(e),q=t("function"),P=t("number"),L=(r,n)=>{if(re(r)){for(let e=0,t=r.length;e<t;++e)if(!n(r[e]))return!1;return!0}return!1},V=()=>{},M=(t,r)=>(...e)=>t(r.apply(null,e)),I=(t,r)=>e=>t(r(e)),$=e=>()=>e,F=e=>e,oe=(e,t)=>e===t;function w(t,...r){return(...e)=>{e=r.concat(e);return t.apply(null,e)}}const ae=t=>e=>!t(e),ie=e=>()=>{throw new Error(e)},se=e=>e(),le=e=>{e()},u=$(!1),de=$(!0);class R{constructor(e,t){this.tag=e,this.value=t}static some(e){return new R(!0,e)}static none(){return R.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?R.some(e(this.value)):R.none()}bind(e){return this.tag?e(this.value):R.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:R.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return H(e)?R.some(e):R.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}R.singletonNone=new R(!1);const ce=Array.prototype.slice,me=Array.prototype.indexOf,ue=Array.prototype.push,fe=(e,t)=>me.call(e,t),A=(e,t)=>-1<fe(e,t),W=(r,n)=>{for(let e=0,t=r.length;e<t;e++)if(n(r[e],e))return!0;return!1},h=(t,r)=>{var n=t.length,o=new Array(n);for(let e=0;e<n;e++){var a=t[e];o[e]=r(a,e)}return o},K=(r,n)=>{for(let e=0,t=r.length;e<t;e++)n(r[e],e)},ge=(t,r)=>{for(let e=t.length-1;0<=e;e--)r(t[e],e)},pe=(r,n)=>{var o=[],a=[];for(let e=0,t=r.length;e<t;e++){var i=r[e];(n(i,e)?o:a).push(i)}return{pass:o,fail:a}},D=(r,n)=>{var o=[];for(let e=0,t=r.length;e<t;e++){var a=r[e];n(a,e)&&o.push(a)}return o},he=(e,r,n)=>(ge(e,(e,t)=>{n=r(n,e,t)}),n),ve=(e,r,n)=>(K(e,(e,t)=>{n=r(n,e,t)}),n),be=(r,n,o)=>{for(let e=0,t=r.length;e<t;e++){var a=r[e];if(n(a,e))return R.some(a);if(o(a,e))break}return R.none()},ye=(e,t)=>be(e,t,u),Ce=(r,n)=>{for(let e=0,t=r.length;e<t;e++)if(n(r[e],e))return R.some(e);return R.none()},we=r=>{var n=[];for(let e=0,t=r.length;e<t;++e){if(!re(r[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+r);ue.apply(n,r[e])}return n},xe=(e,t)=>we(h(e,t)),ke=(r,n)=>{for(let e=0,t=r.length;e<t;++e)if(!0!==n(r[e],e))return!1;return!0},_e=e=>{e=ce.call(e,0);return e.reverse(),e},Ee=(e,t)=>D(e,e=>!A(t,e)),Se=(r,n)=>{var o={};for(let e=0,t=r.length;e<t;e++){var a=r[e];o[String(a)]=n(a,e)}return o},Ne=(e,t)=>{e=ce.call(e,0);return e.sort(t),e},De=(e,t)=>0<=t&&t<e.length?R.some(e[t]):R.none(),Re=e=>De(e,0),Ae=e=>De(e,e.length-1),Oe=q(Array.from)?Array.from:e=>ce.call(e),Te=(t,r)=>{for(let e=0;e<t.length;e++){var n=r(t[e],e);if(n.isSome())return n}return R.none()},Be=Object.keys,Pe=Object.hasOwnProperty,G=(r,n)=>{var o=Be(r);for(let e=0,t=o.length;e<t;e++){var a=o[e];n(r[a],a)}},Me=(e,r)=>Ie(e,(e,t)=>({k:t,v:r(e,t)})),Ie=(e,r)=>{const n={};return G(e,(e,t)=>{e=r(e,t);n[e.k]=e.v}),n},Fe=r=>(e,t)=>{r[t]=e},Ue=(e,r,n,o)=>{G(e,(e,t)=>{(r(e,t)?n:o)(e,t)})},ze=(e,t)=>{var r={};return Ue(e,t,Fe(r),V),r},je=(e,r)=>{const n=[];return G(e,(e,t)=>{n.push(r(e,t))}),n},He=e=>je(e,F),g=(e,t)=>Y(e,t)?R.from(e[t]):R.none(),Y=(e,t)=>Pe.call(e,t),qe=(e,t)=>Y(e,t)&&void 0!==e[t]&&null!==e[t],Ve=e=>{const t={};return K(e,e=>{t[e]={}}),Be(t)},$e=e=>void 0!==e.length,We=Array.isArray;const Ke=(r,n,o)=>{if(!r)return!1;if(o=o||r,$e(r)){for(let e=0,t=r.length;e<t;e++)if(!1===n.call(o,r[e],e,r))return!1}else for(const e in r)if(Y(r,e)&&!1===n.call(o,r[e],e,r))return!1;return!0},Ge=(r,n)=>{const o=[];return Ke(r,(e,t)=>{o.push(n(e,t,r))}),o},Ye=(r,n)=>{const o=[];return Ke(r,(e,t)=>{n&&!n(e,t,r)||o.push(e)}),o};const Xe=(t,r,e,n)=>{let o=N(e)?t[0]:e;for(let e=0;e<t.length;e++)o=r.call(n,o,t[e],e);return o},Qe=(r,n,o)=>{for(let e=0,t=r.length;e<t;e++)if(n.call(o,r[e],e,r))return e;return-1},Je=e=>e[e.length-1],Ze=t=>{let r=!1,n;return(...e)=>(r||(r=!0,n=t.apply(null,e)),n)},et=(t,r)=>{for(let e=0;e<t.length;e++){var n=t[e];if(n.test(r))return n}};const tt=()=>rt(0,0),rt=(e,t)=>({major:e,minor:t}),nt={nu:rt,detect:(e,t)=>{t=String(t).toLowerCase();if(0===e.length)return tt();{var r=t;const n=et(e,r);return n?(e=e=>Number(r.replace(n,"$"+e)),rt(e(1),e(2))):{major:0,minor:0};return}},unknown:tt},ot=(e,t)=>{const r=String(t).toLowerCase();return ye(e,e=>e.search(r))},at=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,it=(e,t)=>{return lt(e,t)?(t=t.length,e.substring(t)):e},st=(e,t,r=0,n)=>{e=e.indexOf(t,r);return-1!==e&&(!!N(n)||e+t.length<=n)},lt=(e,t)=>at(e,t,0),dt=(e,t)=>at(e,t,e.length-t.length);e=t=>e=>e.replace(t,"");const ct=e(/^\s+|\s+$/g),mt=e(/^\s+/g),ut=e(/\s+$/g),ft=e=>0<e.length,gt=e=>!ft(e),pt=(e,t=10)=>{e=parseInt(e,t);return isNaN(e)?R.none():R.some(e)};r=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,t=t=>e=>st(e,t),e=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>st(e,"edge/")&&st(e,"chrome")&&st(e,"safari")&&st(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,r],search:e=>st(e,"chrome")&&!st(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>st(e,"msie")||st(e,"trident")},{name:"Opera",versionRegexes:[r,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:t("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:t("firefox")},{name:"Safari",versionRegexes:[r,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(st(e,"safari")||st(e,"mobile/"))&&st(e,"applewebkit")}],r=[{name:"Windows",search:t("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>st(e,"iphone")||st(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:t("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:t("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:t("linux"),versionRegexes:[]},{name:"Solaris",search:t("sunos"),versionRegexes:[]},{name:"FreeBSD",search:t("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:t("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const ht={browsers:$(e),oses:$(r)},vt="Edge",bt="Chromium",yt="IE",Ct="Opera",wt="Firefox",xt="Safari";const kt=e=>{const t=e.current;var e=e.version,r=e=>()=>t===e;return{current:t,version:e,isEdge:r(vt),isChromium:r(bt),isIE:r(yt),isOpera:r(Ct),isFirefox:r(wt),isSafari:r(xt)}},_t={unknown:()=>kt({current:void 0,version:nt.unknown()}),nu:kt,edge:$(vt),chromium:$(bt),ie:$(yt),opera:$(Ct),firefox:$(wt),safari:$(xt)},Et="Windows",St="iOS",Nt="Android",Dt="Linux",Rt="macOS",At="Solaris",Ot="FreeBSD",Tt="ChromeOS";const Bt=e=>{const t=e.current;var e=e.version,r=e=>()=>t===e;return{current:t,version:e,isWindows:r(Et),isiOS:r(St),isAndroid:r(Nt),isMacOS:r(Rt),isLinux:r(Dt),isSolaris:r(At),isFreeBSD:r(Ot),isChromeOS:r(Tt)}},Pt={unknown:()=>Bt({current:void 0,version:nt.unknown()}),nu:Bt,windows:$(Et),ios:$(St),android:$(Nt),linux:$(Dt),macos:$(Rt),solaris:$(At),freebsd:$(Ot),chromeos:$(Tt)};const Lt={detect:(t,e,r)=>{const o=ht.browsers();var n,a,i,s,l,d,c,m=ht.oses(),e=e.bind(e=>{return n=o,e=e,Te(e.brands,t=>{const r=t.brand.toLowerCase();return ye(n,e=>{return r===(null==(e=e.brand)?void 0:e.toLowerCase())}).map(e=>({current:e.name,version:nt.nu(parseInt(t.version,10),0)}))});var n}).orThunk(()=>{return e=o,r=t,ot(e,r).map(e=>{var t=nt.detect(e.versionRegexes,r);return{current:e.name,version:t}});var e,r}).fold(_t.unknown,_t.nu),m=(m=m,n=t,ot(m,n).map(e=>{var t=nt.detect(e.versionRegexes,n);return{current:e.name,version:t}}).fold(Pt.unknown,Pt.nu)),u=(i=e,s=t,r=r,u=(a=m).isiOS()&&!0===/ipad/i.test(s),l=a.isiOS()&&!u,d=a.isiOS()||a.isAndroid(),c=d||r("(pointer:coarse)"),r=u||!l&&d&&r("(min-device-width:768px)"),d=l||d&&!r,i=i.isSafari()&&a.isiOS()&&!1===/safari/i.test(s),s=!d&&!r&&!i,{isiPad:$(u),isiPhone:$(l),isTablet:$(r),isPhone:$(d),isTouch:$(c),isAndroid:a.isAndroid,isiOS:a.isiOS,isWebView:$(i),isDesktop:$(s)});return{browser:e,os:m,deviceType:u}}},Mt=e=>window.matchMedia(e).matches;let It=Ze(()=>Lt.detect(navigator.userAgent,R.from(navigator.userAgentData),Mt));var t=navigator.userAgent,e=It(),r=e.browser,n=e.os,e=e.deviceType,t=-1!==t.indexOf("Windows Phone");const U={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:r.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!r.isIE(),windowsPhone:t,browser:{current:r.current,version:r.version,isChromium:r.isChromium,isEdge:r.isEdge,isFirefox:r.isFirefox,isIE:r.isIE,isOpera:r.isOpera,isSafari:r.isSafari},os:{current:n.current,version:n.version,isAndroid:n.isAndroid,isChromeOS:n.isChromeOS,isFreeBSD:n.isFreeBSD,isiOS:n.isiOS,isLinux:n.isLinux,isMacOS:n.isMacOS,isSolaris:n.isSolaris,isWindows:n.isWindows},deviceType:{isDesktop:e.isDesktop,isiPad:e.isiPad,isiPhone:e.isiPhone,isPhone:e.isPhone,isTablet:e.isTablet,isTouch:e.isTouch,isWebView:e.isWebView}},Ft=/^\s*|\s*$/g,Ut=e=>ne(e)?"":(""+e).replace(Ft,"");t=Y;function zt(e,r,n,o){o=o||this,e&&(n&&(e=e[n]),Ke(e,(e,t)=>!1!==r.call(o,e,t,n)&&(zt(e,r,n,o),!0)))}const O={trim:Ut,isArray:We,is:(e,t)=>t?!("array"!==t||!We(e))||typeof e===t:void 0!==e,toArray:r=>{if(We(r))return r;var n=[];for(let e=0,t=r.length;e<t;e++)n[e]=r[e];return n},makeMap:(e,t,r={})=>{var n=j(e)?e.split(t||","):e||[];let o=n.length;for(;o--;)r[n[o]]={};return r},each:Ke,map:Ge,grep:Ye,inArray:(r,n)=>{if(r)for(let e=0,t=r.length;e<t;e++)if(r[e]===n)return e;return-1},hasOwn:t,extend:(t,...r)=>{for(let e=0;e<r.length;e++){var n,o=r[e];for(const a in o)Y(o,a)&&void 0!==(n=o[a])&&(t[a]=n)}return t},walk:zt,resolve:(e,r=window)=>{var n=e.split(".");for(let e=0,t=n.length;e<t&&(r=r[n[e]]);e++);return r},explode:(e,t)=>re(e)?e:""===e?[]:Ge(e.split(t||","),Ut),_addCacheSuffix:e=>{var t=U.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},jt=(e,t,r=oe)=>e.exists(e=>r(e,t)),Ht=(e,t,r=oe)=>qt(e,t,r).getOr(e.isNone()&&t.isNone()),qt=(e,t,r)=>e.isSome()&&t.isSome()?R.some(r(e.getOrDie(),t.getOrDie())):R.none(),Vt=(e,t)=>e?R.some(t):R.none(),$t="undefined"!=typeof window?window:Function("return this;")(),Wt=(e,r)=>{e=e.split(".");{var n=e;let t=null!=(e=r)?e:$t;for(let e=0;e<n.length&&void 0!==t&&null!==t;++e)t=t[n[e]];return t}},Kt=(e,t)=>{r=e,t=t;var r=Wt(r,t);if(null==r)throw new Error(e+" not available on this browser");return r},Gt=Object.getPrototypeOf,Yt=e=>{var t=Wt("ownerDocument.defaultView",e);return k(e)&&(t=t,Kt("HTMLElement",t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Gt(e).constructor.name))},Xt=1,X=e=>{return e.dom.nodeName.toLowerCase()},Qt=e=>e.dom.nodeType;r=t=>e=>Qt(e)===t;const Jt=e=>Zt(e)&&Yt(e.dom),Zt=r(Xt),er=r(3),tr=r(9),rr=r(11),nr=t=>e=>Zt(e)&&X(e)===t,or=(e,t,r)=>{if(!(j(r)||S(r)||P(r)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},ar=(e,t,r)=>{or(e.dom,t,r)},ir=(e,t)=>{const r=e.dom;G(t,(e,t)=>{or(r,t,e)})},sr=(e,t)=>{e=e.dom.getAttribute(t);return null===e?void 0:e},lr=(e,t)=>R.from(sr(e,t)),dr=(e,t)=>{e=e.dom;return!(!e||!e.hasAttribute)&&e.hasAttribute(t)},cr=(e,t)=>{e.dom.removeAttribute(t)},mr=e=>ve(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),ur=(e,t)=>{e=sr(e,t);return void 0===e||""===e?[]:e.split(" ")},fr=e=>void 0!==e.dom.classList,gr=e=>ur(e,"class"),pr=(e,t)=>{var r="class";return t=ur(e,r).concat([t]),ar(e,r,t.join(" ")),!0},hr=(e,t)=>{return e=e,r="class",n=t,0<(t=D(ur(e,r),e=>e!==n)).length?ar(e,r,t.join(" ")):cr(e,r),!1;var r,n},vr=(e,t)=>(A(gr(e),t)?hr:pr)(e,t),br=(e,t)=>{fr(e)?e.dom.classList.add(t):pr(e,t)},yr=e=>{0===(fr(e)?e.dom.classList:gr(e)).length&&cr(e,"class")},Cr=(e,t)=>{fr(e)?e.dom.classList.remove(t):hr(e,t),yr(e)},wr=(e,t)=>fr(e)&&e.dom.classList.contains(t);const xr=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}};const Q={fromHtml:(e,t)=>{var r,t=(t||document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw r="HTML does not have a single root node",console.error(r,e),new Error(r);return xr(t.childNodes[0])},fromTag:(e,t)=>{t=(t||document).createElement(e);return xr(t)},fromText:(e,t)=>{t=(t||document).createTextNode(e);return xr(t)},fromDom:xr,fromPoint:(e,t,r)=>R.from(e.dom.elementFromPoint(t,r)).map(xr)},kr=(e,t)=>{const r=[];var n=e=>(r.push(e),t(e));let o=t(e);for(;(o=o.bind(n)).isSome(););return r},_r=(e,t)=>{e=e.dom;if(e.nodeType!==Xt)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Er=e=>e.nodeType!==Xt&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Sr=(e,t)=>{t=void 0===t?document:t.dom;return Er(t)?[]:h(t.querySelectorAll(e),Q.fromDom)},T=(e,t)=>e.dom===t.dom,Nr=(e,t)=>{e=e.dom,t=t.dom;return e!==t&&e.contains(t)},Dr=e=>Q.fromDom(e.dom.ownerDocument),Rr=e=>tr(e)?e:Dr(e),Ar=e=>Q.fromDom(Rr(e).dom.defaultView),Or=e=>R.from(e.dom.parentNode).map(Q.fromDom),Tr=e=>R.from(e.dom.parentElement).map(Q.fromDom),Br=(e,t)=>{var r=q(t)?t:u;let n=e.dom;for(var o=[];null!==n.parentNode&&void 0!==n.parentNode;){var a=n.parentNode,i=Q.fromDom(a);if(o.push(i),!0===r(i))break;n=a}return o},Pr=e=>R.from(e.dom.previousSibling).map(Q.fromDom),Lr=e=>R.from(e.dom.nextSibling).map(Q.fromDom),Mr=e=>_e(kr(e,Pr)),Ir=e=>kr(e,Lr),Fr=e=>h(e.dom.childNodes,Q.fromDom),Ur=(e,t)=>{e=e.dom.childNodes;return R.from(e[t]).map(Q.fromDom)},zr=e=>Ur(e,0),jr=e=>Ur(e,e.dom.childNodes.length-1),Hr=e=>e.dom.childNodes.length,qr=e=>rr(e)&&H(e.dom.host);n=q(Element.prototype.attachShadow)&&q(Node.prototype.getRootNode);const Vr=$(n),$r=n?e=>Q.fromDom(e.dom.getRootNode()):Rr,Wr=e=>{if(qr(e))return e;e=Rr(e);if(null==(e=e.dom.head))throw new Error("Head is not available yet");return Q.fromDom(e)},Kr=e=>Q.fromDom(e.dom.host),Gr=e=>{if(Vr()&&H(e.target)){var t=Q.fromDom(e.target);if(Zt(t)&&(t=t,H(t.dom.shadowRoot))&&(e.composed&&e.composedPath)){t=e.composedPath();if(t)return Re(t)}}return R.from(e.target)},Yr=e=>{const t=er(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const r=t.ownerDocument;return(e=>{e=$r(e);return qr(e)?R.some(e):R.none()})(Q.fromDom(t)).fold(()=>r.body.contains(t),I(Yr,Kr))};var Xr=(e,t,r,n,o)=>e(r,n)?R.some(r):q(o)&&o(r)?R.none():t(r,n,o);const Qr=(e,t,r)=>{let n=e.dom;for(var o=q(r)?r:u;n.parentNode;){n=n.parentNode;var a=Q.fromDom(n);if(t(a))return R.some(a);if(o(a))break}return R.none()},Jr=(e,t,r)=>{return Xr((e,t)=>t(e),Qr,e,t,r)},Zr=(t,r)=>{var n,e,o=t.dom;return o.parentNode?(o=Q.fromDom(o.parentNode),n=e=>!T(t,e)&&r(e),e=e=>n(Q.fromDom(e)),ye(o.dom.childNodes,e).map(Q.fromDom)):R.none()},en=(e,t,r)=>Qr(e,e=>_r(e,t),r),tn=(e,t)=>{return e=void 0===e?document:e.dom,Er(e)?R.none():R.from(e.querySelector(t)).map(Q.fromDom)},rn=(e,t,r)=>{return Xr((e,t)=>_r(e,t),en,e,t,r)},nn=e=>rn(e,"[contenteditable]"),on=(e,t=!1)=>Yr(e)?e.dom.isContentEditable:nn(e).fold($(t),e=>"true"===an(e)),an=e=>e.dom.contentEditable,sn=e=>void 0!==e.style&&q(e.style.getPropertyValue),ln=(e,t,r)=>{if(!j(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);sn(e)&&e.style.setProperty(t,r)},dn=(e,t)=>{sn(e)&&e.style.removeProperty(t)},cn=(e,t,r)=>{e=e.dom;ln(e,t,r)},mn=(e,t)=>{const r=e.dom;G(t,(e,t)=>{ln(r,t,e)})},un=(e,t)=>{var r=e.dom,n=window.getComputedStyle(r).getPropertyValue(t);return""!==n||Yr(e)?n:fn(r,t)},fn=(e,t)=>sn(e)?e.style.getPropertyValue(t):"",gn=(e,t)=>{e=e.dom,e=fn(e,t);return R.from(e).filter(e=>0<e.length)},pn=e=>{var t={},r=e.dom;if(sn(r))for(let e=0;e<r.style.length;e++){var n=r.style.item(e);t[n]=r.style[n]}return t},hn=(e,t)=>{var r=e.dom;dn(r,t),jt(lr(e,"style").map(ct),"")&&cr(e,"style")},vn=e=>e.dom.offsetWidth,bn=(t,r)=>{Or(t).each(e=>{e.dom.insertBefore(r.dom,t.dom)})},yn=(e,t)=>{Lr(e).fold(()=>{Or(e).each(e=>{wn(e,t)})},e=>{bn(e,t)})},Cn=(t,r)=>{zr(t).fold(()=>{wn(t,r)},e=>{t.dom.insertBefore(r.dom,e.dom)})},wn=(e,t)=>{e.dom.appendChild(t.dom)},xn=(e,t)=>{bn(e,t),wn(t,e)},kn=(r,n)=>{K(n,(e,t)=>{t=0===t?r:n[t-1];yn(t,e)})},_n=(t,e)=>{K(e,e=>{wn(t,e)})},En=e=>{e.dom.textContent="",K(Fr(e),e=>{J(e)})},J=e=>{e=e.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},Sn=e=>{var t=Fr(e);0<t.length&&kn(e,t),J(e)},Nn=(e,t)=>{t=(t||document).createElement("div");return t.innerHTML=e,Fr(Q.fromDom(t))},Dn=e=>h(e,Q.fromDom),Rn=e=>e.dom.innerHTML,An=(e,t)=>{var r=Dr(e).dom,n=Q.fromDom(r.createDocumentFragment()),t=Nn(t,r);_n(n,t),En(e),wn(e,n)},On=(a,i)=>e=>{var t,r,n,o;a(e)&&i((t=e,e=Q.fromDom(Gr(t).getOr(t.target)),r=()=>t.stopPropagation(),n=()=>t.preventDefault(),o=M(n,r),{target:e,x:t.clientX,y:t.clientY,stop:r,prevent:n,kill:o,raw:t}))},Tn=(e,t,r,n)=>{var o=!1;return r=On(r,n),e.dom.addEventListener(t,r,o),{unbind:w(Bn,e,t,r,o)}},Bn=(e,t,r,n)=>{e.dom.removeEventListener(t,r,n)},Pn=(r,n)=>{return{left:r,top:n,translate:(e,t)=>Pn(r+e,n+t)}},Ln=Pn,Mn=e=>{e=e.getBoundingClientRect();return Ln(e.left,e.top)},In=(e,t)=>void 0!==e?e:void 0!==t?t:0,Fn=e=>{var t=e.dom,r=t.ownerDocument.body;return r===t?Ln(r.offsetLeft,r.offsetTop):Yr(e)?Mn(t):Ln(0,0)},Un=e=>{var e=void 0!==e?e.dom:document,t=e.body.scrollLeft||e.documentElement.scrollLeft,e=e.body.scrollTop||e.documentElement.scrollTop;return Ln(t,e)},zn=(e,t,r)=>{r=(void 0!==r?r.dom:document).defaultView;r&&r.scrollTo(e,t)},jn=(e,t)=>{It().browser.isSafari()&&q(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Hn=e=>{e=void 0===e?window:e;return It().browser.isFirefox()?R.none():R.from(e.visualViewport)},qn=(e,t,r,n)=>({x:e,y:t,width:r,height:n,right:e+r,bottom:t+n}),Vn=e=>{const r=void 0===e?window:e;e=r.document;const n=Un(Q.fromDom(e));return Hn(r).fold(()=>{var e=r.document.documentElement,t=e.clientWidth,e=e.clientHeight;return qn(n.left,n.top,t,e)},e=>qn(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height))},$n=(e,t)=>{let r=[];return K(Fr(e),e=>{r=(r=t(e)?r.concat([e]):r).concat($n(e,t))}),r},Wn=(e,t)=>Sr(t,e),Kn=(e,t,r)=>en(e,t,r).isSome();class Gn{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(r,e,n,t){if(r){if(!t&&r[e])return r[e];if(r!==this.rootNode){let t=r[n];if(t)return t;for(let e=r.parentNode;e&&e!==this.rootNode;e=e.parentNode)if(t=e[n])return t}}}findPreviousNode(e,t){if(e){var r=e.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!t)for(let e=r.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return r}t=e.parentNode;if(t&&t!==this.rootNode)return t}}}e=t=>e=>!!e&&e.nodeType===t;const Yn=e=>!!e&&!Object.getPrototypeOf(e),Z=e(1);t=e=>{const t=e.toLowerCase();return e=>H(e)&&e.nodeName.toLowerCase()===t};const Xn=e=>{const t=e.map(e=>e.toLowerCase());return e=>{return!(!e||!e.nodeName)&&(e=e.nodeName.toLowerCase(),A(t,e))}};r=(o,e)=>{const a=e.toLowerCase().split(" ");return t=>{if(Z(t)){var r=t.ownerDocument.defaultView;if(r)for(let e=0;e<a.length;e++){var n=r.getComputedStyle(t,null);if((n?n.getPropertyValue(o):null)===a[e])return!0}}return!1}},n=t=>e=>Z(e)&&e.hasAttribute(t);const Qn=e=>Z(e)&&e.hasAttribute("data-mce-bogus"),Jn=e=>Z(e)&&"TABLE"===e.tagName;var o=t=>e=>{if(Z(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1};const Zn=Xn(["textarea","input"]),ee=e(3),eo=e(4),to=e(7),ro=e(8),no=e(9),oo=e(11),B=t("br"),ao=t("img"),io=o("true"),b=o("false"),so=Xn(["td","th"]),lo=Xn(["td","th","caption"]),co=Xn(["video","audio","object","embed"]),mo=t("li"),uo=t("details"),fo=t("summary"),go="\ufeff",po=" ",ho=e=>e===go;const vo=((r,n)=>{const t=e=>r(e)?R.from(e.dom.nodeValue):R.none();return{get:e=>{if(r(e))return t(e).getOr("");throw new Error("Can only get "+n+" value of a "+n+" node")},getOption:t,set:(e,t)=>{if(!r(e))throw new Error("Can only set raw "+n+" value of a "+n+" node");e.dom.nodeValue=t}}})(er,"text"),bo=e=>vo.get(e),yo=e=>vo.getOption(e);e=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),o=t=>{let r;return e=>(r=r||Se(t,de),Y(r,X(e)))};const Co=o(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),wo=e=>Zt(e)&&!Co(e),xo=e=>Zt(e)&&"br"===X(e),ko=o(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),_o=o(["ul","ol","dl"]),Eo=o(["li","dd","dt"]),So=o(["thead","tbody","tfoot"]),No=o(["td","th"]),Do=o(["pre","script","textarea","style"]),Ro=o(e),Ao=e=>Ro(e)||wo(e),Oo=e=>{var t=Wn(e,"br"),e=D((e=>{var t=[];let r=e.dom;for(;r;)t.push(Q.fromDom(r)),r=r.lastChild;return t})(e).slice(-1),xo);t.length===e.length&&K(e,J)},To=()=>{var e=Q.fromTag("br");return ar(e,"data-mce-bogus","1"),e},Bo=e=>{En(e),wn(e,To())},Po=r=>{jr(r).each(t=>{Pr(t).each(e=>{Co(r)&&xo(t)&&Co(e)&&J(t)})})},Lo=go,Mo=ho,Io=e=>e.replace(/\uFEFF/g,""),Fo=Z,Uo=ee,zo=e=>(Uo(e)&&(e=e.parentNode),Fo(e)&&e.hasAttribute("data-mce-caret")),jo=e=>Uo(e)&&Mo(e.data),Ho=e=>zo(e)||jo(e),qo=e=>e.firstChild!==e.lastChild||!B(e.firstChild),Vo=e=>{var t=e.container();return!!ee(t)&&(t.data.charAt(e.offset())===Lo||e.isAtStart()&&jo(t.previousSibling))},$o=e=>{var t=e.container();return!!ee(t)&&(t.data.charAt(e.offset()-1)===Lo||e.isAtEnd()&&jo(t.nextSibling))},Wo=e=>Uo(e)&&e.data[0]===Lo,Ko=e=>Uo(e)&&e.data[e.data.length-1]===Lo,Go=e=>{var t,e=e.getElementsByTagName("br"),e=e[e.length-1];Qn(e)&&null!=(t=e.parentNode)&&t.removeChild(e)},Yo=e=>e&&e.hasAttribute("data-mce-caret")?(Go(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Xo=e=>zo(e.startContainer),Qo=io,Jo=b,Zo=B,ea=ee,ta=Xn(["script","style","textarea"]),ra=Xn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),na=Xn(["table"]),oa=Ho,aa=e=>!oa(e)&&(ea(e)?!ta(e.parentNode):ra(e)||Zo(e)||na(e)||sa(e)),ia=e=>Z(e)&&"true"===e.getAttribute("unselectable"),sa=e=>!ia(e)&&Jo(e);var la,da;const ca=(e,t)=>aa(e)&&((t,r)=>{for(let e=t.parentNode;e&&e!==r;e=e.parentNode){if(sa(e))return!1;if(Qo(e))return!0}return!0})(e,t),ma=/^[ \t\r\n]*$/,ua=e=>ma.test(e),fa=e=>"\n"===e||"\r"===e,ga=(e,t=4,o=!0,a=!0)=>{r=" ";var r,t=(t=t)<=0?"":new Array(t+1).join(r);const i=e.replace(/\t/g,t);return ve(i,(e,t)=>{return-1!==" \f\t\v".indexOf(t)||t===po?e.pcIsSpace||""===e.str&&o||e.str.length===i.length-1&&a||(r=i,(n=e.str.length+1)<r.length&&0<=n&&fa(r[n]))?{pcIsSpace:!1,str:e.str+po}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:fa(t),str:e.str+t};var r,n},{pcIsSpace:!1,str:""}).str},pa=(e,t)=>ee(e)&&ua(e.data)&&!((e,t)=>{t=Q.fromDom(t),e=Q.fromDom(e);return Kn(e,"pre,code",w(T,t))})(e,t),ha=(e,t)=>{return aa(e)&&!pa(e,t)||(t=e,Z(t)&&"A"===t.nodeName&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id")))||va(e)},va=n("data-mce-bookmark"),ba=n("data-mce-bogus"),ya=(la="data-mce-bogus",da="all",e=>Z(e)&&e.getAttribute(la)===da),Ca=(e,r=!0)=>{{var n=e.dom,o=r;let t=0;if(ha(n,n))return!1;{let e=n.firstChild;if(!e)return!0;var a=new Gn(e,n);do{if(o){if(ya(e)){e=a.next(!0);continue}if(ba(e)){e=a.next();continue}}if(B(e))t++;else if(ha(e,n))return!1;e=a.next()}while(e);return t<=1}}},wa="data-mce-block",xa=e=>{return e=e,D(Be(e),e=>!/[A-Z]/.test(e)).join(",")},ka=(e,t)=>H(t.querySelector(e))?(t.setAttribute(wa,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(wa),!1),_a=(e,t)=>{var r=xa(e.getTransparentElements());const n=xa(e.getBlockElements());return D(t.querySelectorAll(r),e=>ka(n,e))},Ea=(t,e)=>{var r,n=e?"lastChild":"firstChild";for(let e=t[n];e;e=e[n])if(Ca(Q.fromDom(e)))return void(null!=(r=e.parentNode)&&r.removeChild(e))},Sa=(o,e,t)=>{const r=o.getBlockElements(),n=Q.fromDom(e),i=e=>X(e)in r,s=e=>T(e,n);K(Dn(t),n=>{Qr(n,i,s).each(t=>{r=n,e=e=>i(e)&&!o.isValidChild(X(t),X(e));var e,r=D(Fr(r),e);0<r.length&&(e=Tr(t),K(r,a=>{Qr(a,i,s).each(e=>{var t,r,n,o;e=e.dom,t=a.dom,n=document.createRange(),(o=e.parentNode)&&(n.setStartBefore(e),n.setEndBefore(t),r=n.extractContents(),Ea(r,!0),n.setStartAfter(t),n.setEndAfter(e),n=n.extractContents(),Ea(n,!1),Ca(Q.fromDom(r))||o.insertBefore(r,e),Ca(Q.fromDom(t))||o.insertBefore(t,e),Ca(Q.fromDom(n))||o.insertBefore(n,e),o.removeChild(e))})}),e.each(e=>_a(o,e.dom)))})})},Na=(n,e,t)=>{K([...t,...Ta(n,e)?[e]:[]],e=>K(Wn(Q.fromDom(e),e.nodeName.toLowerCase()),e=>{var t,r;t=n,r=e.dom,Oa(t,r)&&!Ra(r)&&Sn(e)}))},Da=(e,t)=>{var r=_a(e,t);Sa(e,t,r),Na(e,t,r)},Ra=e=>e.hasAttribute(wa),Aa=(e,t)=>Y(e.getTransparentElements(),t),Oa=(e,t)=>Z(t)&&Aa(e,t.nodeName),Ta=(e,t)=>Oa(e,t)&&Ra(t),Ba=(e,t)=>1===t.type&&Aa(e,t.name)&&j(t.attr(wa)),Pa=It().browser,La=e=>ye(e,Zt),Ma=e=>Pa.isFirefox()&&"table"===X(e)?La(Fr(e)).filter(e=>"caption"===X(e)).bind(n=>La(Ir(n)).map(e=>{var e=e.dom.offsetTop,t=n.dom.offsetTop,r=n.dom.offsetHeight;return e<=t?-r:0})).getOr(0):0,Ia=(e,t)=>e.children&&A(e.children,t),Fa=(e,d={})=>{let c=0;const m={},u=Q.fromDom(e),f=Rr(u);const t=l=>new Promise((e,t)=>{let r;var n=O._addCacheSuffix(l);i=n;const o=g(m,i).getOrThunk(()=>({id:"mce-u"+c++,passed:[],failed:[],count:0})),a=((m[n]=o).count++,(e,t)=>{K(e,le),o.status=t,o.passed=[],o.failed=[],r&&(r.onload=null,r.onerror=null,r=null)});var i=()=>a(o.passed,2),s=()=>a(o.failed,3);e&&o.passed.push(e),t&&o.failed.push(t),1!==o.status&&(2===o.status?i():3===o.status?s():(o.status=1,e=Q.fromTag("link",f.dom),ir(e,{rel:"stylesheet",type:"text/css",id:o.id}),d.contentCssCors&&ar(e,"crossOrigin","anonymous"),d.referrerPolicy&&ar(e,"referrerpolicy",d.referrerPolicy),(r=e.dom).onload=i,r.onerror=s,t=e,wn(Wr(u),t),ar(e,"href",n)))});const r=e=>{const r=O._addCacheSuffix(e);g(m,r).each(e=>{var t;0==--e.count&&(delete m[r],e=e.id,t=Wr(u),tn(t,"#"+e).each(J))})};return{load:t,loadAll:e=>{return Promise.allSettled(h(e,e=>t(e).then($(e)))).then(e=>{e=pe(e,e=>"fulfilled"===e.status);return 0<e.fail.length?Promise.reject(h(e.fail,e=>e.reason)):h(e.pass,e=>e.value)})},unload:r,unloadAll:e=>{K(e,e=>{r(e)})},_setReferrerPolicy:e=>{d.referrerPolicy=e},_setContentCssCors:e=>{d.contentCssCors=e}}};const Ua=(()=>{const n=new WeakMap;return{forElement:(e,t)=>{const r=$r(e).dom;return R.from(n.get(r)).getOrThunk(()=>{var e=Fa(r,t);return n.set(r,e),e})}}})(),za=(e,t)=>H(e)&&(ha(e,t)||wo(Q.fromDom(e))),ja=e=>"span"===e.nodeName.toLowerCase()&&"bookmark"===e.getAttribute("data-mce-type"),Ha=(e,t)=>{return ee(e)&&0<e.data.length&&(e=e,t=t,r=new Gn(e,t).prev(!1),e=new Gn(e,t).next(!1),r=N(r)||za(r,t),e=N(e)||za(e,t),r)&&e;var r},qa=e=>!!Z(e)&&0<e.childNodes.length,Va=e=>oo(e)||no(e),$a=(t,e,r)=>{var n,o=r||e;if(!Z(e)||!ja(e)){var a=e.childNodes;for(let e=a.length-1;0<=e;e--)$a(t,a[e],o);Z(e)&&1===(r=e.childNodes).length&&ja(r[0])&&null!=(n=e.parentNode)&&n.insertBefore(r[0],e),Va(e)||ha(e,o)||qa(e)||Ha(e,o)||t.remove(e)}return e},Wa=O.makeMap,Ka=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ga=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ya=/[<>&\"\']/g,Xa=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Qa={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Ja={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Za={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ei=(e,t)=>{var r={};if(e){var n=e.split(",");t=t||10;for(let e=0;e<n.length;e+=2){var o,a=String.fromCharCode(parseInt(n[e],t));Ja[a]||(o="&"+n[e+1]+";",r[a]=o,r[o]=a)}return r}},ti=ei("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ri=(e,t)=>e.replace(t?Ka:Ga,e=>Ja[e]||e);const ni=(e,t)=>e.replace(t?Ka:Ga,e=>1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Ja[e]||"&#"+e.charCodeAt(0)+";"),oi=(e,t,r)=>{const n=r||ti;return e.replace(t?Ka:Ga,e=>Ja[e]||n[e]||e)};const ai={encodeRaw:ri,encodeAllRaw:e=>(""+e).replace(Ya,e=>Ja[e]||e),encodeNumeric:ni,encodeNamed:oi,getEncodeFunc:(e,t)=>{const r=ei(t)||ti;e=Wa(e.replace(/\+/g,","));return e.named&&e.numeric?(e,t)=>e.replace(t?Ka:Ga,e=>void 0!==Ja[e]?Ja[e]:void 0!==r[e]?r[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"):e.named?t?(e,t)=>oi(e,t,r):oi:e.numeric?ni:ri},decode:e=>e.replace(Xa,(e,t)=>{return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Qa[t]||String.fromCharCode(t):Za[e]||ti[e]||(t=e,(e=Q.fromTag("div").dom).innerHTML=t,e.textContent)||e.innerText||t})},ii=(e,t)=>(e=O.trim(e))?e.split(t||" "):[],si=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),li=e=>{const r=/^(~)?(.+)$/;return xe(ii(e,","),e=>{var t,e=r.exec(e);return e?[{inline:t="~"===e[1],cloneName:t?"span":"div",name:e[2]}]:[]})},di=e=>{const{globalAttributes:s,phrasingContent:t,flowContent:r}=(e=>{let t,r,n,o;return t="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",n+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",n=[n,"acronym applet basefont big font strike tt"].join(" "),r=[r,"center dir isindex noframes"].join(" "),o=[r,n].join(" ")),o=o||[r,n].join(" "),{globalAttributes:t,blockContent:r,phrasingContent:n,flowContent:o}})(e),l={},n=(e,t="",r="")=>{var n=ii(r),o=ii(e);let a=o.length;for(;a--;){var i=ii([s,t].join(" "));l[o[a]]={attributes:Se(i,$({})),attributesOrder:i,children:Se(n,$({}))}}};var o=(e,t)=>{var r=ii(e),n=ii(t);let o=r.length;for(;o--;){var a=l[r[o]];for(let e=0,t=n.length;e<t;e++)a.attributes[n[e]]={},a.attributesOrder.push(n[e])}};return"html5-strict"!==e&&(K(ii("acronym applet basefont big font strike tt"),e=>{n(e,"",t)}),K(ii("center dir isindex noframes"),e=>{n(e,"",r)})),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),n("dd div","",r),n("address dt caption","","html4"===e?t:r),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",t),n("blockquote","cite",r),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",r),n("dl","","dt dd"),n("a","href target rel media hreflang type","html4"===e?t:r),n("q","cite",t),n("ins del","cite datetime",r),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",r),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),n("param","name value"),n("map","name",[r,"area"].join(" ")),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",r),n("th","colspan rowspan headers scope abbr",r),n("form","accept-charset action autocomplete enctype method name novalidate target",r),n("fieldset","disabled form name",[r,"legend"].join(" ")),n("label","form for",t),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:t),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",[r,"li"].join(" ")),n("noscript","",r),"html4"!==e&&(n("wbr"),n("ruby","",[t,"rt rp"].join(" ")),n("figcaption","",r),n("mark rt rp summary bdi","",t),n("canvas","width height",r),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",[t,"option"].join(" ")),n("article section nav aside main header footer","",r),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",[r,"figcaption"].join(" ")),n("time","datetime",t),n("dialog","open",r),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",t),n("progress","value max",t),n("meter","value min max low high optimum",t),n("details","open",[r,"summary"].join(" ")),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(o("script","language xml:space"),o("style","xml:space"),o("object","declare classid code codebase codetype archive standby align border hspace vspace"),o("embed","align name hspace vspace"),o("param","valuetype type"),o("a","charset name rev shape coords"),o("br","clear"),o("applet","codebase archive code object alt name width height align hspace vspace"),o("img","name longdesc align border hspace vspace"),o("iframe","longdesc frameborder marginwidth marginheight scrolling align"),o("font basefont","size color face"),o("input","usemap align"),o("select"),o("textarea"),o("h1 h2 h3 h4 h5 h6 div p legend caption","align"),o("ul","type compact"),o("li","type"),o("ol dl menu dir","compact"),o("pre","width xml:space"),o("hr","align noshade size width"),o("isindex","prompt"),o("table","summary width frame rules cellspacing cellpadding align bgcolor"),o("col","width align char charoff valign"),o("colgroup","width align char charoff valign"),o("thead","align char charoff valign"),o("tr","align char charoff valign bgcolor"),o("th","axis align char charoff valign nowrap bgcolor width height"),o("form","accept"),o("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),o("tfoot","align char charoff valign"),o("tbody","align char charoff valign"),o("area","nohref"),o("body","background bgcolor text link vlink alink")),"html4"!==e&&(o("input button select textarea","autofocus"),o("input textarea","placeholder"),o("a","download"),o("link script img","crossorigin"),o("img","loading"),o("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&K([l.video,l.audio],e=>{delete e.children.audio,delete e.children.video}),K(ii("a form meter progress dfn"),e=>{l[e]&&delete l[e].children[e]}),delete l.caption.children.table,delete l.script,l},ci=e=>{const r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return xe(ii(e,","),e=>{var t,e=r.exec(e);return e?[{operation:(t=e[1])?"-"===t?"remove":"add":"replace",name:e[2],validChildren:ii(e[3],"|")}]:[]})},mi=(m,e)=>{const u=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return xe(ii(e,","),e=>{e=u.exec(e);if(e){var t=e[1],r=e[2],n=e[3],o=e[4],e=e[5];const i={attributes:{},attributesOrder:[]};if(m.each(e=>{return e=e,r=i,G(e.attributes,(e,t)=>{r.attributes[t]=e}),void r.attributesOrder.push(...e.attributesOrder);var r}),"#"===t?i.paddEmpty=!0:"-"===t&&(i.removeEmpty=!0),"!"===o&&(i.removeEmptyAttrs=!0),e){t=e;var a=i;const s=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,l=/[*?+]/,{attributes:d,attributesOrder:c}=a;K(ii(t,"|"),e=>{var t,r,n,o,e=s.exec(e);e&&(t={},o=e[1],r=e[2].replace(/[\\:]:/g,":"),n=e[3],e=e[4],"!"===o&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(r),t.required=!0),"-"===o?(delete d[r],c.splice(O.inArray(c,r),1)):(n&&("="===n?(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:r,value:e}),t.defaultValue=e):"~"===n?(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:r,value:e}),t.forcedValue=e):"<"===n&&(t.validValues=O.makeMap(e,"?"))),l.test(r)?(o=t,a.attributePatterns=a.attributePatterns||[],o.pattern=si(r),a.attributePatterns.push(o)):(d[r]||c.push(r),d[r]=t)))})}if(n&&(i.outputName=r),"@"===r){if(!m.isNone())return[];m=R.some(i)}return[n?{name:r,element:i,aliasName:n}:{name:r,element:i}]}return[]})},ui={},fi=O.makeMap,gi=O.each,pi=O.extend,hi=O.explode,vi=(e,t={})=>{e=fi(e," ",fi(e.toUpperCase()," "));return pi(e,t)},bi=e=>vi("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),yi=(e,r)=>{if(e){const n={};return j(e)&&(e={"*":e}),gi(e,(e,t)=>{n[t]=n[t.toUpperCase()]=("map"===r?fi:hi)(e,/[, ]/)}),n}},Ci=(o={})=>{const a={},i={};let s=[];const t={},r={};var e=(t,r,n)=>{var e=o[t];if(e)return fi(e,/[, ]/,fi(e.toUpperCase(),/[, ]/));{let e=ui[t];return e||(e=vi(r,n),ui[t]=e),e}},n=null!=(n=o.schema)?n:"html5",l=di(n),d=(!1===o.verify_html&&(o.valid_elements="*[*]"),yi(o.valid_styles)),c=yi(o.invalid_styles,"map"),m=yi(o.valid_classes,"map"),u=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),g=e("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),h="td th iframe video audio object script code";const v=e("non_empty_elements",h+" pre",g);var h=e("move_caret_before_on_enter_elements",h+" table",g),b=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure");const y=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",b);var C=e("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),e=e("transparent_elements","a ins del canvas map");gi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),e=>{r[e]=new RegExp("</"+e+"[^>]*>","gi")});const w=e=>{var t=R.from(a["@"]);const n=/[*?+]/;K(mi(t,null!=e?e:""),({name:e,element:t,aliasName:r})=>{r&&(a[r]=t),n.test(e)?((r=t).pattern=si(e),s.push(r)):a[e]=t})};var x=e=>{s=[],K(Be(a),e=>{delete a[e]}),w(e)},k=e=>{delete ui.text_block_elements,delete ui.block_elements,K(li(null!=e?e:""),({inline:e,name:r,cloneName:n})=>{i[r]=i[n],t[r]=n,v[r.toUpperCase()]={},v[r]={},e||(y[r.toUpperCase()]={},y[r]={}),a[r]||(e=a[n],delete(e=pi({},e)).removeEmptyAttrs,delete e.removeEmpty,a[r]=e),G(i,(e,t)=>{e[n]&&(i[t]=e=pi({},i[t]),e[r]=e[n])})})},_=e=>{K(ci(null!=e?e:""),({operation:t,name:e,validChildren:r})=>{const n="replace"===t?{"#comment":{}}:i[e];K(r,e=>{"remove"===t?delete n[e]:n[e]={}}),i[e]=n})};const E=e=>{var t=a[e];if(t)return t;let r=s.length;for(;r--;){var n=s[r];if(n.pattern.test(e))return n}};o.valid_elements?(x(o.valid_elements),gi(l,(e,t)=>{i[t]=e.children})):(gi(l,(e,t)=>{a[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},i[t]=e.children}),gi(ii("strong/b em/i"),e=>{e=ii(e,"/");a[e[1]].outputName=e[0]}),gi(C,(e,t)=>{a[t]&&(o.padd_empty_block_inline_children&&(a[t].paddInEmptyBlock=!0),a[t].removeEmpty=!0)}),gi(ii("ol ul blockquote a table tbody"),e=>{a[e]&&(a[e].removeEmpty=!0)}),gi(ii("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),e=>{a[e]&&(a[e].paddEmpty=!0)}),gi(ii("span"),e=>{a[e].removeEmptyAttrs=!0})),k(o.custom_elements),_(o.valid_children),w(o.extended_valid_elements),_("+ol[ul|ol],+ul[ul|ol]"),gi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(e,t)=>{a[t]&&(a[t].parentsRequired=ii(e))}),o.invalid_elements&&gi(hi(o.invalid_elements),e=>{a[e]&&delete a[e]}),E("span")||w("span[!data-mce-type|*]");var l=$(d),d=$(c),c=$(m),m=$(p),p=$(y),b=$(b),C=$(C),g=$(Object.seal(g)),f=$(f),S=$(v),h=$(h),u=$(u),e=$(e),N=$(Object.seal(r)),D=$(t);return{type:n,children:i,elements:a,getValidStyles:l,getValidClasses:c,getBlockElements:p,getInvalidStyles:d,getVoidElements:g,getTextBlockElements:b,getTextInlineElements:C,getBoolAttrs:m,getElementRule:E,getSelfClosingElements:f,getNonEmptyElements:S,getMoveCaretBeforeOnEnterElements:h,getWhitespaceElements:u,getTransparentElements:e,getSpecialElements:N,isValidChild:(e,t)=>{e=i[e.toLowerCase()];return!(!e||!e[t.toLowerCase()])},isValid:(e,t)=>{e=E(e);if(e){if(!t)return!0;if(e.attributes[t])return!0;var r=e.attributePatterns;if(r){let e=r.length;for(;e--;)if(r[e].pattern.test(t))return!0}}return!1},getCustomElements:D,addValidElements:w,setValidElements:x,addCustomElements:k,addValidChildren:_}},wi=(v={},e)=>{const b=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,y=/\s*([^:]+):\s*([^;]+);?/g,C=/\s+$/,w={};let t,l;const x=go;e&&(t=e.getValidStyles(),l=e.getInvalidStyles());var r=(`\\" \\' \\; \\: ; : `+x).split(" ");for(let e=0;e<r.length;e++)w[r[e]]=x+e,w[x+e]=r[e];const k={parse:e=>{const d={};let r=!1;const i=v.url_converter,s=v.url_converter_scope||k;var t=(t,r,n)=>{var o=d[t+"-top"+r];if(o){var a=d[t+"-right"+r];if(a){var i=d[t+"-bottom"+r];if(i){var s=d[t+"-left"+r];if(s){var l=[o,a,i,s];let e=l.length-1;for(;e--&&l[e]===l[e+1];);-1<e&&n||(d[t+r]=-1===e?l[0]:l.join(" "),delete d[t+"-top"+r],delete d[t+"-right"+r],delete d[t+"-bottom"+r],delete d[t+"-left"+r])}}}}};const n=t=>{var r=d[t];if(r){var n=-1<r.indexOf(",")?[r]:r.split(" ");let e=n.length;for(;e--;)if(n[e]!==n[0])return!1;return d[t]=n[0],!0}};const o=e=>(r=!0,w[e]),l=(e,t)=>(r&&(e=e.replace(/\uFEFF[0-9]/g,e=>w[e])),e=t?e:e.replace(/\\([\'\";:])/g,"$1")),a=e=>String.fromCharCode(parseInt(e.slice(1),16));var c,m,u,f,g=e=>e.replace(/\\[0-9a-f]+/gi,a),p=(e,t,r,n,o,a)=>{if(o=o||a)return"'"+(o=l(o)).replace(/\'/g,"\\'")+"'";if(t=l(t||r||n||""),!v.allow_script_urls){a=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!v.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return"url('"+(t=i?i.call(s,t,"style"):t).replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,o).replace(/\"[^\"]+\"|\'[^\']+\'/g,e=>e.replace(/[;:]/g,o));c=y.exec(e);){y.lastIndex=c.index+c[0].length;var h=c[1].replace(C,"").toLowerCase();let e=c[2].replace(C,"");h&&e&&(h=g(h),e=g(e),-1===h.indexOf(x))&&-1===h.indexOf('"')&&(v.allow_script_urls||"behavior"!==h&&!/expression\s*\(|\/\*|\*\//.test(e))&&("font-weight"===h&&"700"===e?e="bold":"color"!==h&&"background-color"!==h||(e=e.toLowerCase()),e=e.replace(b,p),d[h]=r?l(e,!0):e)}t("border","",!0),t("border","-width"),t("border","-color"),t("border","-style"),t("padding",""),t("margin",""),t="border",m="border-width",u="border-style",f="border-color",n(m)&&n(u)&&n(f)&&(d[t]=d[m]+" "+d[u]+" "+d[f],delete d[m],delete d[u],delete d[f]),"medium none"===d.border&&delete d.border,"none"===d["border-image"]&&delete d["border-image"]}return d},serialize:(a,i)=>{let s="";var e=(e,t)=>{var r=t[e];if(r)for(let e=0,t=r.length;e<t;e++){var n=r[e],o=a[n];o&&(s+=(0<s.length?" ":"")+n+": "+o+";")}};return i&&t?(e("*",t),e(i,t)):G(a,(e,t)=>{var r,n,o;!e||(r=t,n=i,l&&n&&((o=l["*"])&&o[r]||(o=l[n])&&o[r]))||(s+=(0<s.length?" ":"")+t+": "+e+";")}),s}};return k},xi={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ki=e=>e.isDefaultPrevented===de||e.isDefaultPrevented===u,_i=e=>{return ne(e.preventDefault)||(e=e)instanceof Event||q(e.initEvent)},Ei=(t,e)=>{var r=null!=e?e:{};for(const n in t)Y(xi,n)||(r[n]=t[n]);return H(t.composedPath)&&(r.composedPath=()=>t.composedPath()),H(t.getModifierState)&&(r.getModifierState=e=>t.getModifierState(e)),r},Si=(e,t,r,n)=>{const o=Ei(t,n);return o.type=e,ne(o.target)&&(o.target=null!=(n=o.srcElement)?n:r),_i(t)&&(o.preventDefault=()=>{o.defaultPrevented=!0,o.isDefaultPrevented=de,q(t.preventDefault)&&t.preventDefault()},o.stopPropagation=()=>{o.cancelBubble=!0,o.isPropagationStopped=de,q(t.stopPropagation)&&t.stopPropagation()},o.stopImmediatePropagation=()=>{o.isImmediatePropagationStopped=de,o.stopPropagation()},ki(o)||(o.isDefaultPrevented=!0===o.defaultPrevented?de:u,o.isPropagationStopped=!0===o.cancelBubble?de:u,o.isImmediatePropagationStopped=u)),o},Ni=/^(?:mouse|contextmenu)|click/,Di=(e,t,r,n)=>{e.addEventListener(t,r,n||!1)},Ri=(e,t,r,n)=>{e.removeEventListener(t,r,n||!1)},Ai=(e,t)=>{var r,n,o,t=Si(e.type,e,document,t);return o=e,H(o)&&Ni.test(o.type)&&N(e.pageX)&&!N(e.clientX)&&(r=(o=t.target.ownerDocument||document).documentElement,o=o.body,(n=t).pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),n.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),t},Oi=(e,t,r)=>{const n=e.document,o={type:"ready"};if(r.domLoaded)t(o);else{const a=()=>{Ri(e,"DOMContentLoaded",a),Ri(e,"load",a),r.domLoaded||(r.domLoaded=!0,t(o)),e=null};"complete"===n.readyState||"interactive"===n.readyState&&n.body?a():Di(e,"DOMContentLoaded",a),r.domLoaded||Di(e,"load",a)}};class Ti{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(o,e,a,i){const s=this;let l;const d=window;var c=e=>{s.executeHandlers(Ai(e||d.event),m)};if(!o||ee(o)||ro(o))return a;let m;o[s.expando]?m=o[s.expando]:(m=s.count++,o[s.expando]=m,s.events[m]={}),i=i||o;var u=e.split(" ");let f=u.length;for(;f--;){let e=u[f],t=c,r=!1,n=!1;"DOMContentLoaded"===e&&(e="ready"),s.domLoaded&&"ready"===e&&"complete"===o.readyState?a.call(i,Ai({type:e})):(s.hasFocusIn||"focusin"!==e&&"focusout"!==e||(r=!0,n="focusin"===e?"focus":"blur",t=e=>{e=Ai(e||d.event);e.type="focus"===e.type?"focusin":"focusout",s.executeHandlers(e,m)}),(l=s.events[m][e])?"ready"===e&&s.domLoaded?a(Ai({type:e})):l.push({func:a,scope:i}):(s.events[m][e]=l=[{func:a,scope:i}],l.fakeName=n,l.capture=r,l.nativeHandler=t,"ready"===e?Oi(o,t,s):Di(o,n||e,t,r)))}return o=l=null,a}unbind(r,n,o){if(r&&!ee(r)&&!ro(r)){var e=r[this.expando];if(e){let t=this.events[e];if(n){var a=n.split(" ");let e=a.length;for(;e--;){var i,s,l,d,c=a[e],m=t[c];if(m){if(o){let e=m.length;for(;e--;)m[e].func===o&&(i=m.nativeHandler,s=m.fakeName,l=m.capture,(d=m.slice(0,e).concat(m.slice(e+1))).nativeHandler=i,d.fakeName=s,d.capture=l,t[c]=d)}o&&0!==m.length||(delete t[c],Ri(r,m.fakeName||c,m.nativeHandler,m.capture))}}}else G(t,(e,t)=>{Ri(r,e.fakeName||t,e.nativeHandler,e.capture)}),t={};for(const u in t)if(Y(t,u))return this;delete this.events[e];try{delete r[this.expando]}catch(e){r[this.expando]=null}}}return this}fire(e,t,r){return this.dispatch(e,t,r)}dispatch(e,t,r){if(e&&!ee(e)&&!ro(e)){var n=Ai({type:t,target:e},r);do{var o=e[this.expando];o&&this.executeHandlers(n,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!n.isPropagationStopped())}return this}clean(t){if(t&&!ee(t)&&!ro(t)&&(t[this.expando]&&this.unbind(t),t=t.getElementsByTagName?t:t.document)&&t.getElementsByTagName){this.unbind(t);var r=t.getElementsByTagName("*");let e=r.length;for(;e--;)(t=r[e])[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(r,e){var e=this.events[e],n=e&&e[r.type];if(n)for(let e=0,t=n.length;e<t;e++){var o=n[e];if(o&&!1===o.func.call(o.scope,r)&&r.preventDefault(),r.isImmediatePropagationStopped())return}}}Ti.Event=new Ti;const Bi=O.each,Pi=O.grep,Li="data-mce-style",Mi=O.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Ii=(e,t,r)=>{ne(r)||""===r?cr(e,t):ar(e,t,r)},Fi=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Ui=(r,n)=>{let o=0;if(r)for(let e=r.nodeType,t=r.previousSibling;t;t=t.previousSibling){var a=t.nodeType;n&&ee(t)&&(a===e||!t.data.length)||(o++,e=a)}return o},zi=(e,t)=>{var r=sr(t,"style"),e=e.serialize(e.parse(r),X(t));Ii(t,Li,e)},ji=(e,t)=>P(e)?Y(Mi,t)?e+"":e+"px":e,Hi=(e,t,r)=>{t=Fi(t);ne(r)||""===r?hn(e,t):cn(e,t,ji(r,t))},te=(d,i={})=>{const n={},e=window,o={};let M=0;const a=Ua.forElement(Q.fromDom(d),{contentCssCors:i.contentCssCors,referrerPolicy:i.referrerPolicy}),l=[],c=i.schema||Ci({}),s=wi({url_converter:i.url_converter,url_converter_scope:i.url_converter_scope},i.schema),m=i.ownEvents?new Ti:Ti.Event,t=c.getBlockElements();const u=e=>e&&d&&j(e)?d.getElementById(e):e,f=e=>{e=u(e);return H(e)?Q.fromDom(e):null},g=(e,t,r="")=>{let n;var o,e=f(e);return H(e)&&Zt(e)&&(o=z[t],n=o&&o.get?o.get(e.dom,t):sr(e,t)),H(n)?n:r},p=e=>{e=u(e);return ne(e)?[]:e.attributes},h=(e,o,a)=>{k(e,e=>{var t,r,n;Z(e)&&(e=Q.fromDom(e),t=""===a?null:a,r=sr(e,o),(n=z[o])&&n.set?n.set(e.dom,t,o):Ii(e,o,t),r!==t)&&i.onSetAttrib&&i.onSetAttrib({attrElm:e.dom,attrName:o,attrValue:t})})};const v=()=>i.root_element||d.body;const r=(n,o)=>{{var a=d.body,i=(n=u(n),o);let t=0,r=0;var s,o=a.ownerDocument;if(i=i||a,n){if(i===a&&n.getBoundingClientRect&&"static"===un(Q.fromDom(a),"position"))return s=n.getBoundingClientRect(),t=s.left+(o.documentElement.scrollLeft||a.scrollLeft)-o.documentElement.clientLeft,r=s.top+(o.documentElement.scrollTop||a.scrollTop)-o.documentElement.clientTop,{x:t,y:r};let e=n;for(;e&&e!==i&&e.nodeType&&!Ia(e,i);){var l=e;t+=l.offsetLeft||0,r+=l.offsetTop||0,e=l.offsetParent}for(e=n.parentNode;e&&e!==i&&e.nodeType&&!Ia(e,i);)t-=e.scrollLeft||0,r-=e.scrollTop||0,e=e.parentNode;r+=Ma(Q.fromDom(n))}return{x:t,y:r}}};const b=(e,t,r)=>{e=u(e);if(!ne(e)&&Z(e))return r?un(Q.fromDom(e),Fi(t)):("float"===(t=t.replace(/-(\D)/g,(e,t)=>t.toUpperCase()))&&(t="cssFloat"),e.style?e.style[t]:void 0)},y=e=>{e=u(e);if(!e)return{w:0,h:0};let t=b(e,"width"),r=b(e,"height");return t&&-1!==t.indexOf("px")||(t="0"),r&&-1!==r.indexOf("px")||(r="0"),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}};const C=(e,t)=>{return!!e&&(e=re(e)?e:[e],W(e,e=>_r(Q.fromDom(e),t)))},w=(e,t,r,n)=>{var o=[];let a=u(e);n=void 0===n;var i=r||("BODY"!==v().nodeName?v().parentNode:null);if(j(t))if("*"===t)t=Z;else{const s=t;t=e=>C(e,s)}for(;a&&!(a===i||ne(a.nodeType)||no(a)||oo(a));){if(!t||t(a)){if(!n)return[a];o.push(a)}a=a.parentNode}return n?o:null};const x=(t,r,n)=>{let o=r;if(t){j(r)&&(o=e=>C(e,r));for(let e=t[n];e;e=e[n])if(q(o)&&o(e))return e}return null};const k=function(e,r,t){const n=null!=t?t:this;if(re(e)){const o=[];return Bi(e,(e,t)=>{e=u(e);e&&o.push(r.call(n,e,t))}),o}return!!(t=u(e))&&r.call(n,t)},_=(e,t)=>{k(e,r=>{G(t,(e,t)=>{h(r,t,e)})})},E=(e,t)=>{k(e,e=>{e=Q.fromDom(e);An(e,t)})},S=(e,r,n,o,a)=>k(e,e=>{var t=j(r)?d.createElement(r):r;return H(n)&&_(t,n),o&&(!j(o)&&o.nodeType?t.appendChild(o):j(o)&&E(t,o)),a?t:e.appendChild(t)}),N=(e,t,r)=>S(d.createElement(e),e,t,r,!0);var I=ai.decode;const D=ai.encodeAllRaw;const R=(e,r)=>k(e,e=>{const t=Q.fromDom(e);return r&&K(Fr(t),e=>{er(e)&&0===e.dom.length?J(e):bn(t,e)}),J(t),t.dom});const A=(e,t,n)=>{k(e,e=>{if(Z(e)){const r=Q.fromDom(e);e=t.split(" ");K(e,e=>{var t;H(n)?(n?br:Cr)(r,e):(t=r,e=e,e=fr(t)?t.dom.classList.toggle(e):vr(t,e),yr(t))})}})};const O=(n,o,a)=>k(o,e=>{var t;const r=re(o)?n.cloneNode(!0):n;return a&&Bi(Pi(e.childNodes),e=>{r.appendChild(e)}),null!=(t=e.parentNode)&&t.replaceChild(r,e),e});const T=e=>{if(Z(e)){var t="a"===e.nodeName.toLowerCase()&&!g(e,"href")&&g(e,"id");if(g(e,"name")||g(e,"data-mce-bookmark")||t)return!0}return!1};const B=()=>d.createRange();const P=(t,r,n,o)=>{if(re(t)){let e=t.length;for(var a=[];e--;)a[e]=P(t[e],r,n,o);return a}return!i.collect||t!==d&&t!==e||l.push([t,r,n,o]),m.bind(t,r,n,o||L)},F=(t,r,n)=>{if(re(t)){let e=t.length;for(var o=[];e--;)o[e]=F(t[e],r,n);return o}if(0<l.length&&(t===d||t===e)){let e=l.length;for(;e--;){var[a,i,s]=l[e];t!==a||r&&r!==i||n&&n!==s||m.unbind(a,i,s)}}return m.unbind(t,r,n)};const U=e=>{var t;return e&&Z(e)?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null};const L={doc:d,settings:i,win:e,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:a,boundEvents:l,styles:s,schema:c,events:m,isBlock:e=>j(e)?Y(t,e):Z(e)&&(Y(t,e.nodeName)||Ta(c,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:v,getViewPort:e=>{e=Vn(e);return{x:e.x,y:e.y,w:e.width,h:e.height}},getRect:e=>{var e=u(e),t=r(e),e=y(e);return{x:t.x,y:t.y,w:e.w,h:e.h}},getSize:y,getParent:(e,t,r)=>{e=w(e,t,r,!1);return e&&0<e.length?e[0]:null},getParents:w,get:u,getNext:(e,t)=>x(e,t,"nextSibling"),getPrev:(e,t)=>x(e,t,"previousSibling"),select:(e,t)=>{var r,t=null!=(t=null!=(t=u(t))?t:i.root_element)?t:d;return r=t,q(r.querySelectorAll)?Oe(t.querySelectorAll(e)):[]},is:C,add:S,create:N,createHTML:(e,t,r="")=>{let n="<"+e;for(const o in t)qe(t,o)&&(n+=" "+o+'="'+D(t[o])+'"');return gt(r)&&Y(c.getVoidElements(),e)?n+" />":n+">"+r+"</"+e+">"},createFragment:e=>{var t,r=d.createElement("div"),n=d.createDocumentFragment();for(n.appendChild(r),e&&(r.innerHTML=e);t=r.firstChild;)n.appendChild(t);return n.removeChild(r),n},remove:R,setStyle:(e,t,r)=>{k(e,e=>{e=Q.fromDom(e);Hi(e,t,r),i.update_styles&&zi(s,e)})},getStyle:b,setStyles:(e,t)=>{k(e,e=>{const r=Q.fromDom(e);G(t,(e,t)=>{Hi(r,t,e)}),i.update_styles&&zi(s,r)})},removeAllAttribs:e=>k(e,t=>{var r=t.attributes;for(let e=r.length-1;0<=e;e--)t.removeAttributeNode(r.item(e))}),setAttrib:h,setAttribs:_,getAttrib:g,getPos:r,parseStyle:e=>s.parse(e),serializeStyle:(e,t)=>s.serialize(e,t),addStyle:e=>{if(L!==te.DOM&&d===document){if(n[e])return;n[e]=!0}let t=d.getElementById("mceDefaultStyles");var r;t||((t=d.createElement("style")).id="mceDefaultStyles",t.type="text/css",(r=d.head).firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t)),t.styleSheet?t.styleSheet.cssText+=e:t.appendChild(d.createTextNode(e))},loadCSS:e=>{e=e||"",K(e.split(","),e=>{o[e]=!0,a.load(e).catch(V)})},addClass:(e,t)=>{A(e,t,!0)},removeClass:(e,t)=>{A(e,t,!1)},hasClass:(e,t)=>{const r=f(e);e=t.split(" ");return H(r)&&ke(e,e=>wr(r,e))},toggleClass:A,show:e=>{k(e,e=>hn(Q.fromDom(e),"display"))},hide:e=>{k(e,e=>cn(Q.fromDom(e),"display","none"))},isHidden:e=>{e=f(e);return H(e)&&jt(gn(e,"display"),"none")},uniqueId:e=>(e||"mce_")+M++,setHTML:E,getOuterHTML:e=>{var t,e=f(e);return H(e)?Z(e.dom)?e.dom.outerHTML:(e=e,t=Q.fromTag("div"),e=Q.fromDom(e.dom.cloneNode(!0)),wn(t,e),Rn(t)):""},setOuterHTML:(e,t)=>{k(e,e=>{Z(e)&&(e.outerHTML=t)})},decode:I,encode:D,insertAfter:(e,t)=>{const n=u(t);return k(e,e=>{var t=null===n||void 0===n?void 0:n.parentNode,r=null===n||void 0===n?void 0:n.nextSibling;return t&&(r?t.insertBefore(e,r):t.appendChild(e)),e})},replace:O,rename:(t,e)=>{if(t.nodeName===e.toUpperCase())return t;{const r=N(e);return Bi(p(t),e=>{h(r,e.nodeName,g(t,e.nodeName))}),O(r,t,!0),r}},findCommonAncestor:(e,t)=>{let r=e;for(;r;){let e=t;for(;e&&r!==e;)e=e.parentNode;if(r===e)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},run:k,getAttribs:p,isEmpty:(t,r,n)=>{let o=0;if(T(t))return!1;var a=t.firstChild;if(a){var i=new Gn(a,t),s=c?c.getWhitespaceElements():{},l=r||(c?c.getNonEmptyElements():null);let e=a;do{if(Z(e)){var d=e.getAttribute("data-mce-bogus");if(d){e=i.next("all"===d);continue}d=e.nodeName.toLowerCase();if(l&&l[d]){if("br"!==d)return!1;o++,e=i.next();continue}if(T(e))return!1}if(ro(e))return!1;if(ee(e)&&!ua(e.data)&&(null==n||!n.includeZwsp||!(e=>{for(const t of e)if(!ho(t))return!1;return!0})(e.data)))return!1;if(ee(e)&&e.parentNode&&s[e.parentNode.nodeName]&&ua(e.data))return!1;e=i.next()}while(e)}return o<=1},createRng:B,nodeIndex:Ui,split:(e,t,r)=>{let n=B();var o,a,i;if(e&&t&&e.parentNode&&t.parentNode)return i=e.parentNode,n.setStart(i,Ui(e)),n.setEnd(t.parentNode,Ui(t)),o=n.extractContents(),(n=B()).setStart(t.parentNode,Ui(t)+1),n.setEnd(i,Ui(e)+1),a=n.extractContents(),i.insertBefore($a(L,o),e),r?i.insertBefore(r,e):i.insertBefore(t,e),i.insertBefore($a(L,a),e),R(e),r||t},bind:P,unbind:F,fire:(e,t,r)=>m.dispatch(e,t,r),dispatch:(e,t,r)=>m.dispatch(e,t,r),getContentEditable:U,getContentEditableParent:t=>{var r=v();let n=null;for(let e=t;e&&e!==r&&null===(n=U(e));e=e.parentNode);return n},isEditable:e=>{return!!H(e)&&(e=Z(e)?e:e.parentElement,H(e))&&on(Q.fromDom(e))},destroy:()=>{if(0<l.length){let e=l.length;for(;e--;){var[t,r,n]=l[e];m.unbind(t,r,n)}}G(o,(e,t)=>{a.unload(t),delete o[t]})},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},z=((r,o,a)=>{const n=o.keep_values;var e={style:{set:(e,t)=>{e=Q.fromDom(e);n&&Ii(e,Li,t),cr(e,"style"),j(t)&&mn(e,r.parse(t))},get:e=>{var e=Q.fromDom(e),t=sr(e,Li)||sr(e,"style");return r.serialize(r.parse(t),X(e))}}};return n&&(e.href=e.src={set:(e,t,r)=>{var n=Q.fromDom(e),e=(q(o.url_converter)&&H(t)&&(t=o.url_converter.call(o.url_converter_scope||a(),String(t),r,e)),"data-mce-"+r);Ii(n,e,t),Ii(n,r,t)},get:(e,t)=>{e=Q.fromDom(e);return sr(e,"data-mce-"+t)||sr(e,t)}}),e})(s,i,$(L));return L},qi=(te.DOM=te(document),te.nodeIndex=Ui,te.DOM);class Vi{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(i){return new Promise((e,t)=>{const r=qi;let n;const o=()=>{r.remove(a),n&&(n.onerror=n.onload=n=null)};const a=r.uniqueId();(n=document.createElement("script")).id=a,n.type="text/javascript",n.src=O._addCacheSuffix(i),this.settings.referrerPolicy&&r.setAttrib(n,"referrerpolicy",this.settings.referrerPolicy),n.onload=()=>{o(),e()},n.onerror=()=>{o(),t("Failed to load script: "+i)},(document.getElementsByTagName("head")[0]||document.body).appendChild(n)})}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(r){const n=this;return n.queue.push(r),void 0===n.states[r]&&(n.states[r]=0),new Promise((e,t)=>{n.scriptLoadedCallbacks[r]||(n.scriptLoadedCallbacks[r]=[]),n.scriptLoadedCallbacks[r].push({resolve:e,reject:t})})}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){var e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const n=this,r=(t,r)=>{g(n.scriptLoadedCallbacks,r).each(e=>{K(e,e=>e[t](r))}),delete n.scriptLoadedCallbacks[r]},o=e=>{e=D(e,e=>"rejected"===e.status);return 0<e.length?Promise.reject(xe(e,({reason:e})=>re(e)?e:[e])):Promise.resolve()},a=e=>Promise.allSettled(h(e,t=>2===n.states[t]?(r("resolve",t),Promise.resolve()):3===n.states[t]?(r("reject",t),Promise.reject(t)):(n.states[t]=1,n.loadScript(t).then(()=>{n.states[t]=2,r("resolve",t);var e=n.queue;return 0<e.length?(n.queue=[],a(e).then(o)):Promise.resolve()},()=>(n.states[t]=3,r("reject",t),Promise.reject(t)))))),i=e=>(n.loading=!0,a(e).then(e=>{n.loading=!1;var t=n.queueLoadedCallbacks.shift();return R.from(t).each(le),o(e)})),s=Ve(e);return n.loading?new Promise((e,t)=>{n.queueLoadedCallbacks.push(()=>{i(s).then(e,t)})}):i(s)}}Vi.ScriptLoader=new Vi;const $i=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Wi={},Ki=$i("en"),Gi=()=>g(Wi,Ki.get());const Yi={getData:()=>Me(Wi,e=>({...e})),setCode:e=>{e&&Ki.set(e)},getCode:()=>Ki.get(),add:(e,i)=>{let s=Wi[e];s||(Wi[e]=s={});const l=h(Be(i),e=>e.toLowerCase());G(i,(e,t)=>{var r,n,o,a=t.toLowerCase();a!==t&&(r=l,n=a,-1!==(o=r.indexOf(n)))&&r.indexOf(n,o+1)>o?(Y(i,a)||(s[a]=e),s[t]=e):s[a]=e})},translate:e=>{const t=Gi().getOr({}),r=e=>q(e)?Object.prototype.toString.call(e):n(e)?"":""+e,n=e=>""===e||null==e;var o,a=e=>{e=r(e);return Y(t,e)?r(t[e]):g(t,e.toLowerCase()).map(r).getOr(e)},i=e=>e.replace(/{context:\w+}$/,"");if(n(e))return"";if(o=e,k(o)&&Y(o,"raw"))return r(e.raw);if(o=e,re(o)&&1<o.length){const s=e.slice(1);return i(a(e[0]).replace(/\{([0-9]+)\}/g,(e,t)=>Y(s,t)?r(s[t]):e))}return i(a(e))},isRtl:()=>Gi().bind(e=>g(e,"_dir")).exists(e=>"rtl"===e),hasCode:e=>Y(Wi,e)},Xi=()=>{const r=[],n={},o={},a=[],i=(t,r)=>{var e=D(a,e=>e.name===t&&e.state===r);K(e,e=>e.resolve())},s=e=>Y(n,e),e=e=>Y(o,e);const l=(e,t)=>{var r=Yi.getCode();!r||t&&-1===(","+(t||"")+",").indexOf(","+r+",")||Vi.ScriptLoader.add(n[e]+"/langs/"+r+".js")};const d=(t,r="added")=>"added"===r&&e(t)||"loaded"===r&&s(t)?Promise.resolve():new Promise(e=>{a.push({name:t,state:r,resolve:e})});return{items:r,urls:n,lookup:o,get:e=>{if(o[e])return o[e].instance},requireLangPack:(e,t)=>{!1!==Xi.languageLoad&&(s(e)?l(e,t):d(e,"loaded").then(()=>l(e,t)))},add:(e,t)=>(r.push(t),o[e]={instance:t},i(e,"added"),t),remove:e=>{delete n[e],delete o[e]},createUrl:(e,t)=>j(t)?j(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,t)=>{if(n[e])return Promise.resolve();let r=j(t)?t:t.prefix+t.resource+t.suffix;0!==r.indexOf("/")&&-1===r.indexOf("://")&&(r=Xi.baseURL+"/"+r),n[e]=r.substring(0,r.lastIndexOf("/"));t=()=>(i(e,"loaded"),Promise.resolve());return o[e]?t():Vi.ScriptLoader.add(r).then(t)},waitFor:d}},Qi=(Xi.languageLoad=!0,Xi.baseURL="",Xi.PluginManager=Xi(),Xi.ThemeManager=Xi(),Xi.ModelManager=Xi(),e=>{const t=$i(R.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(R.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(R.some(e))}}}),Ji=()=>{const t=Qi(V);return{...t,on:e=>t.get().each(e)}},Zi=(t,r)=>{let n=null;return{cancel:()=>{E(n)||(clearTimeout(n),n=null)},throttle:(...e)=>{E(n)&&(n=setTimeout(()=>{n=null,t.apply(null,e)},r))}}},es=(t,r)=>{let n=null;const o=()=>{E(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...e)=>{o(),n=setTimeout(()=>{n=null,t.apply(null,e)},r)}}},ts=$("mce-annotation"),rs=$("data-mce-annotation"),ns=$("data-mce-annotation-uid"),os=$("data-mce-annotation-active"),as=$("data-mce-annotation-classes"),is=$("data-mce-annotation-attrs"),ss=t=>e=>T(e,t),ls=(n,e)=>{var t=n.selection.getRng(),r=Q.fromDom(t.startContainer),o=Q.fromDom(n.getBody()),e=e.fold(()=>"."+ts(),e=>`[${rs()}="${e}"]`),t=Ur(r,t.startOffset).getOr(r);return rn(t,e,ss(o)).bind(e=>lr(e,""+ns()).bind(r=>lr(e,""+rs()).map(e=>{var t=cs(n,r);return{uid:r,name:e,elements:t}})))},ds=(e,t)=>dr(e,"data-mce-bogus")||Kn(e,'[data-mce-bogus="all"]',ss(t)),cs=(e,t)=>{const r=Q.fromDom(e.getBody());e=Wn(r,`[${ns()}="${t}"]`);return D(e,e=>!ds(e,r))},ms=(e,t)=>{const n=Q.fromDom(e.getBody());e=Wn(n,`[${rs()}="${t}"]`);const o={};return K(e,e=>{var t,r;ds(e,n)||(t=sr(e,ns()),r=g(o,t).getOr([]),o[t]=r.concat([e]))}),o},us=(n,t)=>{const o=$i({}),a=()=>({listeners:[],previous:Ji()}),l=(e,t)=>{i(e,e=>(t(e),e))},i=(e,t)=>{var r=o.get(),t=t(g(r,e).getOrThunk(a));r[e]=t,o.set(r)},d=(e,t)=>{K(cs(n,e),e=>{t?ar(e,os(),"true"):cr(e,os())})},e=es(()=>{var e=Ne(t.getNames());K(e,r=>{i(r,i=>{const s=i.previous.get();return ls(n,R.some(r)).fold(()=>{s.each(e=>{var t;t=r,l(t,e=>{K(e.listeners,e=>e(!1,t))}),i.previous.clear(),d(e,!1)})},({uid:e,name:t,elements:r})=>{var n,o,a;jt(s,e)||(s.each(e=>d(e,!1)),n=t,o=e,a=r,l(n,e=>{K(e.listeners,e=>e(!0,n,{uid:o,nodes:h(a,e=>e.dom)}))}),i.previous.set(e),d(e,!0))}),{previous:i.previous,listeners:i.listeners}})})},30);n.on("remove",()=>{e.cancel()}),n.on("NodeChange",()=>{e.throttle()});return{addListener:(e,t)=>{i(e,e=>({previous:e.previous,listeners:e.listeners.concat([t])}))}}},fs=(e,r)=>{const o=rs();e.serializer.addTempAttr(os()),e.serializer.addAttributeFilter(o,e=>{for(const n of e)t=n,R.from(t.attr(o)).bind(r.lookup).each(e=>{var t,r;!1===e.persistent&&("span"===n.name?n.unwrap():((t=n).attr(ns(),null),t.attr(rs(),null),t.attr(os(),null),e=R.from(t.attr(is())).map(e=>e.split(",")).getOr([]),r=R.from(t.attr(as())).map(e=>e.split(",")).getOr([]),K(e,e=>t.attr(e,null)),e=null!=(e=null==(e=t.attr("class"))?void 0:e.split(" "))?e:[],e=Ee(e,[ts()].concat(r)),t.attr("class",0<e.length?e.join(" "):null),t.attr(as(),null),t.attr(is(),null)))});var t})};let gs=0;const ps=e=>{var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++gs+String(t)},hs=(t,e)=>{K(e,e=>{Cr(t,e)})},vs=(e,t)=>Q.fromDom(e.dom.cloneNode(t)),bs=e=>vs(e,!1),ys=e=>vs(e,!0),Cs=(e,t)=>{var t=((e,t)=>{t=Q.fromTag(t),e=mr(e);return ir(t,e),t})(e,t),r=(yn(e,t),Fr(e));return _n(t,r),J(e),t},ws=(e,t,r=u)=>{const n=new Gn(e,t),o=e=>{let t;for(;(t=n[e]())&&!ee(t)&&!r(t););return R.from(t).filter(ee)};return{current:()=>R.from(n.current()).filter(ee),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},xs=(a,e)=>{const i=e||(e=>a.isBlock(e)||B(e)||b(e)),s=(e,t,r,n)=>{if(ee(e)){t=n(e,t,e.data);if(-1!==t)return R.some({container:e,offset:t})}return r().bind(e=>s(e.container,e.offset,r,n))};return{backwards:(e,t,r,n)=>{const o=ws(e,null!=n?n:a.getRoot(),i);return s(e,t,()=>o.prev().map(e=>({container:e,offset:e.length})),r).getOrNull()},forwards:(e,t,r,n)=>{const o=ws(e,null!=n?n:a.getRoot(),i);return s(e,t,()=>o.next().map(e=>({container:e,offset:0})),r).getOrNull()}}},ks=Math.round,_s=e=>e?{left:ks(e.left),top:ks(e.top),bottom:ks(e.bottom),right:ks(e.right),width:ks(e.width),height:ks(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Es=(e,t)=>(e=_s(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Ss=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,Ns=(e,t,r)=>0<=e&&e<=Math.min(t.height,r.height)/2,Ds=(e,t)=>{var r=Math.min(t.height/2,e.height/2);return e.bottom-r<t.top||!(e.top>t.bottom)&&Ns(t.top-e.bottom,e,t)},Rs=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&Ns(t.bottom-e.top,e,t),As=(e,t,r)=>t>=e.left&&t<=e.right&&r>=e.top&&r<=e.bottom,Os=(e,t,r)=>{var n=Math.max(Math.min(t,e.left+e.width),e.left),e=Math.max(Math.min(r,e.top+e.height),e.top);return Math.sqrt((t-n)*(t-n)+(r-e)*(r-e))},Ts=(e,t,r)=>Math.min(Math.max(e,t),r),Bs=e=>{var t=e.startContainer,r=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===r+1?t.childNodes[r]:null},Ps=(e,t)=>{var r;return Z(e)&&e.hasChildNodes()?(r=e.childNodes)[Ts(t,0,r.length-1)]:e};const Ls=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ms=e=>j(e)&&768<=e.charCodeAt(0)&&Ls.test(e);const Is=Z;t=aa;const Fs=r("display","block table");var Us,o=r("float","left right");Us=[Is,t,ae(o)];const zs=t=>{for(let e=0;e<Us.length;e++)if(!Us[e](t))return!1;return!0},js=ae(r("white-space","pre pre-line pre-wrap")),Hs=ee,qs=B,Vs=te.nodeIndex,$s=(e,t)=>{if(!(t<0&&Z(e)&&e.hasChildNodes()))return Ps(e,t)},Ws=e=>e?e.createRange():te.DOM.createRng(),Ks=e=>j(e)&&/[\r\n\t ]/.test(e),Gs=e=>!!e.setStart&&!!e.setEnd,Ys=e=>{var t=e.startContainer,r=e.startOffset;if(Ks(e.toString())&&js(t.parentNode)&&ee(t)){e=t.data;if(Ks(e[r-1])||Ks(e[r+1]))return!0}return!1},Xs=e=>{var t=e.ownerDocument,r=Ws(t),t=t.createTextNode(po),n=e.parentNode,e=(n.insertBefore(t,e),r.setStart(t,0),r.setEnd(t,1),_s(r.getBoundingClientRect()));return n.removeChild(t),e},Qs=e=>{var t=e.startContainer,r=e.endContainer,n=e.startOffset,o=e.endOffset;return t===r&&ee(r)&&0===n&&1===o?((t=e.cloneRange()).setEndAfter(r),Zs(t)):null},Js=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Zs=e=>{let t;var r=e.getClientRects();return t=0<r.length?_s(r[0]):_s(e.getBoundingClientRect()),!Gs(e)&&qs(e)&&Js(t)?Xs(e):Js(t)&&Gs(e)&&null!=(r=Qs(e))?r:t},el=(e,t)=>{e=Es(e,t);return e.width=1,e.right=e.left+1,e},v=(t,r,e)=>{const n=()=>e=e||(e=>{const t=[],n=e=>{0===e.height||0<t.length&&Ss(e,t[t.length-1])||t.push(e)};var r=(e,t)=>{var r=Ws(e.ownerDocument);if(t<e.data.length){if(Ms(e.data[t]))return;if(Ms(e.data[t-1])&&(r.setStart(e,t),r.setEnd(e,t+1),!Ys(r)))return void n(el(Zs(r),!1))}0<t&&(r.setStart(e,t-1),r.setEnd(e,t),Ys(r)||n(el(Zs(r),!1))),t<e.data.length&&(r.setStart(e,t),r.setEnd(e,t+1),Ys(r)||n(el(Zs(r),!0)))},o=e.container(),a=e.offset();if(Hs(o))r(o,a);else if(Is(o))if(e.isAtEnd()){var i=$s(o,a);Hs(i)&&r(i,i.data.length),zs(i)&&!qs(i)&&n(el(Zs(i),!1))}else{i=$s(o,a);if(Hs(i)&&r(i,0),zs(i)&&e.isAtEnd())return n(el(Zs(i),!1)),t;o=$s(e.container(),e.offset()-1);!zs(o)||qs(o)||!Fs(o)&&!Fs(i)&&zs(i)||n(el(Zs(o),!1)),zs(i)&&n(el(Zs(i),!0))}return t})(v(t,r));return{container:$(t),offset:$(r),toRange:()=>{var e=Ws(t.ownerDocument);return e.setStart(t,r),e.setEnd(t,r),e},getClientRects:n,isVisible:()=>0<n().length,isAtStart:()=>(Hs(t),0===r),isAtEnd:()=>Hs(t)?r>=t.data.length:r>=t.childNodes.length,isEqual:e=>e&&t===e.container()&&r===e.offset(),getNode:e=>$s(t,e?r-1:r)}},tl=(v.fromRangeStart=e=>v(e.startContainer,e.startOffset),v.fromRangeEnd=e=>v(e.endContainer,e.endOffset),v.after=e=>v(e.parentNode,Vs(e)+1),v.before=e=>v(e.parentNode,Vs(e)),v.isAbove=(e,t)=>qt(Re(t.getClientRects()),Ae(e.getClientRects()),Ds).getOr(!1),v.isBelow=(e,t)=>qt(Ae(t.getClientRects()),Re(e.getClientRects()),Rs).getOr(!1),v.isAtStart=e=>!!e&&e.isAtStart(),v.isAtEnd=e=>!!e&&e.isAtEnd(),v.isTextPosition=e=>!!e&&ee(e.container()),v.isElementPosition=e=>!v.isTextPosition(e),(e,t)=>{ee(t)&&0===t.data.length&&e.remove(t)}),rl=(e,t,r)=>{var n,o,a,i,s;oo(r)?(n=e,o=t,a=r,i=R.from(a.firstChild),s=R.from(a.lastChild),o.insertNode(a),i.each(e=>tl(n,e.previousSibling)),s.each(e=>tl(n,e.nextSibling))):(o=e,a=r,t.insertNode(a),tl(o,a.previousSibling),tl(o,a.nextSibling))},nl=ee,ol=Qn,al=te.nodeIndex,il=e=>{e=e.parentNode;return ol(e)?il(e):e},sl=e=>e?Xe(e.childNodes,(e,t)=>(ol(t)&&"BR"!==t.nodeName?e=e.concat(sl(t)):e.push(t),e),[]):[],ll=t=>e=>t===e,dl=e=>{return(nl(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let n,t;n=sl(il(e)),t=Qe(n,ll(e),e),n=n.slice(0,t+1);var r=Xe(n,(e,t,r)=>(nl(t)&&nl(n[r-1])&&e++,e),0);return n=Ye(n,Xn([e.nodeName])),Qe(n,ll(e),e)-r})(e)+"]"},cl=(e,t)=>{let r=[],n=t.container(),o=t.offset(),a;nl(n)?a=((e,t)=>{let r=e;for(;(r=r.previousSibling)&&nl(r);)t+=r.data.length;return t})(n,o):(t=n.childNodes,o>=t.length?(a="after",o=t.length-1):a="before",n=t[o]),r.push(dl(n));t=((t,r,n)=>{var o=[];for(let e=r.parentNode;e&&e!==t&&(!n||!n(e));e=e.parentNode)o.push(e);return o})(e,n),t=Ye(t,ae(Qn));return(r=r.concat(Ge(t,e=>dl(e)))).reverse().join("/")+","+a},ml=(e,r)=>{if(!r)return null;var r=r.split(","),n=r[0].split("/"),r=1<r.length?r[1]:"before",n=Xe(n,(e,t)=>{t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);if(!t)return null;"text()"===t[1]&&(t[1]="#text");{var n=t[1];t=parseInt(t[2],10);let r=sl(e);return r=Ye(r,(e,t)=>!nl(e)||!nl(r[t-1])),(r=Ye(r,Xn([n])))[t]}},e);if(!n)return null;if(nl(n)||!n.parentNode){var o=n;var a=parseInt(r,10);let e=o,t=0;for(;nl(e);){var i=e.data.length;if(a>=t&&a<=t+i){o=e,a-=t;break}if(!nl(e.nextSibling)){o=e,a=i;break}t+=i,e=e.nextSibling}return nl(o)&&a>o.data.length&&(a=o.data.length),v(o,a)}{let e;return e="after"===r?al(n)+1:al(n),v(n.parentNode,e)}},ul=b,fl=(t,e,r,n,o)=>{var a=o?n.startContainer:n.endContainer;let i=o?n.startOffset:n.endOffset;var s=[],l=t.getRoot();if(ee(a))s.push(r?((t,r,e)=>{let n=t(r.data.slice(0,e)).length;for(let e=r.previousSibling;e&&ee(e);e=e.previousSibling)n+=t(e.data).length;return n})(e,a,i):i);else{let e=0;o=a.childNodes;i>=o.length&&o.length&&(e=1,i=Math.max(0,o.length-1)),s.push(t.nodeIndex(o[i],r)+e)}for(let e=a;e&&e!==l;e=e.parentNode)s.push(t.nodeIndex(e,r));return s},gl=(e,t,r)=>{let n=0;return O.each(e.select(t),e=>{if("all"!==e.getAttribute("data-mce-bogus")){if(e===r)return!1;n++}}),n},pl=(e,t)=>{var r,n=t?e.startContainer:e.endContainer,o=t?e.startOffset:e.endOffset;Z(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(t?o:o-1,r.length-1)])&&(o=t?0:n.childNodes.length,t?e.setStart(n,o):e.setEnd(n,o))},hl=e=>(pl(e,!0),pl(e,!1),e),vl=(e,t)=>{if(Z(e)&&(e=Ps(e,t),ul(e)))return e;if(Ho(e)){t=(e=ee(e)&&zo(e)?e.parentNode:e).previousSibling;if(ul(t))return t;if(t=e.nextSibling,ul(t))return t}},bl=(e,t,r)=>{var n,o,a,i,s=r.getNode(),l=r.getRng();return"IMG"===s.nodeName||ul(s)?{name:n=s.nodeName,index:gl(r.dom,n,s)}:(n=l,(s=vl(n.startContainer,n.startOffset)||vl(n.endContainer,n.endOffset))?{name:o=s.tagName,index:gl(r.dom,o,s)}:(o=e,s=t,e=l,l=(t=r).dom,r=fl(l,o,s,e,!0),a=t.isForward(),i=Xo(e)?{isFakeCaret:!0}:{},t.isCollapsed()?{start:r,forward:a,...i}:{start:r,end:fl(l,o,s,e,!1),forward:a,...i}))},yl=(e,t,r)=>{t={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return r?e.create("span",t,"&#xFEFF;"):e.create("span",t)},Cl=(e,t)=>{var r=e.dom;let n=e.getRng();var o=r.uniqueId(),a=e.isCollapsed(),i=e.getNode(),s=i.nodeName,l=e.isForward();return"IMG"===s?{name:s,index:gl(r,s,i)}:(s=hl(n.cloneRange()),a||(s.collapse(!1),i=yl(r,o+"_end",t),rl(r,s,i)),(n=hl(n)).collapse(!0),a=yl(r,o+"_start",t),rl(r,n,a),e.moveToBookmark({id:o,keep:!0,forward:l}),{id:o,forward:l})},wl=(e,t,r=!1)=>{return 2===t?bl(Io,r,e):3===t?(n=(r=e).getRng(),{start:cl(r.dom.getRoot(),v.fromRangeStart(n)),end:cl(r.dom.getRoot(),v.fromRangeEnd(n)),forward:r.isForward()}):t?{rng:(n=e).getRng(),forward:n.isForward()}:Cl(e,!1);var n},xl=w(bl,F,!0),kl=r=>{var e=e=>e(r),t=$(r),n=()=>o;const o={tag:!0,inner:r,fold:(e,t)=>t(r),isValue:de,isError:u,map:e=>El.value(e(r)),mapError:n,bind:e,exists:e,forall:e,getOr:t,or:n,getOrThunk:t,orThunk:n,getOrDie:t,each:e=>{e(r)},toOptional:()=>R.some(r)};return o},_l=r=>{var e=()=>t;const t={tag:!1,inner:r,fold:(e,t)=>e(r),isValue:u,isError:de,map:e,mapError:e=>El.error(e(r)),bind:e,exists:u,forall:de,getOr:F,or:F,getOrThunk:se,orThunk:se,getOrDie:ie(String(r)),each:V,toOptional:R.none};return t};const El={value:kl,error:_l,fromOption:(e,t)=>e.fold(()=>_l(t),kl)};const Sl=a=>{if(!re(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");const i=[],s={};return K(a,(e,t)=>{var r=Be(e);if(1!==r.length)throw new Error("one and only one name per case");const n=r[0],o=e[n];if(void 0!==s[n])throw new Error("duplicate key detected:"+n);if("cata"===n)throw new Error("cannot have a case named cata (sorry)");if(!re(o))throw new Error("case arguments must be an array");i.push(n),s[n]=(...r)=>{var e=r.length;if(e!==o.length)throw new Error("Wrong number of arguments to case "+n+". Expected "+o.length+" ("+o+"), got "+e);return{fold:(...e)=>{if(e.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+e.length);return e[t].apply(null,r)},match:e=>{const t=Be(e);if(i.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+i.join(",")+"\nActual: "+t.join(","));if(ke(i,e=>A(t,e)))return e[n].apply(null,r);throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+i.join(", "))},log:e=>{console.log(e,{constructors:i,constructor:n,params:r})}}}}),s},Nl=(Sl([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),e=>{const t=[],r=[];return K(e,e=>{e.fold(e=>{t.push(e)},e=>{r.push(e)})}),{errors:t,values:r}}),Dl=e=>"inline-command"===e.type||"inline-format"===e.type,Rl=e=>"block-command"===e.type||"block-format"===e.type,Al=o=>{const a=e=>El.error({message:e,pattern:o});var e=(t,r,e)=>{if(void 0===o.format)return void 0!==o.cmd?j(o.cmd)?El.value(e(o.cmd,o.value)):a(t+" pattern has non-string `cmd` parameter"):a(t+" pattern is missing both `format` and `cmd` parameters");{let e;if(re(o.format)){if(!ke(o.format,j))return a(t+" pattern has non-string items in the `format` array");e=o.format}else{if(!j(o.format))return a(t+" pattern has non-string `format` parameter");e=[o.format]}return El.value(r(e))}};if(!k(o))return a("Raw pattern is not an object");if(!j(o.start))return a("Raw pattern is missing `start` parameter");if(void 0===o.end)return void 0!==o.replacement?j(o.replacement)?0===o.start.length?a("Replacement pattern has empty `start` parameter"):El.value({type:"inline-command",start:"",end:o.start,cmd:"mceInsertContent",value:o.replacement}):a("Replacement pattern has non-string `replacement` parameter"):0===o.start.length?a("Block pattern has empty `start` parameter"):e("Block",e=>({type:"block-format",start:o.start,format:e[0]}),(e,t)=>({type:"block-command",start:o.start,cmd:e,value:t}));{if(!j(o.end))return a("Inline pattern has non-string `end` parameter");if(0===o.start.length&&0===o.end.length)return a("Inline pattern has empty `start` and `end` parameters");let r=o.start,n=o.end;return 0===n.length&&(n=r,r=""),e("Inline",e=>({type:"inline-format",start:r,end:n,format:e}),(e,t)=>({type:"inline-command",start:r,end:n,cmd:e,value:t}))}},Ol=e=>D(e,Rl),Tl=e=>D(e,Dl),Bl=e=>{e=Nl(h(e,Al));return K(e.errors,e=>console.error(e.message,e.pattern)),e.values},Pl=It().deviceType,Ll=Pl.isTouch(),Ml=te.DOM,Il=e=>{e=0<e.indexOf("=")?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return ve(e,(e,t)=>{var t=t.split("="),r=t[0],t=1<t.length?t[1]:r;return e[ct(r)]=ct(t),e},{})},Fl=e=>x(e,RegExp);e=t=>e=>e.options.get(t);const Ul=e=>j(e)||k(e),zl=(n,o="")=>e=>{var t,r=j(e);return r?-1!==e.indexOf("=")?(t=Il(e),{value:g(t,n.id).getOr(o),valid:r}):{value:e,valid:r}:{valid:!1,message:"Must be a string."}},jl=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:zl(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:zl(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{var t=j(e)&&ft(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{var t=A(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>S(e)||j(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{var t=!1===e||j(e)||L(e,j);return t?j(e)?{value:h(e.split(","),ct),valid:t}:!re(e)&&!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Id(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{var t=j(e)||L(e,j);return t?{value:re(e)?e:h(e.split(","),ct),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{var t=S(e)||j(e);return t?!1===e||Pl.isiPhone()||Pl.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!Ll}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||j(e)||q(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{var t=!1===e||j(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Ul}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Ul}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Ul}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>j(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>{return L(e,k)||!1===e?(e=!1===e?[]:e,{value:Bl(e),valid:!0}):{valid:!1,message:"Must be an array of objects or false."}},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>{return q(e)?{value:(t=e,e=>{e=t(e);return Bl(e)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>L(e,Fl)?{value:e,valid:!0}:Fl(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:e=>{var t=A(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:e=>{var t=A(["inherited","collapsed","expanded"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:Yi.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:Ml.getAttrib(e.getElement(),"placeholder")})})},Hl=e("iframe_attrs"),ql=e("doctype"),Vl=e("document_base_url"),$l=e("body_id"),Wl=e("body_class"),Kl=e("content_security_policy"),Gl=e("br_in_pre"),Yl=e("forced_root_block"),Xl=e("forced_root_block_attrs"),Ql=e("newline_behavior"),Jl=e("br_newline_selector"),Zl=e("no_newline_selector"),ed=e("keep_styles"),td=e("end_container_on_empty_block"),rd=e("automatic_uploads"),nd=e("images_reuse_filename"),od=e("images_replace_blob_uris"),ad=e("icons"),id=e("icons_url"),sd=e("images_upload_url"),ld=e("images_upload_base_path"),dd=e("images_upload_credentials"),cd=e("images_upload_handler"),md=e("content_css_cors"),ud=e("referrer_policy"),fd=e("language"),gd=e("language_url"),pd=e("indent_use_margin"),hd=e("indentation"),vd=e("content_css"),bd=e("content_style"),yd=e("font_css"),Cd=e("directionality"),wd=e("inline_boundaries_selector"),xd=e("object_resizing"),kd=e("resize_img_proportional"),_d=e("placeholder"),Ed=e("event_root"),Sd=e("service_message"),Nd=e("theme"),Dd=e("theme_url"),Rd=e("model"),Ad=e("model_url"),Od=e("inline_boundaries"),Td=e("formats"),Bd=e("preview_styles"),Pd=e("format_empty_lines"),Ld=e("format_noneditable_selector"),Md=e("custom_ui_selector"),Id=e("inline"),Fd=e("hidden_input"),Ud=e("submit_patch"),zd=e("add_form_submit_trigger"),jd=e("add_unload_trigger"),Hd=e("custom_undo_redo_levels"),qd=e("disable_nodechange"),Vd=e("readonly"),$d=e("editable_root"),Wd=e("content_css_cors"),Kd=e("plugins"),Gd=e("external_plugins"),Yd=e("block_unsupported_drop"),Xd=e("visual"),Qd=e("visual_table_class"),Jd=e("visual_anchor_class"),Zd=e("iframe_aria_text"),ec=e("setup"),tc=e("init_instance_callback"),rc=e("urlconverter_callback"),nc=e("auto_focus"),oc=e("browser_spellcheck"),ac=e("protect"),ic=e("paste_block_drop"),sc=e("paste_data_images"),lc=e("paste_preprocess"),dc=e("paste_postprocess"),cc=e("newdocument_content"),mc=e("paste_webkit_styles"),uc=e("paste_remove_styles_if_webkit"),fc=e("paste_merge_formats"),gc=e("smart_paste"),pc=e("paste_as_text"),hc=e("paste_tab_spaces"),vc=e("allow_html_data_urls"),bc=e("text_patterns"),yc=e("text_patterns_lookup"),Cc=e("noneditable_class"),wc=e("editable_class"),xc=e("noneditable_regexp"),kc=e("preserve_cdata"),_c=e("highlight_on_focus"),Ec=e("xss_sanitization"),Sc=e("init_content_sync"),Nc=e=>O.explode(e.options.get("images_file_types")),Dc=e("table_tab_navigation"),Rc=e("details_initial_state"),Ac=e("details_serialized_state"),Oc=Z,Tc=ee,Bc=e=>{var t=e.parentNode;t&&t.removeChild(e)},Pc=e=>{var t=Io(e);return{count:e.length-t.length,text:t}},Lc=e=>{for(var t;-1!==(t=e.data.lastIndexOf(Lo));)e.deleteData(t,1)},Mc=(e,t)=>(zc(e),t),Ic=(e,t)=>{const r=t.container();var n=((e,t)=>{e=fe(e,t);return-1===e?R.none():R.some(e)})(Oe(r.childNodes),e).map(e=>e<t.offset()?v(r,t.offset()-1):t).getOr(t);return zc(e),n},Fc=(e,t)=>{return Tc(e)&&t.container()===e?(r=e,n=t,o=Pc(r.data.substr(0,n.offset())),a=Pc(r.data.substr(n.offset())),0<(o.text+a.text).length?(Lc(r),v(r,n.offset()-o.count)):n):Mc(e,t);var r,n,o,a},Uc=(e,t)=>{return v.isTextPosition(t)?Fc(e,t):(e=e,((t=t).container()===e.parentNode?Ic:Mc)(e,t))},zc=e=>{Oc(e)&&Ho(e)&&(qo(e)?e.removeAttribute("data-mce-caret"):Bc(e)),Tc(e)&&(Lc(e),0===e.data.length)&&Bc(e)},jc=b,Hc=co,qc=so,Vc=(e,t,r)=>{var n,o=Es(t.getBoundingClientRect(),r);let a,i,s=(i="BODY"===e.tagName?(n=e.ownerDocument.documentElement,a=e.scrollLeft||n.scrollLeft,e.scrollTop||n.scrollTop):(n=e.getBoundingClientRect(),a=e.scrollLeft-n.left,e.scrollTop-n.top),o.left+=a,o.right+=a,o.top+=i,o.bottom+=i,o.width=1,t.offsetWidth-t.clientWidth);return 0<s&&(r&&(s*=-1),o.left+=s,o.right+=s),o},$c=(e,s,l,d)=>{const c=Ji();let m,u;const f=Yl(e),g=e.dom;const p=()=>{var r,e=s,n=Wn(Q.fromDom(e),"*[contentEditable=false],video,audio,embed,object");for(let t=0;t<n.length;t++){var o,a=n[t].dom;let e=a.previousSibling;Ko(e)&&(1===(o=e.data).length?null!=(r=e.parentNode)&&r.removeChild(e):e.deleteData(o.length-1,1)),e=a.nextSibling,Wo(e)&&(1===e.data.length?null!=(r=e.parentNode)&&r.removeChild(e):e.deleteData(0,1))}u&&(zc(u),u=null),c.on(e=>{g.remove(e.caret),c.clear()}),m&&(clearInterval(m),m=void 0)};return{show:(e,t)=>{let r;var n,o,a,i;return p(),qc(t)?null:(l(t)?(n=f,a=e,(i=(null!=(i=(o=t).ownerDocument)?i:document).createElement(n)).setAttribute("data-mce-caret",a?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(To().dom),n=o.parentNode,a?null!=n&&n.insertBefore(i,o):o.nextSibling?null!=n&&n.insertBefore(i,o.nextSibling):null!=n&&n.appendChild(i),a=i,o=Vc(s,t,e),g.setStyle(a,"top",o.top),u=a,n=g.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"}),g.setStyles(n,{...o}),g.add(s,n),c.set({caret:n,element:t,before:e}),e&&g.addClass(n,"mce-visual-caret-before"),m=setInterval(()=>{c.on(e=>{d()?g.toggleClass(e.caret,"mce-visual-caret-hidden"):g.addClass(e.caret,"mce-visual-caret-hidden")})},500),(r=t.ownerDocument.createRange()).setStart(a,0),r.setEnd(a,0)):(u=((e,t)=>{var r=(null!=(r=e.ownerDocument)?r:document).createTextNode(Lo),n=e.parentNode;if(t){t=e.previousSibling;if(Uo(t)){if(Ho(t))return t;if(Ko(t))return t.splitText(t.data.length-1)}null!=n&&n.insertBefore(r,e)}else{t=e.nextSibling;if(Uo(t)){if(Ho(t))return t;if(Wo(t))return t.splitText(1),t}e.nextSibling?null!=n&&n.insertBefore(r,e.nextSibling):null!=n&&n.appendChild(r)}return r})(t,e),r=t.ownerDocument.createRange(),Kc(u.nextSibling)?(r.setStart(u,0),r.setEnd(u,0)):(r.setStart(u,1),r.setEnd(u,1))),r)},hide:p,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{c.on(e=>{var t=Vc(s,e.element,e.before);g.setStyles(e.caret,{...t})})},destroy:()=>clearInterval(m)}},Wc=()=>U.browser.isFirefox(),Kc=e=>jc(e)||Hc(e),Gc=e=>{return(Kc(e)||Jn(e)&&Wc())&&Tr(Q.fromDom(e)).exists(on)},Yc=io,Xc=b,Qc=co,Jc=r("display","block table table-cell table-caption list-item"),Zc=Ho,em=zo,tm=Z,rm=ee,nm=aa,om=e=>0<e,am=e=>e<0,im=(e,t)=>{for(var r;r=e(t);)if(!em(r))return r;return null},sm=(e,t,r,n,o)=>{var a=new Gn(e,n),n=Xc(e)||em(e);let i;if(am(t)){if(n&&r(i=im(a.prev.bind(a),!0)))return i;for(;i=im(a.prev.bind(a),o);)if(r(i))return i}if(om(t)){if(n&&r(i=im(a.next.bind(a),!0)))return i;for(;i=im(a.next.bind(a),o);)if(r(i))return i}return null},lm=(e,t)=>{return Qr(Q.fromDom(e),e=>Yc(e.dom),e=>e.dom===t).map(e=>e.dom).getOr(t)},dm=(e,t)=>{for(;e&&e!==t;){if(Jc(e))return e;e=e.parentNode}return null},cm=(e,t,r)=>dm(e.container(),r)===dm(t.container(),r),mm=(e,t)=>{var r;return t&&(r=t.container(),t=t.offset(),tm(r))?R.from(r.childNodes[t+e]):R.none()};var um,n=(e,t)=>{var r=(null!=(r=t.ownerDocument)?r:document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r};const fm=(e,t,r)=>{var n,o,a,i=e?"previousSibling":"nextSibling";let s=r;for(;s&&s!==t;){let e=s[i];if(e&&Zc(e)&&(e=e[i]),Xc(e)||Qc(e)){if(n=t,o=e,a=s,dm(o,n)===dm(a,n))return e;break}if(nm(e))break;s=s.parentNode}return null},gm=w(n,!0),pm=w(n,!1),hm=(e,t,r)=>{let n;var o=w(fm,!0,t),t=w(fm,!1,t),a=r.startContainer,i=r.startOffset;if(zo(a)){var s=rm(a)?a.parentNode:a,l=s.getAttribute("data-mce-caret");if("before"===l&&(n=s.nextSibling,Gc(n)))return gm(n);if("after"===l&&(n=s.previousSibling,Gc(n)))return pm(n)}if(r.collapsed&&ee(a)){if(Zc(a)){if(1===e){if(n=t(a))return gm(n);if(n=o(a))return pm(n)}if(-1===e){if(n=o(a))return pm(n);if(n=t(a))return gm(n)}return r}if(Ko(a)&&i>=a.data.length-1)return 1===e&&(n=t(a))?gm(n):r;if(Wo(a)&&i<=1)return-1===e&&(n=o(a))?pm(n):r;if(i===a.data.length)return(n=t(a))?gm(n):r;if(0===i)return(n=o(a))?pm(n):r}return r},vm=(e,t)=>mm(e?0:-1,t).filter(Xc),bm=(e,t,r)=>{t=hm(e,t,r);return-1===e?v.fromRangeStart(t):v.fromRangeEnd(t)},ym=e=>R.from(e.getNode()).map(Q.fromDom),Cm=(e,t)=>{let r=t;for(;r=e(r);)if(r.isVisible())return r;return r},wm=(e,t)=>{t=cm(e,t);return!(t||!B(e.getNode()))||t},xm=((t=um=um||{})[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards",b),km=ee,_m=Z,Em=B,Sm=aa,Nm=e=>{return ra(e)||(e=e,!!sa(e)&&!ve(Oe(e.getElementsByTagName("*")),(e,t)=>e||Qo(t),!1))},Dm=ca,Rm=(e,t)=>{var r=[];let n=e;for(;n&&n!==t;)r.push(n),n=n.parentNode;return r},Am=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Om=(e,t)=>{if(om(e)){if(Sm(t.previousSibling)&&!km(t.previousSibling))return v.before(t);if(km(t))return v(t,0)}if(am(e)){if(Sm(t.nextSibling)&&!km(t.nextSibling))return v.after(t);if(km(t))return v(t,t.data.length)}return!am(e)||Em(t)?v.before(t):v.after(t)},Tm=(e,t)=>{var r=t.nextSibling;return r&&Sm(r)?km(r)?v(r,0):v.before(r):Bm(um.Forwards,v.after(t),e)},Bm=(e,t,r)=>{let n,o,a,i;if(!_m(r)||!t)return null;if(t.isEqual(v.after(r))&&r.lastChild){if(i=v.after(r.lastChild),am(e)&&Sm(r.lastChild)&&_m(r.lastChild))return Em(r.lastChild)?v.before(r.lastChild):i}else i=t;t=i.container();let s=i.offset();if(km(t)){if(am(e)&&0<s)return v(t,--s);if(om(e)&&s<t.length)return v(t,++s);n=t}else{if(am(e)&&0<s&&(o=Am(t,s-1),Sm(o)))return!Nm(o)&&(a=sm(o,e,Dm,o))?km(a)?v(a,a.data.length):v.after(a):km(o)?v(o,o.data.length):v.before(o);if(om(e)&&s<t.childNodes.length&&(o=Am(t,s),Sm(o)))return Em(o)?Tm(r,o):!Nm(o)&&(a=sm(o,e,Dm,o))?km(a)?v(a,0):v.before(a):km(o)?v(o,0):v.after(o);n=o||i.getNode()}if(n&&(om(e)&&i.isAtEnd()||am(e)&&i.isAtStart())&&(n=sm(n,e,de,r,!0),Dm(n,r)))return Om(e,n);o=n&&sm(n,e,Dm,r);t=Je(D(Rm(t,r),xm));return!t||o&&t.contains(o)?o?Om(e,o):null:i=om(e)?v.after(t):v.before(t)},Pm=t=>({next:e=>Bm(um.Forwards,e,t),prev:e=>Bm(um.Backwards,e,t)}),Lm=e=>v.isTextPosition(e)?0===e.offset():aa(e.getNode()),Mm=e=>{var t;return v.isTextPosition(e)?(t=e.container(),e.offset()===t.data.length):aa(e.getNode(!0))},Im=(e,t)=>!v.isTextPosition(e)&&!v.isTextPosition(t)&&e.getNode()===t.getNode(!0),Fm=(e,t,r)=>{return e?!Im(t,r)&&(e=t,!(!v.isTextPosition(e)&&B(e.getNode())))&&Mm(t)&&Lm(r):!Im(r,t)&&Lm(t)&&Mm(r)},Um=(e,t,r)=>{t=Pm(t);return R.from(e?t.next(r):t.prev(r))},zm=(t,r,n)=>Um(t,r,n).bind(e=>cm(n,e,r)&&Fm(t,n,e)?Um(t,r,e):R.some(e)),jm=(t,r,e,n)=>zm(t,r,e).bind(e=>n(e)?jm(t,r,e,n):R.some(e)),Hm=(e,t)=>{var r,n=e?t.firstChild:t.lastChild;return ee(n)?R.some(v(n,e?0:n.data.length)):n?aa(n)?R.some(e?v.before(n):(r=n,B(r)?v.before(r):v.after(r))):(r=t,t=n,t=(n=e)?v.before(t):v.after(t),Um(n,r,t)):R.none()},qm=w(Um,!0),Vm=w(Um,!1),$m=w(Hm,!0),Wm=w(Hm,!1),Km="_mce_caret",Gm=e=>Z(e)&&e.id===Km,Ym=(e,t)=>{let r=t;for(;r&&r!==e;){if(Gm(r))return r;r=r.parentNode}return null},Xm=e=>Y(e,"name"),Qm=e=>O.isArray(e.start),Jm=e=>!(!Xm(e)&&S(e.forward))||e.forward,Zm=(e,t)=>(Z(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),eu=(e,t,r)=>{return!(t.hasChildNodes()||!Ym(e,t)||(e=r,t=(null!=(t=(r=t).ownerDocument)?t:document).createTextNode(Lo),r.appendChild(t),e.setStart(t,0),e.setEnd(t,0),0))},tu=(e,r,t,n)=>{var o=t[r?"start":"end"],a=e.getRoot();if(o){let t=a,e=o[0];for(let e=o.length-1;t&&1<=e;e--){var i=t.childNodes;if(eu(a,t,n))return!0;if(o[e]>i.length-1)return!!eu(a,t,n)||((e,t)=>Wm(e).fold(u,e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0)))(t,n);t=i[o[e]]}ee(t)&&(e=Math.min(o[0],t.data.length)),Z(t)&&(e=Math.min(o[0],t.childNodes.length)),r?n.setStart(t,e):n.setEnd(t,e)}return!0},ru=e=>ee(e)&&0<e.data.length,nu=(r,n,o)=>{var a=r.get(o.id+"_"+n),i=null==a?void 0:a.parentNode,s=o.keep;if(a&&i){let e,t;if(t="start"===n?s?a.hasChildNodes()?(e=a.firstChild,1):ru(a.nextSibling)?(e=a.nextSibling,0):ru(a.previousSibling)?(e=a.previousSibling,a.previousSibling.data.length):(e=i,r.nodeIndex(a)+1):(e=i,r.nodeIndex(a)):s?a.hasChildNodes()?(e=a.firstChild,1):ru(a.previousSibling)?(e=a.previousSibling,a.previousSibling.data.length):(e=i,r.nodeIndex(a)):(e=i,r.nodeIndex(a)),!s){var l,i=a.previousSibling,s=a.nextSibling;for(O.each(O.grep(a.childNodes),e=>{ee(e)&&(e.data=e.data.replace(/\uFEFF/g,""))});l=r.get(o.id+"_"+n);)r.remove(l,!0);ee(s)&&ee(i)&&!U.browser.isOpera()&&(a=i.data.length,i.appendData(s.data),r.remove(s),e=i,t=a)}return R.some(v(e,t))}return R.none()},ou=(e,t)=>{var r,n,o,a,i,s,l,d,c,m,e=e.dom;if(t){if(Qm(t))return c=t,m=(d=e).createRng(),tu(d,!0,c,m)&&tu(d,!1,c,m)?R.some({range:m,forward:Jm(c)}):R.none();if(d=t,j(d.start))return s=e,l=t,m=R.from(ml(s.getRoot(),l.start)),c=R.from(ml(s.getRoot(),l.end)),qt(m,c,(e,t)=>{var r=s.createRng();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),{range:r,forward:Jm(l)}});if(i=t,Y(i,"id"))return n=e,o=t,i=nu(n,"start",o),a=nu(n,"end",o),qt(i,a.or(i),(e,t)=>{var r=n.createRng();return r.setStart(Zm(n,e.container()),e.offset()),r.setEnd(Zm(n,t.container()),t.offset()),{range:r,forward:Jm(o)}});if(Xm(t))return r=e,a=t,R.from(r.select(a.name)[a.index]).map(e=>{var t=r.createRng();return t.selectNode(e),{range:t,forward:!0}});if(i=t,Y(i,"rng"))return R.some({range:t.rng,forward:Jm(t)})}return R.none()},au=(e,t,r)=>wl(e,t,r),iu=(r,e)=>{ou(r,e).each(({range:e,forward:t})=>{r.setRng(e,t)})},su=e=>Z(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type");var lu;lu=po;const du=e=>lu===e,cu=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),mu=e=>!cu(e)&&!du(e)&&!ho(e),uu=e=>{return{value:(e=e,it(e,"#").toUpperCase())}},fu=e=>{e=e.toString(16);return(1===e.length?"0"+e:e).toUpperCase()},gu=e=>{e=fu(e.red)+fu(e.green)+fu(e.blue);return uu(e)},pu=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,hu=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,vu=(e,t,r,n)=>({red:e,green:t,blue:r,alpha:n}),bu=(e,t,r,n)=>{e=parseInt(e,10),t=parseInt(t,10),r=parseInt(r,10),n=parseFloat(n);return vu(e,t,r,n)},yu=e=>{return("transparent"===(t=e)?R.some(vu(0,0,0,0)):null!==(r=pu.exec(t))?R.some(bu(r[1],r[2],r[3],"1")):null!==(r=hu.exec(t))?R.some(bu(r[1],r[2],r[3],r[4])):R.none()).map(gu).map(e=>"#"+e.value).getOr(e);var t,r},Cu=t=>{var r=[];if(t)for(let e=0;e<t.rangeCount;e++)r.push(t.getRangeAt(e));return r},wu=e=>{return D((e=e,xe(e,e=>{e=Bs(e);return e?[Q.fromDom(e)]:[]})),No)},xu=(e,t)=>{t=t;t=Wn(t,"td[data-mce-selected],th[data-mce-selected]");return 0<t.length?t:wu(e)},ku=e=>xu(Cu(e.selection.getSel()),Q.fromDom(e.getBody())),_u=(e,t)=>en(e,"table",t),Eu=t=>zr(t).fold($([t]),e=>[t].concat(Eu(e))),Su=t=>jr(t).fold($([t]),e=>"br"===X(e)?Pr(e).map(e=>[t].concat(Su(e))).getOr([]):[t].concat(Su(e))),Nu=(r,e)=>{return qt((n=(t=e).startContainer,t=t.startOffset,ee(n)?0===t?R.some(Q.fromDom(n)):R.none():R.from(n.childNodes[t]).map(Q.fromDom)),(t=(n=e).endContainer,n=n.endOffset,ee(t)?n===t.data.length?R.some(Q.fromDom(t)):R.none():R.from(t.childNodes[n-1]).map(Q.fromDom)),(e,t)=>{e=ye(Eu(r),w(T,e)),t=ye(Su(r),w(T,t));return e.isSome()&&t.isSome()}).getOr(!1);var t,n},Du=(e,t,r,n)=>{var o=r,a=new Gn(r,o),i=ze(e.schema.getMoveCaretBeforeOnEnterElements(),(e,t)=>!A(["td","th","table"],t.toLowerCase()));let s=r;do{if(ee(s)&&0!==O.trim(s.data).length)return void(n?t.setStart(s,0):t.setEnd(s,s.data.length));if(i[s.nodeName])return void(n?t.setStartBefore(s):"BR"===s.nodeName?t.setEndBefore(s):t.setEndAfter(s))}while(s=n?a.next():a.prev());"BODY"===o.nodeName&&(n?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Ru=e=>{e=e.selection.getSel();return H(e)&&0<e.rangeCount},Au=(r,n)=>{var e=ku(r);0<e.length?K(e,e=>{var e=e.dom,t=r.dom.createRng();t.setStartBefore(e),t.setEndAfter(e),n(t,!0)}):n(r.selection.getRng(),!1)},Ou=(e,t,r)=>{t=Cl(e,t);r(t),e.moveToBookmark(t)},Tu=e=>P(null==e?void 0:e.nodeType),Bu=e=>Z(e)&&!su(e)&&!Gm(e)&&!Qn(e),Pu=(e,t)=>{var r;return!(!Bu(t)||/^(TD|TH)$/.test(t.nodeName)||(e=e.getAttrib(t,"data-mce-selected"),r=parseInt(e,10),isNaN(r)))&&0<r},Lu=e=>!0===e.isContentEditable,Mu=(e,t,r)=>{var{selection:n,dom:o}=e,a=n.getNode(),i=b(a),i=(Ou(n,!0,()=>{t()}),i&&b(a));if(i&&o.isChildOf(a,e.getBody()))e.selection.select(a);else if(r(n.getStart())){var s=o;var l=n;var d=l.getRng(),{startContainer:i,startOffset:e}=d,a=l.getNode();if(!Pu(s,a)&&Z(i)){r=i.childNodes,o=s.getRoot();let t;e<r.length?(n=r[e],t=new Gn(n,null!=(a=s.getParent(n,s.isBlock))?a:o)):(i=r[r.length-1],(t=new Gn(i,null!=(e=s.getParent(i,s.isBlock))?e:o)).next(!0));for(let e=t.current();e;e=t.next()){if("false"===s.getContentEditable(e))return;if(ee(e)&&!zu(e))return void(d.setStart(e,0),l.setRng(d))}}return}},Iu=(e,t,r)=>{if(e){var n=t?"nextSibling":"previousSibling";for(e=r?e:e[n];e;e=e[n])if(Z(e)||!zu(e))return e}},Fu=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Ta(e,t),Uu=(e,t,r)=>e.schema.isValidChild(t,r),zu=(e,t=!1)=>{return!(!H(e)||!ee(e))&&(t=t?e.data.replace(/ /g," "):e.data,ua(t))},ju=(e,t)=>{var r,n,o=e.dom;return Bu(t)&&"false"===o.getContentEditable(t)&&(e=e,r=t,n="[data-mce-cef-wrappable]",e=Ld(e),n=gt(e)?n:n+","+e,_r(Q.fromDom(r),n))&&0===o.select('[contenteditable="true"]',t).length},Hu=(e,r)=>q(e)?e(r):e=H(r)?e.replace(/%(\w+)/g,(e,t)=>r[t]||e):e,qu=(e,t)=>(e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()),Vu=(t,r)=>{if(ne(t))return null;{let e=String(t);return"color"!==r&&"backgroundColor"!==r||(e=yu(e)),"fontWeight"===r&&700===t&&(e="bold"),e="fontFamily"===r?e.replace(/[\'\"]/g,"").replace(/,\s+/g,","):e}},$u=(e,t,r)=>{e=e.getStyle(t,r);return Vu(e,r)},Wu=(t,e)=>{let r;return t.getParent(e,e=>!!Z(e)&&!!(r=t.getStyle(e,"text-decoration"))&&"none"!==r),r},Ku=(e,t,r)=>e.getParents(t,r,e.getRoot()),Gu=(e,t,r)=>{e=e.formatter.get(t);return H(e)&&W(e,r)},Yu=(t,e,n)=>{const r=["inline","block","selector","attributes","styles","classes"],o=e=>ze(e,(e,t)=>W(r,e=>e===t));return Gu(t,e,e=>{const r=o(e);return Gu(t,n,e=>{var t,e=o(e);return t=r,s(l).eq(t,e)})})},Xu=e=>qe(e,"block"),Qu=e=>qe(e,"selector"),Ju=e=>qe(e,"inline"),Zu=e=>Qu(e)&&!1!==e.expand&&!Ju(e),ef=su,tf=Ku,rf=zu,nf=Fu,of=(e,t)=>{let r=t;for(;r;){if(Z(r)&&e.getContentEditable(r))return"false"===e.getContentEditable(r)?r:t;r=r.parentNode}return t},af=(e,t,r,n)=>{var o=t.data;if(e){for(let e=r;0<e;e--)if(n(o.charAt(e-1)))return e}else for(let e=r;e<o.length;e++)if(n(o.charAt(e)))return e;return-1},sf=(e,t,r)=>af(e,t,r,e=>du(e)||cu(e)),lf=(e,t,r)=>af(e,t,r,mu),df=(o,e,t,r,a,n)=>{let i;const s=o.getParent(t,o.isBlock)||e,l=(e,t,r)=>{var n=xs(o),n=a?n.backwards:n.forwards;return R.from(n(e,t,(e,t)=>ef(e.parentNode)?-1:(i=e,r(a,e,t)),s))};return l(t,r,sf).bind(e=>n?l(e.container,e.offset+(a?-1:0),lf):R.some(e)).orThunk(()=>i?R.some({container:i,offset:a?0:i.length}):R.none())},cf=(r,n,o,e,t)=>{var t=e[t],a=(ee(e)&&gt(e.data)&&t&&(e=t),tf(r,e));for(let t=0;t<a.length;t++)for(let e=0;e<n.length;e++){var i=n[e];if((!H(i.collapsed)||i.collapsed===o.collapsed)&&(Qu(i)&&r.is(a[t],i.selector)))return a[t]}return e},mf=(t,e,r,n)=>{let o=r;const a=t.getRoot();var i,e=e[0];if((o=Xu(e)?e.wrapper?null:t.getParent(r,e.block,a):o)||(i=null!=(i=t.getParent(r,"LI,TD,TH"))?i:a,o=t.getParent(ee(r)?r.parentNode:r,e=>e!==a&&nf(t.schema,e),i)),!(o=o&&Xu(e)&&e.wrapper?tf(t,o,"ul,ol").reverse()[0]||o:o))for(o=r;o&&o[n]&&!t.isBlock(o[n])&&(o=o[n],!qu(o,"br")););return o||r},uf=(e,t,r,n)=>{var o=r.parentNode;return!H(r[n])&&(!(o!==t&&!ne(o)&&!e.isBlock(o))||uf(e,t,o,n))},ff=(t,e,r,n,o)=>{let a=r;var i,s=o?"previousSibling":"nextSibling",l=t.getRoot();if(!ee(r)||rf(r)||!(o?0<n:n<r.data.length))for(;a;){if(!e[0].block_expand&&t.isBlock(a))return a;for(let e=a[s];e;e=e[s]){var d=ee(e)&&!uf(t,l,e,s);if(!ef(e)&&(i=e,!B(i)||!i.getAttribute("data-mce-bogus")||i.nextSibling)&&!rf(e,d))return a}if(a===l||a.parentNode===l){r=a;break}a=a.parentNode}return r},gf=e=>ef(e.parentNode)||ef(e),pf=(e,t,r,n=!1)=>{let{startContainer:o,startOffset:a,endContainer:i,endOffset:s}=t;var l=r[0];return Z(o)&&o.hasChildNodes()&&(o=Ps(o,a),ee(o))&&(a=0),Z(i)&&i.hasChildNodes()&&(i=Ps(i,t.collapsed?s:s-1),ee(i))&&(s=i.data.length),o=of(e,o),i=of(e,i),gf(o)&&(o=ef(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,ee(o))&&(a=t.collapsed?o.length:0),gf(i)&&(i=ef(i)?i:i.parentNode,i=t.collapsed?i.nextSibling||i:i.previousSibling||i,ee(i))&&(s=t.collapsed?0:i.length),t.collapsed&&(df(e,e.getRoot(),o,a,!0,n).each(({container:e,offset:t})=>{o=e,a=t}),df(e,e.getRoot(),i,s,!1,n).each(({container:e,offset:t})=>{i=e,s=t})),(Ju(l)||l.block_expand)&&(Ju(l)&&ee(o)&&0!==a||(o=ff(e,r,o,a,!0)),Ju(l)&&ee(i)&&s!==i.data.length||(i=ff(e,r,i,s,!1))),Zu(l)&&(o=cf(e,r,t,o,"previousSibling"),i=cf(e,r,t,i,"nextSibling")),(Xu(l)||Qu(l))&&(o=mf(e,r,o,"previousSibling"),i=mf(e,r,i,"nextSibling"),Xu(l))&&(e.isBlock(o)||(o=ff(e,r,o,a,!0)),e.isBlock(i)||(i=ff(e,r,i,s,!1))),Z(o)&&o.parentNode&&(a=e.nodeIndex(o),o=o.parentNode),Z(i)&&i.parentNode&&(s=e.nodeIndex(i)+1,i=i.parentNode),{startContainer:o,startOffset:a,endContainer:i,endOffset:s}},hf=(r,e,s)=>{const n=e.startOffset,o=Ps(e.startContainer,n),a=e.endOffset,i=Ps(e.endContainer,a-1),l=e=>{var t=e[0],t=(ee(t)&&t===o&&n>=t.data.length&&e.splice(0,1),e[e.length-1]);return 0===a&&0<e.length&&t===i&&ee(t)&&e.splice(e.length-1,1),e},d=(e,t,r)=>{for(var n=[];e&&e!==r;e=e[t])n.push(e);return n};var t,c,e=(e,t)=>r.getParent(e,e=>e.parentNode===t,t),m=(r,n,o)=>{var a=o?"nextSibling":"previousSibling";for(let e=r,t=void e.parentNode;e&&e!==n;e=t){t=e.parentNode;var i=d(e===r?e:e[a],a);i.length&&(o||i.reverse(),s(l(i)))}};return o===i?s(l([o])):(c=null!=(c=r.findCommonAncestor(o,i))?c:r.getRoot(),r.isChildOf(o,i)?m(o,c,!0):r.isChildOf(i,o)?m(i,c):(t=e(o,c)||o,e=e(i,c)||i,m(o,t,!0),(c=d(t===o?t:t.nextSibling,"nextSibling",e===i?e.nextSibling:e)).length&&s(l(c)),void m(i,e)))},vf=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],bf=(r,n,o,a)=>Or(n).fold(()=>"skipping",e=>{return"br"===a||(t=n,er(t)&&bo(t)===Lo)?"valid":(t=n,Zt(t)&&wr(t,ts())?"existing":Gm(n.dom)?"caret":W(vf,e=>_r(n,e))?"valid-block":Uu(r,o,a)&&Uu(r,X(e),o)?"valid":"invalid-child");var t}),yf=(e,t)=>{var r=pf(e.dom,t,[{inline:"span"}]);t.setStart(r.startContainer,r.startOffset),t.setEnd(r.endContainer,r.endOffset),e.selection.setRng(t)},Cf=(e,t,r,n,o,a)=>{const{uid:i=t,...s}=r;br(e,ts()),ar(e,""+ns(),i),ar(e,""+rs(),n);var l,{attributes:r={},classes:t=[]}=o(i,s);ir(e,r),l=e,n=t,K(n,e=>{br(l,e)}),a&&(0<t.length&&ar(e,""+as(),t.join(",")),0<(o=Be(r)).length)&&ar(e,""+is(),o.join(","))},wf=(e,t,r,n,o)=>{e=Q.fromTag("span",e);return Cf(e,t,r,n,o,!1),e},xf=(r,e,n,o,a,i)=>{const s=[],l=wf(r.getDoc(),n,i,o,a),d=Ji(),c=()=>{d.clear()},m=e=>{K(e,t)},t=e=>{switch(bf(r,e,"span",X(e))){case"invalid-child":c();var t=Fr(e);m(t),c();break;case"valid-block":c(),Cf(e,n,i,o,a,!0);break;case"valid":t=d.get().getOrThunk(()=>{var e=bs(l);return s.push(e),d.set(e),e});xn(e,t)}};return hf(r.dom,e,e=>{c();e=h(e,Q.fromDom),m(e)}),s},kf=n=>{const o=(()=>{const r={};return{register:(e,t)=>{r[e]={name:e,settings:t}},lookup:e=>g(r,e).map(e=>e.settings),getNames:()=>Be(r)}})(),r=(fs(n,o),us(n,o)),a=nr("span"),i=e=>{K(e,e=>{var t,r;a(e)?Sn(e):(t=e,Cr(t,ts()),cr(t,""+ns()),cr(t,""+rs()),cr(t,""+os()),e=lr(t,""+is()).map(e=>e.split(",")).getOr([]),r=lr(t,""+as()).map(e=>e.split(",")).getOr([]),K(e,e=>cr(t,e)),hs(t,r),cr(t,""+as()),cr(t,""+is()))})};return{register:(e,t)=>{o.register(e,t)},annotate:(t,r)=>{o.lookup(t).each(e=>{var o,a,i,s;a=t,i=e,s=r,(o=n).undoManager.transact(()=>{var e=o.selection,t=e.getRng(),r=0<ku(o).length;const n=ps("mce-annotation");t.collapsed&&!r&&yf(o,t),e.getRng().collapsed&&!r?(t=wf(o.getDoc(),n,s,a,i.decorate),An(t,po),e.getRng().insertNode(t.dom),e.select(t.dom)):Ou(e,!1,()=>{Au(o,e=>{xf(o,e,n,a,i.decorate,s)})})})})},annotationChanged:(e,t)=>{r.addListener(e,t)},remove:e=>{ls(n,R.some(e)).each(({elements:e})=>{var t=n.selection.getBookmark();i(e),n.selection.moveToBookmark(t)})},removeAll:e=>{var t=n.selection.getBookmark();G(ms(n,e),(e,t)=>{i(e)}),n.selection.moveToBookmark(t)},getAll:e=>{e=ms(n,e);return Me(e,e=>h(e,e=>e.dom))}}},_f=e=>({getBookmark:w(au,e),moveToBookmark:w(iu,e)}),Ef=(_f.isBookmarkNode=su,(t,r,e)=>!e.collapsed&&W(e.getClientRects(),e=>As(e,t,r))),Sf=(e,t,r)=>{e.dispatch(t,r)},Nf=(e,t,r,n)=>{e.dispatch("FormatApply",{format:t,node:r,vars:n})},Df=(e,t,r,n)=>{e.dispatch("FormatRemove",{format:t,node:r,vars:n})},Rf=(e,t)=>e.dispatch("BeforeSetContent",t),Af=(e,t)=>e.dispatch("SetContent",t),Of=(e,t)=>e.dispatch("BeforeGetContent",t),Tf=(e,t)=>e.dispatch("GetContent",t),Bf=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),z={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||z.metaKeyPressed(e),metaKeyPressed:e=>U.os.isMacOS()||U.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Pf="data-mce-selected",Lf=Math.abs,Mf=Math.round,If={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ff=(n,l)=>{const d=l.dom,c=l.getDoc(),m=document,u=l.getBody();let f,g,p,h,v,b,y,I,F,C,w,x,k,_,E,S,N;const D=e=>H(e)&&(ao(e)||d.is(e,"figure.image")),R=e=>co(e)||d.hasClass(e,"mce-preview-object"),e=e=>{var t,r,n,o=e.target;t=e,r=l.selection.getRng(),("longpress"===(n=t).type||0===n.type.indexOf("touch")?(n=t.touches[0],!D(t.target)||Ef(n.clientX,n.clientY,r)):!D(t.target)||Ef(t.clientX,t.clientY,r))||e.isDefaultPrevented()||l.selection.select(o)},A=e=>d.hasClass(e,"mce-preview-object")&&H(e.firstElementChild)?[e,e.firstElementChild]:d.is(e,"figure.image")?[e.querySelector("img")]:[e],r=e=>{var t=xd(l);return!!t&&"false"!==e.getAttribute("data-mce-resize")&&e!==l.getBody()&&(d.hasClass(e,"mce-preview-object")&&H(e.firstElementChild)?_r(Q.fromDom(e.firstElementChild),t):_r(Q.fromDom(e),t))},a=(e,t,r)=>{H(r)&&(e=A(e),K(e,e=>{e.style[t]||!l.schema.isValid(e.nodeName.toLowerCase(),t)?d.setStyle(e,t,r):d.setAttrib(e,t,""+r)}))},O=(e,t,r)=>{a(e,"width",t),a(e,"height",r)},T=e=>{let t,r,n;var o,a,i,s;t=e.screenX-b,r=e.screenY-y,_=t*h[2]+C,E=r*h[3]+w,_=_<5?5:_,E=E<5?5:E,(n=(D(f)||R(f))&&!1!==kd(l)?!z.modifierPressed(e):z.modifierPressed(e))&&(Lf(t)>Lf(r)?(E=Mf(_*x),_=Mf(E/x)):(_=Mf(E/x),E=Mf(_*x))),O(g,_,E),e=0<(e=h.startPos.x+t)?e:0,o=0<(o=h.startPos.y+r)?o:0,d.setStyles(p,{left:e,top:o,display:"block"}),p.innerHTML=_+" &times; "+E,h[2]<0&&g.clientWidth<=_&&d.setStyle(g,"left",I+(C-_)),h[3]<0&&g.clientHeight<=E&&d.setStyle(g,"top",F+(w-E)),(t=u.scrollWidth-S)+(r=u.scrollHeight-N)!=0&&d.setStyles(p,{left:e-t,top:o-r}),k||(e=l,o=f,a=C,i=w,s="corner-"+h.name,e.dispatch("ObjectResizeStart",{target:o,width:a,height:i,origin:s}),k=!0)},B=()=>{var e,t,r,n,o=k;k=!1,o&&(a(f,"width",_),a(f,"height",E)),d.unbind(c,"mousemove",T),d.unbind(c,"mouseup",B),m!==c&&(d.unbind(m,"mousemove",T),d.unbind(m,"mouseup",B)),d.remove(g),d.remove(p),d.remove(v),i(f),o&&(o=l,e=f,t=_,r=E,n="corner-"+h.name,o.dispatch("ObjectResized",{target:e,width:t,height:r,origin:n}),d.setAttrib(f,"style",d.getAttrib(f,"style"))),l.nodeChanged()},i=e=>{L();var t=d.getPos(e,u);const o=t.x,a=t.y;t=e.getBoundingClientRect();const i=t.width||t.right-t.left,s=t.height||t.bottom-t.top;f!==e&&(P(),f=e,_=E=0);t=l.dispatch("ObjectSelected",{target:e});r(e)&&!t.isDefaultPrevented()?G(If,(r,n)=>{const t=e=>{var t=A(f)[0];b=e.screenX,y=e.screenY,C=t.clientWidth,w=t.clientHeight,x=w/C,(h=r).name=n,h.startPos={x:i*r[0]+o,y:s*r[1]+a},S=u.scrollWidth,N=u.scrollHeight,v=d.add(u,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),d.setStyles(v,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=(e=f,R(e)?d.create("img",{src:U.transparentSrc}):e.cloneNode(!0)),d.addClass(g,"mce-clonedresizable"),d.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",d.setStyles(g,{left:o,top:a,margin:0}),O(g,i,s),g.removeAttribute(Pf),u.appendChild(g),d.bind(c,"mousemove",T),d.bind(c,"mouseup",B),m!==c&&(d.bind(m,"mousemove",T),d.bind(m,"mouseup",B)),p=d.add(u,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},C+" &times; "+w)};var e=d.get("mceResizeHandle"+n);e&&d.remove(e),e=d.add(u,"div",{id:"mceResizeHandle"+n,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+n+"-resize; margin:0; padding:0"}),d.bind(e,"mousedown",e=>{e.stopImmediatePropagation(),e.preventDefault(),t(e)}),r.elm=e,d.setStyles(e,{left:i*r[0]+o-e.offsetWidth/2,top:s*r[1]+a-e.offsetHeight/2})}):P(!1)},o=Zi(i,0),P=(e=!0)=>{o.cancel(),L(),f&&e&&f.removeAttribute(Pf),G(If,(e,t)=>{t=d.get("mceResizeHandle"+t);t&&(d.unbind(t),d.remove(t))})},s=(e,t)=>d.isChildOf(e,t),t=e=>{if(!(k||l.removed||l.composing)){var e="mousedown"===e.type?e.target:n.getNode(),e=rn(Q.fromDom(e),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(e=>e.dom).filter(e=>d.isEditable(e.parentElement)).getOrUndefined(),t=H(e)?d.getAttrib(e,Pf,"1"):"1";if(K(d.select(`img[${Pf}],hr[${Pf}]`),e=>{e.removeAttribute(Pf)}),H(e)&&s(e,u)&&l.hasFocus()){M();var r=n.getStart(!0);if(s(r,e)&&s(n.getEnd(!0),e))return d.setAttrib(e,Pf,t),void o.throttle(e)}P()}},L=()=>{G(If,e=>{e.elm&&(d.unbind(e.elm),delete e.elm)})},M=()=>{try{l.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};l.on("init",()=>{M(),l.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",t),l.on("keyup compositionend",e=>{f&&"TABLE"===f.nodeName&&t(e)}),l.on("hide blur",P),l.on("contextmenu longpress",e,!0)}),l.on("remove",L);return{isResizable:r,showResizeRect:i,hideResizeRect:P,updateResizeRect:t,destroy:()=>{o.cancel(),f=g=v=null}}},Uf=(e,t,r)=>{var n,o,e=e.document.createRange();return n=e,t.fold(e=>{n.setStartBefore(e.dom)},(e,t)=>{n.setStart(e.dom,t)},e=>{n.setStartAfter(e.dom)}),o=e,r.fold(e=>{o.setEndBefore(e.dom)},(e,t)=>{o.setEnd(e.dom,t)},e=>{o.setEndAfter(e.dom)}),e},zf=(e,t,r,n,o)=>{e=e.document.createRange();return e.setStart(t.dom,r),e.setEnd(n.dom,o),e},jf=Sl([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Hf=(e,t,r)=>t(Q.fromDom(r.startContainer),r.startOffset,Q.fromDom(r.endContainer),r.endOffset),qf=(e,t)=>{o=e;var o,e=t.match({domRange:e=>({ltr:$(e),rtl:R.none}),relative:(e,t)=>({ltr:Ze(()=>Uf(o,e,t)),rtl:Ze(()=>R.some(Uf(o,t,e)))}),exact:(e,t,r,n)=>({ltr:Ze(()=>zf(o,e,t,r,n)),rtl:Ze(()=>R.some(zf(o,r,n,e,t)))})});{const r=(t=e).ltr();return r.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>jf.rtl(Q.fromDom(e.endContainer),e.endOffset,Q.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>Hf(0,jf.ltr,r)):Hf(0,jf.ltr,r)}};jf.ltr,jf.rtl;const Vf={create:(e,t,r,n)=>({start:e,soffset:t,finish:r,foffset:n})},$f=(r,e,t)=>{var n,o;return R.from(null==(o=(n=r.dom).caretPositionFromPoint)?void 0:o.call(n,e,t)).bind(e=>{var t;return null===e.offsetNode?R.none():((t=r.dom.createRange()).setStart(e.offsetNode,e.offset),t.collapse(),R.some(t))})},Wf=(e,t,r)=>{var n;return R.from(null==(n=(e=e.dom).caretRangeFromPoint)?void 0:n.call(e,t,r))},Kf=document.caretPositionFromPoint?$f:document.caretRangeFromPoint?Wf:R.none,Gf=(e,t,r)=>{e=Q.fromDom(e.document);return Kf(e,t,r).map(e=>Vf.create(Q.fromDom(e.startContainer),e.startOffset,Q.fromDom(e.endContainer),e.endOffset))};o=Sl([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const Yf={before:o.before,on:o.on,after:o.after,cata:(e,t,r,n)=>e.fold(t,r,n),getStart:e=>e.fold(F,F,F)},Xf=Sl([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const Qf={domRange:Xf.domRange,relative:Xf.relative,exact:Xf.exact,exactFromRange:e=>Xf.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{e=e.match({domRange:e=>Q.fromDom(e.startContainer),relative:(e,t)=>Yf.getStart(e),exact:(e,t,r,n)=>e});return Ar(e)},range:Vf.create},Jf=(e,t)=>{var r=X(e);return"input"===r?Yf.after(e):A(["br","img"],r)?0===t?Yf.before(e):Yf.after(e):Yf.on(e,t)},Zf=(e,t)=>{e=e.fold(Yf.before,Jf,Yf.after),t=t.fold(Yf.before,Jf,Yf.after);return Qf.relative(e,t)},eg=(e,t,r,n)=>{e=Jf(e,t),t=Jf(r,n);return Qf.relative(e,t)},tg=(e,t)=>{const r=(t||document).createDocumentFragment();return K(e,e=>{r.appendChild(e.dom)}),Q.fromDom(r)},rg=e=>{const o=Qf.getWin(e).dom;var t=(e,t,r,n)=>zf(o,e,t,r,n),e=e.match({domRange:e=>{var t=Q.fromDom(e.startContainer),r=Q.fromDom(e.endContainer);return eg(t,e.startOffset,r,e.endOffset)},relative:Zf,exact:eg});return qf(o,e).match({ltr:t,rtl:t})},ng=(e,t,r)=>{var n=Ar(Q.fromDom(r));return n=n.dom,e=e,t=t,Gf(n,e,t).map(e=>{var t=r.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t}).getOrUndefined()},og=(e,t)=>H(e)&&H(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,ag=(e,t,r)=>null!==((e,t,r)=>{let n=e;for(;n&&n!==t;){if(r(n))return n;n=n.parentNode}return null})(e,t,r),ig=(e,t,r)=>{var n=t.parentNode;if(n)for(var o,a=new Gn(t,e.getParent(n,e.isBlock)||e.getRoot());o=a[r?"prev":"next"]();)if(B(o))return!0;return!1},sg=(e,t,r,n,o)=>{var a,i=e.getRoot(),s=e.schema.getNonEmptyElements(),l=o.parentNode;let d;if(!l)return R.none();var c=e.getParent(l,e.isBlock)||i;if(n&&B(o)&&t&&e.isEmpty(c))return R.some(v(l,e.nodeIndex(o)));for(var m,u,f=new Gn(o,c);a=f[n?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||(m=a,u=i,Ho(m)&&!ag(m,u,Gm)))return R.none();if(ee(a)&&0<a.data.length)return((e,t,r)=>ag(e,t,e=>e.nodeName===r))(a,i,"A")?R.none():R.some(v(a,n?a.data.length:0));if(e.isBlock(a)||s[a.nodeName.toLowerCase()])return R.none();d=a}return!ro(d)&&r&&d?R.some(v(d,0)):R.none()},lg=(e,t,r,n)=>{var o=e.getRoot();let a,i=!1,s=r?n.startContainer:n.endContainer,l=r?n.startOffset:n.endOffset;var n=Z(s)&&l===s.childNodes.length,d=e.schema.getNonEmptyElements();let c=r;if(Ho(s))return R.none();if(Z(s)&&l>s.childNodes.length-1&&(c=!1),no(s)&&(s=o,l=0),s===o){if(c&&(a=s.childNodes[0<l?l-1:0])){if(Ho(a))return R.none();if(d[a.nodeName]||Jn(a))return R.none()}if(s.hasChildNodes()){if(l=Math.min(!c&&0<l?l-1:l,s.childNodes.length-1),s=s.childNodes[l],l=ee(s)&&n?s.data.length:0,!t&&s===o.lastChild&&Jn(s))return R.none();if(((e,t)=>{let r=t;for(;r&&r!==e;){if(b(r))return!0;r=r.parentNode}return!1})(o,s)||Ho(s))return R.none();if(s.hasChildNodes()&&!Jn(s)){a=s;var m=new Gn(s,o);do{if(b(a)||Ho(a)){i=!1;break}if(ee(a)&&0<a.data.length){l=c?0:a.data.length,s=a,i=!0;break}if(d[a.nodeName.toLowerCase()]&&!lo(a)){l=e.nodeIndex(a),s=a.parentNode,c||l++,i=!0;break}}while(a=c?m.next():m.prev())}}}return t&&(ee(s)&&0===l&&sg(e,n,t,!0,s).each(e=>{s=e.container(),l=e.offset(),i=!0}),Z(s))&&(a=(a=s.childNodes[l])||s.childNodes[l-1])&&B(a)&&(r=a,o="A",(null==(r=r.previousSibling)?void 0:r.nodeName)!==o)&&!ig(e,a,!1)&&!ig(e,a,!0)&&sg(e,n,t,!0,a).each(e=>{s=e.container(),l=e.offset(),i=!0}),c&&!t&&ee(s)&&l===s.data.length&&sg(e,n,t,!1,s).each(e=>{s=e.container(),l=e.offset(),i=!0}),i&&s?R.some(v(s,l)):R.none()},dg=(e,t)=>{const r=t.collapsed,n=t.cloneRange(),o=v.fromRangeStart(t);return lg(e,r,!0,n).each(e=>{r&&v.isAbove(o,e)||n.setStart(e.container(),e.offset())}),r||lg(e,r,!1,n).each(e=>{n.setEnd(e.container(),e.offset())}),r&&n.collapse(!0),og(t,n)?R.none():R.some(n)},cg=(e,t)=>e.splitText(t),mg=e=>{let t=e.startContainer,r=e.startOffset,n=e.endContainer,o=e.endOffset;return t===n&&ee(t)?0<r&&r<t.data.length&&(n=cg(t,r),t=n.previousSibling,o>r?(o-=r,e=cg(n,o).previousSibling,t=n=e,o=e.data.length,r=0):o=0):(ee(t)&&0<r&&r<t.data.length&&(t=cg(t,r),r=0),ee(n)&&0<o&&o<n.data.length&&(e=cg(n,o).previousSibling,n=e,o=e.data.length)),{startContainer:t,startOffset:r,endContainer:n,endOffset:o}},ug=n=>{return{walk:(e,t)=>hf(n,e,t),split:mg,expand:(e,t={type:"word"})=>{var r;return"word"===t.type?(t=pf(n,e,[{inline:"span"}]),(r=n.createRng()).setStart(t.startContainer,t.startOffset),r.setEnd(t.endContainer,t.endOffset),r):e},normalize:t=>dg(n,t).fold(u,e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0))}};ug.compareRanges=og,ug.getCaretRangeFromPoint=ng,ug.getSelectedNode=Bs,ug.getNode=Ps;const fg=((r,n)=>{var e=e=>{var t=n(e);return t<=0||null===t?(e=un(e,r),parseFloat(e)||0):t};const o=(r,e)=>ve(e,(e,t)=>{t=un(r,t),t=void 0===t?0:parseInt(t,10);return isNaN(t)?e:e+t},0);return{set:(e,t)=>{if(!P(t)&&!t.match(/^[0-9]+$/))throw new Error(r+".set accepts only positive integer values. Value was "+t);e=e.dom;sn(e)&&(e.style[r]=t+"px")},get:e,getOuter:e,aggregate:o,max:(e,t,r)=>{e=o(e,r);return e<t?t-e:0}}})("height",e=>{var t=e.dom;return Yr(e)?t.getBoundingClientRect().height:t.offsetHeight}),gg=()=>Q.fromDom(document),pg=(r,e)=>{return r.view(e).fold($([]),e=>{var t=r.owner(e),t=pg(r,t);return[e].concat(t)})};var hg=Object.freeze({__proto__:null,view:e=>{return(e.dom===document?R.none():R.from(null==(e=e.dom.defaultView)?void 0:e.frameElement)).map(Q.fromDom)},owner:e=>Rr(e)});const vg=e=>{var t=gg(),t=Un(t),r=((e,t)=>{e=t.owner(e);return pg(t,e)})(e,hg),e=Fn(e),r=he(r,(e,t)=>{t=Fn(t);return{left:e.left+t.left,top:e.top+t.top}},{left:0,top:0});return Ln(r.left+e.left+t.left,r.top+e.top+t.top)},bg=e=>"textarea"===X(e),yg=(e,t)=>{o=(a=e).dom.ownerDocument,i=o.body,s=o.defaultView,o=o.documentElement;var r,n,o,a,i=i===a.dom?Ln(i.offsetLeft,i.offsetTop):(r=In(null==s?void 0:s.pageYOffset,o.scrollTop),s=In(null==s?void 0:s.pageXOffset,o.scrollLeft),n=In(o.clientTop,i.clientTop),o=In(o.clientLeft,i.clientLeft),Fn(a).translate(s-o,r-n)),s=(a=e,fg.get(a));return{element:e,bottom:i.top+s,height:s,pos:i,cleanup:t}},Cg=(e,t)=>{e=e,t=t;var r,e=0===(r=Fr(e)).length||bg(e)?{element:e,offset:t}:t<r.length&&!bg(r[t])?{element:r[t],offset:0}:(r=r[r.length-1],bg(r)?{element:e,offset:t}:"img"===X(r)?{element:r,offset:1}:er(r)?{element:r,offset:bo(r).length}:{element:r,offset:Fr(r).length});const n=Q.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Lo+"</span>");return bn(e.element,n),yg(n,()=>J(n))},wg=(d,c,m,u)=>{{var e=d,t=(e,t)=>{{var r=d,n=c,o=m,a=u,i=Q.fromDom(r.getBody()),s=Q.fromDom(r.getDoc()),l=(vn(i),Cg(Q.fromDom(o.startContainer),o.startOffset));xg(r,s,n,l,a),l.cleanup()}},r=m,n=r.startContainer,o=r.startOffset,a=r.endContainer,i=r.endOffset,s=(t(Q.fromDom(n),Q.fromDom(a)),e.dom.createRng());s.setStart(n,o),s.setEnd(a,i),e.selection.setRng(r)}},xg=(e,t,r,n,o)=>{var a,i={elm:n.element.dom,alignToTop:o};e.dispatch("ScrollIntoView",i).isDefaultPrevented()||(a=Un(t).top,r(e,t,a,n,o),e.dispatch("AfterScrollIntoView",i))},kg=(e,t,r,n)=>{var o=Q.fromDom(e.getDoc());xg(e,o,r,(e=t,yg(Q.fromDom(e),V)),n)},_g=(e,t,r,n,o)=>{var a=t.pos;n?zn(a.left,a.top,o):(n=a.top-r+t.height,zn(-e.getBody().getBoundingClientRect().left,n,o))},Eg=(e,t,r,n,o,a)=>{var i=n+r,s=o.pos.top,l=o.bottom,d=n<=l-s;s<r?_g(e,o,n,!1!==a,t):i<s?(r=d?!1!==a:!0===a,_g(e,o,n,r,t)):i<l&&!d&&_g(e,o,n,!0===a,t)},Sg=(e,t,r,n,o)=>{var a=Ar(t).dom.innerHeight;Eg(e,t,r,a,n,o)},Ng=(e,t,r,n,o)=>{var a=Ar(t).dom.innerHeight,e=(Eg(e,t,r,a,n,o),vg(n.element)),t=Vn(window);e.top<t.y?jn(n.element,!1!==o):e.top>t.bottom&&jn(n.element,!0===o)},Dg=(e,t,r)=>wg(e,Sg,t,r),Rg=(e,t,r)=>kg(e,t,Sg,r),Ag=(e,t,r)=>wg(e,Ng,t,r),Og=(e,t,r)=>kg(e,t,Ng,r),Tg=(e,t,r)=>{(e.inline?Dg:Ag)(e,t,r)},Bg=e=>e.dom.focus(),Pg=e=>{var t=$r(e).dom;return e.dom===t.activeElement},Lg=(e=gg())=>R.from(e.dom.activeElement).map(Q.fromDom),Mg=(e,t)=>{t=er(t)?bo(t).length:Fr(t).length+1;return t<e?t:e<0?0:e},Ig=e=>Qf.range(e.start,Mg(e.soffset,e.start),e.finish,Mg(e.foffset,e.finish)),Fg=(e,t)=>!Yn(t.dom)&&(Nr(e,t)||T(e,t)),Ug=t=>e=>Fg(t,e.start)&&Fg(t,e.finish),zg=e=>Qf.range(Q.fromDom(e.startContainer),e.startOffset,Q.fromDom(e.endContainer),e.endOffset),jg=e=>{return(e=>{e=e.getSelection();return(e&&0!==e.rangeCount?R.from(e.getRangeAt(0)):R.none()).map(zg)})(Ar(e).dom).filter(Ug(e))},Hg=(e,t)=>R.from(t).filter(Ug(e)).map(Ig),qg=e=>{var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),R.some(t)}catch(e){return R.none()}},Vg=e=>{var t=e.inline||U.browser.isFirefox()?jg(Q.fromDom(e.getBody())):R.none();e.bookmark=t.isSome()?t:e.bookmark},$g=t=>{return(t.bookmark||R.none()).bind(e=>Hg(Q.fromDom(t.getBody()),e)).bind(qg)};const Wg={isEditorUIElement:e=>{e=e.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},Kg={setEditorTimeout:(e,t,r)=>{return n=()=>{e.removed||t()},r=r,P(r)||(r=0),setTimeout(n,r);var n},setEditorInterval:(e,t,r)=>{o=()=>{e.removed?clearInterval(n):t()},r=r,P(r)||(r=0);const n=setInterval(o,r);var o;return n}},Gg=a=>{const i=Zi(()=>{Vg(a)},0);a.on("init",()=>{if(a.inline){var e=a;var t=i;const o=()=>{t.throttle()};te.DOM.bind(document,"mouseup",o),e.on("remove",()=>{te.DOM.unbind(document,"mouseup",o)})}var r,n;r=a,e=i,n=e,r.on("mouseup touchend",e=>{n.throttle()}),r.on("keyup NodeChange AfterSetSelectionRange",e=>{"nodechange"===(e=e).type&&e.selectionChange||Vg(r)})}),a.on("remove",()=>{i.cancel()})};let Yg;const Xg=te.DOM,Qg=e=>{e=e.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))},Jg=(r,e)=>{const n=Md(r);return null!==Xg.getParent(e,e=>{return t=e,Z(t)&&Wg.isEditorUIElement(t)||!!n&&r.dom.is(e,n);var t})},Zg=e=>{try{var t=$r(Q.fromDom(e.getElement()));return Lg(t).fold(()=>document.body,e=>e.dom)}catch(e){return document.body}},ep=(r,e)=>{const t=e.editor,n=(Gg(t),(e,t)=>{_c(e)&&!0!==e.inline&&t(Q.fromDom(e.getContainer()),"tox-edit-focus")});t.on("focusin",()=>{var e=r.focusedEditor;Qg(Zg(t))&&n(t,br),e!==t&&(e&&e.dispatch("blur",{focusedEditor:t}),r.setActive(t),(r.focusedEditor=t).dispatch("focus",{blurredEditor:e}),t.focus(!0))}),t.on("focusout",()=>{Kg.setEditorTimeout(t,()=>{var e=r.focusedEditor;Qg(Zg(t))&&e===t||n(t,Cr),Jg(t,Zg(t))||e!==t||(t.dispatch("blur",{focusedEditor:null}),r.focusedEditor=null)})}),Yg||(Yg=e=>{const t=r.activeEditor;t&&Gr(e).each(e=>{e.ownerDocument!==document||e===document.body||Jg(t,e)||r.focusedEditor!==t||(t.dispatch("blur",{focusedEditor:null}),r.focusedEditor=null)})},Xg.bind(document,"focusin",Yg))},tp=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Yg&&(Xg.unbind(document,"focusin",Yg),Yg=null)},rp=(t,e)=>{return((e=e).collapsed?R.from(Ps(e.startContainer,e.startOffset)).map(Q.fromDom):R.none()).bind(e=>So(e)?R.some(e):Nr(t,e)?R.none():R.some(t))},np=(t,e)=>{rp(Q.fromDom(t.getBody()),e).bind(e=>$m(e.dom)).fold(()=>{t.selection.normalize()},e=>t.selection.setRng(e.toRange()))},op=t=>{if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},ap=e=>{return Pg(e)||(t=e,Lg($r(t)).filter(e=>t.dom.contains(e.dom)).isSome());var t},ip=e=>{var t;return e.inline?(t=(t=e).getBody())&&ap(Q.fromDom(t)):(t=e,H(t.iframeElement)&&Pg(Q.fromDom(t.iframeElement)))},sp=e=>{return ip(e)||(t=e,e=$r(Q.fromDom(t.getElement())),Lg(e).filter(e=>!Qg(e.dom)&&Jg(t,e.dom)).isSome());var t},lp=e=>e.editorManager.setActive(e),dp=(e,r)=>{if(!e.removed)if(r)lp(e);else{var n=e;r=n.selection,e=n.getBody();let t=r.getRng();n.quirks.refreshContentEditable(),H(n.bookmark)&&!ip(n)&&$g(n).each(e=>{n.selection.setRng(e),t=e});o=n,r=r.getNode();var o,r=o.dom.getParent(r,e=>"true"===o.dom.getContentEditable(e));r&&n.dom.isChildOf(r,e)?(op(r),np(n,t)):(n.inline||(U.browser.isOpera()||op(e),n.getWin().focus()),(U.browser.isFirefox()||n.inline)&&(op(e),np(n,t))),lp(n)}},cp=(e,t,r,n,o)=>{var a=r?t.startContainer:t.endContainer;const i=r?t.startOffset:t.endOffset;return R.from(a).map(Q.fromDom).map(e=>n&&t.collapsed?e:Ur(e,o(e,i)).getOr(e)).bind(e=>Zt(e)?R.some(e):Or(e).filter(Zt)).map(e=>e.dom).getOr(e)},mp=(e,t,r=!1)=>cp(e,t,!0,r,(e,t)=>Math.min(Hr(e),t)),up=(e,t,r=!1)=>cp(e,t,!1,r,(e,t)=>0<t?t-1:t),fp=(e,t)=>{for(var r=e;e&&ee(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||r},gp=(r,e)=>h(e,e=>{var t=r.dispatch("GetSelectionRange",{range:e});return t.range!==e?t.range:e}),pp=["img","br"],hp=e=>{var t;return t=e,yo(t).filter(e=>0!==e.trim().length||-1<e.indexOf(po)).isSome()||A(pp,X(e))||(t=e,Jt(t)&&"false"===sr(t,"contenteditable"))},vp=e=>{{var n=hp;const o=t=>{for(let e=0;e<t.childNodes.length;e++){var r=Q.fromDom(t.childNodes[e]);if(n(r))return R.some(r);r=o(t.childNodes[e]);if(r.isSome())return r}return R.none()};return o(e.dom)}},bp=e=>{{var n=hp;const o=e=>{var t=Fr(e);for(let e=t.length-1;0<=e;e--){var r=t[e];if(n(r))return R.some(r);r=o(r);if(r.isSome())return r}return R.none()};return o(e)}},yp="[data-mce-autocompleter]",Cp=(r,e)=>{var t;wp(Q.fromDom(r.getBody())).isNone()&&(t=Q.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',r.getDoc()),wn(t,Q.fromDom(e.extractContents())),e.insertNode(t.dom),Or(t).each(e=>e.dom.normalize()),bp(t).map(e=>{var t;r.selection.setCursorLocation(e.dom,(t=e,"img"===X(t)?1:yo(t).fold(()=>Fr(t).length,e=>e.length)))}))},wp=e=>tn(e,yp),xp={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},kp=(r,n,e)=>{var t=e?"lastChild":"firstChild",o=e?"prev":"next";if(r[t])return r[t];if(r!==n){let t=r[o];if(t)return t;for(let e=r.parent;e&&e!==n;e=e.parent)if(t=e[o])return t}},_p=e=>{var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class Ep{static create(e,t){const r=new Ep(e,xp[e]||1);return t&&G(t,(e,t)=>{r.attr(t,e)}),r}constructor(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}replace(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this}attr(t,r){const n=this;if(!j(t))return H(t)&&G(t,(e,t)=>{n.attr(t,e)}),n;var o=n.attributes;if(o){if(void 0===r)return o.map[t];if(null===r){if(t in o.map){delete o.map[t];let e=o.length;for(;e--;)if(o[e].name===t)return o.splice(e,1),n}}else{if(t in o.map){let e=o.length;for(;e--;)if(o[e].name===t){o[e].value=r;break}}else o.push({name:t,value:r});o.map[t]=r}return n}}clone(){var e=new Ep(this.name,this.type),r=this.attributes;if(r){var n=[];n.map={};for(let e=0,t=r.length;e<t;e++){var o=r[e];"id"!==o.name&&(n[n.length]={name:o.name,value:o.value},n.map[o.name]=o.value)}e.attributes=n}return e.value=this.value,e}wrap(e){return this.parent&&(this.parent.insert(e,this),e.append(this)),this}unwrap(){for(let e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()}remove(){var e=this.parent,t=this.next,r=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):r&&(r.next=t),e.lastChild===this?(e.lastChild=r)&&(r.next=null):t&&(t.prev=r),this.parent=this.next=this.prev=null),this}append(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e}insert(e,t,r){e.parent&&e.remove();var n=t.parent||this;return r?(t===n.firstChild?n.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,(e.next=t).prev=e):(t===n.lastChild?n.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,(e.prev=t).next=e),e.parent=n,e}getAll(t){var r=[];for(let e=this.firstChild;e;e=kp(e,this))e.name===t&&r.push(e);return r}children(){var t=[];for(let e=this.firstChild;e;e=e.next)t.push(e);return t}empty(){if(this.firstChild){var t=[];for(let e=this.firstChild;e;e=kp(e,this))t.push(e);let e=t.length;for(;e--;){var r=t[e];r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}}return this.firstChild=this.lastChild=null,this}isEmpty(e,t={},r){var n,o;let a=this.firstChild;if(_p(this))return!1;if(a)do{if(1===a.type){if(a.attr("data-mce-bogus"))continue;if(e[a.name])return!1;if(_p(a))return!1}if(8===a.type)return!1;if(3===a.type&&(n=a,o=void 0,o=null!=(o=n.value)?o:"",!ua(o)||(n=n.parent)&&("span"!==n.name||n.attr("style"))&&/^[ ]+$/.test(o)))return!1;if(3===a.type&&a.parent&&t[a.parent.name]&&ua(null!=(n=a.value)?n:""))return!1;if(r&&r(a))return!1}while(a=kp(a,this));return!0}walk(e){return kp(this,null,e)}}const Sp=e=>`${0===e.length?"":h(e,e=>`[${e}]`).join(",")+","}[data-mce-bogus="all"]`,Np=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,null),Dp=(e,t)=>null!==e.querySelector(Sp(t)),Rp=(e,r)=>{var t;K((t=r,e.querySelectorAll(Sp(t))),e=>{const t=Q.fromDom(e);"all"===sr(t,"data-mce-bogus")?J(t):K(r,e=>{dr(t,e)&&cr(t,e)})})},Ap=e=>e.cloneNode(!0),Op=(e,t)=>{let r=e;if(a=e,null!==Np(a).nextNode()){r=Ap(e);{a=r;var n=Np(a);let e=n.nextNode();for(;null!==e;){var o=n.currentNode;e=n.nextNode(),j(o.nodeValue)&&o.nodeValue.includes(Lo)&&J(Q.fromDom(o))}}Dp(r,t)&&Rp(r,t)}else Dp(e,t)&&(r=Ap(e),Rp(r,t));var a;return r},Tp=e=>{e=Wn(e,"[data-mce-bogus]");K(e,e=>{("all"===sr(e,"data-mce-bogus")?J:xo(e)?(bn(e,Q.fromText(go)),J):Sn)(e)})},Bp=e=>{e=Wn(e,"input");K(e,e=>{cr(e,"name")})},Pp=(e,t)=>{var r=e.getDoc(),e=$r(Q.fromDom(e.getBody())),r=Q.fromTag("div",r),e=(ar(r,"data-mce-bogus","all"),mn(r,{position:"fixed",left:"-9999999px",top:"0"}),An(r,t.innerHTML),Tp(r),Bp(r),t=e,qr(t)?t:Q.fromDom(Rr(t).dom.body)),t=(wn(e,r),Io(r.dom.innerText));return J(r),t},Lp=(e,t,r)=>{let n;return n="raw"===t.format?O.trim(Io(Op(r,e.serializer.getTempAttrs()).innerHTML)):"text"===t.format?Pp(e,r):"tree"===t.format?e.serializer.serialize(r,t):((e,t)=>{e=Yl(e),e=new RegExp(`^(<${e}[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/${e}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(e,"")})(e,e.serializer.serialize(r,t)),"text"!==t.format&&!Do(Q.fromDom(r))&&j(n)?O.trim(n):n},Mp=O.makeMap,Ip=e=>{const a=[],i=(e=e||{}).indent,s=Mp(e.indent_before||""),l=Mp(e.indent_after||""),d=ai.getEncodeFunc(e.entity_encoding||"raw",e.entities),c="xhtml"!==e.element_format;return{start:(e,r,t)=>{var n;if(i&&s[e]&&0<a.length&&0<(n=a[a.length-1]).length&&"\n"!==n&&a.push("\n"),a.push("<",e),r)for(let e=0,t=r.length;e<t;e++){var o=r[e];a.push(" ",o.name,'="',d(o.value,!0),'"')}!t||c?a[a.length]=">":a[a.length]=" />",t&&i&&l[e]&&0<a.length&&0<(n=a[a.length-1]).length&&"\n"!==n&&a.push("\n")},end:e=>{a.push("</",e,">"),i&&l[e]&&0<a.length&&0<(e=a[a.length-1]).length&&"\n"!==e&&a.push("\n")},text:(e,t)=>{0<e.length&&(a[a.length]=t?e:d(e))},cdata:e=>{a.push("<![CDATA[",e,"]]>")},comment:e=>{a.push("\x3c!--",e,"--\x3e")},pi:(e,t)=>{t?a.push("<?",e," ",d(t),"?>"):a.push("<?",e,"?>"),i&&a.push("\n")},doctype:e=>{a.push("<!DOCTYPE",e,">",i?"\n":"")},reset:()=>{a.length=0},getContent:()=>a.join("").replace(/\n$/,"")}},Fp=(t={},f=Ci())=>{const g=Ip(t);t.validate=!("validate"in t)||t.validate;return{serialize:e=>{const m=t.validate,r={3:e=>{var t;g.text(null!=(t=e.value)?t:"",e.raw)},8:e=>{g.comment(null!=(e=e.value)?e:"")},7:e=>{g.pi(e.name,e.value)},10:e=>{g.doctype(null!=(e=e.value)?e:"")},4:e=>{g.cdata(null!=(e=e.value)?e:"")},11:e=>{let t=e;if(t=t.firstChild)for(;u(t),t=t.next;);}},u=(g.reset(),t=>{var n=r[t.type];if(n)n(t);else{var n=t.name,o=n in f.getVoidElements();let r=t.attributes;if(m&&r&&1<r.length){var a=[],i=(a.map={},f.getElementRule(t.name));if(i){for(let e=0,t=i.attributesOrder.length;e<t;e++){var s,l=i.attributesOrder[e];l in r.map&&(s=r.map[l],a.map[l]=s,a.push({name:l,value:s}))}for(let e=0,t=r.length;e<t;e++){var d,c=r[e].name;c in a.map||(d=r.map[c],a.map[c]=d,a.push({name:c,value:d}))}r=a}}if(g.start(n,r,o),!o){let e=t.firstChild;if(e)for("pre"!==n&&"textarea"!==n||3!==e.type||"\n"!==(null==(o=e.value)?void 0:o[0])||g.text("\n",!0);u(e),e=e.next;);g.end(n)}}});return 1!==e.type||t.inner?3===e.type?r[3](e):r[11](e):u(e),g.getContent()}}},Up=new Set,zp=(K(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],e=>{Up.add(e)}),["font","text-decoration","text-emphasis"]),jp=(e,t)=>Be(e.parseStyle(e.getAttrib(t,"style"))),Hp=(e,t)=>ke(jp(e,t),e=>{return e=e,!Up.has(e)}),qp=(r,n,o)=>{var e=jp(r,n);const a=jp(r,o),i=e=>{var t=null!=(t=r.getStyle(n,e))?t:"",e=null!=(e=r.getStyle(o,e))?e:"";return ft(t)&&ft(e)&&t!==e};return W(e,t=>{var e=e=>W(e,e=>e===t);return!e(a)&&e(zp)?(e=a,e=D(e,t=>W(zp,e=>lt(t,e))),W(e,i)):i(t)})};e=(r,n,o)=>R.from(o.container()).filter(ee).exists(e=>{var t=r?0:-1;return n(e.data.charAt(o.offset()+t))});const Vp=w(e,!0,cu),$p=w(e,!1,cu),Wp=e=>{e=e.container();return ee(e)&&(0===e.data.length||Mo(e.data)&&_f.isBookmarkNode(e.parentNode))};r=(t,r)=>e=>mm(t?0:-1,e).filter(r).isSome(),n=e=>ao(e)&&"block"===un(Q.fromDom(e),"display"),t=e=>{return b(e)&&(e=e,!(Z(e)&&"all"===e.getAttribute("data-mce-bogus")))};const Kp=r(!0,n),Gp=r(!1,n),Yp=r(!0,co),Xp=r(!1,co),Qp=r(!0,Jn),Jp=r(!1,Jn),Zp=r(!0,t),eh=r(!1,t),th=(e,t)=>{return e=e,r=t,n=u,Nr(r,e)?Br(e,e=>n(e)||T(e,r)).slice(0,-1):[];var r,n},rh=(e,t)=>[e].concat(th(e,t)),nh=(e,t,r)=>jm(e,t,r,Wp),oh=(e,t)=>ye(rh(Q.fromDom(t.container()),e),Co);o=(e,r,n)=>nh(e,r.dom,n).forall(t=>oh(r,n).fold(()=>!cm(t,n,r.dom),e=>!cm(t,n,r.dom)&&Nr(e,Q.fromDom(t.container())))),e=(t,r,n)=>oh(r,n).fold(()=>nh(t,r.dom,n).forall(e=>!cm(e,n,r.dom)),e=>nh(t,e.dom,n).isNone());const ah=w(e,!1),ih=w(e,!0),sh=w(o,!1),lh=w(o,!0),dh=e=>ym(e).exists(xo),ch=(e,t,r)=>{var n=D(rh(Q.fromDom(r.container()),t),Co),n=Re(n).getOr(t);return Um(e,n.dom,r).filter(dh)},mh=(e,t)=>ym(t).exists(xo)||ch(!0,e,t).isSome(),uh=(e,t)=>{return r=t,R.from(r.getNode(!0)).map(Q.fromDom).exists(xo)||ch(!1,e,t).isSome();var r},fh=w(ch,!1),gh=w(ch,!0),ph=e=>v.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),hh=(e,t)=>{t=D(rh(Q.fromDom(t.container()),e),Co);return Re(t).getOr(e)},vh=(e,t)=>ph(t)?$p(t):$p(t)||Vm(hh(e,t).dom,t).exists($p),bh=(e,t)=>ph(t)?Vp(t):Vp(t)||qm(hh(e,t).dom,t).exists(Vp),yh=e=>ym(e).bind(e=>Jr(e,Zt)).exists(e=>{return e=un(e,"white-space"),A(["pre","pre-wrap"],e)}),Ch=(e,t)=>{return r=e,n=t,Vm(r.dom,n).isNone()||(r=e,n=t,qm(r.dom,n).isNone())||ah(e,t)||ih(e,t)||uh(e,t)||mh(e,t);var r,n},wh=(t,r)=>e=>{return e=new Gn(e,t)[r](),H(e)&&b(e)&&Jc(e)},xh=(e,t)=>!yh(t)&&(Ch(e,t)||vh(e,t)||bh(e,t)),kh=(e,t)=>{return!yh(t)&&(ah(e,t)||sh(e,t)||uh(e,t)||vh(e,t)||(e=e,t=t,r=Vm(e.dom,t).getOr(t),e=wh(e.dom,"prev"),t.isAtStart()&&(e(t.container())||e(r.container()))));var r},_h=(e,t)=>{return!yh(t)&&(ih(e,t)||lh(e,t)||mh(e,t)||bh(e,t)||(e=e,t=t,r=qm(e.dom,t).getOr(t),e=wh(e.dom,"next"),t.isAtEnd()&&(e(t.container())||e(r.container()))));var r},Eh=(e,t)=>{return kh(e,t)||_h(e,(t=(e=t).container(),r=e.offset(),ee(t)&&r<t.data.length?v(t,r+1):e));var r},Sh=(e,t)=>du(e.charAt(t)),Nh=(e,t)=>cu(e.charAt(t)),Dh=(e,t,r)=>{var n=t.data,o=v(t,0);return r||!Sh(n,0)||Eh(e,o)?!!(r&&Nh(n,0)&&kh(e,o))&&(t.data=po+n.slice(1),!0):(t.data=" "+n.slice(1),!0)},Rh=e=>{var t=e.data,r=(e=>{const r=e.split("");return h(r,(e,t)=>du(e)&&0<t&&t<r.length-1&&mu(r[t-1])&&mu(r[t+1])?" ":e).join("")})(t);return r!==t&&(e.data=r,!0)},Ah=(e,t,r)=>{var n=t.data,o=v(t,n.length-1);return r||!Sh(n,n.length-1)||Eh(e,o)?!!(r&&Nh(n,n.length-1)&&_h(e,o))&&(t.data=n.slice(0,-1)+po,!0):(t.data=n.slice(0,-1)+" ",!0)},Oh=(e,t)=>{var r,n=t.container();return ee(n)?(e=>{e=e.container();return ee(e)&&st(e.data,po)})(t)?(r=Dh(e,n,!1)||Rh(n)||Ah(e,n,!1),Vt(r,t)):Eh(e,t)?(r=Dh(e,n,!0)||Ah(e,n,!0),Vt(r,t)):R.none():R.none()},Th=(e,t,r)=>{var n,o,a;0!==r&&(a=Q.fromDom(e),a=Qr(a,Co).getOr(a),n=e.data.slice(t,t+r),o=t+r>=e.data.length&&_h(a,v(e,e.data.length)),a=0===t&&kh(a,v(e,0)),e.replaceData(t,r,ga(n,4,a,o)))},Bh=(e,t)=>{var r=e.data.slice(t),r=r.length-mt(r).length;Th(e,t,r)},Ph=(e,t)=>{var r=e.data.slice(0,t),r=r.length-ut(r).length;Th(e,t-r,r)},Lh=(e,t,r,n=!0)=>{var o=ut(e.data).length,a=n?e:t,t=n?t:e;return n?a.appendData(t.data):a.insertData(0,t.data),J(Q.fromDom(t)),r&&Bh(a,o),a},Mh=(e,t)=>{return e=e,n=(r=t).container(),o=r.offset(),!v.isTextPosition(r)&&n===e.parentNode&&o>v.before(e).offset()?v(t.container(),t.offset()-1):t;var r,n,o},Ih=e=>{return aa(e.previousSibling)?R.some((t=e.previousSibling,ee(t)?v(t,t.data.length):v.after(t))):e.previousSibling?Wm(e.previousSibling):R.none();var t},Fh=e=>{return aa(e.nextSibling)?R.some((t=e.nextSibling,ee(t)?v(t,0):v.before(t))):e.nextSibling?$m(e.nextSibling):R.none();var t},Uh=(r,n)=>Ih(n).orThunk(()=>Fh(n)).orThunk(()=>{return t=r,e=n,R.from(e.previousSibling||e.parentNode).bind(e=>Vm(t,v.before(e))).orThunk(()=>qm(t,v.after(e)));var t,e}),zh=(r,n)=>Fh(n).orThunk(()=>Ih(n)).orThunk(()=>{return e=r,t=n,qm(e,v.after(t)).orThunk(()=>Vm(e,v.before(t)));var e,t}),jh=(e,t,r)=>{return t=t,n=r,(e?zh:Uh)(t,n).map(w(Mh,r));var n},Hh=(t,r,e)=>{e.fold(()=>{t.focus()},e=>{t.selection.setRng(e.toRange(),r)})},qh=(e,t)=>t&&Y(e.schema.getBlockElements(),X(t)),Vh=e=>{var t;return Ca(e)?(t=Q.fromHtml('<br data-mce-bogus="1">'),En(e),wn(e,t),R.some(v.before(t.dom))):R.none()},$h=(e,t,o)=>{const r=Pr(e).filter(er),n=Lr(e).filter(er);return J(e),e=r,a=n,i=t,s=(e,t,r)=>{var e=e.dom,t=t.dom,n=e.data.length;return Lh(e,t,o),r.container()===t?v(e,n):r},(e.isSome()&&a.isSome()&&i.isSome()?R.some(s(e.getOrDie(),a.getOrDie(),i.getOrDie())):R.none()).orThunk(()=>(o&&(r.each(e=>Ph(e.dom,e.dom.length)),n.each(e=>Bh(e.dom,0))),t));var a,i,s},Wh=(t,r,e,n=!0)=>{var o,a=jh(r,t.getBody(),e.dom),i=Qr(e,w(qh,t),(o=t.getBody(),e=>e.dom===o));const s=$h(e,a,(a=t,e=e,Y(a.schema.getTextInlineElements(),X(e))));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):i.bind(Vh).fold(()=>{n&&Hh(t,r,s)},e=>{n&&Hh(t,r,R.some(e))})},Kh=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Gh=(e,t)=>_r(Q.fromDom(t),wd(e))&&!Ta(e.schema,t)&&e.dom.isEditable(t),Yh=e=>{return"rtl"===te.DOM.getStyle(e,"direction",!0)||(e=null!=(e=e.textContent)?e:"",Kh.test(e))},Xh=(e,t,r)=>{e=e,t=t,r=r;r=D(te.DOM.getParents(r.container(),"*",t),e);return R.from(r[r.length-1])},Qh=(e,t)=>{var r=t.container(),n=t.offset();return e?jo(r)?ee(r.nextSibling)?v(r.nextSibling,0):v.after(r):Vo(t)?v(r,n+1):t:jo(r)?ee(r.previousSibling)?v(r.previousSibling,r.previousSibling.data.length):v.before(r):$o(t)?v(r,n-1):t},Jh=w(Qh,!0),Zh=w(Qh,!1),ev=(e,t)=>{var r=e=>e.stopImmediatePropagation();e.on("beforeinput input",r,!0),e.getDoc().execCommand(t),e.off("beforeinput input",r)},tv=e=>ev(e,"Delete"),rv=e=>ko(e)||Eo(e),nv=(e,t)=>{return Nr(e,t)?Jr(t,rv,(r=e,e=>jt(Or(e),r,T))):R.none();var r},ov=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},av=(o,a,i)=>qt($m(i),Wm(i),(e,t)=>{const r=Qh(!0,e),n=Qh(!1,t);e=Qh(!1,a);return o?qm(i,e).exists(e=>e.isEqual(n)&&a.isEqual(r)):Vm(i,e).exists(e=>e.isEqual(r)&&a.isEqual(n))}).getOr(!0),iv=e=>{var t;return t=e,(8===Qt(t)||"#comment"===X(t)?Pr:jr)(e).bind(iv).orThunk(()=>R.some(e))},sv=(e,t,r,n=!0)=>{t.deleteContents();var o,t=iv(r).getOr(r);const a=Q.fromDom(null!=(t=e.dom.getParent(t.dom,e.dom.isBlock))?t:r.dom);a.dom===e.getBody()?ov(e,n):Ca(a)&&(Bo(a),n)&&e.selection.setCursorLocation(a.dom,0),T(r,a)||(t=jt(Or(a),r)?[]:(o=a,Or(o).map(Fr).map(e=>D(e,e=>!T(o,e))).getOr([])),K(t.concat(Fr(r)),e=>{T(e,a)||Nr(e,a)||!Ca(e)||J(e)}))},lv=e=>Wn(e,"td,th"),dv=(e,t)=>({start:e,end:t}),cv=Sl([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),mv=(e,t)=>rn(Q.fromDom(e),"td,th",t),uv=e=>!T(e.start,e.end),fv=(e,r)=>_u(e.start,r).bind(t=>_u(e.end,r).bind(e=>Vt(T(t,e),t))),gv=e=>t=>fv(t,e).map(e=>({rng:t,table:e,cells:lv(e)})),pv=(e,t,r,n)=>{var o,a;return r.collapsed||!e.forall(uv)?R.none():t.isSameTable?(t=e.bind(gv(n)),R.some({start:t,end:t})):(e=mv(r.startContainer,n),t=mv(r.endContainer,n),r=e.bind((a=n,t=>_u(t,a).bind(e=>Ae(lv(e)).map(e=>dv(t,e))))).bind(gv(n)),e=t.bind((o=n,t=>_u(t,o).bind(e=>Re(lv(e)).map(e=>dv(e,t))))).bind(gv(n)),R.some({start:r,end:e}))},hv=(e,t)=>Ce(e,e=>T(e,t)),vv=r=>qt(hv(r.cells,r.rng.start),hv(r.cells,r.rng.end),(e,t)=>r.cells.slice(e,t+1)),bv=(e,n,o)=>e.exists(e=>{return t=e,r=o,!uv(t)&&fv(t,r).exists(e=>{e=e.dom.rows;return 1===e.length&&1===e[0].cells.length})&&Nu(e.start,n);var t,r}),yv=(e,t)=>{var{startTable:t,endTable:r}=t;const n=e.cloneRange();return t.each(e=>n.setStartAfter(e.dom)),r.each(e=>n.setEndBefore(e.dom)),n},Cv=(e,t)=>{r=e;var r,n,o,a,i,s,l,d,c,m,e=e=>T(r,e),u=(o=t,u=e,l=mv(o.startContainer,u),o=mv(o.endContainer,u),qt(l,o,dv)),f=(n=e,f=(l=e=>_u(Q.fromDom(e),n))((o=t).startContainer),l=l(o.endContainer),o=f.isSome(),s=l.isSome(),m=qt(f,l,T).getOr(!1),{startTable:f,endTable:l,isStartInTable:o,isEndInTable:s,isSameTable:m,isMultiTable:!m&&o&&s});return bv(u,t,e)?u.map(e=>cv.singleCellTable(t,e.start)):f.isMultiTable?(l=u,d=f,c=t,m=e,pv(l,d,c,m).bind(({start:e,end:t})=>{var r,e=e.bind(vv).getOr([]),t=t.bind(vv).getOr([]);return 0<e.length&&0<t.length?(r=yv(c,d),R.some(cv.multiTable(e,t,r))):R.none()})):(o=u,a=f,i=t,s=e,pv(o,a,i,s).bind(({start:e,end:t})=>e.or(t)).bind(e=>{var t=a["isSameTable"],r=vv(e).getOr([]);return t&&e.cells.length===r.length?R.some(cv.fullTable(e.table)):0<r.length?t?R.some(cv.partialTable(r,R.none())):(e=yv(i,a),R.some(cv.partialTable(r,R.some({...a,rng:e})))):R.none()}))},wv=e=>K(e,e=>{cr(e,"contenteditable"),Bo(e)}),xv=(e,t,r,n)=>{var o=r.cloneRange();n?(o.setStart(r.startContainer,r.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(r.endContainer,r.endOffset)),Sv(e,o,t,!1).each(e=>e())},kv=e=>{var t=ku(e);const r=Q.fromDom(e.selection.getNode());so(r.dom)&&Ca(r)?e.selection.setCursorLocation(r.dom,0):e.selection.collapse(!0),1<t.length&&W(t,e=>T(e,r))&&ar(r,"data-mce-selected","1")},_v=(s,l,t)=>R.some(()=>{const i=s.selection.getRng();var e=t.bind(({rng:e,isStartInTable:t})=>{a=s,o=t?e.endContainer:e.startContainer;var r,n,o=R.from(a.dom.getParent(o,a.dom.isBlock)).map(Q.fromDom),a=(e.deleteContents(),r=s,n=t,o.filter(Ca).each(e=>{n?J(e):(Bo(e),r.selection.setCursorLocation(e.dom,0))}),t?l[0]:l[l.length-1]);return xv(s,a,i,t),Ca(a)?R.none():R.some(t?l.slice(1):l.slice(0,-1))}).getOr(l);wv(e),kv(s)}),Ev=(n,o,a,i)=>R.some(()=>{var e=n.selection.getRng(),t=o[0],r=a[a.length-1],e=(xv(n,t,e,!0),xv(n,r,e,!1),Ca(t)?o:o.slice(1)),t=Ca(r)?a:a.slice(0,-1);wv(e.concat(t)),i.deleteContents(),kv(n)}),Sv=(e,t,r,n=!0)=>R.some(()=>{sv(e,t,r,n)}),Nv=(e,t)=>R.some(()=>Wh(e,!1,t)),Dv=(n,o,a,e)=>Av(o,e).fold(()=>{return t=n,e=o,r=a,Cv(e,r).bind(e=>e.fold(w(Sv,t),w(Nv,t),w(_v,t),w(Ev,t)));var t,e,r},e=>{return t=n,e=e,Ov(t,e);var t}),Rv=(e,t)=>ye(rh(t,e),No),Av=(e,t)=>ye(rh(t,e),nr("caption")),Ov=(e,t)=>R.some(()=>{Bo(t),e.selection.setCursorLocation(t.dom,0)}),Tv=(l,d,c,m,u)=>zm(c,l.getBody(),u).fold(()=>R.some(V),e=>{return o=m,a=c,i=u,s=e,$m(o.dom).bind(t=>Wm(o.dom).map(e=>a?i.isEqual(t)&&s.isEqual(e):i.isEqual(e)&&s.isEqual(t))).getOr(!0)?(r=l,n=m,Ov(r,n)):(r=d,t=m,n=e,Av(r,Q.fromDom(n.getNode())).fold(()=>R.some(V),e=>Vt(!T(e,t),V)));var t,r,n,o,a,i,s}),Bv=(a,i,s,e)=>{const l=v.fromRangeStart(a.selection.getRng());return Rv(s,e).bind(e=>{return Ca(e)?Ov(a,e):(t=a,r=s,n=i,o=e,e=l,zm(n,t.getBody(),e).bind(e=>Rv(r,Q.fromDom(e.getNode())).bind(e=>T(e,o)?R.none():R.some(V))));var t,r,n,o})},Pv=(e,t)=>(e?Qp:Jp)(t),Lv=(a,i,e)=>{const s=Q.fromDom(a.getBody());return Av(s,e).fold(()=>Bv(a,i,s,e).orThunk(()=>{return Vt((e=a,t=i,r=v.fromRangeStart(e.selection.getRng()),Pv(t,r)||Um(t,e.getBody(),r).exists(e=>Pv(t,e))),V);var e,t,r}),e=>{return t=a,r=i,n=s,e=e,o=v.fromRangeStart(t.selection.getRng()),Ca(e)?Ov(t,e):Tv(t,n,r,e,o);var t,r,n,o})},Mv=(e,t)=>{var r,n=Q.fromDom(e.selection.getStart(!0)),o=ku(e);return e.selection.isCollapsed()&&0===o.length?Lv(e,t,n):(t=e,e=n,n=o,o=Q.fromDom(t.getBody()),r=t.selection.getRng(),0!==n.length?_v(t,n,R.none()):Dv(t,o,r,e))},Iv=(e,t)=>{let r=t;for(;r&&r!==e;){if(io(r)||b(r))return r;r=r.parentNode}return null},Fv=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],Uv=O.each,zv=e=>{const o=e.dom,r=new Set(e.serializer.getTempAttrs());const a=t=>W(Fv,e=>lt(t,e))||r.has(t);return{compare:(e,t)=>{if(e.nodeName!==t.nodeName||e.nodeType!==t.nodeType)return!1;var r=t=>{const r={};return Uv(o.getAttribs(t),e=>{e=e.nodeName.toLowerCase();"style"===e||a(e)||(r[e]=o.getAttrib(t,e))}),r},n=(e,t)=>{for(const n in e)if(Y(e,n)){var r=t[n];if(N(r))return!1;if(e[n]!==r)return!1;delete t[n]}for(const o in t)if(Y(t,o))return!1;return!0};if(Z(e)&&Z(t)){if(!n(r(e),r(t)))return!1;if(!n(o.parseStyle(o.getAttrib(e,"style")),o.parseStyle(o.getAttrib(t,"style"))))return!1}return!su(e)&&!su(t)},isAttributeInternal:a}},jv=(r,n,o,a)=>{var i=o.name;for(let e=0,t=r.length;e<t;e++){var s,l=r[e];l.name===i&&((s=a.nodes[i])?s.nodes.push(o):a.nodes[i]={filter:l,nodes:[o]})}if(o.attributes)for(let e=0,t=n.length;e<t;e++){var d,c=n[e],m=c.name;m in o.attributes.map&&((d=a.attributes[m])?d.nodes.push(o):a.attributes[m]={filter:c,nodes:[o]})}},Hv=(e,a)=>{var t=(e,o)=>{G(e,r=>{const n=Oe(r.nodes);K(r.filter.callbacks,e=>{for(let e=n.length-1;0<=e;e--){var t=n[e];(o?void 0!==t.attr(r.filter.name):t.name===r.filter.name)&&!ne(t.parent)||n.splice(e,1)}0<n.length&&e(n,r.filter.name,a)})})};t(e.nodes,!1),t(e.attributes,!0)},qv=(e,t,r,n={})=>{e=((t,r,n)=>{const o={nodes:{},attributes:{}};if(n.firstChild){var a=e=>{jv(t,r,e,o)};let e=n;for(;e=e.walk();)a(e)}return o})(e,t,r);Hv(e,n)},Vv=(e,t,r,n)=>{(e.pad_empty_with_br||t.insert)&&r(n)?(e=new Ep("br",1),t.insert&&e.attr("data-mce-bogus","1"),n.empty().append(e)):n.empty().append(new Ep("#text",3)).value=po},$v=e=>{return Wv(e,"#text")&&(null==(e=null==e?void 0:e.firstChild)?void 0:e.value)===po},Wv=(e,t)=>{var r=null==e?void 0:e.firstChild;return H(r)&&r===e.lastChild&&r.name===t},Kv=(r,e,t,n)=>n.isEmpty(e,t,e=>{var t=r;return!0===(null==(t=t.getElementRule(e.name))?void 0:t.paddEmpty)}),Gv=(e,t)=>H(e)&&(t(e)||"br"===e.name),Yv=t=>{let r;for(let e=t;e;e=e.parent){var n=e.attr("contenteditable");if("false"===n)break;"true"===n&&(r=e)}return R.from(r)},Xv=(e,t,r=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{for(const n of e.children())r&&!t.isValidChild(r.name,n.name)&&Xv(n,t,r);e.unwrap()}},Qv=(n,o,a,i=V)=>{var s=o.getTextBlockElements(),l=o.getNonEmptyElements(),d=o.getWhitespaceElements();const c=O.makeMap("tr,td,th,tbody,thead,tfoot,table,summary");var m,u=new Set;for(let e=0;e<n.length;e++){var f=n[e];let t,r;if(f.parent&&!u.has(f))if(s[f.name]&&"li"===f.parent.name){let e=f.next;for(;e&&s[e.name];)e.name="li",u.add(e),f.parent.insert(e,f.parent),e=e.next;f.unwrap()}else{var g,p=[f];for(t=f.parent;t&&!o.isValidChild(t.name,f.name)&&(m=t)!==a&&!c[m.name];t=t.parent)p.push(t);if(t&&1<p.length)if(o.isValidChild(t.name,f.name)){p.reverse(),i(v=p[0].clone());let e=v;for(let t=0;t<p.length-1;t++){o.isValidChild(e.name,p[t].name)&&0<t?(i(r=p[t].clone()),e.append(r)):r=e;for(let e=p[t].firstChild;e&&e!==p[t+1];){var h=e.next;r.append(e),e=h}e=r}Kv(o,l,d,v)?t.insert(f,p[0],!0):(t.insert(v,p[0],!0),t.insert(f,v)),t=p[0],(Kv(o,l,d,t)||Wv(t,"br"))&&t.empty().remove()}else Xv(f,o);else if(f.parent)if("li"===f.name){let e=f.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(f);continue}if((e=f.next)&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(f,e.firstChild,!0);continue}var v=new Ep("ul",1);i(v),f.wrap(v)}else o.isValidChild(f.parent.name,"div")&&o.isValidChild("div",f.name)?(i(g=new Ep("div",1)),f.wrap(g)):Xv(f,o)}}},Jv=(e,t)=>{let r=e;for(;r;){if(r.name===t)return!0;r=r.parent}return!1},Zv=(e,t,r=t.parent)=>!(!r||!e.children[t.name]||e.isValidChild(r.name,t.name))||!(!r||"a"!==t.name||!Jv(r,"a")),eb=a=>{const i=v.fromRangeStart(a),s=v.fromRangeEnd(a),l=a.commonAncestorContainer;return Um(!1,l,s).map(e=>{return!cm(i,s,l)&&cm(i,e,l)?(t=i.container(),r=i.offset(),n=e.container(),e=e.offset(),(o=document.createRange()).setStart(t,r),o.setEnd(n,e),o):a;var t,r,n,o}).getOr(a)},tb=e=>e.collapsed?e:eb(e),rb=(e,t)=>{return e.getBlockElements()[t.name]&&(e=t,H(e.firstChild))&&e.firstChild===e.lastChild&&("br"===(e=t.firstChild).name||e.value===po)},nb=(e,t)=>{let r=t.firstChild,n=t.lastChild;var o;return r&&"meta"===r.name&&(r=r.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),t=e,e=n,o=t.getNonEmptyElements(),H(e)&&(e.isEmpty(o)||rb(t,e))&&(n=null===n||void 0===n?void 0:n.prev),!(!r||r!==n||"ul"!==r.name&&"ol"!==r.name)},ob=e=>{return H(null==e?void 0:e.firstChild)&&e.firstChild===e.lastChild&&((e=e.firstChild).data===po||B(e))},ab=e=>{return 0<e.length&&(!(t=e[e.length-1]).firstChild||ob(t))?e.slice(0,-1):e;var t},ib=(e,t)=>{t=e.getParent(t,e.isBlock);return t&&"LI"===t.nodeName?t:null},sb=(e,t)=>{e=v.after(e),t=Pm(t).prev(e);return t?t.toRange():null},lb=(t,e,r)=>{const n=t.parentNode;n&&O.each(e,e=>{n.insertBefore(e,t)});e=t;return e=v.before(e),(r=Pm(r).next(e))?r.toRange():null},db=(e,n,o,t)=>{i=n,t=t,e=(e=e).serialize(t),t=i.createFragment(e),e=(i=t).firstChild,t=i.lastChild,e&&"META"===e.nodeName&&null!=(r=e.parentNode)&&r.removeChild(e),t&&"mce_marker"===t.id&&null!=(r=t.parentNode)&&r.removeChild(t);e=i;const a=ib(n,o.startContainer);var r,t=ab((r=e.firstChild,D(null!=(r=null==r?void 0:r.childNodes)?r:[],e=>"LI"===e.nodeName)));var i=n.getRoot(),e=e=>{var t=v.fromRangeStart(o),r=Pm(n.getRoot()),e=1===e?r.prev(t):r.next(t),r=null==e?void 0:e.getNode();return!r||ib(n,r)!==a};if(a){if(e(1))return lb(a,t,i);if(e(2))return e=a,l=t,d=i,n.insertAfter(l.reverse(),e),sb(l[0],d);{var s=a;e=t;var l=i;var d=o;t=s,i=(d=d).cloneRange(),d=d.cloneRange(),i.setStartBefore(t),d.setEndAfter(t);t=[i.cloneContents(),d.cloneContents()];const c=s.parentNode;return c&&(c.insertBefore(t[0],s),O.each(e,e=>{c.insertBefore(e,s)}),c.insertBefore(t[1],s),c.removeChild(s)),sb(e[e.length-1],l)}}return null},cb=["pre"],mb=so,ub=(t,r)=>{let n;var o=t.dom,a=t.selection;if(r){a.scrollIntoView(r);var i=Iv(t.getBody(),r);if(i&&"false"===o.getContentEditable(i))o.remove(r),a.select(i);else{let e=o.createRng();var s,i=r.previousSibling,i=(ee(i)?(e.setStart(i,null!=(s=null==(s=i.nodeValue)?void 0:s.length)?s:0),s=r.nextSibling,ee(s)&&(i.appendData(s.data),null!=(i=s.parentNode))&&i.removeChild(s)):(e.setStartBefore(r),e.setEndBefore(r)),o.getParent(r,o.isBlock));o.remove(r),i&&o.isEmpty(i)&&(s=mb(i),En(Q.fromDom(i)),e.setStart(i,0),e.setEnd(i,0),s||i.getAttribute("data-mce-fragment")||!(n=(e=>{e=v.fromRangeStart(e);return null==(e=Pm(t.getBody()).next(e))?void 0:e.toRange()})(e))?o.add(i,o.create("br",s?{}:{"data-mce-bogus":"1"})):(e=n,o.remove(i))),a.setRng(e)}}},fb=e=>{var t,r,n=e.dom,o=tb(e.selection.getRng()),a=(e.selection.setRng(o),n.getParent(o.startContainer,mb));n=n,t=o,r=a,!!H(r)&&r===n.getParent(t.endContainer,mb)&&Nu(Q.fromDom(r),t)?Sv(e,o,Q.fromDom(a)):o.startContainer===o.endContainer&&o.endOffset-o.startOffset==1&&ee(o.startContainer.childNodes[o.startOffset])?o.deleteContents():e.getDoc().execCommand("Delete",!1)},gb=(r,n,o)=>{var a=r.selection,i=r.dom,s=r.parser,t=o.merge,l=Fp({validate:!0},r.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===n.indexOf("{$caret}")&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,d);let e=a.getRng();var c,m,u=e.startContainer,f=r.getBody(),u=(u===f&&a.isCollapsed()&&i.isBlock(f.firstChild)&&(u=r,g=f.firstChild,H(g))&&!u.schema.getVoidElements()[g.nodeName]&&i.isEmpty(f.firstChild)&&((e=i.createRng()).setStart(f.firstChild,0),e.setEnd(f.firstChild,0),a.setRng(e)),a.isCollapsed()||fb(r),a.getNode()),g={context:u.nodeName.toLowerCase(),data:o.data,insert:!0};const p=s.parse(n,g);if(!0===o.paste&&nb(r.schema,p)&&(f=i,c=u,!!ib(f,c)))(e=db(l,i,a.getRng(),p))&&a.setRng(e);else{!0===o.paste&&(f=i,c=p,o=u,h=r.getBody(),C=c.firstChild,c=c.lastChild,c=C===("bookmark"===c.attr("data-mce-type")?c.prev:c),y=A(cb,C.name),!(!c||!y))&&(c="false"!==C.attr("contenteditable"),f=(null==(y=f.getParent(o,f.isBlock))?void 0:y.nodeName.toLowerCase())===C.name,y=R.from(Iv(h,o)).forall(io),c)&&f&&y&&null!=(C=p.firstChild)&&C.unwrap();{var h=p;let e=h;for(;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}let e=p.lastChild;if(e&&"mce_marker"===e.attr("id")){var v=e;for(e=e.prev;e;e=e.walk(!0))if(3===e.type||!i.isBlock(e.name)){e.parent&&r.schema.isValidChild(e.parent.name,"span")&&e.parent.insert(v,e,"br"===e.name);break}}if(r._selectionOverrides.showBlockCaretContainer(u),g.invalid){r.selection.setContent(d);let e=a.getNode(),t;var b=r.getBody();for(no(e)?e=t=b:t=e;t&&t!==b;)t=(e=t).parentNode;n=e===b?b.innerHTML:i.getOuterHTML(e);var o=s.parse(n),f=(t=>{for(let e=t;e;e=e.walk())if("mce_marker"===e.attr("id"))return R.some(e);return R.none()})(o),y=f.bind(Yv).getOr(o),C=(f.each(e=>e.replace(p)),p.children());const k=null!=(d=p.parent)?d:o;p.unwrap();f=D(C,e=>Zv(r.schema,e,k));Qv(f,r.schema,y),qv(s.getNodeFilters(),s.getAttributeFilters(),o),n=l.serialize(o),e===b?i.setHTML(b,n):i.setOuterHTML(e,n)}else n=l.serialize(p),d=r,f=n,"all"===(s=u).getAttribute("data-mce-bogus")?null!=(m=s.parentNode)&&m.insertBefore(d.dom.createFragment(f),s):(m=s.firstChild,o=s.lastChild,!m||m===o&&"BR"===m.nodeName?d.dom.setHTML(s,f):d.selection.setContent(f,{no_events:!0}));{l=r;u=t;const _=l.schema.getTextInlineElements(),E=l.dom;if(u){const S=l.getBody(),N=zv(l);O.each(E.select("*[data-mce-fragment]"),t=>{if(H(_[t.nodeName.toLowerCase()])&&Hp(E,t))for(let e=t.parentElement;H(e)&&e!==S;e=e.parentElement){if(qp(E,t,e))break;if(N.compare(e,t)){E.remove(t,!0);break}}})}}ub(r,i.get("mce_marker")),o=r.getBody(),O.each(o.getElementsByTagName("*"),e=>{e.removeAttribute("data-mce-fragment")}),m=i,s=a.getStart(),R.from(m.getParent(s,"td,th")).map(Q.fromDom).each(Po);var w=r.schema,x=r.getBody(),d=a.getStart();d=Br(Q.fromDom(d),e=>T(e,Q.fromDom(x))),De(d,d.length-2).filter(Zt).fold(()=>Da(w,x),e=>Da(w,e.dom))}return n},pb=e=>e instanceof Ep,hb=(e,t,r)=>{var n;e.dom.setHTML(e.getBody(),t),!0!==r&&(n=e,ip(n))&&$m(n.getBody()).each(e=>{var t=e.getNode(),t=Jn(t)?$m(t).getOr(e):e;n.selection.setRng(t.toRange())})},vb=(s,l,d)=>R.from(s.getBody()).map(e=>{return pb(l)?(r=s,n=e,o=l,a=d,qv(r.parser.getNodeFilters(),r.parser.getAttributeFilters(),o),i=Fp({validate:!1},r.schema).serialize(o),n=Do(Q.fromDom(n))?i:O.trim(i),hb(r,n,a.no_selection),{content:o,html:n}):(i=s,r=e,a=d,0===(o=l).length||/^\s+$/.test(o)?(n='<br data-mce-bogus="1">',"TABLE"===r.nodeName?o="<tr><td>"+n+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(o="<li>"+n+"</li>"),t=Yl(i),o=i.schema.isValidChild(r.nodeName.toLowerCase(),t.toLowerCase())?(o=n,i.dom.createHTML(t,Xl(i),o)):o||n,hb(i,o,a.no_selection),{content:o,html:o}):("raw"!==a.format&&(o=Fp({validate:!1},i.schema).serialize(i.parser.parse(o,{isRootContent:!0,insert:!0}))),t=Do(Q.fromDom(r))?o:O.trim(o),hb(i,t,a.no_selection),{content:t,html:t}));var t,r,n,o,a,i}).getOr({content:l,html:pb(d.content)?"":d.content}),bb=e=>q(e)?e:u,yb=(s,l,e)=>{var t=l(s);const d=bb(e);return t.orThunk(()=>{if(d(s))return R.none();{var t=s,r=l,n=d;let e=t.dom;for(var o=bb(n);e.parentNode;){e=e.parentNode;var a=Q.fromDom(e),i=r(a);if(i.isSome())return i;if(o(a))break}return R.none()}})},Cb=qu,wb=(t,r,e)=>{var n=t.formatter.get(e);if(n)for(let e=0;e<n.length;e++){var o=n[e];if(Qu(o)&&!1===o.inherit&&t.dom.is(r,o.selector))return!0}return!1},xb=(t,e,r,n,o)=>{const a=t.dom.getRoot();return e!==a&&(e=t.dom.getParent(e,e=>!!wb(t,e,r)||e.parentNode===a||!!Eb(t,e,r,n,!0)),!!Eb(t,e,r,n,o))},kb=(e,t,r)=>!(!Ju(r)||!Cb(t,r.inline))||!(!Xu(r)||!Cb(t,r.block))||!!Qu(r)&&Z(t)&&e.is(t,r.selector),_b=(t,r,e,n,o,a)=>{var i=e[n],s="attributes"===n;if(q(e.onmatch))return e.onmatch(r,e,n);if(i)if($e(i)){for(let e=0;e<i.length;e++)if(s?t.getAttrib(r,i[e]):$u(t,r,i[e]))return!0}else for(const m in i)if(Y(i,m)){var l=s?t.getAttrib(r,m):$u(t,r,m),d=Hu(i[m],a),c=ne(l)||gt(l);if(!c||!ne(d)){if(o&&c&&!e.exact)return!1;if((!o||e.exact)&&!Cb(l,Vu(d,m)))return!1}}return!0},Eb=(t,r,e,n,o)=>{var a=t.formatter.get(e),i=t.dom;if(a&&Z(r))for(let e=0;e<a.length;e++){var s=a[e];if(kb(t.dom,r,s)&&_b(i,r,s,"attributes",o,n)&&_b(i,r,s,"styles",o,n)){var l=s.classes;if(l)for(let e=0;e<l.length;e++)if(!t.dom.hasClass(r,Hu(l[e],n)))return;return s}}},Sb=(e,t,r,n,o)=>{var a;return n?xb(e,n,t,r,o):(n=e.selection.getNode(),!!xb(e,n,t,r,o)||!((a=e.selection.getStart())===n||!xb(e,a,t,r,o)))},Nb=(n,t)=>{const r=e=>T(e,Q.fromDom(n.getBody()));return R.from(n.selection.getStart(!0)).bind(e=>yb(Q.fromDom(e),r=>Te(t,e=>{return t=r,e=e,Eb(n,t.dom,e)?R.some(e):R.none();var t}),r)).getOrNull()},Db=(o,a,e)=>ve(e,(e,t)=>{n=o,r=t;var r,n=Gu(n,r,t=>{const r=e=>q(e)||1<e.length&&"%"===e.charAt(0);return W(["styles","attributes"],e=>g(t,e).exists(e=>{e=re(e)?e:He(e);return W(e,r)}))});return o.formatter.matchNode(a,t,{},n)?e.concat([t]):e},[]),Rb=Lo,Ab=e=>0<(e=>{var t=[];let r=e;for(;r;){if(ee(r)&&r.data!==Rb||1<r.childNodes.length)return[];Z(r)&&t.push(r),r=r.firstChild}return t})(e).length,Ob=e=>{if(e){var t=new Gn(e,e);for(let e=t.current();e;e=t.next())if(ee(e))return e}return null},Tb=e=>{var t=Q.fromTag("span");return ir(t,{id:Km,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&wn(t,Q.fromText(Rb)),t},Bb=(e,t,r=!0)=>{var n,o,a,i,s,l=e.dom,d=e.selection;Ab(t)?Wh(e,!1,Q.fromDom(t),r):(e=d.getRng(),r=l.getParent(t,l.isBlock),n=e.startContainer,o=e.startOffset,a=e.endContainer,i=e.endOffset,s=(e=>{e=Ob(e);return e&&e.data.charAt(0)===Rb&&e.deleteData(0,1),e})(t),l.remove(t,!0),n===s&&0<o&&e.setStart(s,o-1),a===s&&0<i&&e.setEnd(s,i-1),r&&l.isEmpty(r)&&Bo(Q.fromDom(r)),d.setRng(e))},Pb=(e,t,r=!0)=>{var n=e.dom,o=e.selection;if(t)Bb(e,t,r);else if(!(t=Ym(e.getBody(),o.getStart())))for(;t=n.get(Km);)Bb(e,t,r)},Lb=(e,t)=>(e.appendChild(t),t),Mb=(e,t)=>{e=he(e,(e,t)=>Lb(e,t.cloneNode(!1)),t),t=null!=(t=e.ownerDocument)?t:document;return Lb(e,t.createTextNode(Rb))},Ib=(r,n,o,a)=>{var i=r.dom,s=r.selection;let l=!1;var d=r.formatter.get(n);if(d){var c=s.getRng(),m=c.startContainer,u=c.startOffset;let e=m;ee(m)&&(u!==m.data.length&&(l=!0),e=e.parentNode);var f,g,p,h,v,b,y,C=[];let t;for(;e;){if(Eb(r,e,n,o,a)){t=e;break}e.nextSibling&&(l=!0),C.push(e),e=e.parentNode}t&&(l?(u=s.getBookmark(),c.collapse(!0),m=pf(i,c,d,!0),m=mg(m),r.formatter.remove(n,o,m,a),s.moveToBookmark(u)):(c=Ym(r.getBody(),t),d=Tb(!1).dom,m=r,u=d,b=null!=c?c:t,y=m.dom,(m=y.getParent(b,w(Fu,m.schema)))&&y.isEmpty(m)?null!=(m=b.parentNode)&&m.replaceChild(u,b):(Oo(Q.fromDom(b)),y.isEmpty(b)?null!=(m=b.parentNode)&&m.replaceChild(u,b):y.insertAfter(u,b)),f=r,m=d,y=t,g=n,u=o,b=a,p=f.formatter,h=f.dom,v=D(Be(p.get()),e=>e!==g&&!st(e,"removeformat")),v=Db(f,y,v),y=0<D(v,e=>!Yu(f,e,g)).length?(v=y.cloneNode(!1),h.add(m,v),p.remove(g,u,v,b),h.remove(v),R.some(v)):R.none(),m=Mb(C.concat(y.toArray()),d),c&&Bb(r,c,!1),s.setCursorLocation(m,1),i.isEmpty(t)&&i.remove(t)))}},Fb=(e,t,r)=>{var n=e.selection,o=e.getBody();Pb(e,null,r),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Rb||Pb(e,Ym(o,n.getStart())),37!==t&&39!==t||Pb(e,Ym(o,n.getStart()))},Ub=e=>ee(e)&&dt(e.data,po),zb=e=>{var t=Tb(!1),e=Mb(e,t.dom);return{caretContainer:t,caretPosition:v(e,0)}},jb=(e,t)=>{var{caretContainer:t,caretPosition:r}=zb(t);return bn(Q.fromDom(e),t),J(Q.fromDom(e)),r},Hb=(e,t)=>{e=e.schema.getTextInlineElements();return Y(e,X(t))&&!Gm(t.dom)&&!Qn(t.dom)},qb=e=>Gm(e.dom)&&Ab(e.dom),Vb={},$b=Xn(["pre"]);n="pre",r=e=>{var t,r=e.selection.getRng();r.collapsed||(r=e.selection.getSelectedBlocks(),e=D(D(r,$b),(t=r,e=>{e=e.previousSibling;return $b(e)&&A(t,e)})),K(e,e=>{var t,r;t=e.previousSibling,e=e,e=Q.fromDom(e),r=Rr(e).dom,J(e),_n(Q.fromDom(t),[Q.fromTag("br",r),Q.fromTag("br",r),...Fr(e)])}))},Vb[n]||(Vb[n]=[]),Vb[n].push(r);const Wb=["fontWeight","fontStyle","color","fontSize","fontFamily"],Kb=e=>ye(e,e=>{return Ju(e)&&"span"===e.inline&&(e=e,k(e.styles))&&W(Be(e.styles),e=>A(Wb,e))}),Gb=(e,t)=>{e=e.get(t);return re(e)?Kb(e):R.none()},Yb=(e,t)=>Vm(t,v.fromRangeStart(e)).isNone(),Xb=(e,t)=>!1===qm(t,v.fromRangeEnd(e)).exists(e=>!B(e.getNode())||qm(t,e).isSome()),Qb=t=>e=>mo(e)&&t.isEditable(e),Jb=e=>D((e=>{var t,r=e.getSelectedBlocks();const n=e.getRng();return e.isCollapsed()?[]:1===r.length?Yb(n,r[0])&&Xb(n,r[0])?r:[]:(e=Re(r).filter(e=>Yb(n,e)).toArray(),t=Ae(r).filter(e=>Xb(n,e)).toArray(),r=r.slice(1,-1),e.concat(r).concat(t))})(e),Qb(e.dom)),Zb=e=>D(e.getSelectedBlocks(),Qb(e.dom)),e0=O.each,t0=e=>Z(e)&&!su(e)&&!Gm(e)&&!Qn(e),r0=(t,r)=>{for(let e=t;e;e=e[r]){if(ee(e)&&ft(e.data))return t;if(Z(e)&&!su(e))return e}return t},n0=(e,t,r)=>{var n=zv(e),o=Z(t)&&Lu(t),a=Z(r)&&Lu(r);if(o&&a){const l=r0(t,"previousSibling");var i=r0(r,"nextSibling");if(n.compare(l,i)){for(let e=l.nextSibling;e&&e!==i;){var s=e;e=e.nextSibling,l.appendChild(s)}return e.dom.remove(i),O.each(O.grep(i.childNodes),e=>{l.appendChild(e)}),l}}return r},o0=(e,t,r,n)=>{n&&!1!==t.merge_siblings&&(t=null!=(t=n0(e,Iu(n),n))?t:n,n0(e,t,Iu(t,!0)))},a0=(e,t,r)=>{e0(e.childNodes,e=>{t0(e)&&(t(e)&&r(e),e.hasChildNodes())&&a0(e,t,r)})},i0=(t,r)=>e=>!(!e||!$u(t,e,r)),s0=(r,n,o)=>e=>{var t;r.setStyle(e,n,o),""===e.getAttribute("style")&&e.removeAttribute("style"),t=r,"SPAN"===(e=e).nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},l0=Sl([{keep:[]},{rename:["name"]},{removed:[]}]),d0=/^(src|href|style)$/,c0=O.each,m0=qu,u0=(e,t,r)=>e.isChildOf(t,r)&&t!==r&&!e.isBlock(r),f0=(e,t,r)=>{let n=t[r?"startContainer":"endContainer"],o=t[r?"startOffset":"endOffset"];return Z(n)&&(t=n.childNodes.length-1,!r&&o&&o--,n=n.childNodes[o>t?t:o]),ee(n)&&r&&o>=n.data.length&&(n=new Gn(n,e.getBody()).next()||n),n=ee(n)&&!r&&0===o?new Gn(n,e.getBody()).prev()||n:n},g0=(e,t)=>{var t=t?"firstChild":"lastChild",r=e[t];return/^(TR|TH|TD)$/.test(e.nodeName)&&r?"TR"===e.nodeName&&r[t]||r:e},p0=(e,t,r,n)=>{e=e.create(r,n);return null!=(r=t.parentNode)&&r.insertBefore(e,t),e.appendChild(t),e},h0=(e,t,r,n,o)=>{t=Q.fromDom(t),e=Q.fromDom(e.create(n,o)),n=(r?Ir:Mr)(t);return _n(e,n),(r?(bn(t,e),Cn):(yn(t,e),wn))(e,t),e.dom},v0=(t,e,r)=>{var n=e.parentNode;let o;const a=t.dom,i=Yl(t);!Xu(r)||n!==a.getRoot()||r.list_block&&m0(e,r.list_block)||K(Oe(e.childNodes),e=>{Uu(t,i,e.nodeName.toLowerCase())?o?o.appendChild(e):(o=p0(a,e,i),a.setAttribs(o,Xl(t))):o=null}),n=r,Qu(n)&&Ju(n)&&jt(g(n,"mixed"),!0)&&!m0(r.inline,e)||a.remove(e,!0)},b0=(e,t,r)=>P(e)?{name:t,value:null}:{name:e,value:Hu(t,r)},y0=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},C0=(n,o,a,i,s)=>{let l=!1;c0(a.styles,(e,t)=>{var{name:t,value:e}=b0(t,e,i),r=Vu(e,t);(a.remove_similar||E(e)||!Z(s)||m0($u(n,s,t),r))&&n.setStyle(o,t,""),l=!0}),l&&y0(n,o)},w0=(e,t,n,r,o)=>{const a=e.dom;var i=zv(e),s=e.schema;if(Ju(t)&&Aa(s,t.inline)&&Ta(s,r)&&r.parentElement===e.getBody())return v0(e,r,t),l0.removed();if(!t.ceFalseOverride&&r&&"false"===a.getContentEditableParent(r))return l0.keep();if(r&&!kb(a,r,t)&&(s=r,!t.links||"A"!==s.nodeName))return l0.keep();const l=r,d=t.preserve_attributes;if(Ju(t)&&"all"===t.remove&&re(d)){s=D(a.getAttribs(l),e=>A(d,e.name.toLowerCase()));if(a.removeAllAttribs(l),K(s,e=>a.setAttrib(l,e.name,e.value)),0<s.length)return l0.rename("span")}if("all"!==t.remove){C0(a,l,t,n,o),c0(t.attributes,(e,r)=>{var{name:r,value:e}=b0(r,e,n);if(t.remove_similar||E(e)||!Z(o)||m0(a.getAttrib(o,r),e)){if("class"===r){e=a.getAttrib(l,r);if(e){let t="";if(K(e.split(/\s+/),e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)}),t)return void a.setAttrib(l,r,t)}}d0.test(r)&&l.removeAttribute("data-mce-"+r),"style"===r&&Xn(["li"])(l)&&"none"===a.getStyle(l,"list-style-type")?(l.removeAttribute(r),a.setStyle(l,"list-style-type","none")):("class"===r&&l.removeAttribute("className"),l.removeAttribute(r))}}),c0(t.classes,e=>{e=Hu(e,n),Z(o)&&!a.hasClass(o,e)||a.removeClass(l,e)});var c=a.getAttribs(l);for(let e=0;e<c.length;e++){var m=c[e].nodeName;if(!i.isAttributeInternal(m))return l0.keep()}}return"none"!==t.remove?(v0(e,l,t),l0.removed()):l0.keep()},x0=(r,n,e,t,o,a,i,s)=>{let l,d;var c=r.dom;if(e){var m=e.parentNode;for(let e=t.parentNode;e&&e!==m;e=e.parentNode){let t=c.clone(e,!1);for(let e=0;e<n.length&&null!==(t=((t,e,r,n)=>w0(t,e,r,n,n).fold($(n),e=>{return t.dom.createFragment().appendChild(n),t.dom.rename(n,e)},$(null)))(r,n[e],s,t));e++);t&&(l&&t.appendChild(l),d=d||t,l=t)}!a||i.mixed&&c.isBlock(e)||(t=null!=(a=c.split(e,t))?a:t),l&&d&&(null!=(e=o.parentNode)&&e.insertBefore(l,o),d.appendChild(o),Ju(i))&&o0(r,i,0,l)}return t},k0=(o,r,n,e,a)=>{const i=o.formatter.get(r),s=i[0],l=o.dom;var d,t,c,m=o.selection;const u=e=>{var t=((r,e,n,o,a)=>{let i;return e.parentNode&&K(Ku(r.dom,e.parentNode).reverse(),e=>{var t;!i&&Z(e)&&"_start"!==e.id&&"_end"!==e.id&&(t=Eb(r,e,n,o,a))&&!1!==t.split&&(i=e)}),i})(o,e,r,n,a);return x0(o,i,t,e,e,!0,s,n)},f=e=>su(e)&&Z(e)&&("_start"===e.id||"_end"===e.id),g=t=>W(i,e=>E0(o,e,n,t,t)),p=t=>{var r=Oe(t.childNodes),e=g(t)||W(i,e=>kb(l,t,e)),n=t.parentNode;if(!e&&H(n)&&Zu(s)&&g(n),s.deep&&r.length)for(let e=0;e<r.length;e++)p(r[e]);K(["underline","line-through","overline"],e=>{Z(t)&&o.dom.getStyle(t,"text-decoration")===e&&t.parentNode&&Wu(l,t.parentNode)===e&&E0(o,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:e}},void 0,t)})},h=t=>{var r=l.get(t?"_start":"_end");if(r){let e=r[t?"firstChild":"lastChild"];return f(e)&&(e=e[t?"firstChild":"lastChild"]),ee(e)&&0===e.data.length&&(e=t?r.previousSibling||r.nextSibling:r.nextSibling||r.previousSibling),l.remove(r,!0),e}return null},v=e=>{let t,r,n=pf(l,e,i,e.collapsed);if(s.split){if(n=mg(n),t=f0(o,n,!0),r=f0(o,n),t!==r){if(t=g0(t,!0),r=g0(r,!1),u0(l,t,r))return e=R.from(t.firstChild).getOr(t),u(h0(l,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0);if(u0(l,r,t))return e=R.from(r.lastChild).getOr(r),u(h0(l,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1);t=p0(l,t,"span",{id:"_start","data-mce-type":"bookmark"}),r=p0(l,r,"span",{id:"_end","data-mce-type":"bookmark"});e=l.createRng();e.setStartAfter(t),e.setEndBefore(r),hf(l,e,e=>{K(e,e=>{su(e)||su(e.parentNode)||u(e)})}),u(t),u(r),t=h(!0),r=h()}else t=r=u(t);n.startContainer=t.parentNode||t,n.startOffset=l.nodeIndex(t),n.endContainer=r.parentNode||r,n.endOffset=l.nodeIndex(r)+1}hf(l,n,e=>{K(e,p)})};e?Tu(e)?((t=l.createRng()).setStartBefore(e),t.setEndAfter(e),v(t)):v(e):(m.isCollapsed()&&Ju(s)&&!ku(o).length?Ib(o,r,n,a):(Mu(o,()=>Au(o,v),e=>Ju(s)&&Sb(o,r,n,e)),o.nodeChanged()),d=o,c=n,"removeformat"===(t=r)?K(Zb(d.selection),t=>{K(Wb,e=>d.dom.setStyle(t,e,"")),y0(d.dom,t)}):Gb(d.formatter,t).each(t=>{K(Zb(d.selection),e=>C0(d.dom,e,t,c,null))})),Df(o,r,e,n)},_0=(e,t,r,n,o)=>{(n||e.selection.isEditable())&&k0(e,t,r,n,o)},E0=(t,e,r,n,o)=>w0(t,e,r,n,o).fold(u,e=>(t.dom.rename(n,e),!0),de),S0=O.each,N0=(a,e,i,s)=>{S0(e,t=>{var n,e,r,o;Ju(t)&&S0(a.dom.select(t.inline,s),e=>{t0(e)&&E0(a,t,i,e,t.exact?e:null)}),n=a.dom,r=s,(e=t).clear_child_styles&&(o=e.links?"*:not(a)":"*",e0(n.select(o,r),r=>{t0(r)&&Lu(r)&&e0(e.styles,(e,t)=>{n.setStyle(r,t,"")})}))})},D0=O.each,R0=(e,t,r,n)=>{var o;return!!(Pd(e)&&Ju(t)&&r.parentNode)&&(t=bi(e.schema),e=Q.fromDom(r),o=e=>Gm(e.dom),e=Zr(e,o).isSome(),qe(t,n))&&Ca(Q.fromDom(r.parentNode),!1)&&!e},A0=(r,n,e,o)=>{D0(e.styles,(e,t)=>{r.setStyle(n,t,Hu(e,o))}),e.styles&&(e=r.getAttrib(n,"style"))&&r.setAttrib(n,"data-mce-style",e)},O0=(w,x,k,t)=>{const _=w.formatter.get(x),E=_[0],n=!t&&w.selection.isCollapsed(),o=w.dom;var e=w.selection;const S=(r,e=E)=>{q(e.onformat)&&e.onformat(r,e,k,t),A0(o,r,e,k),D0(e.attributes,(e,t)=>{o.setAttrib(r,t,Hu(e,k))}),D0(e.classes,e=>{e=Hu(e,k);o.hasClass(r,e)||o.addClass(r,e)})},N=(e,t)=>{let r=!1;return D0(e,e=>!(!Qu(e)||("false"!==o.getContentEditable(t)||e.ceFalseOverride)&&(!H(e.collapsed)||e.collapsed===n)&&(o.is(t,e.selector)&&!Gm(t)&&(S(t,e),r=!0)))),r},r=(g,e,f)=>{const p=[];let h=!0;const v=E.inline||E.block,b=(t=v,j(t)?(t=o.create(t),S(t),t):null);var t;const y=e=>{return t=E,Xu(t)&&!0===t.wrapper&&Eb(w,e,x,k);var t},C=(e,t,r)=>{n=E;var n=Xu(n)&&!0!==n.wrapper&&Fu(w.schema,e)&&Uu(w,t,v);return r&&n};hf(g,e,e=>{let m;const u=t=>{let e=!1,r=h,n=!1;var o,a,i,s,l=t.parentNode,d=l.nodeName.toLowerCase(),c=g.getContentEditable(t),c=(H(c)&&(r=h,h="true"===c,e=!0,n=ju(w,t)),h&&!e);if(B(t)&&!R0(w,E,t,d))m=null,Xu(E)&&g.remove(t);else if(y(t))m=null;else if(C(t,d,c))o=g.rename(t,v),S(o),p.push(o),m=null;else{if(Qu(E)){let e=N(_,t);if(!e&&H(l)&&Zu(E)&&(e=N(_,l)),!Ju(E)||e)return void(m=null)}H(b)&&(o=t,d=d,c=c,a=n,i=o.nodeName.toLowerCase(),i=Uu(w,v,i)&&Uu(w,d,v),d=!f&&ee(o)&&Mo(o.data),s=Gm(o),o=!Ju(E)||!g.isBlock(o),c||a)&&i&&!d&&!s&&o?(m||(m=g.clone(b,!1),l.insertBefore(m,t),p.push(m)),n&&e&&(h=r),m.appendChild(t)):(m=null,K(Oe(t.childNodes),u),e&&(h=r),m=null)}};K(e,u)}),!0===E.links&&K(p,e=>{const t=e=>{"A"===e.nodeName&&S(e,E),K(Oe(e.childNodes),t)};t(e)}),K(p,e=>{var r,t,n,o,a,i,s,l=(e=>{let r=0;return K(e.childNodes,e=>{var t;t=e,H(t)&&ee(t)&&0===t.length||su(e)||r++}),r})(e);if((1<p.length||!g.isBlock(e))&&0===l)g.remove(e,!0);else if(Ju(E)||Xu(E)&&E.wrapper){E.exact||1!==l||(s=e,e=ye(s.childNodes,Bu).filter(e=>"false"!==g.getContentEditable(e)&&kb(g,e,E)).map(e=>{var t=g.clone(e,!1);return S(t),g.replace(t,s,!0),g.remove(e,!0),t}).getOr(s)),N0(w,_,k,e),t=w,n=E,o=x,a=k,l=(i=e).parentNode,Eb(t,l,o,a)&&E0(t,n,a,i)||n.merge_with_parents&&l&&t.dom.getParent(l,e=>!!Eb(t,e,o,a)&&(E0(t,n,a,i),!0));var l=g,d=E,c=k,m=e;if(d.styles&&d.styles.backgroundColor){const u=i0(l,"fontSize");a0(m,e=>u(e)&&Lu(e),s0(l,"backgroundColor",Hu(d.styles.backgroundColor,c)))}r=g,m=E,l=e,d=e=>{var t;Z(e)&&Z(e.parentNode)&&Lu(e)&&(t=Wu(r,e.parentNode),r.getStyle(e,"color")&&t?r.setStyle(e,"text-decoration",t):r.getStyle(e,"text-decoration")===t&&r.setStyle(e,"text-decoration",null))},m.styles&&(m.styles.color||m.styles.textDecoration)&&(O.walk(l,d,"childNodes"),d(l));c=g,m=E,d=e;if(Ju(m)&&("sub"===m.inline||"sup"===m.inline)){const f=i0(c,"fontSize");a0(d,e=>f(e)&&Lu(e),s0(c,"fontSize",""));m=D(c.select("sup"===m.inline?"sub":"sup",d),Lu);c.remove(m,!0)}o0(w,E,0,e)}})};var a,i=Tu(t)?t:e.getNode();if("false"!==o.getContentEditable(i)||ju(w,i)){if(E){if(t)Tu(t)?N(_,t)||((s=o.createRng()).setStartBefore(t),s.setEndAfter(t),r(o,pf(o,s,_),!0)):r(o,t,!0);else{if(n&&Ju(E)&&!ku(w).length){var s=w;var l=x;var d=k;let r;var c=s.selection,m=s.formatter.get(l);if(m){var u=c.getRng();let t=u.startOffset;var f=u.startContainer.nodeValue,g=(r=Ym(s.getBody(),c.getStart()),/[^\s\u00a0\u00ad\u200b\ufeff]/);if(f&&0<t&&t<f.length&&g.test(f.charAt(t))&&g.test(f.charAt(t-1))){var g=c.getBookmark(),f=(u.collapse(!0),pf(s.dom,u,m)),f=mg(f);s.formatter.apply(l,d,f),c.moveToBookmark(g)}else{let e=r?Ob(r):null;r&&(null===e||void 0===e?void 0:e.data)===Rb||(r=(m=s.getDoc(),f=Tb(!0).dom,m.importNode(f,!0)),e=r.firstChild,u.insertNode(r),t=1),s.formatter.apply(l,d,r),c.setCursorLocation(e,t)}}}else e.setRng(tb(e.getRng())),Mu(w,()=>{Au(w,(e,t)=>{t=t?e:pf(o,e,_);r(o,t,!1)})},de),w.nodeChanged();Gb(w.formatter,x).each(t=>{K(Jb(w.selection),e=>A0(o,e,t,k))})}g=x,a=w,Y(Vb,g)&&K(Vb[g],e=>{e(a)})}}else N(_,t=i);Nf(w,x,t,k)},T0=(e,t,r,n)=>{(n||e.selection.isEditable())&&O0(e,t,r,n)},B0=e=>Y(e,"vars"),P0=e=>e.selection.getStart(),L0=(t,e,r,n,o)=>{return be(e,e=>{e=t.formatter.matchNode(e,r,null!=o?o:{},n);return!N(e)},e=>!!wb(t,e,r)||!n&&H(t.formatter.matchNode(e,r,o,!0)))},M0=(e,t)=>{t=null!=t?t:P0(e);return D(Ku(e.dom,t),e=>Z(e)&&!Qn(e))},I0=(a,i,e)=>{const s=M0(a,i);G(e,(e,o)=>{var t=e=>{var t=L0(a,s,o,e.similar,B0(e)?e.vars:void 0);const r=t.isSome();if(e.state.get()!==r){e.state.set(r);const n=t.getOr(i);B0(e)?e.callback(r,{node:n,format:o,parents:s}):K(e.callbacks,e=>e(r,{node:n,format:o,parents:s}))}};K([e.withSimilar,e.withoutSimilar],t),K(e.withVars,t)})},F0=(e,o,a,i,t,r)=>{{var s=e,n=a,l=i,d=t,c=r;const m=(e=o).get();K(n.split(","),t=>{var e,r=g(m,t).getOrThunk(()=>{var e={withSimilar:{state:$i(!1),similar:!0,callbacks:[]},withoutSimilar:{state:$i(!1),similar:!1,callbacks:[]},withVars:[]};return m[t]=e}),n=()=>{var e=M0(s);return L0(s,e,t,d,c).isSome()};N(c)?((e=d?r.withSimilar:r.withoutSimilar).callbacks.push(l),1===e.callbacks.length&&e.state.set(n())):r.withVars.push({state:$i(n()),similar:d,vars:c,callback:l})}),e.set(m)}return{unbind:()=>{{var e=o,t=a,r=i;const n=e.get();K(t.split(","),t=>g(n,t).each(e=>{n[t]={withSimilar:{...e.withSimilar,callbacks:D(e.withSimilar.callbacks,e=>e!==r)},withoutSimilar:{...e.withoutSimilar,callbacks:D(e.withoutSimilar.callbacks,e=>e!==r)},withVars:D(e.withVars,e=>e.callback!==r)}})),e.set(n)}}}},U0=O.explode,z0=()=>{const o={};return{addFilter:(e,t)=>{K(U0(e),e=>{Y(o,e)||(o[e]={name:e,callbacks:[]}),o[e].callbacks.push(t)})},getFilters:()=>He(o),removeFilter:(e,n)=>{K(U0(e),e=>{var t,r;Y(o,e)&&(H(n)&&(t=o[e],0<(r=D(t.callbacks,e=>e!==n)).length)?t.callbacks=r:delete o[e])})}}},j0=(e,i,s)=>{e.addNodeFilter("font",e=>{K(e,e=>{const t=i.parse(e.attr("style"));var r,n=e.attr("color"),o=e.attr("face"),a=e.attr("size");n&&(t.color=n),o&&(t["font-family"]=o),a&&pt(a).each(e=>{t["font-size"]=s[e-1]}),e.name="span",e.attr("style",i.serialize(t)),r=e,n=["color","face","size"],K(n,e=>{r.attr(e,null)})})})},H0=(e,t,r)=>{var n,o,a=wi();t.convert_fonts_to_spans&&j0(e,a,O.explode(null!=(t=t.font_size_legacy_values)?t:"")),n=r,o=a,e.addNodeFilter("strike",e=>{const r="html4"!==n.type;K(e,e=>{var t;r?e.name="s":((t=o.parse(e.attr("style")))["text-decoration"]="line-through",e.name="span",e.attr("style",o.serialize(t)))})})},q0=(m,e,u)=>{e.addNodeFilter("br",(n,e,o)=>{const a=O.extend({},u.getBlockElements());var i,s=u.getNonEmptyElements(),l=u.getWhitespaceElements(),d=(a.body=1,e=>e.name in a||Ba(u,e));for(let e=0,t=n.length;e<t;e++){let t=n[e],r=t.parent;if(r&&d(r)&&t===r.lastChild){let e=t.prev;for(;e;){var c=e.name;if("span"!==c||"bookmark"!==e.attr("data-mce-type")){"br"===c&&(t=null);break}e=e.prev}t&&(t.remove(),Kv(u,s,l,r))&&(i=u.getElementRule(r.name))&&(i.removeEmpty?r.remove():i.paddEmpty&&Vv(m,o,d,r))}else{let e=t;for(;r&&r.firstChild===e&&r.lastChild===e&&(e=r,!a[r.name]);)r=r.parent;e===r&&((i=new Ep("#text",3)).value=po,t.replace(i))}}})},V0=e=>{var t,[e,...r]=e.split(","),r=r.join(","),e=/data:([^/]+\/[^;]+)(;.+)?/.exec(e);return e?(r=((t=";base64"===e[2])?e=>{e=/([a-z0-9+\/=\s]+)/i.exec(e);return e?e[1]:""}:decodeURIComponent)(r),R.some({type:e[1],data:r,base64Encoded:t})):R.none()},$0=(e,t,r=!0)=>{let n=t;if(r)try{n=atob(t)}catch(e){return R.none()}var o=new Uint8Array(n.length);for(let e=0;e<o.length;e++)o[e]=n.charCodeAt(e);return R.some(new Blob([o],{type:e}))},W0=e=>{return lt(e,"blob:")?(t=e,fetch(t).then(e=>e.ok?e.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${t} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))):lt(e,"data:")?(r=e,new Promise((e,t)=>{V0(r).bind(({type:e,data:t,base64Encoded:r})=>$0(e,t,r)).fold(()=>t("Invalid data URI"),e)})):Promise.reject("Unknown URI format");var r,t},K0=n=>new Promise((e,t)=>{const r=new FileReader;r.onloadend=()=>{e(r.result)},r.onerror=()=>{var e;t(null==(e=r.error)?void 0:e.message)},r.readAsDataURL(n)});let G0=0;const Y0=(e,n,o)=>V0(e).bind(({data:e,type:t,base64Encoded:r})=>{return n&&!r?R.none():(r=r?e:btoa(e),o(r,t))}),X0=(e,t,r)=>{t=e.create("blobid"+G0++,t,r);return e.add(t),t},Q0=(r,e,t=!1)=>Y0(e,t,(t,e)=>R.from(r.getByData(t,e)).orThunk(()=>$0(e,t).map(e=>X0(r,e,t)))),J0=(e,t)=>{const n=t["blob_cache"];if(n){const r=t=>{var e,r=t.attr("src");(e=t).attr("src")===U.transparentSrc||H(e.attr("data-mce-placeholder"))||(e=t,H(e.attr("data-mce-bogus")))||ne(r)||Q0(n,r,!0).each(e=>{t.attr("src",e.blobUri())})};e.addAttributeFilter("src",e=>K(e,r))}},Z0=(e,o)=>{var t=e.schema;o.remove_trailing_brs&&q0(o,e,t),e.addAttributeFilter("href",e=>{let t=e.length;const r=e=>{return e.split(" ").filter(e=>0<e.length).concat(["noopener"]).sort().join(" ")};if(!o.allow_unsafe_link_target)for(;t--;){var n=e[t];"a"===n.name&&"_blank"===n.attr("target")&&n.attr("rel",(e=>{e=e?O.trim(e):"";return/\b(noopener)\b/g.test(e)?e:r(e)})(n.attr("rel")))}}),o.allow_html_in_named_anchor||e.addAttributeFilter("id,name",e=>{let t=e.length,r,n,o,a;for(;t--;)if("a"===(a=e[t]).name&&a.firstChild&&!a.attr("href"))for(o=a.parent,r=a.lastChild;r&&o;)n=r.prev,o.insert(r,a),r=n}),o.fix_list_elements&&e.addNodeFilter("ul,ol",e=>{let t=e.length,r,n;for(;t--;){var o;!(n=(r=e[t]).parent)||"ul"!==n.name&&"ol"!==n.name||(r.prev&&"li"===r.prev.name?r.prev.append(r):((o=new Ep("li",1)).attr("style","list-style-type: none"),r.wrap(o)))}});const l=t.getValidClasses();o.validate&&l&&e.addAttributeFilter("class",e=>{let t=e.length;for(;t--;){var n=e[t],o=null!=(o=n.attr("class"))?o:"",a=O.explode(o," ");let r="";for(let t=0;t<a.length;t++){var i=a[t];let e=!1;var s=l["*"];s&&s[i]&&(e=!0),s=l[n.name],(e=!e&&s&&s[i]?!0:e)&&(r&&(r+=" "),r+=i)}r.length||(r=null),n.attr("class",r)}}),J0(e,o)};function ey(e){return(ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ty(e,t){return(ty=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ry(e,t,r){return(ry=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(e){}}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);t=new(Function.bind.apply(e,n));return r&&ty(t,r.prototype),t}).apply(null,arguments)}function ny(e){return function(e){if(Array.isArray(e))return oy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?oy(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oy(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ay,iy=Object.hasOwnProperty,sy=Object.setPrototypeOf,ly=Object.isFrozen,dy=Object.getPrototypeOf,cy=Object.getOwnPropertyDescriptor,my=Object.freeze,t=Object.seal,uy=Object.create,e="undefined"!=typeof Reflect&&Reflect,fy=(fy=e.apply)||function(e,t,r){return e.apply(t,r)},my=my||function(e){return e},t=t||function(e){return e},gy=(gy=e.construct)||function(e,t){return ry(e,ny(t))},py=Ey(Array.prototype.forEach),hy=Ey(Array.prototype.pop),vy=Ey(Array.prototype.push),by=Ey(String.prototype.toLowerCase),yy=Ey(String.prototype.match),Cy=Ey(String.prototype.replace),wy=Ey(String.prototype.indexOf),xy=Ey(String.prototype.trim),ky=Ey(RegExp.prototype.test),_y=(ay=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gy(ay,t)});function Ey(o){return function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return fy(o,e,r)}}function Le(e,t){sy&&sy(e,null);for(var r=t.length;r--;){var n,o=t[r];"string"==typeof o&&(n=by(o))!==o&&(ly(t)||(t[r]=n),o=n),e[o]=!0}return e}function Sy(e){var t,r=uy(null);for(t in e)fy(iy,e,[t])&&(r[t]=e[t]);return r}function Ny(e,t){for(;null!==e;){var r=cy(e,t);if(r){if(r.get)return Ey(r.get);if("function"==typeof r.value)return Ey(r.value)}e=dy(e)}return function(e){return console.warn("fallback value for",e),null}}var Dy=my(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ry=my(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ay=my(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Oy=my(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ty=my(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),By=my(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Py=my(["#text"]),Ly=my(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),My=my(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Iy=my(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fy=my(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Uy=t(/\{\{[\w\W]*|[\w\W]*\}\}/gm),zy=t(/<%[\w\W]*|[\w\W]*%>/gm),jy=t(/^data-[\-\w.\u00B7-\uFFFF]/),Hy=t(/^aria-[\-\w]+$/),qy=t(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Vy=t(/^(?:\w+script|data):/i),$y=t(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Wy=t(/^html$/i);var Ky=function M(e){var s=0<arguments.length&&void 0!==e?e:"undefined"==typeof window?null:window,d=function(e){return M(e)};if(d.version="2.3.8",d.removed=[],s&&s.document&&9===s.document.nodeType){var l=s.document,o=s.document,I=s.DocumentFragment,e=s.HTMLTemplateElement,c=s.Node,F=s.Element,t=s.NodeFilter,U=void 0===(r=s.NamedNodeMap)?s.NamedNodeMap||s.MozNamedAttrMap:r,z=s.HTMLFormElement,j=s.DOMParser,r=s.trustedTypes,H=Ny(n=F.prototype,"cloneNode"),q=Ny(n,"nextSibling"),V=Ny(n,"childNodes"),m=Ny(n,"parentNode"),u=("function"==typeof e&&(n=o.createElement("template")).content&&n.content.ownerDocument&&(o=n.content.ownerDocument),function(e,t){if("object"!==ey(e)||"function"!=typeof e.createPolicy)return null;var r=null,n="data-tt-policy-suffix",t="dompurify"+((r=t.currentScript&&t.currentScript.hasAttribute(n)?t.currentScript.getAttribute(n):r)?"#"+r:"");try{return e.createPolicy(t,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}}(r,l)),$=u?u.createHTML(""):"",e=o,a=e.implementation,W=e.createNodeIterator,K=e.createDocumentFragment,G=e.getElementsByTagName,Y=l.importNode,n={};try{n=Sy(o).documentMode?o.documentMode:{}}catch(e){}var X,i,f,g={},p=(d.isSupported="function"==typeof m&&a&&void 0!==a.createHTMLDocument&&9!==n,Uy),Q=zy,J=jy,Z=Hy,ee=Vy,te=$y,re=qy,h=null,ne=Le({},[].concat(ny(Dy),ny(Ry),ny(Ay),ny(Ty),ny(Py))),v=null,oe=Le({},[].concat(ny(Ly),ny(My),ny(Iy),ny(Fy))),b=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),y=null,ae=null,ie=!0,se=!0,le=!1,C=!1,w=!1,de=!1,ce=!1,x=!1,k=!1,_=!1,me=!0,ue=!0,E=!1,S={},N=null,fe=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ge=null,pe=Le({},["audio","video","img","source","image","track"]),he=null,ve=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),be="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",D="http://www.w3.org/1999/xhtml",R=D,Ce=["application/xhtml+xml","text/html"],A=null,we=o.createElement("form"),xe=function(e){return e instanceof RegExp||e instanceof Function},ke=function(e){A&&A===e||(e=Sy(e=e&&"object"===ey(e)?e:{}),h="ALLOWED_TAGS"in e?Le({},e.ALLOWED_TAGS):ne,v="ALLOWED_ATTR"in e?Le({},e.ALLOWED_ATTR):oe,he="ADD_URI_SAFE_ATTR"in e?Le(Sy(ve),e.ADD_URI_SAFE_ATTR):ve,ge="ADD_DATA_URI_TAGS"in e?Le(Sy(pe),e.ADD_DATA_URI_TAGS):pe,N="FORBID_CONTENTS"in e?Le({},e.FORBID_CONTENTS):fe,y="FORBID_TAGS"in e?Le({},e.FORBID_TAGS):{},ae="FORBID_ATTR"in e?Le({},e.FORBID_ATTR):{},S="USE_PROFILES"in e&&e.USE_PROFILES,ie=!1!==e.ALLOW_ARIA_ATTR,se=!1!==e.ALLOW_DATA_ATTR,le=e.ALLOW_UNKNOWN_PROTOCOLS||!1,C=e.SAFE_FOR_TEMPLATES||!1,w=e.WHOLE_DOCUMENT||!1,x=e.RETURN_DOM||!1,k=e.RETURN_DOM_FRAGMENT||!1,_=e.RETURN_TRUSTED_TYPE||!1,ce=e.FORCE_BODY||!1,me=!1!==e.SANITIZE_DOM,ue=!1!==e.KEEP_CONTENT,E=e.IN_PLACE||!1,re=e.ALLOWED_URI_REGEXP||re,R=e.NAMESPACE||D,e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(b.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(b.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(b.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),i=i=-1===Ce.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,f="application/xhtml+xml"===i?function(e){return e}:by,C&&(se=!1),k&&(x=!0),S&&(h=Le({},ny(Py)),v=[],!0===S.html&&(Le(h,Dy),Le(v,Ly)),!0===S.svg&&(Le(h,Ry),Le(v,My),Le(v,Fy)),!0===S.svgFilters&&(Le(h,Ay),Le(v,My),Le(v,Fy)),!0===S.mathMl)&&(Le(h,Ty),Le(v,Iy),Le(v,Fy)),e.ADD_TAGS&&Le(h=h===ne?Sy(h):h,e.ADD_TAGS),e.ADD_ATTR&&Le(v=v===oe?Sy(v):v,e.ADD_ATTR),e.ADD_URI_SAFE_ATTR&&Le(he,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&Le(N=N===fe?Sy(N):N,e.FORBID_CONTENTS),ue&&(h["#text"]=!0),w&&Le(h,["html","head","body"]),h.table&&(Le(h,["tbody"]),delete y.tbody),my&&my(e),A=e)},_e=Le({},["mi","mo","mn","ms","mtext"]),Ee=Le({},["foreignobject","desc","title","annotation-xml"]),Se=Le({},["title","style","font","a","script"]),O=Le({},Ry),Ne=(Le(O,Ay),Le(O,Oy),Le({},Ty)),T=(Le(Ne,By),function(t){vy(d.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=$}catch(e){t.remove()}}}),B=function(e,t){try{vy(d.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){vy(d.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!v[e])if(x||k)try{T(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},De=function(e){ce?e="<remove></remove>"+e:r=(r=yy(e,/^[\r\n\t ]+/))&&r[0],"application/xhtml+xml"===i&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var t,r,n=u?u.createHTML(e):e;if(R===D)try{t=(new j).parseFromString(n,i)}catch(e){}if(!t||!t.documentElement){t=a.createDocument(R,"template",null);try{t.documentElement.innerHTML=X?"":n}catch(e){}}return n=t.body||t.documentElement,e&&r&&n.insertBefore(o.createTextNode(r),n.childNodes[0]||null),R===D?G.call(t,w?"html":"body")[0]:w?t.documentElement:n},Re=function(e){return W.call(e.ownerDocument||e,e,t.SHOW_ELEMENT|t.SHOW_COMMENT|t.SHOW_TEXT,null,!1)},P=function(e){return"object"===ey(c)?e instanceof c:e&&"object"===ey(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},L=function(e,t,r){g[e]&&py(g[e],function(e){e.call(d,t,r,A)})},Ae=function(e){if(L("beforeSanitizeElements",e,null),(!((a=e)instanceof z)||"string"==typeof a.nodeName&&"string"==typeof a.textContent&&"function"==typeof a.removeChild&&a.attributes instanceof U&&"function"==typeof a.removeAttribute&&"function"==typeof a.setAttribute&&"string"==typeof a.namespaceURI&&"function"==typeof a.insertBefore)&&!ky(/[\u0080-\uFFFF]/,e.nodeName)){var t,r,n,o,a=f(e.nodeName);if(L("uponSanitizeElement",e,{tagName:a,allowedTags:h}),(!e.hasChildNodes()||P(e.firstElementChild)||P(e.content)&&P(e.content.firstElementChild)||!ky(/<[/\w]/g,e.innerHTML)||!ky(/<[/\w]/g,e.textContent))&&("select"!==a||!ky(/<template/i,e.innerHTML))){if(h[a]&&!y[a])return e instanceof F&&((r=m(t=e))&&r.tagName||(r={namespaceURI:D,tagName:"template"}),n=by(t.tagName),o=by(r.tagName),t.namespaceURI===ye?r.namespaceURI===D?"svg"!==n:r.namespaceURI===be?"svg"!==n||"annotation-xml"!==o&&!_e[o]:!Boolean(O[n]):t.namespaceURI===be?r.namespaceURI===D?"math"!==n:r.namespaceURI===ye?"math"!==n||!Ee[o]:!Boolean(Ne[n]):t.namespaceURI!==D||r.namespaceURI===ye&&!Ee[o]||r.namespaceURI===be&&!_e[o]||Ne[n]||!Se[n]&&O[n])||("noscript"===a||"noembed"===a)&&ky(/<\/no(script|embed)/i,e.innerHTML)?(T(e),!0):(C&&3===e.nodeType&&(t=e.textContent,t=Cy(t,p," "),t=Cy(t,Q," "),e.textContent!==t)&&(vy(d.removed,{element:e.cloneNode()}),e.textContent=t),L("afterSanitizeElements",e,null),!1);if(!y[a]&&Te(a)){if(b.tagNameCheck instanceof RegExp&&ky(b.tagNameCheck,a))return!1;if(b.tagNameCheck instanceof Function&&b.tagNameCheck(a))return!1}if(ue&&!N[a]){var i=m(e)||e.parentNode,s=V(e)||e.childNodes;if(s&&i)for(var l=s.length-1;0<=l;--l)i.insertBefore(H(s[l],!0),q(e))}}}return T(e),!0},Oe=function(e,t,r){if(me&&("id"===t||"name"===t)&&(r in o||r in we))return!1;if((!se||ae[t]||!ky(J,t))&&(!ie||!ky(Z,t)))if(!v[t]||ae[t]){if(!(Te(e)&&(b.tagNameCheck instanceof RegExp&&ky(b.tagNameCheck,e)||b.tagNameCheck instanceof Function&&b.tagNameCheck(e))&&(b.attributeNameCheck instanceof RegExp&&ky(b.attributeNameCheck,t)||b.attributeNameCheck instanceof Function&&b.attributeNameCheck(t))||"is"===t&&b.allowCustomizedBuiltInElements&&(b.tagNameCheck instanceof RegExp&&ky(b.tagNameCheck,r)||b.tagNameCheck instanceof Function&&b.tagNameCheck(r))))return!1}else if(!he[t]&&!ky(re,Cy(r,te,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==wy(r,"data:")||!ge[e])&&(!le||ky(ee,Cy(r,te,"")))&&r)return!1;return!0},Te=function(e){return 0<e.indexOf("-")},Be=function(t){L("beforeSanitizeAttributes",t,null);var e=t.attributes;if(e){for(var r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:v},n=e.length;n--;){var o=(i=e[n]).name,a=i.namespaceURI,i="value"===o?i.value:xy(i.value),s=f(o),l=i;if(r.attrName=s,r.attrValue=i,r.keepAttr=!0,r.forceKeepAttr=void 0,L("uponSanitizeAttribute",t,r),i=r.attrValue,!r.forceKeepAttr)if(r.keepAttr)if(ky(/\/>/i,i))B(o,t);else{C&&(i=Cy(i,p," "),i=Cy(i,Q," "));var d=f(t.nodeName);if(Oe(d,s,i)){if(i!==l)try{a?t.setAttributeNS(a,o,i):t.setAttribute(o,i)}catch(e){B(o,t)}}else B(o,t)}else B(o,t)}L("afterSanitizeAttributes",t,null)}},Pe=function e(t){var r,n=Re(t);for(L("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)L("uponSanitizeShadowNode",r,null),Ae(r)||(r.content instanceof I&&e(r.content),Be(r));L("afterSanitizeShadowDOM",t,null)};d.sanitize=function(e,t){var r,n,o,a;if("string"!=typeof(e=(X=!e)?"\x3c!--\x3e":e)&&!P(e)){if("function"!=typeof e.toString)throw _y("toString is not a function");if("string"!=typeof(e=e.toString()))throw _y("dirty is not a string, aborting")}if(!d.isSupported){if("object"===ey(s.toStaticHTML)||"function"==typeof s.toStaticHTML){if("string"==typeof e)return s.toStaticHTML(e);if(P(e))return s.toStaticHTML(e.outerHTML)}return e}if(de||ke(t),d.removed=[],E="string"!=typeof e&&E){if(e.nodeName){t=f(e.nodeName);if(!h[t]||y[t])throw _y("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(t=(r=De("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===t.nodeName||"HTML"===t.nodeName?r=t:r.appendChild(t);else{if(!x&&!C&&!w&&-1===e.indexOf("<"))return u&&_?u.createHTML(e):e;if(!(r=De(e)))return x?null:_?$:""}r&&ce&&T(r.firstChild);for(var i=Re(E?e:r);n=i.nextNode();)3===n.nodeType&&n===o||Ae(n)||(n.content instanceof I&&Pe(n.content),Be(n),o=n);if(o=null,E)return e;if(x){if(k)for(a=K.call(r.ownerDocument);r.firstChild;)a.appendChild(r.firstChild);else a=r;return a=v.shadowroot?Y.call(l,a,!0):a}return t=w?r.outerHTML:r.innerHTML,w&&h["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&ky(Wy,r.ownerDocument.doctype.name)&&(t="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+t),C&&(t=Cy(t,p," "),t=Cy(t,Q," ")),u&&_?u.createHTML(t):t},d.setConfig=function(e){ke(e),de=!0},d.clearConfig=function(){A=null,de=!1},d.isValidAttribute=function(e,t,r){return A||ke({}),e=f(e),t=f(t),Oe(e,t,r)},d.addHook=function(e,t){"function"==typeof t&&(g[e]=g[e]||[],vy(g[e],t))},d.removeHook=function(e){if(g[e])return hy(g[e])},d.removeHooks=function(e){g[e]&&(g[e]=[])},d.removeAllHooks=function(){g={}}}else d.isSupported=!1;return d}();const Gy=O.each,Yy=O.trim,Xy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Qy={ftp:21,http:80,https:443,mailto:25},Jy=["img","video"],Zy=(e,t,r)=>{t=(t=>{try{return decodeURIComponent(t)}catch(e){return unescape(t)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(t)||!e.allow_html_data_urls&&(/^data:image\//i.test(t)?(e=e.allow_svg_data_urls,r=r,(H(e)?!e:!H(r)||!A(Jy,r))&&/^data:image\/svg\+xml/i.test(t)):/^data:/i.test(t)))};class eC{static parseDataUri(e){let t;var e=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(e[0]);return{type:t=r?r[1]:t,data:e[1]}}static isDomSafe(e,t,r={}){return!!r.allow_script_urls||(e=ai.decode(e).replace(/[\s\u0000-\u001F]+/g,""),!Zy(r,e,t))}static getDocumentBaseUrl(e){var t;let r;return r=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!=(t=e.href)?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(e,t={}){this.path="",this.directory="",e=Yy(e);t=(this.settings=t).base_uri;const n=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))n.source=e;else{var r,o,a=0===e.indexOf("//");0!==e.indexOf("/")||a||(e=(t&&t.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(r=t?t.path:new eC(document.location.href).directory,""===(null==t?void 0:t.protocol)?e="//mce_host"+n.toAbsPath(r,e):(o=/([^#?]*)([#?]?.*)/.exec(e))&&(e=(t&&t.protocol||"http")+"://mce_host"+n.toAbsPath(r,o[1])+o[2])),e=e.replace(/@@/g,"(mce_at)");const i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);i&&Gy(Xy,(e,t)=>{let r=i[t];r=r&&r.replace(/\(mce_at\)/g,"@@"),n[e]=r}),t&&(n.protocol||(n.protocol=t.protocol),n.userInfo||(n.userInfo=t.userInfo),n.port||"mce_host"!==n.host||(n.port=t.port),n.host&&"mce_host"!==n.host||(n.host=t.host),n.source=""),a&&(n.protocol="")}}setPath(e){e=/^(.*?)\/?(\w+)?$/.exec(e);e&&(this.path=e[0],this.directory=e[1],this.file=e[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;e=new eC(e,{base_uri:this});if("mce_host"!==e.host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var t=this.getURI(),r=e.getURI();if(t===r||"/"===t.charAt(t.length-1)&&t.substr(0,t.length-1)===r)return t;let n=this.toRelPath(this.path,e.path);return e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n}toAbsolute(e,t){e=new eC(e,{base_uri:this});return e.getURI(t&&this.isSameOrigin(e))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=this.protocol?Qy[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let r=0,n="",o,a;var i=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(i.length>=s.length)for(o=0,a=i.length;o<a;o++)if(o>=s.length||i[o]!==s[o]){r=o+1;break}if(i.length<s.length)for(o=0,a=s.length;o<a;o++)if(o>=i.length||i[o]!==s[o]){r=o+1;break}if(1===r)return t;for(o=0,a=i.length-(r-1);o<a;o++)n+="../";for(o=r-1,a=s.length;o<a;o++)o!==r-1?n+="/"+s[o]:n+=s[o];return n}toAbsPath(e,t){let r=0;var n=/\/$/.test(t)?"/":"",e=e.split("/"),o=t.split("/");const a=[];Gy(e,e=>{e&&a.push(e)});var i=[];for(let e=o.length-1;0<=e;e--)0!==o[e].length&&"."!==o[e]&&(".."===o[e]?r++:0<r?r--:i.push(o[e]));t=a.length-r;let s;return 0!==(s=t<=0?_e(i).join("/"):a.slice(0,t).join("/")+"/"+_e(i).join("/")).indexOf("/")&&(s="/"+s),n&&s.lastIndexOf("/")!==s.length-1&&(s+=n),s}getURI(e=!1){let t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const tC=O.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),rC="data-mce-type";let nC=0;const oC=(e,t,r,n)=>{var o=t.validate,a=r.getSpecialElements(),t=(8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!=(t=e.nodeValue)?t:"")&&(e.nodeValue=" "+e.nodeValue),null!=(t=null==n?void 0:n.tagName)?t:e.nodeName.toLowerCase());if(e.nodeType===Xt&&"body"!==t){const s=Q.fromDom(e);var e=dr(s,rC),i=sr(s,"data-mce-bogus");!e&&j(i)?("all"===i?J:Sn)(s):(i=r.getElementRule(t),o&&!i?(Y(a,t)?J:Sn)(s):(H(n)&&(n.allowedTags[t]=!0),o&&i&&!e&&(K(null!=(r=i.attributesForced)?r:[],e=>{ar(s,e.name,"{$uid}"===e.value?"mce_"+nC++:e.value)}),K(null!=(a=i.attributesDefault)?a:[],e=>{dr(s,e.name)||ar(s,e.name,"{$uid}"===e.value?"mce_"+nC++:e.value)}),i.attributesRequired&&!W(i.attributesRequired,e=>dr(s,e))||i.removeEmptyAttrs&&(e=>{e=e.dom.attributes;return null==e||0===e.length})(s)?Sn(s):i.outputName&&i.outputName!==t&&Cs(s,i.outputName))))}},aC=(e,t,r,n,o)=>!(n in tC&&Zy(e,o,r))&&(!e.validate||t.isValid(r,n)||lt(n,"data-")||lt(n,"aria-")),iC=(e,t)=>e.hasAttribute(rC)&&("id"===t||"class"===t||"style"===t),sC=(e,t)=>e in t.getBoolAttrs(),lC=(t,r,n)=>{var o=t["attributes"];for(let e=o.length-1;0<=e;e--){var a=o[e],i=a.name,a=a.value;aC(r,n,t.tagName.toLowerCase(),i,a)||iC(t,i)?sC(i,n)&&t.setAttribute(i,i):t.removeAttribute(i)}},dC=(a,i)=>{var e=Ky();return e.addHook("uponSanitizeElement",(e,t)=>{oC(e,a,i,t)}),e.addHook("uponSanitizeAttribute",(e,t)=>{var r=e.tagName.toLowerCase(),{attrName:n,attrValue:o}=t;t.keepAttr=aC(a,i,r,n,o),t.keepAttr?(t.allowedAttributes[n]=!0,sC(n,i)&&(t.attrValue=n),a.allow_svg_data_urls&&lt(o,"data:image/svg+xml")&&(t.forceKeepAttr=!0)):iC(e,n)&&(t.forceKeepAttr=!0)}),e},cC=(e,t)=>{var r={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return r.PARSER_MEDIA_TYPE=t,e.allow_script_urls?r.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(r.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),r},mC=O.makeMap,uC=O.extend,fC=(r,e,n)=>{var t=r.name,o=t in n&&"title"!==t&&"textarea"!==t,a=e.childNodes;for(let e=0,t=a.length;e<t;e++){var i=a[e],s=new Ep(i.nodeName.toLowerCase(),i.nodeType);if(Z(i)){var l=i.attributes;for(let e=0,t=l.length;e<t;e++){var d=l[e];s.attr(d.name,d.value)}}else ee(i)?(s.value=i.data,o&&(s.raw=!0)):(ro(i)||eo(i)||to(i))&&(s.value=i.data);fC(s,i,n),r.append(s)}},gC=(r,n,o,a)=>{const i=o.validate,s=n.getNonEmptyElements(),l=n.getWhitespaceElements(),t=uC(mC("script,style,head,html,body,title,meta,param"),n.getBlockElements()),d=bi(n),c=/[ \t\r\n]+/g,m=/^[ \t\r\n]+/,u=/[ \t\r\n]+$/,f=e=>{let t=e.parent;for(;H(t);){if(t.name in l)return!0;t=t.parent}return!1},g=e=>e.name in t||Ba(n,e),p=(e,t)=>{t=t?e.prev:e.next;return!H(t)&&!ne(e.parent)&&g(e.parent)&&(e.parent!==r||!0===a.isRootContent)};return[t=>{var r;if(3===t.type&&!f(t)){let e=null!=(r=t.value)?r:"";e=e.replace(c," "),0===(e=Gv(t.prev,g)||p(t,!0)?e.replace(m,""):e).length?t.remove():t.value=e}},t=>{if(1===t.type){var e,r=n.getElementRule(t.name);i&&r&&(e=Kv(n,s,l,t),r.paddInEmptyBlock&&e&&(e=>{let t=e;for(;H(t);){if(t.name in d)return Kv(n,s,l,t);t=t.parent}return!1})(t)?Vv(o,a,g,t):r.removeEmpty&&e?g(t)?t.remove():t.unwrap():r.paddEmpty&&(e||$v(t))&&Vv(o,a,g,t))}else if(3===t.type&&!f(t)){let e=null!=(r=t.value)?r:"";0===(e=t.next&&g(t.next)||p(t,!1)?e.replace(u,""):e).length?t.remove():t.value=e}}]},pC=(e={},_=Ci())=>{var t=z0(),r=z0();const E={validate:!0,root_name:"body",sanitize:!0,...e},S=new DOMParser,N=((o,a)=>{if(o.sanitize){const r=dC(o,a);return(e,t)=>{r.sanitize(e,cC(o,t)),r.removed=[]}}return(e,t)=>{for(var r,n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);r=n.nextNode();)oC(r,o,a),Z(r)&&lC(r,o,a)}})(E,_);e=t.addFilter;const D=t.getFilters;var t=t.removeFilter,n=r.addFilter;const R=r.getFilters;r=r.removeFilter;const A=(e,t)=>{var r=j(t.attr(rC)),e=1===t.type&&!Y(e,t.name)&&!Ba(_,t);return 3===t.type||e&&!r};n={schema:_,addAttributeFilter:n,getAttributeFilters:R,removeAttributeFilter:r,addNodeFilter:e,getNodeFilters:D,removeNodeFilter:t,parse:(t,e={})=>{var r=E.validate,n=null!=(n=e.context)?n:E.root_name,o=([t,o,c="html"]=[t,n,e.format],i="xhtml"===c?"application/xhtml+xml":"text/html",o=(l=Y(_.getSpecialElements(),o.toLowerCase()))?`<${o}>${t}</${o}>`:t,t="xhtml"===c?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${o}</body></html>`:`<body>${o}</body>`,c=S.parseFromString(t,i).body,N(c,i),l?c.firstChild:c);Da(_,o);const a=new Ep(n,11);fC(a,o,_.getSpecialElements()),o.innerHTML="";var[t,i]=gC(a,_,E,e);const s=[];var l=r?e=>{var t;e=e,t=s,Zv(_,e)&&t.push(e)}:V;const d={nodes:{},attributes:{}};var o,c=e=>jv(D(),R(),e,d),m=a,u=[t,c],f=[i,l],g=[];for(let e=m,t=e;e;e=(t=e).walk()){const C=e;K(u,e=>e(C)),ne(C.parent)&&C!==m?e=t:g.push(C)}for(let e=g.length-1;0<=e;e--){const w=g[e];K(f,e=>e(w))}s.reverse(),r&&0<s.length&&(e.context?({pass:n,fail:o}=pe(s,e=>e.parent===a),Qv(o,_,a,c),e.invalid=0<n.length):Qv(s,_,a,c));t=((e,t)=>{t=null!=(t=t.forced_root_block)?t:e.forced_root_block;return!1===t?"":!0===t?"p":t})(E,e);if(t&&("body"===a.name||e.isRootContent)){var p=a;var h=t;var v=uC(mC("script,style,head,html,body,title,meta,param"),_.getBlockElements());const x=/^[ \t\r\n]+/,k=/[ \t\r\n]+$/;let r=p.firstChild,e=null;var b=e=>{var t;e&&((r=e.firstChild)&&3===r.type&&(r.value=null==(t=r.value)?void 0:t.replace(x,"")),r=e.lastChild)&&3===r.type&&(r.value=null==(t=r.value)?void 0:t.replace(k,""))};if(_.isValidChild(p.name,h.toLowerCase())){for(;r;){var y=r.next;A(v,r)?(e||((e=new Ep(h,1)).attr(E.forced_root_block_attrs),p.insert(e,r)),e.append(r)):(b(e),e=null),r=y}b(e)}}return e.invalid||Hv(d,e),a}};return Z0(n,E),r=n,e=E,t=_,e.inline_styles&&H0(r,e,t),n},hC=(e,t,r)=>{n=e;var n=pb(n)?Fp({validate:!1}).serialize(n):n,t=t(n);return!t.isDefaultPrevented()&&pb(e)?t.content!==n?(n=pC({validate:!1,forced_root_block:!1,sanitize:r}).parse(t.content,{context:e.name}),{...t,content:n}):{...t,content:e}:t},vC=(e,t)=>{return t.no_events?El.value(t):(t=Of(e,t)).isDefaultPrevented()?El.error(Tf(e,{content:"",...t}).content):El.value(t)},bC=(t,e,r)=>{return r.no_events?e:hC(e,e=>Tf(t,{...r,content:e}),Ec(t)).content},yC=(t,r)=>{var e;return r.no_events?El.value(r):(e=hC(r.content,e=>Rf(t,{...r,content:e}),Ec(t))).isDefaultPrevented()?(Af(t,e),El.error(void 0)):El.value(e)},CC=(e,t,r)=>{r.no_events||Af(e,{...r,content:t})},wC=(e,t,r)=>({element:e,width:t,rows:r}),xC=(e,t)=>({element:e,cells:t}),kC=(e,t)=>lr(e,t).bind(pt).getOr(1),_C=e=>ve(e,(e,t)=>t.cells.length>e?t.cells.length:e,0),EC=(e,r)=>{var n=e.rows;for(let t=0;t<n.length;t++){var o=n[t].cells;for(let e=0;e<o.length;e++)if(T(o[e],r))return R.some({x:e,y:t})}return R.none()},SC=(e,t,r,n,o)=>{var a=[],i=e.rows;for(let e=r;e<=o;e++){var s=i[e].cells,s=t<n?s.slice(t,n+1):s.slice(n,t+1);a.push(xC(i[e].element,s))}return a},NC=e=>{const u=wC(bs(e),0,[]);return K(Wn(e,"tr"),(c,m)=>{K(Wn(c,"td,th"),(e,t)=>{var r=u,n=((e,t,r)=>{for(;((e,t,r)=>{e=e.rows;return!!(e[r]?e[r].cells:[])[t]})(e,t,r);)t++;return t})(u,t,m),o=m,a=c,i=e,s=kC(i,"rowspan"),l=kC(i,"colspan"),d=r.rows;for(let t=o;t<o+s;t++){d[t]||(d[t]=xC(ys(a),[]));for(let e=n;e<n+l;e++)d[t].cells[e]=t===o&&e===n?i:bs(i)}})}),wC(u.element,_C(u.rows),u.rows)},DC=e=>{return r=e=e,r=h(r.rows,e=>{var t=h(e.cells,e=>{e=ys(e);return cr(e,"colspan"),cr(e,"rowspan"),e}),e=bs(e.element);return _n(e,t),e}),e=bs(e.element),t=Q.fromTag("tbody"),_n(t,r),wn(e,t),e;var t,r},RC=(i,e,t)=>EC(i,e).bind(a=>EC(i,t).map(e=>{return t=i,e=e,n=(r=a).x,r=r.y,o=e.x,e=e.y,n=r<e?SC(t,n,r,o,e):SC(t,n,e,o,r),wC(t.element,_C(n),n);var t,r,n,o})),AC=(r,t)=>ye(r,e=>"li"===X(e)&&Nu(e,t)).fold($([]),e=>{return t=r,ye(t,e=>"ul"===X(e)||"ol"===X(e)).map(e=>{var t=Q.fromTag(X(e)),e=ze(pn(e),(e,t)=>lt(t,"list-style"));return mn(t,e),[Q.fromTag("li"),t]}).getOr([]);var t}),OC=(e,t)=>{var r,n=Q.fromDom(t.commonAncestorContainer),e=rh(n,e),o=D(e,Ao),e=AC(e,t),t=o.concat(e.length?e:(r=n,Eo(r)?Or(r).filter(_o).fold($([]),e=>[r,e]):_o(r)?[r]:[]));return h(t,bs)},TC=()=>tg([]),BC=(e,t)=>{var r=Q.fromDom(t.cloneContents()),e=OC(e,t);return r=ve(e,(e,t)=>(wn(t,e),t),r),0<e.length?tg([r]):r},PC=(e,n)=>{return e=e,t=n[0],en(t,"table",w(T,e)).bind(e=>{var t=n[0],r=n[n.length-1],e=NC(e);return RC(e,t,r).map(e=>tg([DC(e)]))}).getOrThunk(TC);var t},LC=(e,t)=>{var r=xu(t,e);return 0<r.length?PC(e,r):(r=e,0<(e=t).length&&e[0].collapsed?TC():BC(r,e[0]))},MC=(e,t)=>0<=t&&t<e.length&&cu(e.charAt(t)),IC=e=>Io(e.innerText),FC=(e,t)=>{var r,n,o,a,i,s;return"text"===t.format?(s=e,R.from(s.selection.getRng()).map(e=>{var t=R.from(s.dom.getParent(e.commonAncestorContainer,s.dom.isBlock)),r=s.getBody(),n=t.map(e=>e.nodeName).getOr("div").toLowerCase(),e=Q.fromDom(e.cloneContents()),n=(Tp(e),Bp(e),s.dom.add(r,n,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.dom)),e=IC(n),o=Io(null!=(o=n.textContent)?o:"");return s.dom.remove(n),!MC(o,0)&&!MC(o,o.length-1)||(n=t.getOr(r),-1===(t=(o=IC(n)).indexOf(e)))?e:(MC(o,t-1)?" ":"")+e+(MC(o,t+e.length)?" ":"")}).getOr("")):(n=t,o=(r=e).selection.getRng(),a=r.dom.create("body"),i=r.selection.getSel(),i=gp(r,Cu(i)),(i=n.contextual?LC(Q.fromDom(r.getBody()),i).dom:o.cloneContents())&&a.appendChild(i),o=r.selection.serializer.serialize(a,n),"tree"!==t.format&&e.selection.isCollapsed()?"":o)},UC=(g,p)=>{var e=g.length+p.length+2;const h=new Array(e),v=new Array(e),s=(r,n,o,a,i)=>{var t=((a,i,s,l)=>{const d=i-a,c=l-s;if(0!=d&&0!=c){var m=d-c,u=c+d,f=(u%2==0?u:1+u)/2;h[1+f]=a,v[1+f]=i+1;let e,t,r,n,o;for(e=0;e<=f;++e){for(t=-e;t<=e;t+=2){for(r=t+f,t===-e||t!==e&&h[r-1]<h[r+1]?h[r]=h[r+1]:h[r]=h[r-1]+1,n=h[r],o=n-a+s-t;n<i&&o<l&&g[n]===p[o];)h[r]=++n,++o;if(m%2!=0&&m-e<=t&&t<=m+e&&v[r-m]<=h[r])return b(v[r-m],t+a-s,i,l)}for(t=m-e;t<=m+e;t+=2){for(r=t+f-m,t===m-e||t!==m+e&&v[r+1]<=v[r-1]?v[r]=v[r+1]-1:v[r]=v[r-1],n=v[r]-1,o=n-a+s-t;n>=a&&o>=s&&g[n]===p[o];)v[r]=n--,o--;if(m%2==0&&-e<=t&&t<=e&&v[r]<=h[r+m])return b(v[r],t+a-s,i,l)}}}return null})(r,n,o,a);if(null===t||t.start===n&&t.diag===n-a||t.end===r&&t.diag===r-o){let e=r,t=o;for(;e<n||t<a;)e<n&&t<a&&g[e]===p[t]?(i.push([0,g[e]]),++e,++t):a-o<n-r?(i.push([2,g[e]]),++e):(i.push([1,p[t]]),++t)}else{s(r,t.start,o,t.start-t.diag,i);for(let e=t.start;e<t.end;++e)i.push([0,g[e]]);s(t.end,n,t.end-t.diag,a,i)}},b=(e,t,r,n)=>{let o=e;for(;o-t<n&&o<r&&g[o]===p[o-t];)++o;return{start:e,end:o,diag:t}};e=[];return s(0,g.length,0,p.length,e),e},zC=e=>Z(e)?e.outerHTML:ee(e)?ai.encodeRaw(e.data,!1):ro(e)?"\x3c!--"+e.data+"--\x3e":"",jC=(e,t,r)=>{t=(e=>{var t,r=document.createElement("div"),n=document.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)n.appendChild(t);return n})(t);e.hasChildNodes()&&r<e.childNodes.length?(r=e.childNodes[r],e.insertBefore(t,r)):e.appendChild(t)},HC=(e,r)=>{let n=0;K(e,e=>{var t;0===e[0]?n++:1===e[0]?(jC(r,e[1],n),n++):2===e[0]&&(e=r,t=n,e.hasChildNodes())&&t<e.childNodes.length&&(t=e.childNodes[t],e.removeChild(t))})},qC=(e,t)=>D(h(Oe(e.childNodes),t?M(Io,zC):zC),e=>0<e.length),VC=Ze(()=>document.implementation.createHTMLDocument("undo")),$C=e=>null!==e.querySelector("iframe"),WC=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),KC=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),GC=e=>{var t=e.serializer.getTempAttrs(),e=Op(e.getBody(),t);return $C(e)?WC(qC(e,!0)):KC(Io(e.innerHTML))},YC=(e,t,r)=>{var n,o,a,r=r?t.beforeBookmark:t.bookmark;"fragmented"===t.type?(n=t.fragments,o=e.getBody(),a=h(Oe(o.childNodes),zC),HC(UC(a,n),o)):e.setContent(t.content,{format:"raw",no_selection:!H(r)||!Qm(r)||!r.isFakeCaret}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},XC=e=>"fragmented"===e.type?e.fragments.join(""):e.content,QC=e=>{var t=Q.fromTag("body",VC());return An(t,XC(e)),K(Wn(t,"*[data-mce-bogus]"),Sn),Rn(t)},JC=(e,t)=>{return!(!e||!t)&&(r=e,n=t,XC(r)===XC(n)||(r=e,n=t,QC(r)===QC(n)));var r,n},ZC=e=>0===e.get(),e1=(e,t,r)=>{ZC(r)&&(e.typing=t)},t1=(e,t)=>{e.typing&&(e1(e,!1,t),e.add())},r1=d=>({init:{bindEvents:V},undoManager:{beforeChange:(e,t)=>{var r;r=d,e=e,t=t,ZC(e)&&t.set(xl(r.selection))},add:(e,t,r,n,o,a)=>{var i=d,s=e,l=t,e=r,t=n,r=o,n=a,o=GC(i),r=O.extend(r||{},o);if(!ZC(e)||i.removed)return null;if(o=s.data[l.get()],i.dispatch("BeforeAddUndo",{level:r,lastLevel:o,originalEvent:n}).isDefaultPrevented())return null;if(o&&JC(o,r))return null;if(s.data[l.get()]&&t.get().each(e=>{s.data[l.get()].beforeBookmark=e}),(e=Hd(i))&&s.data.length>e){for(let e=0;e<s.data.length-1;e++)s.data[e]=s.data[e+1];s.data.length--,l.set(s.data.length)}return r.bookmark=xl(i.selection),l.get()<s.data.length-1&&(s.data.length=l.get()+1),s.data.push(r),l.set(s.data.length-1),t={level:r,lastLevel:o,originalEvent:n},0<l.get()?(i.setDirty(!0),i.dispatch("AddUndo",t),i.dispatch("change",t)):i.dispatch("AddUndo",t),r},undo:(t,r,n)=>{{var o=d;let e;return t.typing&&(t.add(),t.typing=!1,e1(t,!1,r)),0<n.get()&&(n.set(n.get()-1),e=t.data[n.get()],YC(o,e,!0),o.setDirty(!0),o.dispatch("Undo",{level:e})),e}},redo:(t,r)=>{{var n=d;let e;return t.get()<r.length-1&&(t.set(t.get()+1),e=r[t.get()],YC(n,e,!1),n.setDirty(!0),n.dispatch("Redo",{level:e})),e}},clear:(e,t)=>{return r=d,t=t,(e=e).data=[],t.set(0),e.typing=!1,void r.dispatch("ClearUndos");var r},reset:e=>{(e=e).clear(),e.add()},hasUndo:(e,t)=>{return r=d,e=e,0<t.get()||e.typing&&e.data[0]&&!JC(GC(r),e.data[0]);var r},hasRedo:(e,t)=>{return e=e,t.get()<e.data.length-1&&!e.typing},transact:(e,t,r)=>{return e=e,t=t,r=r,t1(e,t),e.beforeChange(),e.ignore(r),e.add()},ignore:(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},extra:(e,t,r,n)=>{var o,a;o=d,t=t,r=r,n=n,(e=e).transact(r)&&(r=e.data[t.get()].bookmark,a=e.data[t.get()-1],YC(o,a,!0),e.transact(n))&&(e.data[t.get()-1].beforeBookmark=r)}},formatter:{match:(e,t,r,n)=>Sb(d,e,t,r,n),matchAll:(e,t)=>{{var n=d,o=e,a=t;const i=[],s={};return e=n.selection.getStart(),n.dom.getParent(e,t=>{for(let e=0;e<o.length;e++){var r=o[e];!s[r]&&Eb(n,t,r,a)&&(s[r]=!0,i.push(r))}},n.dom.getRoot()),i}},matchNode:(e,t,r,n)=>Eb(d,e,t,r,n),canApply:e=>{var t=d,r=t.formatter.get(e),n=t.dom;if(r&&t.selection.isEditable()){var e=t.selection.getStart(),o=Ku(n,e);for(let e=r.length-1;0<=e;e--){var a=r[e];if(!Qu(a))return!0;for(let e=o.length-1;0<=e;e--)if(n.is(o[e],a.selector))return!0}}return!1},closest:e=>Nb(d,e),apply:(e,t,r)=>T0(d,e,t,r),remove:(e,t,r,n)=>_0(d,e,t,r,n),toggle:(e,t,r)=>{var n,o;e=e,t=t,r=r,(o=(n=d).formatter.get(e))&&(!Sb(n,e,t,r)||"toggle"in o[0]&&!o[0].toggle?T0:_0)(n,e,t,r)},formatChanged:(e,t,r,n,o)=>F0(d,e,t,r,n,o)},editor:{getContent:e=>{return t=d,r=e,R.from(t.getBody()).fold($("tree"===r.format?new Ep("body",11):""),e=>Lp(t,r,e));var t,r},setContent:(e,t)=>vb(d,e,t),insertContent:(e,t)=>gb(d,e,t),addVisual:e=>{{var n=d;const o=n.dom;var t=H(e)?e:n.getBody();K(o.select("table,a",t),e=>{switch(e.nodeName){case"TABLE":var t=Qd(n),r=o.getAttrib(e,"border");r&&"0"!==r||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t);break;case"A":o.getAttrib(e,"href")||(r=o.getAttrib(e,"name")||e.id,t=Jd(n),r&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t))}}),n.dispatch("VisualAid",{element:e,hasVisual:n.hasVisual})}}},selection:{getContent:(e,t)=>{var[r,e,t={}]=[d,e,t];return e=e,t={...t,format:e,get:!0,selection:!0,getInner:!0},vC(r,t).fold(F,e=>{var t=FC(r,e);return bC(r,t,e)})}},autocompleter:{addDecoration:e=>Cp(d,e),removeDecoration:()=>{return r=d,e=Q.fromDom(d.getBody()),wp(e).each(e=>{var t=r.selection.getBookmark();Sn(e),r.selection.moveToBookmark(t)});var r,e}},raw:{getModel:()=>R.none()}}),n1=e=>Y(e.plugins,"rtc"),o1=e=>{const n=e;return t=e,g(t.plugins,"rtc").bind(e=>R.from(e.setup)).fold(()=>(n.rtcInstance=r1(e),R.none()),e=>{var t,r;return n.rtcInstance=(t=$(null),r=$(""),{init:{bindEvents:V},undoManager:{beforeChange:V,add:t,undo:t,redo:t,clear:V,reset:V,hasUndo:u,hasRedo:u,transact:t,ignore:V,extra:V},formatter:{match:u,matchAll:$([]),matchNode:$(void 0),canApply:u,closest:r,apply:V,remove:V,toggle:V,formatChanged:$({unbind:V})},editor:{getContent:r,setContent:$({content:"",html:""}),insertContent:$(""),addVisual:V},selection:{getContent:r},autocompleter:{addDecoration:V,removeDecoration:V},raw:{getModel:$(R.none())}}),R.some(()=>e().then(e=>(n.rtcInstance=(e=>{const o=e=>k(e)?e:{},{init:t,undoManager:a,formatter:i,editor:r,selection:n,autocompleter:s,raw:l}=e;return{init:{bindEvents:t.bindEvents},undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:(e,t,r)=>a.transact(r),ignore:(e,t)=>a.ignore(t),extra:(e,t,r,n)=>a.extra(r,n)},formatter:{match:(e,t,r,n)=>i.match(e,o(t),n),matchAll:i.matchAll,matchNode:i.matchNode,canApply:e=>i.canApply(e),closest:e=>i.closest(e),apply:(e,t,r)=>i.apply(e,o(t)),remove:(e,t,r,n)=>i.remove(e,o(t)),toggle:(e,t,r)=>i.toggle(e,o(t)),formatChanged:(e,t,r,n,o)=>i.formatChanged(t,r,n,o)},editor:{getContent:e=>r.getContent(e),setContent:(e,t)=>({content:r.setContent(e,t),html:""}),insertContent:(e,t)=>(r.insertContent(e),""),addVisual:r.addVisual},selection:{getContent:(e,t)=>n.getContent(t)},autocompleter:{addDecoration:s.addDecoration,removeDecoration:s.removeDecoration},raw:{getModel:()=>R.some(l.getRawModel())}}})(e),e.rtc.isRemote)))});var t},a1=e=>e.rtcInstance||r1(e),i1=e=>{e=e.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},s1=(e,t,r)=>i1(e).selection.getContent(t,r),l1=e=>i1(e).init.bindEvents(),d1=e=>0===e.dom.length?(J(e),R.none()):R.some(e),c1=(e,t,i,s)=>{e.bind(a=>{return(s?Ph:Bh)(a.dom,s?a.dom.length:0),t.filter(er).map(e=>{var t,r,n,o;e=e,r=i,n=s,t=(t=a).dom,e=e.dom,o=(n?t:e).length,n?(Lh(t,e,!1,!n),r.setStart(e,o)):(Lh(e,t,!1,!n),r.setEnd(e,o))})}).orThunk(()=>{var e;return e=s,t.filter(e=>_f.isBookmarkNode(e.dom)).bind(e?Lr:Pr).or(t).filter(er).map(e=>{var r,n;r=e,n=s,Or(r).each(e=>{var t=r.dom;n&&kh(e,v(t,0))?Bh(t,0):!n&&_h(e,v(t,t.length))&&Ph(t,t.length)})})})},m1=(e,t)=>{var r=R.from(t.firstChild).map(Q.fromDom),n=R.from(t.lastChild).map(Q.fromDom),t=(e.deleteContents(),e.insertNode(t),r.bind(Pr).filter(er).bind(d1)),o=n.bind(Lr).filter(er).bind(d1);c1(t,r,e,!0),c1(o,n,e,!1),e.collapse(!1)},u1=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),f1=(e,t)=>{var r;return"raw"!==t.format?(r=e.selection.getRng(),r=(r=e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock))?{context:r.nodeName.toLowerCase()}:{},r=e.parser.parse(t.content,{forced_root_block:!1,...r,...t}),Fp({validate:!1},e.schema).serialize(r)):t.content},g1=(e,t,r)=>{var n;Y(e,t)&&(0===(n=D(e[t],e=>e!==r)).length?delete e[t]:e[t]=n)};var p1=(r,n)=>{let a,i;const s=(t,e)=>ye(e,e=>r.is(e,t)),l=e=>r.getParents(e,void 0,r.getRoot());return{selectorChangedWithUnbind:(e,t)=>(a||(a={},i={},n.on("NodeChange",e=>{const r=e.element,n=l(r),o={};G(a,(e,r)=>{s(r,n).each(t=>{i[r]||(K(e,e=>{e(!0,{node:t,selector:r,parents:n})}),i[r]=e),o[r]=e})}),G(i,(e,t)=>{o[t]||(delete i[t],K(e,e=>{e(!1,{node:r,selector:t,parents:n})}))})})),a[e]||(a[e]=[]),a[e].push(t),s(e,l(n.selection.getStart())).each(()=>{i[e]=a[e]}),{unbind:()=>{g1(a,e,t),g1(i,e,t)}})}};const h1=e=>!(!e||!e.ownerDocument)&&Nr(Q.fromDom(e.ownerDocument),Q.fromDom(e)),v1=(d,a,e,s)=>{let i,l;const r=p1(d,s)["selectorChangedWithUnbind"];const t=(e,t)=>{var[n,e,t={}]=[s,e,t];t=u1(t,e),yC(n,t).each(e=>{var t=f1(n,e),r=n.selection.getRng();m1(r,r.createContextualFragment(t)),n.selection.setRng(r),Tg(n,r),CC(n,t,e)})};const n=e=>{var t=m();t.collapse(!!e),u(t)},c=()=>a.getSelection?a.getSelection():a.document.selection,m=()=>{let e;var t=(e,t,r)=>{try{return t.compareBoundaryPoints(e,r)}catch(e){return-1}},r=a.document;if(H(s.bookmark)&&!ip(s)){var n=$g(s);if(n.isSome())return n.map(e=>gp(s,[e])[0]).getOr(r.createRange())}try{var o=c();o&&!Yn(o.anchorNode)&&(e=0<o.rangeCount?o.getRangeAt(0):r.createRange(),e=gp(s,[e])[0])}catch(e){}return e=e||r.createRange(),no(e.startContainer)&&e.collapsed&&(n=d.getRoot(),e.setStart(n,0),e.setEnd(n,0)),i&&l&&(0===t(e.START_TO_START,e,i)&&0===t(e.END_TO_END,e,i)?e=l:(i=null,l=null)),e},u=(e,t)=>{if((n=e)&&h1(n.startContainer)&&h1(n.endContainer)){var r,n=c();if(e=s.dispatch("SetSelectionRange",{range:e,forward:t}).range,n){l=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i=0<n.rangeCount?n.getRangeAt(0):null}!e.collapsed&&e.startContainer===e.endContainer&&null!=n&&n.setBaseAndExtent&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset])&&"IMG"===r.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(r,0,r,1)),s.dispatch("AfterSetSelectionRange",{range:e,forward:t})}};const o=()=>{var e=c(),t=null==e?void 0:e.anchorNode,r=null==e?void 0:e.focusNode;if(!e||!t||!r||Yn(t)||Yn(r))return!0;var n=d.createRng(),o=d.createRng();try{n.setStart(t,e.anchorOffset),n.collapse(!0),o.setStart(r,e.focusOffset),o.collapse(!0)}catch(e){return!0}return n.compareBoundaryPoints(n.START_TO_START,o)<=0};const f={dom:d,win:a,serializer:e,editor:s,expand:(e={type:"word"})=>u(ug(d).expand(m(),e)),collapse:n,setCursorLocation:(e,t)=>{var r=d.createRng();H(e)&&H(t)?(r.setStart(e,t),r.setEnd(e,t),u(r),n(!1)):(Du(d,r,s.getBody(),!0),u(r))},getContent:e=>{return[e,t={}]=[s,e],r=t.format||"html",s1(e,r,t);var t,r},setContent:t,getBookmark:(e,t)=>g.getBookmark(e,t),moveToBookmark:e=>g.moveToBookmark(e),select:(e,t)=>{var o,r,a;return o=d,r=e,a=t,R.from(r).bind(n=>R.from(n.parentNode).map(e=>{var t=o.nodeIndex(n),r=o.createRng();return r.setStart(e,t),r.setEnd(e,t+1),a&&(Du(o,r,n,!0),Du(o,r,n,!1)),r})).each(u),e},isCollapsed:()=>{var e=m(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{var e=m(),t=s.getBody().querySelectorAll('[data-mce-selected="1"]');return 0<t.length?ke(t,e=>d.isEditable(e.parentElement)):e.startContainer===e.endContainer?d.isEditable(e.startContainer):d.isEditable(e.startContainer)&&d.isEditable(e.endContainer)},isForward:o,setNode:e=>(t(d.getOuterHTML(e)),e),getNode:()=>{{var n=s.getBody(),o=m();if(!o)return n;let e=o.startContainer,t=o.endContainer;var a=o.startOffset,i=o.endOffset;let r=o.commonAncestorContainer;return o.collapsed||(e===t&&i-a<2&&e.hasChildNodes()&&(r=e.childNodes[a]),ee(e)&&ee(t)&&(e=e.length===a?fp(e.nextSibling,!0):e.parentNode,t=0===i?fp(t.previousSibling,!1):t.parentNode,e)&&e===t&&(r=e)),o=ee(r)?r.parentNode:r,Z(o)?o:n}},getSel:c,setRng:u,getRng:m,getStart:e=>mp(s.getBody(),m(),e),getEnd:e=>up(s.getBody(),m(),e),getSelectedBlocks:(e,t)=>{var r=d,n=m(),o=[],a=r.getRoot(),e=r.getParent(e||mp(a,n,n.collapsed),r.isBlock),i=r.getParent(t||up(a,n,n.collapsed),r.isBlock);if(e&&e!==a&&o.push(e),e&&i&&e!==i)for(var s,l=new Gn(e,a);(s=l.next())&&s!==i;)r.isBlock(s)&&o.push(s);return i&&e!==i&&i!==a&&o.push(i),o},normalize:()=>{var e=m(),t=c();return t=t,1<Cu(t).length||!Ru(s)?e:((t=dg(d,e)).each(e=>{u(e,o())}),t.getOr(e))},selectorChanged:(e,t)=>(r(e,t),f),selectorChangedWithUnbind:r,getScrollContainer:()=>{let e,t=d.getRoot();for(;t&&"BODY"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:(e,t)=>{var r,n;H(e)?(e=e,n=t,((r=s).inline?Rg:Og)(r,e,n)):Tg(s,m(),t)},placeCaretAt:(e,t)=>u(ng(e,t,s.getDoc())),getBoundingClientRect:()=>{var e=m();return e.collapsed?v.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{a=i=l=null,p.destroy()}},g=_f(f),p=Ff(f,s);return f.bookmarkManager=g,f.controlSelection=p,f},b1=(t,l,d)=>{t.addAttributeFilter("data-mce-tabindex",(e,t)=>{let r=e.length;for(;r--;){var n=e[r];n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}}),t.addAttributeFilter("src,href,style",(t,r)=>{var n="data-mce-"+r,o=l.url_converter,a=l.url_converter_scope;let i=t.length;for(;i--;){var s=t[i];let e=s.attr(n);void 0!==e?(s.attr(r,0<e.length?e:null),s.attr(n,null)):(e=s.attr(r),"style"===r?e=d.serializeStyle(d.parseStyle(e),s.name):o&&(e=o.call(a,e,r,s.name)),s.attr(r,0<e.length?e:null))}}),t.addAttributeFilter("class",t=>{let r=t.length;for(;r--;){var n=t[r];let e=n.attr("class");e&&(e=e.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",0<e.length?e:null))}}),t.addAttributeFilter("data-mce-type",(e,t,r)=>{let n=e.length;for(;n--;){var o=e[n];"bookmark"!==o.attr("data-mce-type")||r.cleanup||(R.from(o.firstChild).exists(e=>{return!Mo(null!=(e=e.value)?e:"")})?o.unwrap():o.remove())}}),t.addNodeFilter("noscript",e=>{let t=e.length;for(;t--;){var r=e[t].firstChild;r&&(r.value=ai.decode(null!=(r=r.value)?r:""))}}),t.addNodeFilter("script,style",(e,t)=>{var r=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let n=e.length;for(;n--;){var o,a=e[n],i=a.firstChild,s=null!=(s=null==i?void 0:i.value)?s:"";"script"===t?((o=a.attr("type"))&&a.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===l.element_format&&i&&0<s.length&&(i.value="// <![CDATA[\n"+r(s)+"\n// ]]>")):"xhtml"===l.element_format&&i&&0<s.length&&(i.value="\x3c!--\n"+r(s)+"\n--\x3e")}}),t.addNodeFilter("#comment",e=>{let t=e.length;for(;t--;){var r=e[t],n=r.value;l.preserve_cdata&&0===(null==n?void 0:n.indexOf("[CDATA["))?(r.name="#cdata",r.type=4,r.value=d.decode(n.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==n?void 0:n.indexOf("mce:protected "))&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(n).substr(14))}}),t.addNodeFilter("xml:namespace,input",(e,t)=>{let r=e.length;for(;r--;){var n=e[r];7===n.type?n.remove():1!==n.type||"input"!==t||n.attr("type")||n.attr("type","text")}}),t.addAttributeFilter("data-mce-type",e=>{K(e,e=>{"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(e,t)=>{let r=e.length;for(;r--;)e[r].attr(t,null)}),l.remove_trailing_brs&&q0(l,t,t.schema)},y1=(r,n,o)=>{if(a=r,i=o,H(a)&&a.hasEventListeners("PreProcess")&&!i.no_events){a=r,i=n,r=o;let e;o=a.dom;let t=i.cloneNode(!0);if((i=document.implementation).createHTMLDocument){const s=i.createHTMLDocument("");O.each("BODY"===t.nodeName?t.childNodes:[t],e=>{s.body.appendChild(s.importNode(e,!0))}),t="BODY"!==t.nodeName?s.body.firstChild:s.body,e=o.doc,o.doc=s}return i=a,a={...r,node:t},i.dispatch("PreProcess",a),e&&(o.doc=e),t}return n;var a,i},C1=(e,t,r)=>{-1===O.inArray(t,r)&&(e.addAttributeFilter(r,(e,t)=>{let r=e.length;for(;r--;)e[r].attr(t,null)}),t.push(r))},w1=(e,t,r)=>{e=Io(r.getInner?t.innerHTML:e.getOuterHTML(t));return r.selection||Do(Q.fromDom(t))?e:O.trim(e)},x1=(e,t,r)=>{var r=r.selection?{forced_root_block:!1,...r}:r,e=e.parse(t,r);return t=e=>"br"===(null==e?void 0:e.name),r=(r=e).lastChild,t(r)&&t(t=r.prev)&&(r.remove(),t.remove()),e},k1=(e,t,r,n,o)=>{t=t,r=r,n=n;t=Fp(t,r).serialize(n);return r=e,n=t,!(e=o).no_events&&r?(r=r,e={...e,content:n},r.dispatch("PostProcess",e).content):n},_1=(e,t)=>{e=((e,r)=>{var t=["data-mce-selected"];const n={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},o=r&&r.dom?r.dom:te.DOM,a=r&&r.schema?r.schema:Ci(n),i=pC(n,a);b1(i,n,o);return{schema:a,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:(e,t={})=>{t={format:"html",...t},e=y1(r,e,t),e=w1(o,e,t),e=x1(i,e,t);return"tree"===t.format?e:k1(r,n,a,e,t)},addRules:a.addValidElements,setRules:a.setValidElements,addTempAttr:w(C1,i,t),getTempAttrs:$(t),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}})(e,t);return{schema:e.schema,addNodeFilter:e.addNodeFilter,addAttributeFilter:e.addAttributeFilter,serialize:e.serialize,addRules:e.addRules,setRules:e.setRules,addTempAttr:e.addTempAttr,getTempAttrs:e.getTempAttrs,getNodeFilters:e.getNodeFilters,getAttributeFilters:e.getAttributeFilters,removeNodeFilter:e.removeNodeFilter,removeAttributeFilter:e.removeAttributeFilter}},E1=(n,e={})=>{var t=e.format||"html",e=(t=t,{...e,format:t,get:!0,getInner:!0});return vC(n,e).fold(F,e=>{r=n,t=e;var t,r=a1(r).editor.getContent(t);return bC(n,r,e)})},S1="html",N1=(o,e,t={})=>{t=t,r=e;var r,t={format:S1,...t,set:!0,content:r};return yC(o,t).map(e=>{n=o,t=e.content,r=e;var t,r,n=a1(n).editor.setContent(t,r);return CC(o,n.html,e),n.content}).getOr(e)},D1="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),R1="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),A1="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),O1=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],T1=(t,e)=>{e=D(e,e=>Y(t,e));return Ne(e)},B1=e=>{var t=T1(e,D1),e=e.forced_root_block;return!1!==e&&""!==e||t.push("forced_root_block (false only)"),Ne(t)},P1=e=>T1(e,R1),L1=(e,t)=>{const r=O.makeMap(e.plugins," ");e=D(t,e=>Y(r,e));return Ne(e)},M1=e=>L1(e,A1),I1=e=>L1(e,O1.map(e=>e.name)),F1=t=>ye(O1,e=>e.name===t).fold(()=>t,e=>e.replacedWith?t+", replaced by "+e.replacedWith:t),U1=(e,t)=>{var r,n,o,a,i,s;o=e,s=t,o=B1(o),r=M1(s),a=0<r.length,n=0<o.length,s="mobile"===s.theme,(a||n||s)&&(i="\n- ",s=s?`

Themes:
- mobile`:"",a=a?`

Plugins:
- `+r.join(i):"",r=n?`

Options:
- `+o.join(i):"",console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+s+a+r)),n=e,o=t,n=P1(n),o=I1(o),i=0<o.length,s=0<n.length,(i||s)&&(a="\n- ",i=i?`

Plugins:
- `+o.map(F1).join(a):"",o=s?`

Options:
- `+n.join(a):"",console.warn("The following deprecated features are currently enabled but will be removed soon."+i+o))},z1=te.DOM,j1=e=>R.from(e).each(e=>e.destroy()),H1=e=>{var t,r,n,o;e.removed||({_selectionOverrides:t,editorUpload:r}=e,n=e.getBody(),o=e.getElement(),n&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&H(null==o?void 0:o.nextSibling)&&z1.remove(o.nextSibling),e.dispatch("remove"),e.editorManager.remove(e),!e.inline&&n&&(o=e,z1.setStyle(o.id,"display",o.orgDisplay)),e.dispatch("detach"),z1.remove(e.getContainer()),j1(t),j1(r),e.destroy())},q1=(e,t)=>{var{selection:r,dom:n}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),j1(r),j1(n)),(r=(t=e).formElement)&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,delete r._mceOldSubmit),z1.unbind(r,"submit reset",t.formEventDelegate)),(r=n=e).contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null,(n=n.selection)&&(t=n.dom,r.selection=n.win=n.dom=t.doc=null),e.destroyed=!0):e.remove())};const V1=(()=>{const r={};return{add:(e,t)=>{r[e]=t},get:e=>r[e]||{icons:{}},has:e=>Y(r,e)}})(),$1=Xi.ModelManager;o=(e,t)=>{return t.dom[e]},n=(e,t)=>parseInt(un(t,e),10);const W1=w(o,"clientWidth"),K1=w(o,"clientHeight"),G1=w(n,"margin-top"),Y1=w(n,"margin-left"),X1=(e,t,r)=>{var n,o,a=Q.fromDom(e.getBody()),a=e.inline?a:(a=a,Q.fromDom(Rr(a).dom.documentElement)),t=(e=e.inline,t=t,r=r,n=(o=a).dom.getBoundingClientRect(),{x:t-(e?n.left+o.dom.clientLeft+Y1(o):0),y:r-(e?n.top+o.dom.clientTop+G1(o):0)});return r=a,e=t.x,n=t.y,o=W1(r),r=K1(r),0<=e&&0<=n&&e<=o&&n<=r},Q1=e=>{var e=e.inline?e.getBody():e.getContentAreaContainer();return e=e,R.from(e).map(Q.fromDom).map(Yr).getOr(!1)};var J1=()=>{var e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const Z1=r=>{const n=[],o=()=>{var e=r.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():J1()},a=()=>R.from(n[0]),i=(e,t)=>!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout),s=()=>{K(n,e=>{e.reposition()})},l=e=>{n.push(e)},d=t=>{Ce(n,e=>e===t).each(e=>{n.splice(e,1)})},t=(t,e=!0)=>r.removed||!Q1(r)?{}:(e&&r.dispatch("BeforeOpenNotification",{notification:t}),ye(n,e=>i(o().getArgs(e),t)).getOrThunk(()=>{r.editorManager.setActive(r);const e=o().open(t,()=>{d(e),s(),a().fold(()=>r.focus(),e=>Bg(Q.fromDom(e.getEl())))});return l(e),s(),r.dispatch("OpenNotification",{notification:{...e}}),e}));var c,e=$(n);return(c=r).on("SkinLoaded",()=>{var e=Sd(c);e&&t({text:e,type:"warning",timeout:0},!1),s()}),c.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(s)}),c.on("remove",()=>{K(n.slice(),e=>{o().close(e)})}),{open:t,close:()=>{a().each(e=>{o().close(e),d(e),s()})},getNotifications:e}},ew=Xi.PluginManager,tw=Xi.ThemeManager;var rw=()=>{var e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const nw=r=>{let n=[];const o=()=>{var e=r.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():rw()},a=(t,r)=>(...e)=>r?r.apply(t,e):void 0,e=e=>{r.dispatch("CloseWindow",{dialog:e})},t=e=>{n.push(e),r.dispatch("OpenWindow",{dialog:e})},i=t=>{e(t),0===(n=D(n,e=>e!==t)).length&&r.focus()},s=e=>{r.editorManager.setActive(r),Vg(r),r.ui.show();e=e();return t(e),e};return r.on("remove",()=>{K(n,e=>{o().close(e)})}),{open:(e,t)=>s(()=>o().open(e,t,i)),openUrl:e=>s(()=>o().openUrl(e,i)),alert:(e,t,r)=>{var n=o();n.alert(e,a(r||n,t))},confirm:(e,t,r)=>{var n=o();n.confirm(e,a(r||n,t))},close:()=>{R.from(n[n.length-1]).each(e=>{o().close(e),i(e)})}}},ow=(e,t)=>{e.notificationManager.open({type:"error",text:t})},aw=(e,t)=>{e._skinLoaded?ow(e,t):e.on("SkinLoaded",()=>{ow(e,t)})},iw=(e,t,r)=>{Sf(e,t,{message:r}),console.error(r)},sw=(e,t,r)=>r?`Failed to load ${e}: ${r} from url `+t:`Failed to load ${e} url: `+t,lw=(e,...t)=>{var r=window.console;r&&(r.error?r.error(e,...t):r.log(e,...t))},dw=e=>/^[a-z0-9\-]+$/i.test(e),cw=(t,e)=>{const r=t.editorManager.baseURL+"/skins/content";const n=`content${t.editorManager.suffix}.css`;return h(e,e=>dw(e)&&!t.inline?r+`/${e}/`+n:t.documentBaseURI.toAbsolute(e))},mw=e=>{var t;e.contentCSS=e.contentCSS.concat((t=e,cw(t,vd(t))),(t=e,cw(t,yd(t))))},uw=(n,o)=>{const a={};return{findAll:(e,r=de)=>{e=D((e=e)?Oe(e.getElementsByTagName("img")):[],e=>{var t=e.src;return!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!t||t===U.transparentSrc)&&(lt(t,"blob:")?!n.isUploaded(t)&&r(e):!!lt(t,"data:")&&r(e))}),e=h(e,t=>{const r=t.src;var e;return Y(a,r)?a[r].then(e=>j(e)?e:{image:t,blobInfo:e.blobInfo}):(e=((r,e)=>{const n=()=>Promise.reject("Invalid data URI");var t;return lt(e,"blob:")?(t=r.getByUri(e),H(t)?Promise.resolve(t):W0(e).then(t=>K0(t).then(e=>Y0(e,!1,e=>R.some(X0(r,t,e))).getOrThunk(n)))):lt(e,"data:")?Q0(r,e).fold(n,e=>Promise.resolve(e)):Promise.reject("Unknown image data format")})(o,r).then(e=>(delete a[r],{image:t,blobInfo:e})).catch(e=>(delete a[r],e)),a[r]=e)});return Promise.all(e)}}},fw=()=>{let r={};const n=(e,t)=>({status:e,resultUri:t}),t=e=>e in r;return{hasBlobUri:t,getResultUri:e=>{e=r[e];return e?e.resultUri:null},isPending:e=>!!t(e)&&1===r[e].status,isUploaded:e=>!!t(e)&&2===r[e].status,markPending:e=>{r[e]=n(1,null)},markUploaded:(e,t)=>{r[e]=n(2,t)},removeFailed:e=>{delete r[e]},destroy:()=>{r={}}}};let gw=0;const pw=e=>{return e+gw+++(e=()=>Math.round(4294967295*Math.random()).toString(36),"s"+(new Date).getTime().toString(36)+e()+e()+e())},hw=(s,i)=>{const r={},n=(t,a)=>new Promise((r,n)=>{const o=new XMLHttpRequest;o.open("POST",i.url),o.withCredentials=i.credentials,o.upload.onprogress=e=>{a(e.loaded/e.total*100)},o.onerror=()=>{n("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=()=>{var e,t;o.status<200||300<=o.status?n("HTTP Error: "+o.status):(t=JSON.parse(o.responseText))&&j(t.location)?r((e=i.basePath,t=t.location,e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t)):n("Invalid JSON: "+o.responseText)};var e=new FormData;e.append("file",t.blob(),t.filename()),o.send(e)}),o=q(i.handler)?i.handler:n,l=(e,t)=>({url:t,blobInfo:e,status:!0}),d=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),c=(e,t)=>{O.each(r[e],e=>{e(t)}),delete r[e]},a=(o,a,i)=>(s.markPending(o.blobUri()),new Promise(t=>{let r,e;try{const n=()=>{r&&(r.close(),e=V)};e=t=>{t<0||100<t||R.from(r).orThunk(()=>R.from(i).map(se)).each(e=>{(r=e).progressBar.value(t)})},a(o,e).then(e=>{n(),s.markUploaded(o.blobUri(),e),c(o.blobUri(),l(o,e)),t(l(o,e))},e=>{e=j(e)?{message:e}:e,n(),s.removeFailed(o.blobUri()),c(o.blobUri(),d(o,e)),t(d(o,e))})}catch(e){t(d(o,e))}})),m=e=>{const t=e.blobUri();return new Promise(e=>{r[t]=r[t]||[],r[t].push(e)})};return{upload:(e,t)=>{return i.url||o!==n?(e=e,r=t,e=O.grep(e,e=>!s.isUploaded(e.blobUri())),Promise.all(O.map(e,e=>s.isPending(e.blobUri())?m(e):a(e,o,r)))):new Promise(e=>{e([])});var r}}},vw=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),bw=(e,t)=>hw(t,{url:sd(e),basePath:ld(e),credentials:dd(e),handler:cd(e)});const yw=n=>e=>{var t,r;r=e,(t=n).dom.isEmpty(r.dom)&&H(t.schema.getTextBlockElements()[X(r)])&&wn(e,Q.fromHtml('<br data-mce-bogus="1" />'))},Cw=d=>{const c=(()=>{let r=[];const o=e=>{return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[e.toLowerCase()]||"dat"};const i=e=>{var t,r,n;if(e.blob&&e.base64)return t=e.id||pw("blobid"),r=e.name||t,n=e.blob,{id:$(t),name:$(r),filename:$(e.filename||r+"."+o(n.type)),blob:$(n),base64:$(e.base64),blobUri:$(e.blobUri||URL.createObjectURL(n)),uri:$(e.uri)};throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")};const e=e=>ye(r,e).getOrUndefined(),t=t=>e(e=>e.id()===t);return{create:(e,t,r,n,o)=>{var a;if(j(e))return a=e,i({id:a,name:n,filename:o,blob:t,base64:r});if(k(e))return i(e);throw new Error("Unknown input type")},add:e=>{t(e.id())||r.push(e)},get:t,getByUri:t=>e(e=>e.blobUri()===t),getByData:(t,r)=>e(e=>e.base64()===t&&e.blob().type===r),findFirst:e,removeByUri:t=>{r=D(r,e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1))},destroy:()=>{K(r,e=>{URL.revokeObjectURL(e.blobUri())}),r=[]}}})();let t,e;const o=fw(),r=[],n=t=>e=>d.selection?t(e):[],a=(e,t,r)=>{let n=0;for(;-1!==(n=e.indexOf(t,n))&&(e=e.substring(0,n)+r+e.substr(n+t.length),n+=r.length-t.length+1),-1!==n;);return e},i=(e,t,r)=>{var n=`src="${r}"`+(r===U.transparentSrc?' data-mce-placeholder="1"':"");return e=a(e,`src="${t}"`,n),e=a(e,'data-mce-src="'+t+'"','data-mce-src="'+r+'"')},m=(t,r)=>{K(d.undoManager.data,e=>{"fragmented"===e.type?e.fragments=h(e.fragments,e=>i(e,t,r)):e.content=i(e.content,t,r)})},u=(e,t)=>{var r=d.convertURL(t,"src");m(e.src,t),ir(Q.fromDom(e),{src:nd(d)?t+(-1===t.indexOf("?")?"?":"&")+(new Date).getTime():t,"data-mce-src":r})},s=()=>(t=t||bw(d,o),g().then(n(l=>{var e=h(l,e=>e.blobInfo);return t.upload(e,vw(d)).then(n(e=>{const i=[];let s=!1;e=h(e,(e,t)=>{var r,n,{blobInfo:t,image:o}=l[t];let a=!1;return e.status&&od(d)?(e.url&&!st(o.src,e.url)&&(s=!0),c.removeByUri(o.src),n1(d)||u(o,e.url)):e.error&&(e.error.remove&&(m(o.src,U.transparentSrc),i.push(o),a=!0),r=d,n=e.error.message,aw(r,Yi.translate(["Failed to upload image: {0}",n]))),{element:o,status:e.status,uploadUri:e.url,blobInfo:t,removed:a}});return 0<i.length&&!n1(d)?d.undoManager.transact(()=>{K(Dn(i),e=>{var t=Or(e);J(e),t.each(yw(d)),c.removeByUri(e.dom.src)})}):s&&d.undoManager.dispatchChange(),e}))}))),l=()=>rd(d)?s():Promise.resolve([]),f=t=>ke(r,e=>e(t));const g=()=>(e=e||uw(o,c)).findAll(d.getBody(),f).then(n(e=>{e=D(e,e=>j(e)?(aw(d,e),!1):"blob"!==e.uriType);return n1(d)||K(e,e=>{m(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}));const p=e=>e.replace(/src="(blob:[^"]+)"/g,(e,r)=>{var t=o.getResultUri(r);if(t)return'src="'+t+'"';let n=c.getByUri(r);return(n=n||ve(d.editorManager.get(),(e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(r),void 0))?'src="data:'+n.blob().type+";base64,"+n.base64()+'"':e});return d.on("SetContent",()=>{(rd(d)?l:g)()}),d.on("RawSaveContent",e=>{e.content=p(e.content)}),d.on("GetContent",e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=p(e.content))}),d.on("PostRender",()=>{d.parser.addNodeFilter("img",e=>{K(e,e=>{var t=e.attr("src");t&&!c.getByUri(t)&&(t=o.getResultUri(t))&&e.attr("src",t)})})}),{blobCache:c,addFilter:e=>{r.push(e)},uploadImages:s,uploadImagesAuto:l,scanForImages:g,destroy:()=>{c.destroy(),o.destroy(),e=t=null}}},ww=e=>{const n=e.dom;e.schema.type;const t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,r)=>Z(e)&&e.hasAttribute("href"),onformat:(r,e,t)=>{O.each(t,(e,t)=>{n.setAttrib(r,t,e)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{return null!=(e=null==e?void 0:e.customValue)?e:null}}},gradient:{inline:"span",styles:{background:"%value"},attributes:{"data-has-gradient":"true"},links:!0,remove_similar:!0,clear_child_styles:!0},fontsize_semplice:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{fontSize:"%value"}},fontsize_semplice_xl:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-font-size-xl":"%value"}},fontsize_semplice_lg:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-font-size-lg":"%value"}},fontsize_semplice_md:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-font-size-md":"%value"}},fontsize_semplice_sm:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-font-size-sm":"%value"}},fontsize_semplice_xs:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-font-size-xs":"%value"}},lineheight_semplice:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{lineHeight:"%value"}},lineheight_semplice_xl:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-line-height-xl":"%value"}},lineheight_semplice_lg:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-line-height-lg":"%value"}},lineheight_semplice_md:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-line-height-md":"%value"}},lineheight_semplice_sm:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-line-height-sm":"%value"}},lineheight_semplice_xs:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-line-height-xs":"%value"}},letterspacing_semplice:{inline:"span",styles:{letterSpacing:"%value"}},letterspacing_semplice_xl:{inline:"span",attributes:{"data-letter-spacing-xl":"%value"}},letterspacing_semplice_lg:{inline:"span",attributes:{"data-letter-spacing-lg":"%value"}},letterspacing_semplice_md:{inline:"span",attributes:{"data-letter-spacing-md":"%value"}},letterspacing_semplice_sm:{inline:"span",attributes:{"data-letter-spacing-sm":"%value"}},letterspacing_semplice_xs:{inline:"span",attributes:{"data-letter-spacing-xs":"%value"}},fontfamily_semplice:{inline:"span",attributes:{class:"%value"}},justify_semplice:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"%value"}},justify_semplice_xl:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-text-align-xl":"%value"}},justify_semplice_lg:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-text-align-lg":"%value"}},justify_semplice_md:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-text-align-md":"%value"}},justify_semplice_sm:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-text-align-sm":"%value"}},justify_semplice_xs:{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",attributes:{"data-text-align-xs":"%value"}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class","data-font-size-xl","data-font-size-lg","data-font-size-md","data-font-size-sm","data-font-size-xs","data-line-height-xl","data-line-height-lg","data-line-height-md","data-line-height-sm","data-line-height-xs","data-letter-spacing-xl","data-letter-spacing-lg","data-letter-spacing-md","data-letter-spacing-sm","data-letter-spacing-xs","data-text-align-xl","data-text-align-lg","data-text-align-md","data-text-align-sm","data-text-align-xs"],split:!1,expand:!1,deep:!0}]};return O.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),e=>{t[e]={block:e,remove:"all"}}),t};var xw,r={remove_similar:!0,inherit:!1},e={selector:"td,th",...r},t={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...e},tablecellverticalalign:{styles:{"vertical-align":"%value"},...e},tablecellbordercolor:{styles:{borderColor:"%value"},...e},tablecellclass:{classes:["%value"],...e},tableclass:{selector:"table",classes:["%value"],...r},tablecellborderstyle:{styles:{borderStyle:"%value"},...e},tablecellborderwidth:{styles:{borderWidth:"%value"},...e}};const kw=$(t),_w=O.each,Ew=te.DOM,Sw=e=>H(e)&&k(e),Nw=(e,t)=>{const l=t&&t.schema||Ci({}),d=e=>{var t,e=j(e)?{name:e,classes:[],attrs:{}}:e,r=Ew.create(e.name);return t=r,0<(e=e).classes.length&&Ew.addClass(t,e.classes.join(" ")),Ew.setAttribs(t,e.attrs),r},c=(t,e,r)=>{let n;var o=e[0],a=Sw(o)?o.name:void 0,i=((e,t)=>{e=l.getElementRule(e.nodeName.toLowerCase()),e=null==e?void 0:e.parentsRequired;return!(!e||!e.length)&&(t&&A(e,t)?t:e[0])})(t,a);if(i)a===i?(n=o,e=e.slice(1)):n=i;else if(o)n=o,e=e.slice(1);else if(!r)return t;const s=n?d(n):Ew.create("div");s.appendChild(t),r&&O.each(r,e=>{e=d(e);s.insertBefore(e,t)});a=Sw(n)?n.siblings:void 0;return c(s,e,a)};var r,n,t=Ew.create("div");return 0<e.length&&(n=e[0],r=d(n),n=Sw(n)?n.siblings:void 0,t.appendChild(c(r,e.slice(1),n))),t},Dw=e=>{e=O.trim(e);let t="div";const a={name:t,classes:[],attrs:{},selector:e};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(e,t,r,n,o)=>{switch(t){case"#":a.attrs.id=r;break;case".":a.classes.push(r);break;case":":-1!==O.inArray("checked disabled enabled read-only required".split(" "),r)&&(a.attrs[r]=r)}return"["===n&&(t=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(a.attrs[t[1]]=t[2]),""})),a.name=t||"div",a},Rw=e=>j(e)?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),O.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),e=>{var e=O.map(e.split(/(?:~\+|~|\+)/),Dw),t=e.pop();return e.length&&(t.siblings=e),t}).reverse()):[],Aw=(r,e)=>{let n="",t=Bd(r);if(""===t)return"";const o=e=>j(e)?e.replace(/%(\w+)/g,""):"",a=(e,t)=>Ew.getStyle(null!=t?t:r.getBody(),e,!0);if(j(e)){var i=r.formatter.get(e);if(!i)return"";e=i[0]}if("preview"in e){i=e.preview;if(!1===i)return"";t=i||t}let s=e.block||e.inline||"span",l;i=Rw(e.selector);l=0<i.length?(i[0].name||(i[0].name=s),s=e.selector,Nw(i,r)):Nw([s],r);const d=Ew.select(s,l)[0]||l.firstChild;_w(e.styles,(e,t)=>{e=o(e);e&&Ew.setStyle(d,t,e)}),_w(e.attributes,(e,t)=>{e=o(e);e&&Ew.setAttrib(d,t,e)}),_w(e.classes,e=>{e=o(e);Ew.hasClass(d,e)||Ew.addClass(d,e)}),r.dispatch("PreviewFormats"),Ew.setStyles(l,{position:"absolute",left:-65535}),r.getBody().appendChild(l);i=a("fontSize");const c=/px$/.test(i)?parseInt(i,10):0;return _w(t.split(" "),e=>{let t=a(e,d);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=a(e),"#ffffff"===yu(t).toLowerCase())||"color"===e&&"#000000"===yu(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===c)return;var r=parseFloat(t)/(/%$/.test(t)?100:1);t=r*c+"px"}"border"===e&&t&&(n+="padding:0 2px;"),n+=e+":"+t+";"}}),r.dispatch("AfterPreviewFormats"),Ew.remove(l),n},Ow=i=>{var t,r,n,e=(e=>{const r={};const n=(e,t)=>{e&&(j(e)?(re(t)||(t=[t]),K(t,e=>{N(e.deep)&&(e.deep=!Qu(e)),N(e.split)&&(e.split=!Qu(e)||Ju(e)),N(e.remove)&&Qu(e)&&!Ju(e)&&(e.remove="none"),Qu(e)&&Ju(e)&&(e.mixed=!0,e.block_expand=!0),j(e.classes)&&(e.classes=e.classes.split(/\s+/))}),r[e]=t):G(e,(e,t)=>{n(t,e)}))};return n(ww(e)),n(kw()),n(Td(e)),{get:e=>H(e)?r[e]:r,has:e=>Y(r,e),register:n,unregister:e=>(e&&r[e]&&delete r[e],r)}})(i);const s=$i({});var o=i;o.addShortcut("meta+b","","Bold"),o.addShortcut("meta+i","","Italic"),o.addShortcut("meta+u","","Underline");for(let e=1;e<=6;e++)o.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);return o.addShortcut("access+7","",["FormatBlock",!1,"p"]),o.addShortcut("access+8","",["FormatBlock",!1,"div"]),o.addShortcut("access+9","",["FormatBlock",!1,"address"]),(t=i).on("mouseup keydown",e=>{Fb(t,e.keyCode,Ub(t.selection.getRng().endContainer))}),n1(i)||(r=s,n=i,r.set({}),n.on("NodeChange",e=>{I0(n,e.element,r.get())}),n.on("FormatApply FormatRemove",e=>{e=R.from(e.node).map(e=>Tu(e)?e:e.startContainer).bind(e=>Z(e)?R.some(e):R.from(e.parentElement)).getOrThunk(()=>P0(n));I0(n,e,r.get())})),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:(e,t,r)=>{var n;n=i,e=e,t=t,r=r,i1(n).formatter.apply(e,t,r)},remove:(e,t,r,n)=>{var o;o=i,e=e,t=t,r=r,n=n,i1(o).formatter.remove(e,t,r,n)},toggle:(e,t,r)=>{var n;n=i,e=e,t=t,r=r,i1(n).formatter.toggle(e,t,r)},match:(e,t,r,n)=>{return o=i,e=e,t=t,r=r,n=n,i1(o).formatter.match(e,t,r,n);var o},closest:e=>{return t=i,e=e,i1(t).formatter.closest(e);var t},matchAll:(e,t)=>{return r=i,e=e,t=t,i1(r).formatter.matchAll(e,t);var r},matchNode:(e,t,r,n)=>{return o=i,e=e,t=t,r=r,n=n,i1(o).formatter.matchNode(e,t,r,n);var o},canApply:e=>{return t=i,e=e,i1(t).formatter.canApply(e);var t},formatChanged:(e,t,r,n)=>{return o=i,a=s,e=e,t=t,r=r,n=n,i1(o).formatter.formatChanged(a,e,t,r,n);var o,a},getCssText:w(Aw,i)}},Tw=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Bw=(n,o,a)=>{const i=$i(!1),s=e=>{e1(o,!1,a),o.add({},e)};n.on("init",()=>{o.add()}),n.on("BeforeExecCommand",e=>{e=e.command;Tw(e)||(t1(o,a),o.beforeChange())}),n.on("ExecCommand",e=>{var t=e.command;Tw(t)||s(e)}),n.on("ObjectResizeStart cut",()=>{o.beforeChange()}),n.on("SaveContent ObjectResized blur",s),n.on("dragend",s),n.on("keyup",e=>{var t,r=e.keyCode;e.isDefaultPrevented()||(t=U.os.isMacOS()&&"Meta"===e.key,(33<=r&&r<=36||37<=r&&r<=40||45===r||e.ctrlKey||t)&&(s(),n.nodeChanged()),46!==r&&8!==r||n.nodeChanged(),i.get()&&o.typing&&!JC(GC(n),o.data[0])&&(n.isDirty()||n.setDirty(!0),n.dispatch("TypingUndo"),i.set(!1),n.nodeChanged()))}),n.on("keydown",e=>{var t,r=e.keyCode;e.isDefaultPrevented()||(33<=r&&r<=36||37<=r&&r<=40||45===r?o.typing&&s(e):(t=e.ctrlKey&&!e.altKey||e.metaKey,!(r<16||20<r)||224===r||91===r||o.typing||t?(U.os.isMacOS()?e.metaKey:e.ctrlKey&&!e.altKey)&&o.beforeChange():(o.beforeChange(),e1(o,!0,a),o.add({},e),i.set(!0))))}),n.on("mousedown",e=>{o.typing&&s(e)});n.on("input",e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||("insertFromPaste"===(t=e).inputType||"insertFromDrop"===t.inputType))&&s(e)}),n.on("AddUndo Undo Redo ClearUndos",e=>{e.isDefaultPrevented()||n.nodeChanged()})},Pw=s=>{const l=Ji(),d=$i(0),c=$i(0),m={data:[],typing:!1,beforeChange:()=>{var e,t,r;e=s,t=d,r=l,i1(e).undoManager.beforeChange(t,r)},add:(e,t)=>{return r=s,n=m,o=c,a=d,i=l,e=e,t=t,i1(r).undoManager.add(n,o,a,i,e,t);var r,n,o,a,i},dispatchChange:()=>{s.setDirty(!0);var e=GC(s);e.bookmark=xl(s.selection),s.dispatch("change",{level:e,lastLevel:De(m.data,c.get()).getOrUndefined()})},undo:()=>{return e=s,t=m,r=d,n=c,i1(e).undoManager.undo(t,r,n);var e,t,r,n},redo:()=>{return e=s,t=c,r=m.data,i1(e).undoManager.redo(t,r);var e,t,r},clear:()=>{var e,t,r;e=s,t=m,r=c,i1(e).undoManager.clear(t,r)},reset:()=>{var e,t;e=s,t=m,i1(e).undoManager.reset(t)},hasUndo:()=>{return e=s,t=m,r=c,i1(e).undoManager.hasUndo(t,r);var e,t,r},hasRedo:()=>{return e=s,t=m,r=c,i1(e).undoManager.hasRedo(t,r);var e,t,r},transact:e=>{return t=s,r=m,n=d,e=e,i1(t).undoManager.transact(r,n,e);var t,r,n},ignore:e=>{var t,r;t=s,r=d,e=e,i1(t).undoManager.ignore(r,e)},extra:(e,t)=>{var r,n,o;r=s,n=m,o=c,e=e,t=t,i1(r).undoManager.extra(n,o,e,t)}};var e;return n1(s)||Bw(s,m,d),(e=s).addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),m},Lw=[9,27,z.HOME,z.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,z.DOWN,z.UP,z.LEFT,z.RIGHT].concat(U.browser.isFirefox()?[224]:[]),Mw="data-mce-placeholder",Iw=e=>"keydown"===e.type||"keyup"===e.type,Fw=e=>{e=e.keyCode;return e===z.BACKSPACE||e===z.DELETE},Uw=s=>{var e;const l=s.dom,d=Yl(s),c=null!=(e=_d(s))?e:"",m=(e,t)=>{var r,n,o,a,i;r=e,Iw(r)&&(i=r.keyCode,!Fw(r))&&(z.metaKeyPressed(r)||r.altKey||112<=i&&i<=123||A(Lw,i))||(r=s.getBody(),i=e,e=!(Iw(i)&&!(Fw(i)||"keyup"===i.type&&229===i.keyCode)||(e=l,n=r,o=d,!Ca(Q.fromDom(n),!1))||(a=n.firstElementChild)&&(e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")||o!==a.nodeName.toLowerCase())),""!==l.getAttrib(r,Mw)==e&&!t)||(l.setAttrib(r,Mw,e?c:null),l.setAttrib(r,"aria-placeholder",e?c:null),s.dispatch("PlaceholderToggle",{state:e}),s.on(e?"keydown":"keyup",m),s.off(e?"keyup":"keydown",m))};ft(c)&&s.on("init",e=>{m(e,!0),s.on("change SetContent ExecCommand",m),s.on("paste",e=>Kg.setEditorTimeout(s,()=>m(e)))})},zw=(e,t)=>({from:e,to:t}),jw=(e,t)=>{var e=Q.fromDom(e),r=Q.fromDom(t.container());return nv(e,r).map(e=>({block:e,position:t}))},Hw=(t,e)=>{return Jr(e,e=>No(e)||io(e.dom),e=>T(e,t)).filter(Zt).getOr(t)},qw=(o,a,e)=>{var e=jw(o,v.fromRangeStart(e)),t=e.bind(e=>Um(a,o,e.position).bind(e=>jw(o,e).map(e=>{return t=o,r=a,n=e,B(n.position.getNode())&&!Ca(n.block)?Hm(!1,n.block.dom).bind(e=>e.isEqual(n.position)?Um(r,t,e).bind(e=>jw(t,e)):R.some(n)).getOr(n):n;var t,r,n})));return qt(e,t,zw).filter(e=>{return t=e,!T(t.from.block,t.to.block)&&((e,t)=>{e=Q.fromDom(e);return T(Hw(e,t.from.block),Hw(e,t.to.block))})(o,e)&&(t=e,!1===b(t.from.block.dom))&&!1===b(t.to.block.dom)&&(t=e=>ko(e)||Ra(e.dom))((e=e).from.block)&&t(e.to.block);var t})},Vw=e=>{e=(e=>{const t=Fr(e);return Ce(t,Co).fold($(t),e=>t.slice(0,e))})(e);return K(e,J),e},$w=(e,t)=>{t=rh(t,e);return ye(t.reverse(),e=>Ca(e)).each(J)},Ww=(e,t,r,n)=>{var o;return Ca(r)?(Bo(r),$m(r.dom)):(o=n,0===D(Mr(o),e=>!Ca(e)).length&&Ca(t)&&bn(n,Q.fromTag("br")),o=Vm(r.dom,v.before(n.dom)),K(Vw(t),e=>{bn(n,e)}),$w(e,t),o)},Kw=(e,t,r)=>{var n;return Ca(r)?(Ca(t)&&(n=he((e=>{const r=(e,t)=>zr(e).fold(()=>t,e=>wo(e)?r(e,t.concat(bs(e))):t);return r(e,[])})(r),(e,t)=>(xn(e,t),t),To()),En(t),wn(t,n)),J(r),$m(t.dom)):(n=Wm(r.dom),K(Vw(t),e=>{wn(r,e)}),$w(e,t),n)},Gw=(e,t)=>{return Nr(t,e)?(t=t,e=e,e=rh(e,t),R.from(e[e.length-1])):R.none()},Yw=(e,t)=>{Hm(e,t.dom).bind(e=>R.from(e.getNode())).map(Q.fromDom).filter(xo).each(J)},Xw=(e,t,r)=>(Yw(!0,t),Yw(!1,r),Gw(t,r).fold(w(Kw,e,t,r),w(Ww,e,t,r))),Qw=(e,t,r,n)=>t?Xw(e,n,r):Xw(e,r,n),Jw=(t,r)=>{const n=Q.fromDom(t.getBody());var e,o,a;return e=n.dom,o=r,((a=t.selection.getRng()).collapsed?qw(e,o,a):R.none()).map(e=>()=>{Qw(n,r,e.from.block,e.to.block).each(e=>{t.selection.setRng(e.toRange())})})},Zw=(e,t)=>{t=Q.fromDom(t),e=w(T,e);return Qr(t,No,e).isSome()},ex=(e,t)=>{var r=Vm(e.dom,v.fromRangeStart(t)).isNone(),n=qm(e.dom,v.fromRangeEnd(t)).isNone();return e=e,t=t,!(Zw(e,t.startContainer)||Zw(e,t.endContainer))&&r&&n},tx=e=>{var t,r=Q.fromDom(e.getBody()),n=e.selection.getRng();if(ex(r,n))return t=e,R.some(()=>{t.setContent(""),t.selection.setCursorLocation()});{var o=r,a=e.selection;const i=a.getRng();return qt(nv(o,Q.fromDom(i.startContainer)),nv(o,Q.fromDom(i.endContainer)),(e,t)=>T(e,t)?R.none():R.some(()=>{i.deleteContents(),Qw(o,!0,e,t).each(e=>{a.setRng(e.toRange())})})).getOr(R.none())}},rx=(e,t)=>e.selection.isCollapsed()?R.none():tx(e),nx=(e,t,r,n,o)=>R.from(t._selectionOverrides.showCaret(e,r,n,o)),ox=(e,t)=>{return e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?R.none():R.some(((t=(e=t).ownerDocument.createRange()).selectNode(e),t))},ax=(e,t,r)=>{return t.collapsed?(e=e,n=t,r=r,n=hm(1,e.getBody(),n),n=v.fromRangeStart(n),o=n.getNode(),(Kc(o)?nx(1,e,o,!n.isAtEnd(),!1):(o=n.getNode(!0),Kc(o)?nx(1,e,o,!1,!1):(o=Iv(e.dom.getRoot(),n.getNode()),Kc(o)?nx(1,e,o,!1,r):R.none()))).getOr(t)):t;var n,o},ix=e=>Zp(e)||Yp(e),sx=e=>eh(e)||Xp(e),lx=(r,n,e,t,o,a)=>{nx(t,r,a.getNode(!o),o,!0).each(e=>{var t;(n.collapsed?(t=n.cloneRange(),o?t.setEnd(e.startContainer,e.startOffset):t.setStart(e.endContainer,e.endOffset),t):n).deleteContents(),r.selection.setRng(e)}),t=r.dom,a=e,ee(a)&&0===a.data.length&&t.remove(a)},dx=(e,t)=>{{var r=e,n=t;const a=r.selection.getRng();if(!ee(a.commonAncestorContainer))return R.none();const i=n?um.Forwards:um.Backwards,s=(e=Pm(r.getBody()),e=w(Cm,n?e.next:e.prev),t=n?ix:sx,bm(i,r.getBody(),a));var o=e(s);const l=o&&Qh(n,o);if(!l||!wm(s,l))return R.none();if(t(l))return R.some(()=>lx(r,a,s.getNode(),i,n,l));const d=e(l);return d&&t(d)&&wm(l,d)?R.some(()=>lx(r,a,s.getNode(),i,n,d)):R.none()}},cx=(e,t)=>{e=e.getBody();return t?$m(e).filter(Zp):Wm(e).filter(eh)},mx=e=>{const t=e.selection.getRng();return!t.collapsed&&(cx(e,!0).exists(e=>e.isEqual(v.fromRangeStart(t)))||cx(e,!1).exists(e=>e.isEqual(v.fromRangeEnd(t))))},ux=Sl([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),fx=(e,t,r,n)=>{const o=n.getNode(!t);return nv(Q.fromDom(e),Q.fromDom(r.getNode())).map(e=>Ca(e)?ux.remove(e.dom):ux.moveToElement(o)).orThunk(()=>R.some(ux.moveToElement(o)))},gx=(r,n,o)=>Um(n,r,o).bind(e=>{return t=e.getNode(),H(t)&&(No(Q.fromDom(t))||Eo(Q.fromDom(t)))||((t,e,r,n)=>{const o=e=>wo(Q.fromDom(e))&&!cm(r,n,t);return vm(!e,r).fold(()=>vm(e,n).fold(u,o),o)})(r,n,o,e)?R.none():n&&b(e.getNode())||!n&&b(e.getNode(!0))?fx(r,n,o,e):n&&eh(o)||!n&&Zp(o)?R.some(ux.moveToPosition(e)):R.none();var t}),px=(n,e,o)=>{return((e,t)=>{t=t.getNode(!e),e=e?"after":"before";return Z(t)&&t.getAttribute("data-mce-caret")===e})(e,o)?(t=e,r=o.getNode(!e),(ne(r)?R.none():t&&b(r.nextSibling)?R.some(ux.moveToElement(r.nextSibling)):!t&&b(r.previousSibling)?R.some(ux.moveToElement(r.previousSibling)):R.none()).orThunk(()=>gx(n,e,o))):gx(n,e,o).bind(e=>{return t=n,r=o,e.fold(e=>R.some(ux.remove(e)),e=>R.some(ux.moveToElement(e)),e=>cm(r,e,t)?R.none():R.some(ux.moveToPosition(e)));var t,r});var t,r},hx=(e,t)=>R.from(Iv(e.getBody(),t)),vx=(i,s)=>{var e=i.selection.getNode();return hx(i,e).filter(b).fold(()=>{return e=i.getBody(),t=s,r=i.selection.getRng(),r=hm(t?1:-1,e,r),r=v.fromRangeStart(r),n=Q.fromDom(e),(!t&&eh(r)?R.some(ux.remove(r.getNode(!0))):t&&Zp(r)?R.some(ux.remove(r.getNode())):!t&&Zp(r)&&uh(n,r)?fh(n,r).map(e=>ux.remove(e.getNode())):t&&eh(r)&&mh(n,r)?gh(n,r).map(e=>ux.remove(e.getNode())):px(e,t,r)).map(e=>()=>{return e.fold(e=>(o._selectionOverrides.hideFakeCaret(),Wh(o,a,Q.fromDom(e)),!0),(n=a=s,e=>{e=n?v.before(e):v.after(e);return r.selection.setRng(e.toRange()),!0}),(t=r=o=i,e=>(t.selection.setRng(e.toRange()),!0)));var t,r,n,o,a});var e,t,r,n},()=>R.some(V))},bx=(t,r)=>{var e=t.selection.getNode();return b(e)&&!so(e)?hx(t,e.parentNode).filter(b).fold(()=>R.some(()=>{var e;e=Q.fromDom(t.getBody()),K(Wn(e,".mce-offscreen-selection"),J),Wh(t,r,Q.fromDom(t.selection.getNode())),ov(t)}),()=>R.some(V)):mx(t)?R.some(()=>{sv(t,t.selection.getRng(),Q.fromDom(t.getBody()))}):R.none()},yx=e=>{var t,r=e.dom,n=e.selection,e=Iv(e.getBody(),n.getNode());return io(e)&&r.isBlock(e)&&r.isEmpty(e)&&(t=r.create("br",{"data-mce-bogus":"1"}),r.setHTML(e,""),e.appendChild(t),n.setRng(v.before(t).toRange())),!0},Cx=(e,t)=>(e.selection.isCollapsed()?vx:bx)(e,t),wx=(e,t)=>{return e.selection.isCollapsed()?(r=e,n=t,e=v.fromRangeStart(r.selection.getRng()),Um(n,r.getBody(),e).filter(e=>(n?Kp:Gp)(e)).bind(e=>mm(n?0:-1,e)).map(e=>()=>r.selection.select(e))):R.none();var r,n},xx=ee,kx=e=>xx(e)&&e.data[0]===Lo,_x=e=>xx(e)&&e.data[e.data.length-1]===Lo,Ex=e=>{return(null!=(e=e.ownerDocument)?e:document).createTextNode(Lo)},Sx=(e,t)=>{return e?(e=t,xx(e.previousSibling)?(_x(e.previousSibling)||e.previousSibling.appendData(Lo),e.previousSibling):xx(e)?(kx(e)||e.insertData(0,Lo),e):(o=Ex(e),null!=(n=e.parentNode)&&n.insertBefore(o,e),o)):(n=t,xx(n.nextSibling)?(kx(n.nextSibling)||n.nextSibling.insertData(0,Lo),n.nextSibling):xx(n)?(_x(n)||n.appendData(Lo),n):(e=Ex(n),n.nextSibling?null!=(r=n.parentNode)&&r.insertBefore(e,n.nextSibling):null!=(r=n.parentNode)&&r.appendChild(e),e));var r,n,o},Nx=w(Sx,!0),Dx=w(Sx,!1),Rx=(e,t)=>ee(e.container())?Sx(t,e.container()):Sx(t,e.getNode()),Ax=(e,t)=>{t=t.get();return t&&e.container()===t&&jo(t)},Ox=(r,e)=>e.fold(e=>{zc(r.get());e=Nx(e);return r.set(e),R.some(v(e,e.length-1))},e=>$m(e).map(e=>{var t;return Ax(e,r)?(t=r.get(),v(t,1)):(zc(r.get()),t=Rx(e,!0),r.set(t),v(t,1))}),e=>Wm(e).map(e=>{var t;return Ax(e,r)?(t=r.get(),v(t,t.length-1)):(zc(r.get()),t=Rx(e,!1),r.set(t),v(t,t.length-1))}),e=>{zc(r.get());e=Dx(e);return r.set(e),R.some(v(e,1))}),Tx=(t,r)=>{for(let e=0;e<t.length;e++){var n=t[e].apply(null,r);if(n.isSome())return n}return R.none()},Bx=Sl([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Px=(e,t)=>{t=dm(t,e);return t||e},Lx=(e,t,r)=>{const n=Jh(r),o=Px(t,n.container());return Xh(e,o,n).fold(()=>qm(o,n).bind(w(Xh,e,o)).map(e=>Bx.before(e)),R.none)},Mx=(e,t)=>null===Ym(e,t),Ix=(e,t,r)=>Xh(e,t,r).filter(w(Mx,t)),Fx=(e,t,r)=>{const n=Zh(r);return Ix(e,t,n).bind(e=>{return Vm(e,n).isNone()?R.some(Bx.start(e)):R.none()})},Ux=(e,t,r)=>{const n=Jh(r);return Ix(e,t,n).bind(e=>{return qm(e,n).isNone()?R.some(Bx.end(e)):R.none()})},zx=(e,t,r)=>{const n=Zh(r),o=Px(t,n.container());return Xh(e,o,n).fold(()=>Vm(o,n).bind(w(Xh,e,o)).map(e=>Bx.after(e)),R.none)},jx=e=>!Yh(qx(e)),Hx=(e,t,r)=>{return Tx([Lx,Fx,Ux,zx],[e,t,r]).filter(jx)},qx=e=>e.fold(F,F,F,F),Vx=e=>e.fold($("before"),$("start"),$("end"),$("after")),$x=e=>e.fold(Bx.before,Bx.before,Bx.after,Bx.after),Wx=e=>e.fold(Bx.start,Bx.start,Bx.end,Bx.end),Kx=(r,e,n,t,o,a)=>qt(Xh(e,n,t),Xh(e,n,o),(e,t)=>e!==t&&((e,t,r)=>{t=dm(t,e),r=dm(r,e);return H(t)&&t===r})(n,e,t)?Bx.after(r?e:t):a).getOr(a),Gx=(e,r)=>e.fold(de,e=>{return e=e,t=r,!(Vx(e)===Vx(t)&&qx(e)===qx(t));var t}),Yx=(e,t)=>e?t.fold(M(R.some,Bx.start),R.none,M(R.some,Bx.after),R.none):t.fold(R.none,M(R.some,Bx.before),R.none,M(R.some,Bx.end)),Xx=(i,s,l,d)=>{var e=Qh(i,d);const c=Hx(s,l,e);return Hx(s,l,e).bind(w(Yx,i)).orThunk(()=>{{var t=i,r=s,n=l,o=c,e=d;const a=Qh(t,e);return Um(t,n,a).map(w(Qh,t)).fold(()=>o.map($x),e=>Hx(r,n,e).map(w(Kx,t,r,n,a,e)).filter(w(Gx,o))).filter(jx)}})},Qx=e=>q(e.selection.getSel().modify),Jx=(e,t,r)=>{var n=e?1:-1;return t.setRng(v(r.container(),r.offset()+n).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Zx=((o=xw=xw||{})[o.Br=0]="Br",o[o.Block=1]="Block",o[o.Wrap=2]="Wrap",o[o.Eol=3]="Eol",(e,t)=>e===um.Backwards?_e(t):t);var ek,n=(e,t,r,n)=>{var o=Pm(r);let a=n;for(var i,s,l=[];a;){c=o,d=a;var d,c=t===um.Forwards?c.next(d):c.prev(d);if(!c)break;if(B(c.getNode(!1)))return t===um.Forwards?{positions:Zx(t,l).concat([c]),breakType:xw.Br,breakAt:R.some(c)}:{positions:Zx(t,l),breakType:xw.Br,breakAt:R.some(c)};if(c.isVisible()){if(e(a,c))return d=t,i=a,s=c,d=B(s.getNode(d===um.Forwards))?xw.Br:!1===cm(i,s)?xw.Block:xw.Wrap,{positions:Zx(t,l),breakType:d,breakAt:R.some(c)};l.push(c)}a=c}return{positions:Zx(t,l),breakType:xw.Eol,breakAt:R.none()}},r=(r,n,o,e)=>n(o,e).breakAt.map(e=>{var t=n(o,e).positions;return r===um.Backwards?t.concat(e):[e].concat(t)}).getOr([]);const tk=(e,o)=>ve(e,(e,n)=>e.fold(()=>R.some(n),r=>qt(Re(r.getClientRects()),Re(n.getClientRects()),(e,t)=>{e=Math.abs(o-e.left);return Math.abs(o-t.left)<=e?n:r}).or(e)),R.none()),rk=(t,e)=>Re(e.getClientRects()).bind(e=>tk(t,e.left)),nk=w(n,v.isAbove,-1),ok=w(n,v.isBelow,1),ak=w(r,-1,nk),ik=w(r,1,ok),sk=(e,t)=>nk(e,t).breakAt.isNone(),lk=(e,t)=>ok(e,t).breakAt.isNone(),dk=(e,t)=>rk(ak(e,t),t),ck=(e,t)=>rk(ik(e,t),t),mk=b,uk=(e,t)=>Math.abs(e.left-t),fk=(e,t)=>Math.abs(e.right-t),gk=(e,a)=>Xe(e,(e,t)=>{var r,n=Math.min(uk(e,a),fk(e,a)),o=Math.min(uk(t,a),fk(t,a));return o===n&&(r=t,qe(r,"node"))&&mk(t.node)||o<n?t:e}),pk=t=>{var e,r=e=>h(e,e=>{e=_s(e);return e.node=t,e});return Z(t)?r(t.getClientRects()):ee(t)?((e=t.ownerDocument.createRange()).setStart(t,0),e.setEnd(t,t.data.length),r(e.getClientRects())):[]},hk=e=>xe(e,pk);(e=ek=ek||{})[e.Up=-1]="Up",e[e.Down=1]="Down";t=(n,o,a,e,i,t)=>{let s=0;const l=[];var r=e=>{let t=hk([e]);-1===n&&(t=t.reverse());for(let e=0;e<t.length;e++){var r=t[e];if(!a(r,d)){if(0<l.length&&o(r,Je(l))&&s++,r.line=s,i(r))return!0;l.push(r)}}return!1};const d=Je(t.getClientRects());return d&&(t=t.getNode())&&(r(t),((e,t,r,n)=>{let o=n;for(;o=sm(o,e,ca,t);)if(r(o))return})(n,e,r,t)),l};const vk=w(t,ek.Up,Ds,Rs),bk=w(t,ek.Down,Rs,Ds),yk=e=>Je(e.getClientRects()),Ck=t=>e=>{return e.line>t},wk=t=>e=>{return e.line===t},xk=(e,t)=>{e.selection.setRng(t),Tg(e,e.selection.getRng())},kk=(e,t,r)=>R.some(ax(e,t,r)),_k=(e,t,r,n,o,a)=>{var i=t===um.Forwards,s=Pm(e.getBody()),s=w(Cm,i?s.next:s.prev),n=i?n:o;if(!r.collapsed){o=Bs(r);if(a(o))return nx(t,e,o,t===um.Backwards,!1);if(mx(e))return(a=r.cloneRange()).collapse(t===um.Backwards),R.from(a)}o=bm(t,e.getBody(),r);if(n(o))return ox(e,o.getNode(!i));let l=s(o);a=Xo(r);return l?n(l=Qh(i,l))?nx(t,e,l.getNode(!i),i,!1):(o=s(l))&&n(o)&&wm(l,o)?nx(t,e,o.getNode(!i),i,!1):a?kk(e,l.toRange(),!1):R.none():a?R.some(r):R.none()},Ek=(t,r,e,n,o,a)=>{const i=bm(r,t.getBody(),e);var s=Je(i.getClientRects()),l=r===ek.Down,d=t.getBody();if(!s)return R.none();if(mx(t)){const i=l?v.fromRangeEnd(e):v.fromRangeStart(e);return(l?ck:dk)(d,i).orThunk(()=>R.from(i)).map(e=>e.toRange())}var c,m=(l?bk:vk)(d,Ck(1),i),m=D(m,wk(1)),s=s.left,u=gk(m,s);if(u&&a(u.node))return a=Math.abs(s-u.left),c=Math.abs(s-u.right),nx(r,t,u.node,a<c,!1);let f;if(f=n(i)?i.getNode():o(i)?i.getNode(!0):Bs(e)){u=((e,t,r,n)=>{t=Pm(t);let o,a,i,s;var l=[];let d=0;s=1===e?(o=t.next,a=Rs,i=Ds,v.after(n)):(o=t.prev,a=Ds,i=Rs,v.before(n));var c=yk(s);do{if(s.isVisible()){var m=yk(s);if(!i(m,c)){0<l.length&&a(m,Je(l))&&d++;m=_s(m);if(m.position=s,m.line=d,r(m))return l;l.push(m)}}}while(s=o(s));return l})(r,d,Ck(1),f);let e=gk(D(u,wk(1)),s);if(e)return kk(t,e.position.toRange(),!1);if(e=Je(D(u,wk(0))))return kk(t,e.position.toRange(),!1)}return 0===m.length?Sk(t,l).filter(l?o:n).map(e=>ax(t,e.toRange(),!1)):R.none()},Sk=(e,t)=>{var r=e.selection.getRng(),r=t?v.fromRangeEnd(r):v.fromRangeStart(r),e=lm(r.container(),e.getBody());return t?(t=ok(e,r),Ae(t.positions)):(t=nk(e,r),Re(t.positions))},Nk=(t,e,r)=>Sk(t,e).filter(r).exists(e=>(t.selection.setRng(e.toRange()),!0)),Dk=(e,t)=>{var r=e.dom.createRng();r.setStart(t.container(),t.offset()),r.setEnd(t.container(),t.offset()),e.selection.setRng(r)},Rk=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Ak=(t,e,r)=>Ox(e,r).map(e=>(Dk(t,e),r)),Ok=(t,r,e)=>{var n,o,a=t.getBody(),i=(s=t.selection.getRng(),n=a,i=e,o=v.fromRangeStart(s),s.collapsed?o:(s=v.fromRangeEnd(s),i?Vm(n,s).getOr(s):qm(n,o).getOr(o))),s=w(Gh,t);return Xx(e,s,a,i).bind(e=>Ak(t,r,e))},Tk=(e,t)=>{var r,n,o=t.get();e.selection.isCollapsed()&&!e.composing&&o&&(r=v.fromRangeStart(e.selection.getRng()),!v.isTextPosition(r)||(n=r,Vo(n))||$o(n)||(Dk(e,Uc(o,r)),t.set(null)))},Bk=(e,t,r)=>!!Od(e)&&Ok(e,t,r).isSome();o=(e,t,r)=>{return!!Od(t)&&(e=e,n=(t=t).selection.getRng(),n=e?v.fromRangeEnd(n):v.fromRangeStart(n),!!Qx(t))&&(e&&Vo(n)?Jx(!0,t.selection,n):!(e||!$o(n))&&Jx(!1,t.selection,n));var n};const Pk=s=>{const l=$i(null),d=w(Gh,s);return s.on("NodeChange",e=>{var t,r,n,o,a,i;Od(s)&&(i=d,t=s.dom,r=e.parents,t=h(Wn(Q.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),e=>e.dom),t=D(t,i),r=D(r,i),K(Ee(t,r),w(Rk,!1)),K(Ee(r,t),w(Rk,!0)),Tk(s,l),n=d,o=s,a=l,i=e.parents,o.selection.isCollapsed())&&(i=D(i,n),K(i,e=>{var t=v.fromRangeStart(o.selection.getRng());Hx(n,o.getBody(),t).bind(e=>Ak(o,a,e))}))}),l},Lk=w(o,!0),Mk=w(o,!1),Ik=(t,r,n)=>{var e;return!!Od(t)&&(e=Sk(t,r).getOrThunk(()=>{var e=t.selection.getRng();return r?v.fromRangeEnd(e):v.fromRangeStart(e)}),Hx(w(Gh,t),t.getBody(),e).exists(e=>{e=$x(e);return Ox(n,e).exists(e=>(Dk(t,e),!0))}))},Fk=(t,r)=>e=>Ox(r,e).map(e=>()=>Dk(t,e)),Uk=(n,o,a,i)=>{const s=n.getBody(),l=w(Gh,n);n.undoManager.ignore(()=>{var e,t,r;n.selection.setRng((e=a,t=i,(r=document.createRange()).setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r)),tv(n),Hx(l,s,v.fromRangeStart(n.selection.getRng())).map(Wx).bind(Fk(n,o)).each(le)}),n.nodeChanged()},zk=(r,n,o,a)=>{const i=((e,t)=>{t=dm(t,e);return t||e})(r.getBody(),a.container()),s=w(Gh,r),l=Hx(s,i,a);return l.bind(e=>o?e.fold($(R.some(Wx(e))),R.none,$(R.some($x(e))),R.none):e.fold(R.none,$(R.some($x(e))),R.none,$(R.some(Wx(e))))).map(Fk(r,n)).getOrThunk(()=>{const e=zm(o,i,a),t=e.bind(e=>Hx(s,i,e));return qt(l,t,()=>Xh(s,i,a).bind(e=>{return n=e,qt($m(n),Wm(n),(e,t)=>{e=Qh(!0,e);const r=Qh(!1,t);return qm(n,e).forall(e=>e.isEqual(r))}).getOr(!0)?R.some(()=>{Wh(r,o,Q.fromDom(e))}):R.none();var n})).getOrThunk(()=>t.bind(()=>e.map(e=>()=>{o?Uk(r,n,a,e):Uk(r,n,e,a)})))})},jk=(e,t,r)=>{var n;return e.selection.isCollapsed()&&Od(e)?(n=v.fromRangeStart(e.selection.getRng()),zk(e,t,r,n)):R.none()},Hk=(e,t)=>{var r=Q.fromDom(e.getBody()),e=Q.fromDom(e.selection.getStart());const n=rh(e,r);return Ce(n,t).fold($(n),e=>n.slice(0,e))},qk=e=>1===Hr(e),Vk=e=>Hk(e,e=>{return Co(e)||(e=e,1<Hr(e))}),$k=(e,t)=>{const r=w(Hb,e);return xe(t,e=>r(e)?[e.dom]:[])},Wk=e=>{t=e;var t=Hk(t,Co);return $k(e,t)},Kk=(a,i)=>{const s=D(Vk(a),qk);return Ae(s).bind(o=>{var e=v.fromRangeStart(a.selection.getRng());return av(i,e,o.dom)&&!qb(o)?R.some(()=>{var e=i,t=a,r=o,n=s;0===(n=$k(t,n)).length?Wh(t,e,r):(e=jb(r.dom,n),t.selection.setRng(e.toRange()))}):R.none()})},Gk=(e,t)=>{var r,n,o=e.selection.getStart(),a=(a=e,n=(r=o).parentElement,B(r)&&!E(n)&&a.dom.isEmpty(n)||(r=o,qb(Q.fromDom(r)))?jb(o,t):((e,t)=>{var{caretContainer:t,caretPosition:r}=zb(t);return e.insertNode(t.dom),r})(e.selection.getRng(),t));e.selection.setRng(a.toRange())},Yk=e=>ee(e.startContainer),Xk=e=>{return r=(t=e).startContainer.parentNode,t=t.endContainer.parentNode,!E(r)&&!E(t)&&r.isEqualNode(t)&&(r=e.endContainer,e.endOffset===(ee(r)?r:r.childNodes).length);var t,r},Qk=e=>{var t,r=e.selection.getRng();return 0===(t=r).startOffset&&Yk(t)&&((e,t)=>{t=t.startContainer.parentElement;return!E(t)&&Hb(e,Q.fromDom(t))})(e,r)&&(t=r,Xk(t)||!t.endContainer.isEqualNode(t.commonAncestorContainer))},Jk=r=>{if(Qk(r)){const n=Wk(r);return R.some(()=>{tv(r);var e=r,t=n;0<(t=Ee(t,Wk(e))).length&&Gk(e,t)})}return R.none()},Zk=(e,t)=>e.selection.isCollapsed()?Kk(e,t):Jk(e),e_=e=>{return e=e,t=e=>Gm(e.dom),r=Co,Qr(e,t,r).isSome();var t,r},t_=e=>{var t=e.selection.getRng();return t.collapsed&&(Yk(t)||e.dom.isEmpty(t.startContainer))&&(t=e,!e_(Q.fromDom(t.selection.getStart())))},r_=e=>(t_(e)&&Gk(e,[]),!0),n_=(e,t,r)=>H(r)?R.some(()=>{e._selectionOverrides.hideFakeCaret(),Wh(e,t,Q.fromDom(r))}):R.none(),o_=(e,t)=>{if(e.selection.isCollapsed()){var r=e,n=t;const a=n?Yp:Xp;var o=n?um.Forwards:um.Backwards;const i=bm(o,r.getBody(),r.selection.getRng());return a(i)?n_(r,n,i.getNode(!n)):R.from(Qh(n,i)).filter(e=>a(e)&&wm(i,e)).bind(e=>n_(r,n,e.getNode(!n)))}return o=t,e=(t=e).selection.getNode(),co(e)?n_(t,o,e):R.none()},a_=e=>Jr(e,e=>io(e.dom)||b(e.dom)).exists(e=>io(e.dom)),i_=e=>pt(null!=e?e:"").getOr(0),s_=(e,t)=>{return(e||(e=t,"table"===X(e))?"margin":"padding")+("rtl"===un(t,"direction")?"-right":"-left")},l_=e=>{var r,t=m_(e);return!e.mode.isReadOnly()&&(1<t.length||(r=e,e=t,ke(e,e=>{var t=s_(pd(r),e),t=gn(e,t).map(i_).getOr(0);return"false"!==r.dom.getContentEditable(e.dom)&&0<t})))},d_=e=>_o(e)||Eo(e),c_=e=>Or(e).exists(d_),m_=e=>D(Dn(e.selection.getSelectedBlocks()),e=>!d_(e)&&!c_(e)&&a_(e)),u_=(e,s)=>{var t;const l=e["dom"];var r=hd(e);const d=null!=(t=null==(t=/[a-z%]+$/i.exec(r))?void 0:t[0])?t:"px",c=i_(r),m=pd(e);K(m_(e),e=>{var t,r,n,o,a,i;t=l,r=s,n=m,o=c,a=d,e=e.dom,n=s_(n,Q.fromDom(e)),i=i_(t.getStyle(e,n)),"outdent"===r?(r=Math.max(0,i-o),t.setStyle(e,n,r?r+a:"")):t.setStyle(e,n,i+o+a)})},f_=e=>u_(e,"indent"),g_=e=>u_(e,"outdent"),p_=e=>{if(e.selection.isCollapsed()&&l_(e)){var t=e.dom,r=e.selection.getRng(),n=v.fromRangeStart(r),r=t.getParent(r.startContainer,t.isBlock);if(null!==r&&ah(Q.fromDom(r),n))return R.some(()=>g_(e))}return R.none()},h_=(t,r,n)=>Te([p_,Cx,dx,(e,t)=>jk(e,r,t),Jw,Mv,wx,o_,rx,Zk],e=>e(t,n)).filter(e=>t.selection.isEditable()),v_=(t,e)=>{h_(t,e,!0).fold(()=>{return e=t,ev(e,"ForwardDelete");var e},le)},b_=(r,n)=>{r.addCommand("delete",()=>{var e,t;e=r,t=n,h_(e,t,!1).fold(()=>{tv(e),ov(e)},le)}),r.addCommand("forwardDelete",()=>{v_(r,n)})},y_=e=>void 0===e.touches||1!==e.touches.length?R.none():R.some(e.touches[0]),C_=o=>{const a=Ji(),i=$i(!1),r=es(e=>{o.dispatch("longpress",{...e,type:"longpress"}),i.set(!0)},400);o.on("touchstart",t=>{y_(t).each(e=>{r.cancel();e={x:e.clientX,y:e.clientY,target:t.target};r.throttle(t),i.set(!1),a.set(e)})},!0),o.on("touchmove",e=>{r.cancel(),y_(e).each(n=>{a.on(e=>{var t,r;t=n,e=e,r=Math.abs(t.clientX-e.x),t=Math.abs(t.clientY-e.y),(5<r||5<t)&&(a.clear(),i.set(!1),o.dispatch("longpresscancel"))})})},!0),o.on("touchend touchcancel",t=>{r.cancel(),"touchcancel"!==t.type&&a.get().filter(e=>e.target.isEqualNode(t.target)).each(()=>{i.get()?t.preventDefault():o.dispatch("tap",{...t,type:"tap"})})},!0)},w_=(e,t)=>Y(e,t.nodeName),x_=e=>e.dom.create(Yl(e),Xl(e)),k_=t=>{var r=t.dom,n=t.selection,o=t.schema,a=o.getBlockElements(),i=n.getStart(),s=t.getBody();let l,d,c=!1;var m=Yl(t);if(i&&Z(i)){var u=s.nodeName.toLowerCase();if(o.isValidChild(u,m.toLowerCase())&&(f=a,u=s,m=i,!W(th(Q.fromDom(m),Q.fromDom(u)),e=>w_(f,e.dom)))){var f,g,p,i=n.getRng(),{startContainer:m,startOffset:u,endContainer:h,endOffset:v}=i,b=ip(t);let e=s.firstChild;for(;e;)Z(e)&&(g=o,p=e,Oa(g,p))&&(g=xa(g.getBlockElements()),ka(g,p)),g=o,p=e,ee(p)||Z(p)&&!w_(g.getBlockElements(),p)&&!su(p)&&!Ta(g,p)?((e,t)=>{if(ee(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||w_(e,t.nextSibling)))return!0}return!1})(a,e)?(e=(d=e).nextSibling,r.remove(d)):(l||(l=x_(t),s.insertBefore(l,e),c=!0),e=(d=e).nextSibling,l.appendChild(d)):(l=null,e=e.nextSibling);c&&b&&(i.setStart(m,u),i.setEnd(h,v),n.setRng(i),t.nodeChanged())}}},__=(e,t,r)=>{var e=Q.fromDom(x_(e)),n=To(),r=(wn(e,n),r(t,e),document.createRange());return r.setStartBefore(n.dom),r.setEndBefore(n.dom),r},E_=t=>e=>-1!==(" "+e.attr("class")+" ").indexOf(t),S_=a=>{const n="contenteditable";var e=" "+O.trim(wc(a))+" ",t=" "+O.trim(Cc(a))+" ";const o=E_(e),i=E_(t),s=xc(a);0<s.length&&a.on("BeforeSetContent",r=>{{var n=a,o=s;let e=o.length,t=r.content;if("raw"!==r.format){for(;e--;)t=t.replace(o[e],((o,a,i)=>function(e){var t=arguments,r=t[t.length-2],n=0<r?a.charAt(r-1):"";if('"'===n)return e;if(">"===n){n=a.lastIndexOf("<",r);if(-1!==n)if(-1!==a.substring(n,r).indexOf('contenteditable="false"'))return e}return'<span class="'+i+'" data-mce-content="'+o.dom.encode(t[0])+'">'+o.dom.encode("string"==typeof t[1]?t[1]:t[0])+"</span>"})(n,t,Cc(n)));r.content=t}}}),a.parser.addAttributeFilter("class",e=>{let t=e.length;for(;t--;){var r=e[t];o(r)?r.attr(n,"true"):i(r)&&r.attr(n,"false")}}),a.serializer.addAttributeFilter(n,e=>{let t=e.length;for(;t--;){var r=e[t];(o(r)||i(r))&&(0<s.length&&r.attr("data-mce-content")?(r.name="#text",r.type=3,r.raw=!0,r.value=r.attr("data-mce-content")):r.attr(n,null))}})},N_=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Yo(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},D_=(e,t)=>{r=e;var r=tn(Q.fromDom(r.getBody()),"*[data-mce-caret]").map(e=>e.dom).getOrNull();r&&("compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),N_(e,r)):qo(r)&&(N_(e,r),e.undoManager.add()))},R_=b,A_=(e,t,r)=>{var n,o=Pm(e.getBody()),o=w(Cm,1===t?o.next:o.prev);r.collapsed&&(n=e.dom.getParent(r.startContainer,"PRE"))&&!o(v.fromRangeStart(r))&&(o=Q.fromDom((e=>{e=e.dom.create(Yl(e));return e.innerHTML='<br data-mce-bogus="1">',e})(e)),(1===t?yn:bn)(Q.fromDom(n),o),e.selection.select(o.dom,!0),e.selection.collapse())},O_=(e,t)=>{const r=t?um.Forwards:um.Backwards,n=e.selection.getRng();return t=r,o=e,a=n,_k(o,t,a,Zp,eh,R_).orThunk(()=>(A_(e,r,n),R.none()));var o,a},T_=(e,t)=>{const r=t?1:-1,n=e.selection.getRng();return t=r,o=e,a=n,Ek(o,t,a,e=>Zp(e)||Qp(e),e=>eh(e)||Jp(e),R_).orThunk(()=>(A_(e,r,n),R.none()));var o,a},B_=(t,e)=>O_(t,((e,t)=>{e=t?e.getEnd(!0):e.getStart(!0);return Yh(e)?!t:t})(t.selection,e)).exists(e=>(xk(t,e),!0)),P_=(t,e)=>T_(t,e).exists(e=>(xk(t,e),!0)),L_=(e,t)=>{var r=t?eh:Zp;return Nk(e,t,r)},M_=(r,n)=>cx(r,!n).map(e=>{var e=e.toRange(),t=r.selection.getRng();return n?e.setStart(t.startContainer,t.startOffset):e.setEnd(t.endContainer,t.endOffset),e}).exists(e=>(xk(r,e),!0)),I_=e=>A(["figcaption"],X(e)),F_=(n,o)=>{const a=Q.fromDom(n.getBody()),i=v.fromRangeStart(n.selection.getRng());return((e,t)=>{t=w(T,t);return Jr(Q.fromDom(e.container()),Co,t).filter(I_)})(i,a).exists(()=>{var e,t,r;return e=a,t=o,r=i,!!(t?lk:sk)(e.dom,r)&&(t=o?wn:Cn,e=__(n,a,t),n.selection.setRng(e),!0)})},U_=(e,t)=>!!e.selection.isCollapsed()&&F_(e,t),z_=(a,e)=>(e?R.from(a.dom.getParent(a.selection.getNode(),"details")).map(e=>{return e=e,r=(t=a).selection.getRng(),r=v.fromRangeStart(r),!(t.getBody().lastChild!==e||!lk(e,r)||(t.execCommand("InsertNewBlockAfter"),0));var t,r}):R.from(a.dom.getParent(a.selection.getNode(),"summary")).bind(o=>R.from(a.dom.getParent(o,"details")).map(e=>{return e=e,r=o,n=(t=a).selection.getRng(),n=v.fromRangeStart(n),!(t.getBody().firstChild!==e||!sk(r,n)||(t.execCommand("InsertNewBlockBefore"),0));var t,r,n}))).getOr(!1),j_=(e,t)=>z_(e,t),H_={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},q_=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,V_=(e,t)=>{return xe((e=e,h(e,e=>({...H_,...e}))),e=>q_(e,t)?[e]:[])},$_=(e,t)=>{return xe((e=e,h(e,e=>({...H_,...e}))),e=>q_(e,t)?[e]:[])},c=(e,...t)=>()=>e.apply(null,t),W_=(e,t)=>ye(V_(e,t),e=>e.action()),K_=(e,t)=>Te($_(e,t),e=>e.action()),G_=(t,e)=>{var e=e?um.Forwards:um.Backwards,r=t.selection.getRng();return _k(t,e,r,Yp,Xp,co).exists(e=>(xk(t,e),!0))},Y_=(t,e)=>{var e=e?1:-1,r=t.selection.getRng();return Ek(t,e,r,Yp,Xp,co).exists(e=>(xk(t,e),!0))},X_=(e,t)=>{var r=t?Xp:Yp;return Nk(e,t,r)},Q_=Sl([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]);const J_={...Q_,none:e=>Q_.none(e)},Z_=(e,t,r)=>xe(Fr(e),e=>_r(e,t)?r(e)?[e]:[]:Z_(e,t,r)),eE=(e,t)=>{return[e,t,r=u]=[["td","th"],e,t],r(t)?R.none():A(e,X(t))?R.some(t):en(t,e.join(","),e=>_r(e,"table")||r(e));var r},tE=e=>{return e=e,t="th,td",Z_(e,t,de);var t},rE=(e,t)=>rn(e,"table",t),nE=(e,t,r,n,o=de)=>{var a=1===n;return!a&&r<=0?J_.first(e[0]):a&&r>=e.length-1?J_.last(e[e.length-1]):o(r=e[a=r+n])?J_.middle(t,r):nE(e,t,a,n,o)},oE=(r,e)=>rE(r,e).bind(e=>{const t=tE(e);return Ce(t,e=>T(r,e)).map(e=>({index:e,all:t}))}),aE=(t,r,e)=>{return oE(t,e).fold(()=>J_.none(t),e=>nE(e.all,t,e.index,1,r))},iE=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t});n=(e,t,r,n,o)=>{var a,i,s,r=Wn(Q.fromDom(r),"td,th,caption").map(e=>e.dom),r=D((a=e,e=r,xe(e,e=>{var t=iE(_s(e.getBoundingClientRect()),-1);return[{x:t.left,y:a(t),cell:e},{x:t.right,y:a(t),cell:e}]})),e=>t(e,o));return e=r,i=n,s=o,ve(e,(e,n)=>e.fold(()=>R.some(n),e=>{var t=Math.sqrt(Math.abs(e.x-i)+Math.abs(e.y-s)),r=Math.sqrt(Math.abs(n.x-i)+Math.abs(n.y-s));return R.some(r<t?n:e)}),R.none()).map(e=>e.cell)};const sE=w(n,e=>e.bottom,(e,t)=>e.y<t),lE=w(n,e=>e.top,(e,t)=>e.y>t),dE=(t,r)=>Re(r.getClientRects()).bind(e=>sE(t,e.left,e.top)).bind(e=>{return rk((t=e,Wm(t).map(e=>nk(t,e).positions.concat(e)).getOr([])),r);var t}),cE=(t,r)=>Ae(r.getClientRects()).bind(e=>lE(t,e.left,e.top)).bind(e=>{return rk((t=e,$m(t).map(e=>[e].concat(ok(t,e).positions)).getOr([])),r);var t});var mE,r=(e,t,r)=>{var n,o,a,i=e(t,r);return(a=i).breakType===xw.Wrap&&0===a.positions.length||!B(r.getNode())&&(a=i).breakType===xw.Br&&1===a.positions.length?(n=e,o=t,!i.breakAt.exists(e=>n(o,e).breakAt.isSome())):i.breakAt.isNone()};const uE=w(r,nk),fE=w(r,ok),gE=(t,e,r,n)=>{var o=t.selection.getRng(),a=e?1:-1;return!(!Wc()||!((e,t,r)=>{const n=v.fromRangeStart(t);return Hm(!e,r).exists(e=>e.isEqual(n))})(e,o,r)||(nx(a,t,r,!e,!1).each(e=>{xk(t,e)}),0))},pE=(e,t)=>{t=t.getNode(e);return Jn(t)?R.some(t):R.none()},hE=(a,i,t)=>{var e=i?pE(!0,t):pE(!1,t);const r=!1===i;e.fold(()=>xk(a,t.toRange()),o=>Hm(r,a.getBody()).filter(e=>e.isEqual(t)).fold(()=>xk(a,t.toRange()),e=>{var t,r,n;t=i,n=o,(r=a).undoManager.transact(()=>{var e=t?yn:bn,e=__(r,Q.fromDom(n),e);xk(r,e)})}))},vE=(e,t,r,n)=>{var o,a,i,s,l,d,c,m=e.selection.getRng(),m=v.fromRangeStart(m),u=e.getBody();return!t&&uE(n,m)?(l=u,d=r,c=m,o=dE(d,c).orThunk(()=>Re(c.getClientRects()).bind(e=>tk(ak(l,v.before(d)),e.left))).getOr(v.before(d)),hE(e,t,o),!0):!(!t||!fE(n,m)||(a=u,i=r,s=m,o=cE(i,s).orThunk(()=>Re(s.getClientRects()).bind(e=>tk(ik(a,v.after(i)),e.left))).getOr(v.after(i)),hE(e,t,o),0))},bE=(r,n,o)=>R.from(r.dom.getParent(r.selection.getNode(),"td,th")).bind(t=>R.from(r.dom.getParent(t,"table")).map(e=>o(r,n,e,t))).getOr(!1),yE=(e,t)=>bE(e,t,gE),CE=(e,t)=>bE(e,t,vE),wE=(t,r,e)=>e.fold(R.none,R.none,(e,t)=>vp(t).map(e=>{return e=Qf.exact(e,0,e,0),rg(e)}),e=>(t.execCommand("mceTableInsertRowAfter"),xE(t,r,e))),xE=(e,t,r)=>wE(e,t,aE(r,on)),kE=(e,t,r)=>{return wE(e,t,(n=r,o=on,oE(n,a).fold(()=>J_.none(),e=>nE(e.all,n,e.index,-1,o))));var n,o,a},_E=(t,r)=>{const n=["table","li","dl"],o=Q.fromDom(t.getBody()),a=e=>{var t=X(e);return T(e,o)||A(n,t)};var e=t.selection.getRng(),e=Q.fromDom(r?e.endContainer:e.startContainer);return eE(e,a).map(e=>{return rE(e,a).each(e=>{t.model.table.clearSelectedCells(e.dom)}),t.selection.collapse(!r),(r?xE:kE)(t,a,e).each(e=>{t.selection.setRng(e)}),!0}).getOr(!1)},EE=(o,a)=>{o.on("keydown",e=>{var t,r,n;e.isDefaultPrevented()||(t=o,r=a,n=e,e=U.os.isMacOS()||U.os.isiOS(),W_([{keyCode:z.RIGHT,action:c(B_,t,!0)},{keyCode:z.LEFT,action:c(B_,t,!1)},{keyCode:z.UP,action:c(P_,t,!1)},{keyCode:z.DOWN,action:c(P_,t,!0)},...e?[{keyCode:z.UP,action:c(M_,t,!1),metaKey:!0,shiftKey:!0},{keyCode:z.DOWN,action:c(M_,t,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:z.RIGHT,action:c(yE,t,!0)},{keyCode:z.LEFT,action:c(yE,t,!1)},{keyCode:z.UP,action:c(CE,t,!1)},{keyCode:z.DOWN,action:c(CE,t,!0)},{keyCode:z.UP,action:c(CE,t,!1)},{keyCode:z.UP,action:c(j_,t,!1)},{keyCode:z.DOWN,action:c(j_,t,!0)},{keyCode:z.RIGHT,action:c(G_,t,!0)},{keyCode:z.LEFT,action:c(G_,t,!1)},{keyCode:z.UP,action:c(Y_,t,!1)},{keyCode:z.DOWN,action:c(Y_,t,!0)},{keyCode:z.RIGHT,action:c(Bk,t,r,!0)},{keyCode:z.LEFT,action:c(Bk,t,r,!1)},{keyCode:z.RIGHT,ctrlKey:!e,altKey:e,action:c(Lk,t,r)},{keyCode:z.LEFT,ctrlKey:!e,altKey:e,action:c(Mk,t,r)},{keyCode:z.UP,action:c(U_,t,!1)},{keyCode:z.DOWN,action:c(U_,t,!0)}],n).each(e=>{n.preventDefault()}))})},SE=(e,t)=>({container:e,offset:t}),NE=te.DOM,DE=t=>e=>t===e?-1:0,RE=(e,t,r)=>{var n;return ee(e)&&0<=t?R.some(SE(e,t)):(n=xs(NE),R.from(n.backwards(e,t,DE(e),r)).map(e=>SE(e.container,e.container.data.length)))},AE=(e,r,n)=>{var t;return ee(e)?(t=e.data,0<=r&&r<=t.length?R.some(SE(e,r)):(t=xs(NE),R.from(t.backwards(e,r,DE(e),n)).bind(e=>{var t=e.container.data;return AE(e.container,r+t.length,n)}))):R.none()},OE=(e,t,r)=>{if(!ee(e))return R.none();const n=e.data;var o;return t<=n.length?R.some(SE(e,t)):(o=xs(NE),R.from(o.forwards(e,t,DE(e),r)).bind(e=>OE(e.container,t-n.length,r)))},TE=(e,t,r,n,o)=>{var a,e=xs(e,(a=e,e=>a.isBlock(e)||A(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===a.getContentEditable(e)));return R.from(e.backwards(t,r,n,o))},BE=e=>Io(e.toString().replace(/\u00A0/g," ")),PE=e=>""!==e&&-1!=="  \f\n\r\t\v".indexOf(e),LE=(e,t)=>e.substring(t.length),ME=(e,r,n,o=0)=>{if(!(t=r).collapsed||!ee(t.startContainer))return R.none();const a={text:"",offset:0};var t=e.getParent(r.startContainer,e.isBlock)||e.getRoot();return TE(e,r.startContainer,r.startOffset,(e,t,r)=>(a.text=r+a.text,a.offset+=t,((e,t,r)=>{let n;var o=r.charAt(0);for(n=t-1;0<=n;n--){var a=e.charAt(n);if(PE(a))return R.none();if(o===a&&st(e,r,n,t))break}return R.some(n)})(a.text,a.offset,n).getOr(t)),t).bind(e=>{var t=r.cloneRange();return t.setStart(e.container,e.offset),t.setEnd(r.endContainer,r.endOffset),t.collapsed||0!==(e=BE(t)).lastIndexOf(n)||LE(e,n).length<o?R.none():R.some({text:LE(e,n),range:t,trigger:n})})},IE=(r,e,n,t=0)=>{return o=Q.fromDom(e.startContainer),rn(o,yp).fold(()=>ME(r,e,n,t),e=>{var t=r.createRng(),e=(t.selectNode(e.dom),BE(t));return R.some({range:t,text:LE(e,n),trigger:n})});var o},FE=e=>{var t;return 3===e.nodeType?SE(e,e.data.length):0<(t=e.childNodes).length?FE(t[t.length-1]):SE(e,t.length)},UE=(e,t)=>{var r=e.childNodes;return 0<r.length&&t<r.length?UE(r[t],0):0<r.length&&e.nodeType===Xt&&r.length===t?FE(r[r.length-1]):SE(e,t)},zE=n=>e=>{var t,r,e=UE(e.startContainer,e.startOffset);return e=e,r=null!=(r=(t=n).getParent(e.container,t.isBlock))?r:t.getRoot(),!TE(t,e.container,e.offset,(e,t)=>0===t?-1:t,r).filter(e=>{e=e.container.data.charAt(e.offset-1);return!PE(e)}).isSome()},jE=(t,r)=>{var n,o,e=r(),a=t.selection.getRng();return n=t.dom,o=a,a=e,Te(a.triggers,e=>IE(n,o,e)).bind(e=>HE(t,r,e))},HE=(t,e,r,n={})=>{e=e();const o=null!=(a=t.selection.getRng().startContainer.nodeValue)?a:"";var a=D(e.lookupByTrigger(r.trigger),e=>r.text.length>=e.minChars&&e.matches.getOrThunk(()=>zE(t.dom))(r.range,o,r.text));return 0===a.length?R.none():(e=Promise.all(h(a,t=>{return t.fetch(r.text,t.maxResults,n).then(e=>({matchText:r.text,items:e,columns:t.columns,onAction:t.onAction,highlightOn:t.highlightOn}))})),R.some({lookupData:e,context:r}))},qE=((e=mE=mE||{})[e.Error=0]="Error",e[e.Value=1]="Value",(e,t,r)=>e.stype===mE.Error?t(e.serror):r(e.svalue));const VE=e=>({stype:mE.Value,svalue:e}),$E=e=>({stype:mE.Error,serror:e});const WE={fromResult:e=>e.fold($E,VE),toResult:e=>qE(e,El.error,El.value),svalue:VE,partition:e=>{const t=[],r=[];return K(e,e=>{qE(e,e=>r.push(e),e=>t.push(e))}),{values:t,errors:r}},serror:$E,bind:(e,t)=>e.stype===mE.Value?t(e.svalue):e,bindError:(e,t)=>e.stype===mE.Error?t(e.serror):e,map:(e,t)=>e.stype===mE.Value?{stype:mE.Value,svalue:t(e.svalue)}:e,mapError:(e,t)=>e.stype===mE.Error?{stype:mE.Error,serror:t(e.serror)}:e,fold:qE},KE=e=>k(e)&&100<Be(e).length?" removed due to size":JSON.stringify(e,null,2),GE=(e,t)=>WE.serror([{path:e,getErrorInfo:t}]),YE=(e,t)=>GE(e,()=>'Choice schema did not contain choice key: "'+t+'"'),XE=(n,t,o,a)=>{return g(o,a).fold(()=>{return e=n,t=o,r=a,GE(e,()=>'The chosen schema: "'+r+'" did not exist in branches: '+KE(t));var e,t,r},e=>e.extract(n.concat(["branch: "+a]),t))};t=a=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");var r={};for(let e=0;e<t.length;e++){var n=t[e];for(const o in n)Y(n,o)&&(r[o]=a(r[o],n[o]))}return r};const QE=t((e,t)=>{return _(e)&&_(t)?QE(e,t):t}),JE=t((e,t)=>t),ZE=()=>({tag:"required",process:{}}),eS=e=>({tag:"defaultedThunk",process:$(e)}),tS=()=>({tag:"option",process:{}}),rS=e=>M(WE.serror,we)(e);const nS={consolidateObj:(e,t)=>{var e=WE.partition(e);return 0<e.errors.length?rS(e.errors):(e=e.values,t=t,0<e.length?WE.svalue(QE(t,JE.apply(void 0,e))):WE.svalue(t))},consolidateArr:e=>{e=WE.partition(e);return 0<e.errors.length?rS(e.errors):WE.svalue(e.values)}};const oS=(e,t,r)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return r(e.newKey,e.instantiator)}},aS=t=>{return{extract:(r,e)=>WE.bindError(t(e),e=>{return t=r,e=e,GE(t,$(e));var t}),toString:$("val")}};o=aS(WE.svalue);const iS=(n,o,a,e)=>g(o,a).fold(()=>{return e=n,t=a,r=o,GE(e,()=>'Could not find valid *required* value for "'+t+'" in '+KE(r));var e,t,r},e),sS=(e,t,r,n)=>{return n(g(e,t).getOrThunk(()=>r(e)))},lS=(t,r,n,o,a)=>{const i=e=>a.extract(r.concat([o]),e);var s,l,e,d,c=e=>e.fold(()=>WE.svalue(R.none()),e=>{e=a.extract(r.concat([o]),e);return WE.map(e,R.some)});switch(t.tag){case"required":return iS(r,n,o,i);case"defaultedThunk":return sS(n,o,t.process,i);case"option":return e=n,d=o,c(g(e,d));case"defaultedOptionThunk":return s=n,e=o,l=t.process,c(g(s,e).map(e=>!0===e?l(s):e));case"mergeWithThunk":return sS(n,o,$({}),e=>{e=QE(t.process(n),e);return i(e)})}},dS=n=>{return{extract:(e,t)=>{{var o=e,a=t;const i={},s=[];for(const r of e=n)oS(r,(e,t,r,n)=>{r=lS(r,o,a,e,n);WE.fold(r,e=>{s.push(...e)},e=>{i[t]=e})},(e,t)=>{i[e]=t(a)});return 0<s.length?WE.serror(s):WE.svalue(i)}},toString:()=>{return"obj{\n"+h(n,e=>oS(e,(e,t,r,n)=>e+" -> "+n.toString(),(e,t)=>"state("+e+")")).join("\n")+"}"}}},cS=n=>{return{extract:(r,e)=>{e=h(e,(e,t)=>n.extract(r.concat(["["+t+"]"]),e));return nS.consolidateArr(e)},toString:()=>"array("+n.toString()+")"}},mS=t=>aS(e=>t(e).fold(WE.serror,WE.svalue)),uS=(e,t,r)=>WE.toResult(((e,t,r)=>{t=t.extract([e],r);return WE.mapError(t,e=>({input:r,errors:e}))})(e,t,r)),fS=e=>"Errors: \n"+(e=>{e=10<e.length?e.slice(0,10).concat([{path:[],getErrorInfo:$("... (only showing first ten failures)")}]):e;return h(e,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo())})(e.errors).join("\n")+"\n\nInput object: "+KE(e.input);n=(e,t)=>{return n=e,o=Me(t,dS),{extract:(t,r)=>{return g(r,n).fold(()=>YE(t,n),e=>XE(t,r,o,e))},toString:()=>"chooseOn("+n+"). Possible values: "+Be(o)};var n,o};const gS=$(o);r=(r,n)=>aS(e=>{var t=typeof e;return r(e)?WE.svalue(e):WE.serror(`Expected type: ${n} but got: `+t)});const pS=r(P,"number"),hS=r(j,"string"),vS=r(S,"boolean"),bS=r(q,"function"),yS=(e,t,r,n)=>({tag:"field",key:e,newKey:t,presence:r,prop:n});e=(e,t)=>({tag:"custom",newKey:e,instantiator:t});const CS=(e,t)=>yS(e,e,ZE(),t);t=e=>CS(e,hS),o=e=>CS(e,bS);const wS=(e,t)=>yS(e,e,tS(),t);r=e=>wS(e,hS);const xS=(e,t,r)=>yS(e,e,eS(t),r);var kS=(e,t)=>xS(e,t,pS);var _S=(e,t,r)=>{return xS(e,t,(n=r,mS(e=>A(n,e)?El.value(e):El.error(`Unsupported value: "${e}", choose one of "${n.join(", ")}".`))));var n},ES=(e,t)=>xS(e,t,vS),SS=(e,t)=>xS(e,t,bS),NS=t("type"),DS=o("fetch"),o=o("onAction"),RS=SS("onSetup",()=>V),AS=r("text"),OS=r("icon"),TS=r("tooltip"),r=r("label"),BS=ES("active",!1),PS=ES("enabled",!0),ES=ES("primary",!1),LS=e=>{return t="type",e=e,xS(t,e,hS);var t};const MS=dS([NS,t("trigger"),kS("minChars",1),(NS="columns",t=t=1,yS(NS,NS,eS(t),gS())),kS("maxResults",10),wS("matches",bS),DS,o,(NS=hS,xS("highlightOn",[],cS(NS)))]);t=[PS,TS,OS,AS,RS],kS=[BS].concat(t),DS=[SS("predicate",u),_S("scope","node",["node","editor"]),_S("position","selection",["node","selection","line"])],NS=t.concat([LS("contextformbutton"),ES,o,e("original",F)]),PS=kS.concat([LS("contextformbutton"),ES,o,e("original",F)]),TS=t.concat([LS("contextformbutton")]),OS=kS.concat([LS("contextformtogglebutton")]),AS=n("type",{contextformbutton:NS,contextformtogglebutton:PS});dS([LS("contextform"),SS("initValue",$("")),r,(RS="commands",BS=AS,yS(RS,RS,ZE(),cS(BS))),wS("launch",n("type",{contextformbutton:TS,contextformtogglebutton:OS}))].concat(DS));const IS=e=>{var e=e.ui.registry.getAll().popups,e=Me(e,e=>{return e=e,uS("Autocompleter",MS,{trigger:e.ch,...e}).fold(e=>{throw new Error(fS(e))},F)}),t=Ve(je(e,e=>e.trigger));const r=He(e);return{dataset:e,triggers:t,lookupByTrigger:t=>D(r,e=>e.trigger===t)}},FS=o=>{const a=Ji(),i=$i(!1),n=a.isSet,s=()=>{var e;n()&&(e=o,i1(e).autocompleter.removeDecoration(),o.dispatch("AutocompleterEnd"),i.set(!1),a.clear())},r=e=>{var t,r;n()||(t=o,r=e.range,i1(t).autocompleter.addDecoration(r),a.set({trigger:e.trigger,matchLength:e.text.length}))},l=Ze(()=>IS(o)),d=e=>{var t;t=e,a.get().map(e=>IE(o.dom,o.selection.getRng(),e.trigger).bind(e=>HE(o,l,e,t))).getOrThunk(()=>jE(o,l)).fold(s,n=>{r(n.context),n.lookupData.then(r=>{a.get().map(e=>{var t=n.context;e.trigger===t.trigger&&(10<=t.text.length-e.matchLength?s():(a.set({...e,matchLength:t.text.length}),i.get()?(e={lookupData:r},o.dispatch("AutocompleterUpdate",e)):(i.set(!0),t={lookupData:r},o.dispatch("AutocompleterStart",t))))})})})};o.addCommand("mceAutocompleterReload",(e,t)=>{t=k(t)?t.fetchOptions:{};d(t)}),o.addCommand("mceAutocompleterClose",s);{var e=o,t={cancelIfNecessary:s,load:d};const c=es(t.load,50);e.on("keypress compositionend",e=>{27!==e.which&&c.throttle()}),e.on("keydown",e=>{e=e.which;8===e?c.throttle():27===e&&t.cancelIfNecessary()}),e.on("remove",c.cancel)}},US=It().browser.isSafari(),zS=e=>Bo(Q.fromDom(e)),jS=(e,t)=>{return 0===e.startOffset&&e.endOffset===(null==(e=t.textContent)?void 0:e.length)},HS=(e,t)=>R.from(e.getParent(t.container(),"details")),qS=(e,t)=>HS(e,t).isSome(),VS=(r,e)=>e.startSummary.exists(e=>{return t=r,e=e,$m(e).exists(e=>e.isEqual(t));var t}),$S=(n,e)=>e.startSummary.exists(e=>{return t=n,r=e,Wm(r).exists(e=>B(e.getNode())&&Vm(r,e).exists(e=>e.isEqual(t))||e.isEqual(t));var t,r}),WS=(e,t)=>{var r=t.getNode();N(r)||e.selection.setCursorLocation(r,t.offset())},KS=(t,e,r)=>{var n=t.dom.getParent(e.container(),"details");n&&!n.open?(n=t.dom.select("summary",n)[0])&&(r?$m:Wm)(n).each(e=>WS(t,e)):WS(t,e)},GS=(r,n,e)=>{const{dom:o,selection:t}=r;var a=r.getBody();if("character"!==e)return!1;{e=v.fromRangeStart(t.getRng());const s=o.getParent(e.container(),o.isBlock),l=HS(o,e),d=s&&o.isEmpty(s),c=E(null===s||void 0===s?void 0:s.previousSibling),m=E(null===s||void 0===s?void 0:s.nextSibling);if(d){var i=n?m:c;if(i)if(zm(!n,a,e).exists(e=>qS(o,e)&&!Ht(l,HS(o,e))))return!0}return zm(n,a,e).fold(u,e=>{var t=HS(o,e);if(!qS(o,e)||Ht(l,t))return!1;if(n||KS(r,e,!1),s&&d){if(n&&c)return!0;if(!n&&m)return!0;KS(r,e,n),r.dom.remove(s)}return!0})}},YS=(e,t,r,n)=>{var o,a,i,s,l,d,c,m=e.selection.getRng(),u=v.fromRangeStart(m),e=e.getBody();return"selection"===n?(l=m,n=(d=t).startSummary.exists(e=>e.contains(l.startContainer)),m=d.startSummary.exists(e=>e.contains(l.endContainer)),c=d.startDetails.forall(t=>d.endDetails.forall(e=>t!==e)),(n||m)&&!(n&&m)||c):r?$S(u,t)||(i=e,s=u,t.startDetails.exists(t=>qm(i,s).forall(e=>!t.contains(e.container())))):VS(u,t)||(o=u,(a=t).startDetails.exists(e=>Vm(e,o).forall(t=>a.startSummary.exists(e=>!e.contains(o.container())&&e.contains(t.container())))))},XS=(t,r,n)=>{return o=t.dom,e=t.selection.getRng(),i=R.from(o.getParent(e.startContainer,"details")),e=R.from(o.getParent(e.endContainer,"details")),(i.isSome()||e.isSome()?(a=i.bind(e=>R.from(o.select("summary",e)[0])),R.some({startSummary:a,startDetails:i,endDetails:e})):R.none()).fold(()=>GS(t,r,n),e=>YS(t,e,r,n)||GS(t,r,n));var o,e,a,i},QS=(l,d,c)=>{const m=l.selection,u=m.getNode();var e=m.getRng(),t=v.fromRangeStart(e);return!!fo(u)&&("selection"===c&&jS(e,u)||av(d,t,u)?zS(u):l.undoManager.transact(()=>{const e=m.getSel();let{anchorNode:t,anchorOffset:r,focusNode:n,focusOffset:o}=null!==e&&void 0!==e?e:{};var a=()=>{H(t)&&H(r)&&H(n)&&H(o)&&null!==e&&void 0!==e&&e.setBaseAndExtent(t,r,n,o)},i=(e,t)=>{K(e.childNodes,e=>{Tu(e)&&t.appendChild(e)})},s=l.dom.create("span",{"data-mce-bogus":"1"});i(u,s),u.appendChild(s),a(),"word"!==c&&"line"!==c||null!==e&&void 0!==e&&e.modify("extend",d?"right":"left",c),!m.isCollapsed()&&jS(m.getRng(),s)?zS(u):(l.execCommand(d?"ForwardDelete":"Delete"),t=null===e||void 0===e?void 0:e.anchorNode,r=null===e||void 0===e?void 0:e.anchorOffset,n=null===e||void 0===e?void 0:e.focusNode,o=null===e||void 0===e?void 0:e.focusOffset,i(s,u),a()),l.dom.remove(s)}),!0)},JS=(e,t,r)=>XS(e,t,r)||US&&QS(e,t,r)?R.some(V):R.none();_S=o=>(e,t,r={})=>{var n=e.getBody(),n={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:n,currentTarget:n,eventPhase:Event.AT_TARGET,originalTarget:n,explicitOriginalTarget:n,isTrusted:!1,srcElement:n,cancelable:!1,preventDefault:V,inputType:t},t=Ei(new InputEvent(o));return e.dispatch(o,{...t,...n,...r})};const ZS=_S("input"),eN=_S("beforeinput");ES=It(),o=ES.os;const tN=o.isMacOS()||o.isiOS(),rN=ES.browser.isFirefox(),nN=(s,l)=>{let d=!1;s.on("keydown",e=>{if(d=e.keyCode===z.BACKSPACE,!e.isDefaultPrevented()){var t=s;var r=l;var n=e;const a=n.keyCode===z.BACKSPACE?"deleteContentBackward":"deleteContentForward",i=t.selection.isCollapsed();var e=i?"character":"selection",o=e=>i?e?"word":"line":"selection";K_([{keyCode:z.BACKSPACE,action:c(p_,t)},{keyCode:z.BACKSPACE,action:c(Cx,t,!1)},{keyCode:z.DELETE,action:c(Cx,t,!0)},{keyCode:z.BACKSPACE,action:c(dx,t,!1)},{keyCode:z.DELETE,action:c(dx,t,!0)},{keyCode:z.BACKSPACE,action:c(jk,t,r,!1)},{keyCode:z.DELETE,action:c(jk,t,r,!0)},{keyCode:z.BACKSPACE,action:c(Mv,t,!1)},{keyCode:z.DELETE,action:c(Mv,t,!0)},{keyCode:z.BACKSPACE,action:c(JS,t,!1,e)},{keyCode:z.DELETE,action:c(JS,t,!0,e)},...tN?[{keyCode:z.BACKSPACE,altKey:!0,action:c(JS,t,!1,o(!0))},{keyCode:z.DELETE,altKey:!0,action:c(JS,t,!0,o(!0))},{keyCode:z.BACKSPACE,metaKey:!0,action:c(JS,t,!1,o(!1))}]:[{keyCode:z.BACKSPACE,ctrlKey:!0,action:c(JS,t,!1,o(!0))},{keyCode:z.DELETE,ctrlKey:!0,action:c(JS,t,!0,o(!0))}],{keyCode:z.BACKSPACE,action:c(wx,t,!1)},{keyCode:z.DELETE,action:c(wx,t,!0)},{keyCode:z.BACKSPACE,action:c(o_,t,!1)},{keyCode:z.DELETE,action:c(o_,t,!0)},{keyCode:z.BACKSPACE,action:c(rx,t,!1)},{keyCode:z.DELETE,action:c(rx,t,!0)},{keyCode:z.BACKSPACE,action:c(Jw,t,!1)},{keyCode:z.DELETE,action:c(Jw,t,!0)},{keyCode:z.BACKSPACE,action:c(Zk,t,!1)},{keyCode:z.DELETE,action:c(Zk,t,!0)}],n).filter(e=>t.selection.isEditable()).each(e=>{n.preventDefault(),eN(t,a).isDefaultPrevented()||(e(),ZS(t,a))})}}),s.on("keyup",e=>{var t,r;e.isDefaultPrevented()||(t=s,e=e,r=d,W_([{keyCode:z.BACKSPACE,action:c(yx,t)},{keyCode:z.DELETE,action:c(yx,t)},...tN?[{keyCode:z.BACKSPACE,altKey:!0,action:c(r_,t)},{keyCode:z.DELETE,altKey:!0,action:c(r_,t)},...r?[{keyCode:rN?224:91,action:c(r_,t)}]:[]]:[{keyCode:z.BACKSPACE,ctrlKey:!0,action:c(r_,t)},{keyCode:z.DELETE,ctrlKey:!0,action:c(r_,t)}]],e)),d=!1})},oN=e=>{for(;e;){if(Z(e)||ee(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},aN=(e,r)=>{var t=e.dom,n=e.schema.getMoveCaretBeforeOnEnterElements();if(r){/^(LI|DT|DD)$/.test(r.nodeName)&&(o=oN(r.firstChild))&&/^(UL|OL|DL)$/.test(o.nodeName)&&r.insertBefore(t.doc.createTextNode(po),r.firstChild);var o,a=t.createRng();if(r.normalize(),r.hasChildNodes()){var i=new Gn(r,r);let e=r,t;for(;t=i.current();){if(ee(t)){a.setStart(t,0),a.setEnd(t,0);break}if(n[t.nodeName.toLowerCase()]){a.setStartBefore(t),a.setEndBefore(t);break}e=t,t=i.next()}t||(a.setStart(e,0),a.setEnd(e,0))}else B(r)?r.nextSibling&&t.isBlock(r.nextSibling)?(a.setStartBefore(r),a.setEndBefore(r)):(a.setStartAfter(r),a.setEndAfter(r)):(a.setStart(r,0),a.setEnd(r,0));e.selection.setRng(a),Tg(e,a)}},iN=(e,t)=>{var r=e.getRoot();let n,o=t;for(;o!==r&&o&&"false"!==e.getContentEditable(o);){if("true"===e.getContentEditable(o)){n=o;break}o=o.parentNode}return o!==r?n:r},sN=e=>R.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),lN=e=>{e.innerHTML='<br data-mce-bogus="1">'},dN=(e,r,t)=>{const n=e.dom;R.from(t.style).map(n.parseStyle).each(e=>{e={...pn(Q.fromDom(r)),...e};n.setStyles(r,e)});var e=R.from(t.class).map(e=>e.split(/\s+/)),o=R.from(r.className).map(e=>D(e.split(/\s+/),e=>""!==e));qt(e,o,(t,e)=>{e=D(e,e=>!A(t,e)),e=[...t,...e];n.setAttrib(r,"class",e.join(" "))});const a=["style","class"];e=ze(t,(e,t)=>!A(a,t));n.setAttribs(r,e)},cN=(e,t)=>{var r;Yl(e).toLowerCase()===t.tagName.toLowerCase()&&(r=Xl(e),dN(e,t,r))},mN=(e,t,r,n,o=!0,a)=>{var i=e.dom,s=e.schema,l=Yl(e),d=r?r.nodeName.toUpperCase():"";let c=t;var m,u=s.getTextInlineElements();let f,g=f=a||"TABLE"===d||"HR"===d?i.create(a||l):r.cloneNode(!1);if(o)do{!u[c.nodeName]||Gm(c)||su(c)||(m=c.cloneNode(!1),i.setAttrib(m,"id",""),f.hasChildNodes()?m.appendChild(f.firstChild):g=m,f.appendChild(m))}while((c=c.parentNode)&&c!==n);else i.setAttrib(f,"style",null),i.setAttrib(f,"class",null);return cN(e,f),lN(g),f},uN=(e,t)=>e.dom.getParent(t,uo),fN=(e,t,r)=>{let n=t;for(;n&&n!==e&&E(n.nextSibling);){var o=n.parentElement;if(!o||!r(o))return uo(o);n=o}return!1},gN=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,pN=e=>{var t;return(null==(t=e.parentNode)?void 0:t.firstChild)===e},hN=(e,t)=>{e=null==e?void 0:e.parentNode;return H(e)&&e.nodeName===t},vN=e=>H(e)&&/^(OL|UL|LI)$/.test(e.nodeName),bN=e=>vN(e)&&vN(e.parentNode),yN=e=>{var t,r=e.parentNode;return t=r,H(t)&&/^(LI|DT|DD)$/.test(t.nodeName)?r:e},CN=(e,t,r)=>{let n=e[r?"firstChild":"lastChild"];for(;n&&!Z(n);)n=n[r?"nextSibling":"previousSibling"];return n===t},wN=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),xN=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,kN=(e,t)=>H(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),_N=(e,t,r)=>ee(t)?e?1===r&&t.data.charAt(r-1)===Lo?0:r:r===t.data.length-1&&t.data.charAt(r)===Lo?t.data.length:r:r;const EN={insert:(r,n)=>{let a,i,t,o,s=!1;const l=r.dom,e=r.schema,d=e.getNonEmptyElements(),c=r.selection.getRng(),m=Yl(r),u=Q.fromDom(c.startContainer);var f=Ur(u,c.startOffset),g=f.exists(e=>Jt(e)&&!on(e)),g=c.collapsed&&g;const p=e=>mN(r,a,w,C,ed(r),e);var h,v=e=>{var t=_N(e,a,i);if(ee(a)&&(e?0<t:t<a.data.length))return!1;if((a.parentNode!==w||!s||e)&&(!e||!Z(a)||a!==w.firstChild)){if(xN(a,"TABLE")||xN(a,"HR"))return s&&!e||!s&&e;var r,n=new Gn(a,w);for(ee(a)&&(e&&0===t?n.prev():e||t!==a.data.length||n.next());r=n.current();){if(Z(r)){if(!r.getAttribute("data-mce-bogus")){var o=r.nodeName.toLowerCase();if(d[o]&&"br"!==o)return!1}}else if(ee(r)&&!ua(r.data))return!1;e?n.prev():n.next()}}return!0},b=()=>{let e;return e=/^(H[1-6]|PRE|FIGURE)$/.test(t)&&"HGROUP"!==x?p(m):p(),((e,t)=>{e=td(e);return!ne(t)&&(j(e)?A(O.explode(e),t.nodeName.toLowerCase()):e)})(r,o)&&kN(l,o)&&l.isEmpty(w,void 0,{includeZwsp:!0})?e=l.split(o,w):l.insertAfter(e,w),aN(r,e),e},y=(dg(l,c).each(e=>{c.setStart(e.startContainer,e.startOffset),c.setEnd(e.endContainer,e.endOffset)}),a=c.startContainer,i=c.startOffset,!(!n||!n.shiftKey)),n=!(!n||!n.ctrlKey);Z(a)&&a.hasChildNodes()&&!g&&(s=i>a.childNodes.length-1,a=a.childNodes[Math.min(i,a.childNodes.length-1)]||a,i=s&&ee(a)?a.data.length:0);const C=iN(l,a);if(!C||((e,t)=>{t=e.dom.getParent(t,"ol,ul,dl");return null!==t&&"false"===e.dom.getContentEditableParent(t)})(r,a))return;y||(a=((r,n,o,a,i)=>{var s=r.dom,l=null!=(l=iN(s,a))?l:s.getRoot(),d=s.getParent(a,s.isBlock);if(!d||!kN(s,d)){if(!(d=d||l).hasChildNodes())return l=s.create(n),cN(r,l),d.appendChild(l),o.setStart(l,0),o.setEnd(l,0),l;let e=a;for(;e&&e.parentNode!==d;)e=e.parentNode;let t;for(;e&&!s.isBlock(e);)e=(t=e).previousSibling;l=null==(l=null===t||void 0===t?void 0:t.parentElement)?void 0:l.nodeName;if(t&&l&&r.schema.isValidChild(l,n.toLowerCase())){var l=t.parentNode,c=s.create(n);for(cN(r,c),l.insertBefore(c,t),e=t;e&&!s.isBlock(e);){var m=e.nextSibling;c.appendChild(e),e=m}o.setStart(a,i),o.setEnd(a,i)}}return a})(r,m,c,a,i));let w=l.getParent(a,l.isBlock)||l.getRoot();o=H(null===w||void 0===w?void 0:w.parentNode)?l.getParent(w.parentNode,l.isBlock):null,t=w?w.nodeName.toUpperCase():"";const x=o?o.nodeName.toUpperCase():"";if("LI"!==x||n||(n=o,w=n,o=n.parentNode,t=x),Z(o)&&(h=r,n=w,!y)&&n.nodeName.toLowerCase()===Yl(h)&&h.dom.isEmpty(n)&&fN(h.getBody(),n,e=>Y(h.schema.getTextBlockElements(),e.nodeName.toLowerCase())))y=r,n=p,_=w,n=n(Yl(y)),(k=uN(y,_))&&(y.dom.insertAfter(n,k),aN(y,n),1<(null!=(k=null==(n=null==(k=_.parentElement)?void 0:k.childNodes)?void 0:n.length)?k:0))&&y.dom.remove(_);else if(/^(LI|DT|DD)$/.test(t)&&Z(o)&&l.isEmpty(w)){var n=r,k=p,y=o,_=w,E=m,S=n.dom,N=n.selection.getRng(),D=y.parentNode;if(y!==n.getBody()&&D){let e=k(E=bN(y)?"LI":E);CN(y,_,!0)&&CN(y,_,!1)?hN(y,"LI")?(k=yN(y),S.insertAfter(e,k),pN(y)?S.remove(k):S.remove(y)):S.replace(e,y):(CN(y,_,!0)?hN(y,"LI")?(S.insertAfter(e,yN(y)),e.appendChild(S.doc.createTextNode(" ")),e.appendChild(y)):D.insertBefore(e,y):CN(y,_,!1)?S.insertAfter(e,yN(y)):(y=yN(y),(k=N.cloneRange()).setStartAfter(_),k.setEndAfter(y),D=k.extractContents(),"LI"===E&&gN(D,"LI")?(e=D.firstChild,S.insertAfter(D,y)):(S.insertAfter(D,y),S.insertAfter(e,y))),S.remove(_)),aN(n,e)}}else if(g||w!==r.getBody()&&kN(l,w)){N=w.parentNode;let t;if(g)t=p(m),f.fold(()=>{wn(u,Q.fromDom(t))},e=>{bn(e,Q.fromDom(t))}),r.selection.setCursorLocation(t,0);else if(zo(w))t=Yo(w),l.isEmpty(w)&&lN(w),cN(r,t),aN(r,t);else if(v(!1))t=b();else if(v(!0)&&N){t=N.insertBefore(p(),w);E=Q.fromDom(c.startContainer).dom.hasChildNodes()&&c.collapsed;aN(r,xN(w,"HR")||E?t:w)}else{D=c,(y=D.cloneRange()).setStart(D.startContainer,_N(!0,D.startContainer,D.startOffset)),y.setEnd(D.endContainer,_N(!1,D.endContainer,D.endOffset));S=y.cloneRange(),n=(S.setEndAfter(w),S.extractContents());g=n,K($n(Q.fromDom(g),er),e=>{e=e.dom;e.nodeValue=Io(e.data)});{f=n;let e=f;for(;ee(e)&&(e.data=e.data.replace(/^[\r\n]+/,"")),e=e.firstChild;);}t=n.firstChild,l.insertAfter(n,w),((r,n,o)=>{var a,i=[];if(o){let e=o;for(;e=e.firstChild;){if(r.isBlock(e))return;Z(e)&&!n[e.nodeName.toLowerCase()]&&i.push(e)}let t=i.length;for(;t--;)(!(e=i[t]).hasChildNodes()||e.firstChild===e.lastChild&&""===(null==(a=e.firstChild)?void 0:a.nodeValue)||wN(r,e))&&r.remove(e)}})(l,d,t),v=l,(y=w).normalize(),(!(g=y.lastChild)||Z(g)&&/^(left|right)$/gi.test(v.getStyle(g,"float",!0)))&&v.add(y,"br"),l.isEmpty(w)&&lN(w),t.normalize(),l.isEmpty(t)?(l.remove(t),b()):(cN(r,t),aN(r,t))}l.setAttrib(t,"id",""),r.dispatch("NewBlock",{newBlock:t})}},fakeEventName:"insertParagraph"},SN=(e,t,r)=>{for(var n,o=new Gn(t,r),a=e.getNonEmptyElements();n=o.next();)if(a[n.nodeName.toLowerCase()]||ee(n)&&0<n.length)return!0;return!1},NN=(e,t,r)=>{var n=e.dom.createRng();r?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),e.selection.setRng(n),Tg(e,n)},DN=(e,t)=>{var r=Q.fromTag("br");bn(Q.fromDom(t),r),e.undoManager.add()},RN=(e,t)=>{((e,t)=>{if(AN(v.after(t)))return true;else return qm(e,v.after(t)).map(e=>{return B(e.getNode())}).getOr(false)})(e.getBody(),t)||yn(Q.fromDom(t),Q.fromTag("br"));var r=Q.fromTag("br");yn(Q.fromDom(t),r),NN(e,r.dom,!1),e.undoManager.add()},AN=e=>B(e.getNode()),ON=e=>e&&"A"===e.nodeName&&"href"in e,TN=e=>e.fold(u,ON,ON,u),BN=(e,t)=>{t.fold(V,w(DN,e),w(RN,e),V)};const PN={insert:(a,i)=>{l=a,s=w(Gh,l),d=v.fromRangeStart(l.selection.getRng());var s=Hx(s,l.getBody(),d).filter(TN);if(s.isSome())s.each(w(BN,a));else{var l=a;var d=i;s=l.selection,a=l.dom;const c=s.getRng();let e,t=!1,r=(dg(a,c).each(e=>{c.setStart(e.startContainer,e.startOffset),c.setEnd(e.endContainer,e.endOffset)}),c.startOffset),n=c.startContainer,o=(Z(n)&&n.hasChildNodes()&&(s=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,r=s&&ee(n)?n.data.length:0),a.getParent(n,a.isBlock));s=o&&o.parentNode?a.getParent(o.parentNode,a.isBlock):null,i=s?s.nodeName.toUpperCase():"",d=!(!d||!d.ctrlKey);"LI"!==i||d||(o=s),ee(n)&&r>=n.data.length&&(SN(l.schema,n,o||a.getRoot())||(e=a.create("br"),c.insertNode(e),c.setStartAfter(e),c.setEndAfter(e),t=!0)),e=a.create("br"),rl(a,c,e),NN(l,e,t),l.undoManager.add()}},fakeEventName:"insertLineBreak"},LN=(e,t)=>sN(e).filter(e=>0<t.length&&_r(Q.fromDom(e),t)).isSome(),MN=Sl([{br:[]},{block:[]},{none:[]}]),IN=(e,t)=>{return e=e,LN(e,Zl(e))},FN=r=>(e,t)=>{return e=e,sN(e).filter(e=>Eo(Q.fromDom(e))).isSome()===r},UN=(r,n)=>(e,t)=>{return e=e,sN(e).fold($(""),e=>e.nodeName.toUpperCase())===r.toUpperCase()===n},zN=e=>{e=iN(e.dom,e.selection.getStart());return ne(e)},jN=e=>UN("pre",e),HN=r=>(e,t)=>Gl(e)===r,qN=(e,t)=>{return e=e,LN(e,Jl(e))},VN=(e,t)=>t,$N=e=>{var t=Yl(e),r=iN(e.dom,e.selection.getStart());return H(r)&&e.schema.isValidChild(r.nodeName,t)},WN=e=>{var e=e.selection.getRng(),t=Q.fromDom(e.startContainer),t=Ur(t,e.startOffset).map(e=>Jt(e)&&!on(e));return e.collapsed&&t.getOr(!0)},KN=(e,t)=>(r,n)=>{return ve(e,(e,t)=>e&&t(r,n),!0)?R.some(t):R.none()},GN=(e,t)=>Tx([KN([IN],MN.none()),KN([jN(!0),zN],MN.none()),KN([UN("summary",!0)],MN.br()),KN([jN(!0),HN(!1),VN],MN.br()),KN([jN(!0),HN(!1)],MN.block()),KN([jN(!0),HN(!0),VN],MN.block()),KN([jN(!0),HN(!0)],MN.br()),KN([FN(!0),VN],MN.br()),KN([FN(!0)],MN.block()),KN([qN],MN.br()),KN([VN],MN.br()),KN([$N],MN.block()),KN([WN],MN.block())],[e,!(!t||!t.shiftKey)]).getOr(MN.none()),YN=(e,t,r)=>{if((t.selection.isCollapsed()||t.execCommand("delete"),H(r))&&eN(t,e.fakeEventName).isDefaultPrevented())return;e.insert(t,r),H(r)&&ZS(t,e.fakeEventName)},XN=(e,t)=>{var r=()=>YN(PN,e,t),n=()=>YN(EN,e,t),o=GN(e,t);switch(Ql(e)){case"linebreak":o.fold(r,r,V);break;case"block":o.fold(n,n,V);break;case"invert":o.fold(n,r,V);break;default:o.fold(r,n,V)}};e=It();const QN=e.os.isiOS()&&e.browser.isSafari(),JN=(e,t)=>{var r;t.isDefaultPrevented()||(t.preventDefault(),(r=e.undoManager).typing&&(r.typing=!1,r.add()),e.undoManager.transact(()=>{XN(e,t)}))},ZN=o=>{let a=R.none();o.on("keydown",e=>{var t,r,n;e.keyCode===z.ENTER&&(QN&&!!(t=o.selection.getRng()).collapsed&&(n=t.startContainer,!!ee(n))&&(r=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,n=n.data.charAt(t.startOffset-1),r.test(n))?(t=o,a=R.some(t.selection.getBookmark()),t.undoManager.add()):JN(o,e))}),o.on("keyup",r=>{r.keyCode===z.ENTER&&a.each(()=>{return e=r,(t=o).undoManager.undo(),a.fold(V,e=>t.selection.moveToBookmark(e)),JN(t,e),void(a=R.none());var t,e})})},eD=(o,a)=>{o.on("keydown",e=>{var t,r,n;e.isDefaultPrevented()||(t=o,r=a,n=e,e=U.os.isMacOS()||U.os.isiOS(),W_([{keyCode:z.END,action:c(L_,t,!0)},{keyCode:z.HOME,action:c(L_,t,!1)},...e?[]:[{keyCode:z.HOME,action:c(M_,t,!1),ctrlKey:!0,shiftKey:!0},{keyCode:z.END,action:c(M_,t,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:z.END,action:c(X_,t,!0)},{keyCode:z.HOME,action:c(X_,t,!1)},{keyCode:z.END,action:c(Ik,t,!0,r)},{keyCode:z.HOME,action:c(Ik,t,!1,r)}],n).each(e=>{n.preventDefault()}))})},tD=r=>{r.on("input",e=>{var t;e.isComposing||(t=r,e=Q.fromDom(t.getBody()),t.selection.isCollapsed()&&Oh(e,v.fromRangeStart(t.selection.getRng())).each(e=>{t.selection.setRng(e.toRange())}))})},rD=It(),nD=e=>e.stopImmediatePropagation(),oD=e=>e.keyCode===z.PAGE_UP||e.keyCode===z.PAGE_DOWN,aD=(e,t,r)=>{r&&!e.get()?t.on("NodeChange",nD,!0):!r&&e.get()&&t.off("NodeChange",nD),e.set(r)},iD=(o,a)=>{if(!rD.os.isMacOS()){const i=$i(!1);o.on("keydown",e=>{oD(e)&&aD(i,o,!0)}),o.on("keyup",e=>{var t,r,n;e.isDefaultPrevented()||(t=o,r=a,n=e,W_([{keyCode:z.PAGE_UP,action:c(Ik,t,!1,r)},{keyCode:z.PAGE_DOWN,action:c(Ik,t,!0,r)}],n)),oD(e)&&i.get()&&(aD(i,o,!1),o.nodeChanged())})}};t=(r,n)=>{var e=n.container(),t=n.offset();return ee(e)?(e.insertData(t,r),R.some(v(e,t+r.length))):ym(n).map(e=>{var t=Q.fromText(r);return(n.isAtEnd()?yn:bn)(e,t),v(t.dom,r.length)})};const sD=w(t,po),lD=w(t," "),dD=t=>e=>{t.selection.setRng(e.toRange()),t.nodeChanged()},cD=n=>{const o=v.fromRangeStart(n.selection.getRng()),a=Q.fromDom(n.getBody());var e,t,r;return n.selection.isCollapsed()?(e=w(Gh,n),t=v.fromRangeStart(n.selection.getRng()),Hx(e,n.getBody(),t).bind((r=a,e=>e.fold(e=>Vm(r.dom,v.before(e)),e=>$m(e),e=>Wm(e),e=>qm(r.dom,v.after(e))))).map(e=>()=>{return t=a,r=o,(e=>(xh(t,e)?sD:lD)(r))(e).each(dD(n));var t,r})):R.none()},mD=r=>{var e,t;return Vt(U.browser.isFirefox()&&r.selection.isEditable()&&(e=r.dom,t=r.selection.getRng().startContainer,e.isEditable(e.getParent(t,"summary"))),()=>{var e=Q.fromDom(r.getBody()),t=(r.selection.isCollapsed()||r.getDoc().execCommand("Delete"),v.fromRangeStart(r.selection.getRng()));e=e,t=t,(xh(e,t)?sD:lD)(t).each(dD(r))})},uD=n=>{n.on("keydown",e=>{var t,r;e.isDefaultPrevented()||(t=n,r=e,K_([{keyCode:z.SPACEBAR,action:c(cD,t)},{keyCode:z.SPACEBAR,action:c(mD,t)}],r).each(e=>{r.preventDefault(),eN(t,"insertText",{data:" "}).isDefaultPrevented()||(e(),ZS(t,"insertText",{data:" "}))}))})},fD=(e,t)=>{W_([...(e=e,Dc(e)?[{keyCode:z.TAB,action:c(_E,e,!0)},{keyCode:z.TAB,shiftKey:!0,action:c(_E,e,!1)}]:[])],t).each(e=>{t.preventDefault()})},gD=e=>{var t,r,n;return e.addShortcut("Meta+P","","mcePrint"),FS(e),n1(e)?$i(null):(t=Pk(e),(n=e).on("keyup compositionstart",w(D_,n)),EE(e,t),nN(e,t),ZN(e),uD(e),tD(e),(r=e).on("keydown",e=>{e.isDefaultPrevented()||fD(r,e)}),eD(e,t),iD(e,t),t)};class pD{constructor(r){this.lastPath=[],this.editor=r;let n;const t=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",e=>{var t=r.selection.getRng(),t={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};"nodechange"!==e.type&&og(t,n)||r.dispatch("SelectionChange"),n=t}),r.on("contextmenu",()=>{r.dispatch("SelectionChange")}),r.on("SelectionChange",()=>{var e=r.selection.getStart(!0);e&&Ru(r)&&!t.isSameElementPath(e)&&r.dom.isChildOf(e,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",e=>{!e.isDefaultPrevented()&&Ru(r)&&("IMG"===r.selection.getNode().nodeName?Kg.setEditorTimeout(r,()=>{r.nodeChanged()}):r.nodeChanged())})}nodeChanged(e={}){var t=this.editor.selection;let r;if(this.editor.initialized&&t&&!qd(this.editor)&&!this.editor.mode.isReadOnly()){const n=this.editor.getBody(),o=((r=t.getStart(!0)||n).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,n)||(r=n),[]);this.editor.dom.getParent(r,e=>e===n||(o.push(e),!1)),this.editor.dispatch("NodeChange",{...e,element:r,parents:o})}}isSameElementPath(e){let t;var r=this.editor,n=_e(r.dom.getParents(e,de,r.getBody()));if(n.length===this.lastPath.length){for(t=n.length;0<=t&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1}}const hD=ps("image"),vD=ps("event"),bD=t=>e=>{e[vD]=t},yD=bD(0),CD=bD(2),wD=bD(1);var xD;xD=0;const kD=e=>{return R.from(e[vD]).exists(e=>e===xD)},_D=ps("mode"),ED=t=>e=>{e[_D]=t},SD=(e,t)=>ED(t)(e),ND=ED(0),DD=ED(2),RD=ED(1);kS=t=>e=>{return R.from(e[_D]).exists(e=>e===t)};const AD=kS(0),OD=kS(1),TD=["none","copy","link","move"],BD=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],PD=()=>{const a=new window.DataTransfer;let t="move",r="all";const i={get dropEffect(){return t},set dropEffect(e){A(TD,e)&&(t=e)},get effectAllowed(){return r},set effectAllowed(e){kD(i)&&A(BD,e)&&(r=e)},get items(){return r=i,{...n=a.items,get length(){return n.length},add:(e,t)=>{if(AD(r)){if(!j(e))return n.add(e);if(!N(t))return n.add(e,t)}return null},remove:e=>{AD(r)&&n.remove(e)},clear:()=>{AD(r)&&n.clear()}};var r,n},get files(){return OD(i)?Object.freeze({length:0,item:e=>null}):a.files},get types(){return a.types},setDragImage:(e,t,r)=>{var n,o;AD(i)&&(n=i,o={image:e,x:t,y:r},n[hD]=o,a.setDragImage(e,t,r))},getData:e=>OD(i)?"":a.getData(e),setData:(e,t)=>{AD(i)&&a.setData(e,t)},clearData:e=>{AD(i)&&a.clearData(e)}};return ND(i),i},LD=t=>{const r=PD();n=t;var e,n=R.from(n[_D]);return DD(t),yD(r),r.dropEffect=t.dropEffect,r.effectAllowed=t.effectAllowed,e=t,R.from(e[hD]).each(e=>r.setDragImage(e.image,e.x,e.y)),K(t.types,e=>{"Files"!==e&&r.setData(e,t.getData(e))}),K(t.files,e=>r.items.add(e)),e=t,R.from(e[vD]).each(e=>{var t;t=r,e=e,bD(e)(t)}),n.each(e=>{SD(t,e),SD(r,e)}),r},MD=(e,t)=>e.setData("text/html",t);NS="x-tinymce/html";const ID=$(NS),FD="\x3c!-- "+NS+" --\x3e",UD=e=>-1!==e.indexOf(FD),zD=(e,t,r)=>{e=e.split(/\n\n/);const n=((e,t)=>{let r="<"+e;e=je(t,(e,t)=>t+'="'+ai.encodeAllRaw(e)+'"');return e.length&&(r+=" "+e.join(" ")),r+">"})(t,r),o="</"+t+">";r=h(e,e=>e.split(/\n/).join("<br />"));return 1===r.length?r[0]:h(r,e=>n+e+o).join("")},jD="%MCEPASTEBIN%",HD=e=>e.dom.get("mcepastebin"),qD=e=>H(e)&&"mcepastebin"===e.id,VD=e=>e===jD,$D=s=>{const a=$i(null);return{create:()=>{var e=s,t=a,{dom:r,selection:n}=e,o=e.getBody(),t=(t.set(n.getRng()),r.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},jD));U.browser.isFirefox()&&r.setStyle(t,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(t,"beforedeactivate focusin focusout",e=>{e.stopPropagation()}),t.focus(),n.select(t,!0)},remove:()=>{var e=s,t=a,r=e.dom;if(HD(e)){for(var n,o=t.get();n=HD(e);)r.remove(n),r.unbind(n);o&&e.selection.setRng(o)}t.set(null)},getEl:()=>HD(s),getHtml:()=>{{var e=s;const n=e.dom,o=(e,t)=>{e.appendChild(t),n.remove(t,!0)},[a,...i]=D(e.getBody().childNodes,qD);K(i,e=>{o(a,e)});var t=n.select("div[id=mcepastebin]",a);for(let e=t.length-1;0<=e;e--){var r=n.create("div");a.insertBefore(r,t[e]),o(r,t[e])}return a?a.innerHTML:""}},getLastRng:a.get}},WD=(t,e)=>(O.each(e,e=>{t=x(e,RegExp)?t.replace(e,""):t.replace(e[0],e[1])}),t),KD=e=>{return e=WD(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,r)=>t||r?po:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i])};var GD;const YD=(e,t)=>({content:e,cancelled:t}),XD=(e,t,r)=>{var n,o,t=e.dispatch("PastePreProcess",{content:t,internal:r}),a=(n=e,a=t.content,(o=pC({sanitize:Ec(n)},n.schema)).addNodeFilter("meta",e=>{O.each(e,e=>{e.remove()})}),o=o.parse(a,{forced_root_block:!1,isRootContent:!0}),Fp({validate:!0},n.schema).serialize(o));return e.hasEventListeners("PastePostProcess")&&!t.isDefaultPrevented()?(n=a,o=r,n=(r=e).dom.create("div",{style:"display:none"},n),r=r.dispatch("PastePostProcess",{node:n,internal:o}),YD(r.node.innerHTML,r.isDefaultPrevented())):YD(a,t.isDefaultPrevented())},QD=(e,t)=>(e.insertContent(t,{merge:fc(e),paste:!0}),!0),JD=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),ZD=(e,t,r)=>{return!(e.selection.isCollapsed()||!JD(t)||(o=t,a=r,(n=e).undoManager.extra(()=>{a(n,o)},()=>{n.execCommand("mceInsertLink",!1,o)}),0));var n,o,a},eR=(e,t,r)=>{return i=e,s=t,!(!JD(s)||!W(Nc(i),e=>dt(s.toLowerCase(),"."+e.toLowerCase()))||(o=t,a=r,(n=e).undoManager.extra(()=>{a(n,o)},()=>{n.insertContent('<img src="'+o+'">')}),0));var n,o,a,i,s},tR=(e,t,r)=>{var n,o;r||!gc(e)?QD(e,t):(n=e,o=t,O.each([ZD,eR,QD],e=>!e(n,o,QD)))},rR=(e=>{let t=0;return()=>e+t++})("mceclip"),nR=(e,t,r,n,o)=>{a=e,t=t,r=r;var a=XD(a,t,r);if(!a.cancelled){const t=a.content;r=()=>tR(e,t,n);o?eN(e,"insertFromPaste",{dataTransfer:(a=t,o=PD(),MD(o,a),DD(o),o)}).isDefaultPrevented()||(r(),ZS(e,"insertFromPaste")):r()}},oR=(e,t,r,n)=>{r=r||UD(t);nR(e,t.replace(FD,""),r,!1,n)},aR=(e,t,r)=>{t=e.dom.encode(t).replace(/\r\n/g,"\n"),t=ga(t,hc(e)),t=zD(t,Yl(e),Xl(e));nR(e,t,!1,!0,r)},iR=t=>{var r={};if(t&&t.types)for(let e=0;e<t.types.length;e++){var n=t.types[e];try{r[n]=t.getData(n)}catch(e){r[n]=""}}return r},sR=(e,t)=>t in e&&0<e[t].length,lR=e=>sR(e,"text/html")||sR(e,"text/plain"),dR=(e,t,r,n)=>{var o=rR(),a=nd(e)&&H(r.name),e=a?((e,t)=>{t=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return H(t)?e.dom.encode(t[1]):void 0})(e,r.name):o,a=a?r.name:void 0,o=t.create(o,r,n,e,a);return t.add(o),o},cR=e=>{const t=Nc(e);return r=>lt(r.type,"image/")&&W(t,e=>{return e=(e=e).toLowerCase(),t={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"},(O.hasOwn(t,e)?"image/"+t[e]:"image/"+e)===r.type;var t})},mR=(t,e,r)=>{var n,o="paste"===e.type?e.clipboardData:e.dataTransfer;if(sc(t)&&o){n=t,a=(o=o).items?xe(Oe(o.items),e=>"file"===e.kind?[e.getAsFile()]:[]):[],o=o.files?Oe(o.files):[];var a=D(0<a.length?a:o,cR(n));if(0<a.length)return e.preventDefault(),o=a,Promise.all(h(o,t=>K0(t).then(e=>({file:t,uri:e})))).then(e=>{r&&t.selection.setRng(r),K(e,e=>{var o,a;o=t,a=e,V0(a.uri).each(({data:e,type:t,base64Encoded:r})=>{var r=r?e:btoa(e),e=a.file,n=o.editorUpload.blobCache,t=n.getByData(r,t),t=null!=t?t:dR(o,n,e,r);oR(o,`<img src="${t.blobUri()}">`,!1,!0)})})}),!0}return!1},uR=(e,t,r,n,o)=>{let a=KD(r);var r=sR(t,ID())||UD(r),i=!r&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(a),s=JD(a);((n=VD(a)||!a.length||i&&!s?!0:n)||s)&&(a=sR(t,"text/plain")&&i?t["text/plain"]:(e=>{const n=Ci();var t=pC({},n);let o="";const a=n.getVoidElements(),i=O.makeMap("script noscript style textarea video audio iframe object"," "),s=n.getBlockElements(),l=t=>{var e=t.name,r=t;if("br"===e)o+="\n";else if("wbr"!==e)if(a[e]&&(o+=" "),i[e])o+=" ";else{if(3===t.type&&(o+=t.value),!(t.name in n.getVoidElements())){let e=t.firstChild;if(e)for(;l(e),e=e.next;);}s[e]&&r.next&&(o+="\n","p"===e)&&(o+="\n")}};return e=WD(e,[/<!\[[^\]]+\]>/g]),l(t.parse(e)),o})(a)),VD(a)||(n?aR(e,a,o):oR(e,a,r,o))},fR=(o,a,i)=>{let s;o.on("keydown",e=>{var t;t=e,(z.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode)&&!e.isDefaultPrevented()&&(s=e.shiftKey&&86===e.keyCode)}),o.on("paste",e=>{if(!e.isDefaultPrevented()&&(t=e,!U.os.isAndroid()||0!==(null==(t=null==(t=t.clipboardData)?void 0:t.items)?void 0:t.length))){var t;const r="text"===i.get()||s,n=(s=!1,iR(e.clipboardData));!lR(n)&&mR(o,e,a.getLastRng()||o.selection.getRng())||(sR(n,"text/html")?(e.preventDefault(),uR(o,n,n["text/html"],r,!0)):sR(n,"text/plain")&&sR(n,"text/uri-list")?(e.preventDefault(),uR(o,n,n["text/plain"],r,!0)):(a.create(),Kg.setEditorTimeout(o,()=>{var e=a.getHtml();a.remove(),uR(o,n,e,r,!1)},0)))}})},gR=i=>{i.parser.addNodeFilter("img",(e,t,r)=>{if(!sc(i)&&!0===(null==(r=(r=r).data)?void 0:r.paste))for(const a of e){var n=a.attr("src");j(n)&&!a.attr("data-mce-object")&&n!==U.transparentSrc&&(o=n,lt(o,"webkit-fake-url")||!vc(i)&&(o=n,lt(o,"data:")))&&a.remove()}var o})},pR=(r,n)=>{r.addCommand("mceTogglePlainTextPaste",()=>{var e,t;e=r,"text"===(t=n).get()?(t.set("html"),Bf(e,!1)):(t.set("text"),Bf(e,!0)),e.focus()}),r.addCommand("mceInsertClipboardContent",(e,t)=>{t.html&&oR(r,t.html,t.internal,!1),t.text&&aR(r,t.text,!1)})},hR=(e,t,r,n)=>{((e,t,r)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",r),e.setData(ID(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),n()):r(t.html,n)},vR=s=>(e,t)=>{const{dom:r,selection:n}=s,o=r.create("div",{contenteditable:"false","data-mce-bogus":"all"});e=r.create("div",{contenteditable:"true"},e);r.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(e),r.add(s.getBody(),o);const a=n.getRng();e.focus();var i=r.createRng();i.selectNodeContents(e),n.setRng(i),Kg.setEditorTimeout(s,()=>{n.setRng(a),r.remove(o),t()},0)},bR=e=>{return{html:(t=e.selection.getContent({contextual:!0}),FD+t),text:e.selection.getContent({format:"text"})};var t},yR=e=>{return!e.selection.isCollapsed()||!!(e=e).dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody())},CR=e=>{var t,r;e.on("cut",(t=e,e=>{!e.isDefaultPrevented()&&yR(t)&&hR(e,bR(t),vR(t),()=>{if(U.browser.isChromium()||U.browser.isFirefox()){const e=t.selection.getRng();Kg.setEditorTimeout(t,()=>{t.selection.setRng(e),t.execCommand("Delete")},0)}else t.execCommand("Delete")})})),e.on("copy",(r=e,e=>{!e.isDefaultPrevented()&&yR(r)&&hR(e,bR(r),vR(r),V)}))},wR=(e,t)=>{var r;return ug.getCaretRangeFromPoint(null!=(r=t.clientX)?r:0,null!=(r=t.clientY)?r:0,e.getDoc())},xR=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},kR=r=>{r.on("input",e=>{"deleteByDrag"===e.inputType&&(e=D(r.dom.select("details"),e=>E(e.querySelector("summary"))),K(e,e=>{B(e.firstChild)&&e.firstChild.remove();var t=r.dom.create("summary");t.appendChild(To().dom),e.prepend(t)}))})},_R=(f,g)=>{ic(f)&&f.on("dragend dragover draggesture dragdrop drop drag",e=>{e.preventDefault(),e.stopPropagation()}),sc(f)||f.on("drop",e=>{var t=e.dataTransfer;t&&(t=t,W(t.files,e=>/^image\//.test(e.type)))&&e.preventDefault()}),f.on("drop",e=>{if(!e.isDefaultPrevented()){const i=wR(f,e);if(!ne(i)){const s=iR(e.dataTransfer),l=sR(s,ID());if(lR(s)&&!(e=>{e=e["text/plain"];return!!e&&0===e.indexOf("file://")})(s)||!mR(f,e,i)){const d=s[ID()],c=d||s["text/html"]||s["text/plain"],m=(t=f.dom,r=f.schema,n=i.startContainer,o=s,a=t.getParent(n,e=>Ta(r,e)),!E(t.getParent(n,"summary"))||!(!a||!Y(o,"text/html")||(t=(new DOMParser).parseFromString(o["text/html"],"text/html").body,E(t.querySelector(a.nodeName.toLowerCase())))));var t,r,n,o,a;const u=g.get();u&&!m||c&&(e.preventDefault(),Kg.setEditorTimeout(f,()=>{f.undoManager.transact(()=>{(d||u&&m)&&f.execCommand("Delete"),xR(f,i);var e=KD(c);s["text/html"]?oR(f,e,l,!0):aR(f,e,!0)})}))}}}}),f.on("dragstart",e=>{g.set(!0)}),f.on("dragover dragend",e=>{sc(f)&&!g.get()&&(e.preventDefault(),xR(f,wR(f,e))),"dragend"===e.type&&g.set(!1)}),kR(f)},ER=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,SR=e=>O.trim(e).replace(ER,yu).toLowerCase(),NR=(e,t,r)=>{var n=mc(e);if(!r&&"all"!==n&&uc(e)){const s=n?n.split(/[, ]/):[];if(s&&"none"!==n){const l=e.dom,d=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(e,t,r,n)=>{var o=l.parseStyle(l.decode(r)),a={};for(let r=0;r<s.length;r++){var i=o[s[r]];let e=i,t=l.getStyle(d,s[r],!0);/color/.test(s[r])&&(e=SR(e),t=SR(t)),t!==e&&(a[s[r]]=i)}r=l.serializeStyle(a,"span");return r?t+' style="'+r+'"'+n:t+n})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(e,t,r,n)=>t+' style="'+r+'"'+n)}return t},DR=n=>{const o=$i(!1),a=$i(pc(n)?"text":"html"),i=$D(n);var t,r,s,e,l;e=n,(U.browser.isChromium()||U.browser.isSafari())&&(t=e,r=NR,t.on("PastePreProcess",e=>{e.content=r(t,e.content,e.internal)})),pR(n,a),s=n,e=t=>e=>{t(s,e)},l=lc(s),q(l)&&s.on("PastePreProcess",e(l)),l=dc(s),q(l)&&s.on("PastePostProcess",e(l)),n.on("PreInit",()=>{var e,t,r;CR(n),_R(n,o),e=n,t=i,r=a,fR(e,t,r),gR(e)})},RR=e=>{var t,r;(t=e).on("click",e=>{t.dom.getParent(e.target,"details")&&e.preventDefault()}),(r=e).parser.addNodeFilter("details",e=>{const t=Rc(r);K(e,e=>{"expanded"===t?e.attr("open","open"):"collapsed"===t&&e.attr("open",null)})}),r.serializer.addNodeFilter("details",e=>{const t=Ac(r);K(e,e=>{"expanded"===t?e.attr("open","open"):"collapsed"===t&&e.attr("open",null)})})},AR=B,OR=ee,TR=e=>b(e.dom),BR=t=>e=>T(Q.fromDom(t),e),PR=(e,t)=>Jr(Q.fromDom(e),e=>{return t=e,io(t.dom)||Co(e);var t},BR(t)).getOr(Q.fromDom(t)).dom,LR=(e,t)=>Jr(Q.fromDom(e),TR,BR(t)),MR=(t,e,r)=>{var e=new Gn(t,e),n=(r?e.next:e.prev).bind(e);let o=t;for(let e=r?t:n();e&&!AR(e);e=n())aa(e)&&(o=e);return o},IR=e=>{var t=((e,t)=>{e=v.fromRangeStart(e).getNode(),t=PR(e,t);const r=MR(e,t,!1),n=MR(e,t,!0),o=document.createRange();return LR(r,t).fold(()=>{OR(r)?o.setStart(r,0):o.setStartBefore(r)},e=>o.setStartBefore(e.dom)),LR(n,t).fold(()=>{OR(n)?o.setEnd(n,n.data.length):o.setEndAfter(n)},e=>o.setEndAfter(e.dom)),o})(e.selection.getRng(),e.getBody());e.selection.setRng(tb(t))},FR=((PS=GD=GD||{}).Before="before",PS.After="after",(e,t)=>{n=e,r=t;var r,n=Math.max(0,Math.min(n.bottom,r.bottom)-Math.max(n.top,r.top))/Math.min(e.height,t.height);return r=t,(t=e).top<r.bottom&&t.bottom>r.top&&.5<n}),UR=(n,r)=>{var e=D(n,e=>{return(t=r)>=(e=e).top&&t<=e.bottom;var t});return e=e,ve(e,(e,o)=>e.fold(()=>R.some(o),e=>{var t=Math.min(o.left,e.left),r=Math.min(o.top,e.top),n=Math.max(o.right,e.right),e=Math.max(o.bottom,e.bottom);return R.some({top:r,right:n,bottom:e,left:t,width:n-t,height:e-r})}),R.none()).fold(()=>[[],n],t=>{var{pass:e,fail:r}=pe(n,e=>FR(e,t));return[e,r]})},zR=(e,t)=>{return{node:e.node,position:Math.abs(e.left-t)<Math.abs(e.right-t)?GD.Before:GD.After}},jR=(e,t,r)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),HR=(e,n,o)=>{const a=e=>aa(e.node)?R.some(e):Z(e.node)?HR(Oe(e.node.childNodes),n,o):R.none(),t=(e,r)=>{const t=Ne(e,(e,t)=>r(e,n,o)-r(t,n,o));return((e,t)=>{if(2<=e.length){var r=a(e[0]).getOr(e[0]),e=a(e[1]).getOr(e[1]);if(Math.abs(t(r,n,o)-t(e,n,o))<2){if(ee(r.node))return R.some(r);if(ee(e.node))return R.some(e)}}return R.none()})(t,r).orThunk(()=>Te(t,a))};var[e,r]=UR(hk(e),o);const{pass:i,fail:s}=pe(r,e=>e.top<o);return t(e,jR).orThunk(()=>t(s,Os)).orThunk(()=>t(i,Os))},qR=(e,t,r)=>{const n=Q.fromDom(e);e=Rr(n),e=Q.fromPoint(e,t,r).filter(e=>Nr(n,e)).getOr(n);{var o=n,a=t,i=r;const s=(t,e)=>{const r=D(t.dom.childNodes,ae(e=>Z(e)&&e.classList.contains("mce-drag-container")));return e.fold(()=>HR(r,a,i),t=>{var e=D(r,e=>e!==t.dom);return HR(e,a,i)}).orThunk(()=>{return(T(t,o)?R.none():Tr(t)).bind(e=>s(e,R.some(t)))})};return s(e,R.none())}},VR=(e,t,r)=>qR(e,t,r).filter(e=>Gc(e.node)).map(e=>zR(e,t)),$R=e=>{var t,r=e.getBoundingClientRect(),e=e.ownerDocument,n=e.documentElement,e=e.defaultView;return{top:r.top+(null!=(t=null==e?void 0:e.scrollY)?t:0)-n.clientTop,left:r.left+(null!=(t=null==e?void 0:e.scrollX)?t:0)-n.clientLeft}},WR=(e,t)=>{return s=(s=e).inline?$R(s.getBody()):{left:0,top:0},i=(a=e).getBody(),a=a.inline?{left:i.scrollLeft,top:i.scrollTop}:{left:0,top:0},i=e,{pageX:(i=(e=t).target.ownerDocument!==i.getDoc()?(t=$R(i.getContentAreaContainer()),r=(i=i).getBody(),n=i.getDoc().documentElement,o={left:r.scrollLeft,top:r.scrollTop},r={left:r.scrollLeft||n.scrollLeft,top:r.scrollTop||n.scrollTop},n=i.inline?o:r,{left:e.pageX-t.left+n.left,top:e.pageY-t.top+n.top}):{left:e.pageX,top:e.pageY}).left-s.left+a.left,pageY:i.top-s.top+a.top};var r,n,o,a,i,s},KR=e=>({target:e,srcElement:e}),GR=(e,t,r,n)=>{var o,a,i,s,r=((e,t)=>{e=LD(e);return("dragstart"===t?(yD(e),ND):"drop"===t?(CD(e),DD):(wD(e),RD))(e),e})(r,e);return N(n)?(o=e,a=t,i=r,s=ie("Function not supported on simulated event."),{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:o,composedPath:s,initEvent:s,preventDefault:V,stopImmediatePropagation:V,stopPropagation:V,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:i,...KR(a)}):(o=e,s=t,i=r,{...n,dataTransfer:i,type:o,...KR(s)})};var YR;const XR=b,QR=(YR=[XR,io],t=>{for(let e=0;e<YR.length;e++)if(YR[e](t))return!0;return!1});LS=(r,n)=>t=>()=>{var e="left"===r?t.scrollX:t.scrollY;t.scroll({[r]:e+n,behavior:"smooth"})};const JR=LS("left",-32),ZR=LS("left",32),eA=LS("top",-32),tA=LS("top",32),rA=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},nA=(a,i)=>e=>{var t,r,n,o;0===e.button&&(t=ye(i.dom.getParents(e.target),QR).getOr(null),H(t))&&(r=i.dom,n=i.getBody(),o=t,XR(o))&&o!==n&&r.isEditable(o.parentElement)&&(n=i.dom.getPos(t),r=i.getBody(),o=i.getDoc().documentElement,a.set({element:t,dataTransfer:PD(),dragging:!1,screenX:e.screenX,screenY:e.screenY,maxX:(i.inline?r.scrollWidth:o.offsetWidth)-2,maxY:(i.inline?r.scrollHeight:o.offsetHeight)-2,relX:e.pageX-n.x,relY:e.pageY-n.y,width:t.offsetWidth,height:t.offsetHeight,ghost:(r=i,e=(o=t).offsetWidth,n=t.offsetHeight,r=r.dom,o=o.cloneNode(!0),r.setStyles(o,{width:e,height:n}),r.setAttrib(o,"data-mce-selected",null),t=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}),r.setStyles(t,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:e,height:n}),r.setStyles(o,{margin:0,boxSizing:"border-box"}),t.appendChild(o),t),intervalId:(t=>{const r=$i(R.none()),n=()=>r.get().each(e=>clearInterval(e));return{clear:()=>{n(),r.set(R.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:e=>{n(),r.set(R.some(setInterval(e,t)))}}})(100)}))},oA=(e,t,r,n,o)=>{"dragstart"===t&&MD(n,e.dom.getOuterHTML(r));r=GR(t,r,n,o);return e.dispatch(t,r)},aA=(e,C)=>{const t=Zi((e,t)=>{return n=e,o=t,(r=C)._selectionOverrides.hideFakeCaret(),void VR(r.getBody(),n,o).fold(()=>r.selection.placeCaretAt(n,o),e=>{e=r._selectionOverrides.showCaret(1,e.node,e.position===GD.Before,!1);e?r.selection.setRng(e):r.selection.placeCaretAt(n,o)});var r,n,o},0),w=(C.on("remove",t.cancel),e);return y=>e.on(r=>{var n=Math.max(Math.abs(y.screenX-r.screenX),Math.abs(y.screenY-r.screenY));if(!r.dragging&&10<n){n=oA(C,"dragstart",r.element,r.dataTransfer,y);if(H(n.dataTransfer)&&(r.dataTransfer=n.dataTransfer),n.isDefaultPrevented())return;r.dragging=!0,C.focus()}if(r.dragging){var n=y.currentTarget===C.getDoc().documentElement,o=(o=r,{pageX:(i=WR(C,y)).pageX-o.relX,pageY:i.pageY+5});i=r.ghost,a=C.getBody(),i.parentNode!==a&&a.appendChild(i);{var a=r.ghost;var i=o;o=r.width;var s=r.height;var l=r.maxX;r=r.maxY;var d=y.clientY;var c=y.clientX;var m=C.getContentAreaContainer();var u=C.getWin();var f=w;var g=n;let e=0,t=0;a.style.left=i.pageX+"px",a.style.top=i.pageY+"px",i.pageX+o>l&&(e=i.pageX+o-l),i.pageY+s>r&&(t=i.pageY+s-r),a.style.width=o-e+"px",a.style.height=s-t+"px";const p=m.clientHeight,h=m.clientWidth,v=d+m.getBoundingClientRect().top,b=c+m.getBoundingClientRect().left;f.on(e=>{e.intervalId.clear(),e.dragging&&g&&(d+8>=p?e.intervalId.set(tA(u)):d-8<=0?e.intervalId.set(eA(u)):c+8>=h?e.intervalId.set(ZR(u)):c-8<=0?e.intervalId.set(JR(u)):v+16>=window.innerHeight?e.intervalId.set(tA(window)):v-16<=0?e.intervalId.set(eA(window)):b+16>=window.innerWidth?e.intervalId.set(ZR(window)):b-16<=0&&e.intervalId.set(JR(window)))})}t.throttle(y.clientX,y.clientY)}})},iA=(e,a)=>o=>{e.on(n=>{var e,t,r;n.intervalId.clear(),n.dragging&&(r=(r=(e=a).selection).getSel(),r=H(r)?(r=r.getRangeAt(0).startContainer,ee(r)?r.parentNode:r):null,t=n.element,ne(r)||r===t||e.dom.isChildOf(r,t)||!e.dom.isEditable(r)||(e=null!=(t=a.getDoc().elementFromPoint(o.clientX,o.clientY))?t:a.getBody(),oA(a,"drop",e,n.dataTransfer,o).isDefaultPrevented())||a.undoManager.transact(()=>{var e,t,r;e=a.dom,t=n.element,r=e.getParent(t.parentNode,e.isBlock),rA(t),r&&r!==e.getRoot()&&e.isEmpty(r)&&Bo(Q.fromDom(r)),(e=>{e=e.getData("text/html");return""===e?R.none():R.some(e)})(n.dataTransfer).each(e=>a.insertContent(e)),a._selectionOverrides.hideFakeCaret()}),oA(a,"dragend",a.getBody(),n.dataTransfer,o))}),lA(e)},sA=(e,r,n)=>{e.on(t=>{t.intervalId.clear(),t.dragging&&n.fold(()=>oA(r,"dragend",t.element,t.dataTransfer),e=>oA(r,"dragend",t.element,t.dataTransfer,e))}),lA(e)},lA=e=>{e.on(e=>{e.intervalId.clear(),rA(e.ghost)}),e.clear()},dA=t=>{const r=Ji(),e=te.DOM,n=document;var o=nA(r,t);const a=aA(r,t);var i,s,l=iA(r,t);i=r;const d=e=>sA(i,s,R.some(e));(s=t).on("mousedown",o),t.on("mousemove",a),t.on("mouseup",l),e.bind(n,"mousemove",a),e.bind(n,"mouseup",d),t.on("remove",()=>{e.unbind(n,"mousemove",a),e.unbind(n,"mouseup",d)}),t.on("keydown",e=>{e.keyCode===z.ESC&&sA(r,t,R.none())})},cA=e=>{if(dA(e),Yd(e)){var a=e;const i=e=>{var t;e.isDefaultPrevented()||(t=e.dataTransfer)&&(A(t.types,"Files")||0<t.files.length)&&(e.preventDefault(),"drop"===e.type)&&aw(a,"Dropped file type is not supported")},s=e=>{Jg(a,e.target)&&i(e)},t=()=>{const t=te.DOM,r=a.dom,n=document,o=a.inline?a.getBody():a.getDoc(),e=["drop","dragover"];K(e,e=>{t.bind(n,e,s),r.bind(o,e,i)}),a.on("remove",()=>{K(e,e=>{t.unbind(n,e,s),r.unbind(o,e,i)})})};a.on("init",()=>{Kg.setEditorTimeout(a,t,0)})}},mA=b,uA=(e,t)=>Iv(e.getBody(),t),fA=s=>{const i=s.selection,l=s.dom,d=s.getBody(),o=$c(s,d,l.isBlock,()=>ip(s)),c="sel-"+l.uniqueId(),n="data-mce-selected";let a;const m=e=>e!==d&&(mA(e)||co(e))&&l.isChildOf(e,d)&&l.isEditable(e.parentNode),u=(e,t,r,n=!0)=>{return s.dispatch("ShowCaret",{target:t,direction:e,before:r}).isDefaultPrevented()?null:(n&&i.scrollIntoView(t,-1===e),o.show(r,t))};var e=()=>{s.on("click",e=>{l.isEditable(e.target)||(e.preventDefault(),s.focus())}),s.on("blur NewBlock",h),s.on("ResizeWindow FullscreenStateChanged",o.reposition),s.on("tap",e=>{var t=e.target,r=uA(s,t);mA(r)?(e.preventDefault(),ox(s,r).each(p)):m(t)&&ox(s,t).each(p)},!0),s.on("mousedown",t=>{var e=t.target;if((e===d||"HTML"===e.nodeName||l.isChildOf(e,d))&&X1(s,t.clientX,t.clientY)){h(),v();const r=uA(s,e);mA(r)?(t.preventDefault(),ox(s,r).each(p)):VR(d,t.clientX,t.clientY).each(e=>{t.preventDefault();var e=u(1,e.node,e.position===GD.Before,!1);(e=e)&&i.setRng(e),(Z(r)?r:s.getBody()).focus()})}}),s.on("keypress",e=>{z.modifierPressed(e)||mA(i.getNode())&&e.preventDefault()}),s.on("GetSelectionRange",e=>{let t=e.range;a&&(a.parentNode?((t=t.cloneRange()).selectNode(a),e.range=t):a=null)}),s.on("SetSelectionRange",e=>{e.range=(e=>{const t=s.schema.getVoidElements(),r=l.createRng(),n=e.startContainer,o=e.startOffset,a=e.endContainer,i=e.endOffset;if(Y(t,n.nodeName.toLowerCase()))if(o===0)r.setStartBefore(n);else r.setStartAfter(n);else r.setStart(n,o);if(Y(t,a.nodeName.toLowerCase()))if(i===0)r.setEndBefore(a);else r.setEndAfter(a);else r.setEnd(a,i);return r})(e.range);var t=p(e.range,e.forward);t&&(e.range=t)});s.on("AfterSetSelectionRange",e=>{var e=e.range,t=e.startContainer.parentElement;f(e)||(e=t,Z(e)&&"mcepastebin"===e.id)||v(),e=t,H(e)&&l.hasClass(e,"mce-offscreen-selection")||h()}),cA(s);{var t=s;const e=Zi(()=>{var e;!t.removed&&t.getBody().contains(document.activeElement)&&(e=t.selection.getRng()).collapsed&&(e=ax(t,e,!1),t.selection.setRng(e))},0);t.on("focus",()=>{e.throttle()}),t.on("blur",()=>{e.cancel()})}var r;(r=s).on("init",()=>{r.on("focusin",e=>{var t,e=e.target;co(e)&&(t=Iv(r.getBody(),e),t=b(t)?t:e,r.selection.getNode()!==t)&&ox(r,t).each(e=>r.selection.setRng(e))})})};const t=e=>Ho(e)||Wo(e)||Ko(e),f=e=>t(e.startContainer)||t(e.endContainer),g=e=>{var t=e.cloneNode(!0),t=s.dispatch("ObjectSelected",{target:e,targetClone:t});if(t.isDefaultPrevented())return null;t=((e,t)=>{const r=Q.fromDom(s.getBody()),n=s.getDoc();var o=tn(r,"#"+c).getOrThunk(()=>{var e=Q.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',n);return ar(e,"id",c),wn(r,e),e}),a=l.createRng(),t=(En(o),_n(o,[Q.fromText(po,n),Q.fromDom(t),Q.fromText(po,n)]),a.setStart(o.dom.firstChild,1),a.setEnd(o.dom.lastChild,0),mn(o,{top:l.getPos(e,s.getBody()).y+"px"}),Bg(o),i.getSel());return t&&(t.removeAllRanges(),t.addRange(a)),a})(e,t.targetClone);const r=Q.fromDom(e);return K(Wn(Q.fromDom(s.getBody()),`*[${n}]`),e=>{T(r,e)||cr(e,n)}),l.getAttrib(e,n)||e.setAttribute(n,"1"),a=e,v(),t},p=(r,n)=>{if(r)if(r.collapsed){if(!f(r)){var o=n?1:-1,e=bm(o,d,r),t=e.getNode(!n);if(H(t)){if(Gc(t))return u(o,t,!!n&&!e.isAtEnd(),!1);if(jo(t)&&b(t.nextSibling))return(a=l.createRng()).setStart(t,0),a.setEnd(t,0),a}var a,t=e.getNode(n);if(H(t)){if(Gc(t))return u(o,t,!n&&!e.isAtEnd(),!1);if(jo(t)&&b(t.previousSibling))return(a=l.createRng()).setStart(t,1),a.setEnd(t,1),a}}}else{let e=r.startContainer,t=r.startOffset;o=r.endOffset;if(ee(e)&&0===t&&mA(e.parentNode)&&(e=e.parentNode,t=l.nodeIndex(e),e=e.parentNode),Z(e)&&o===t+1&&e===r.endContainer){n=e.childNodes[t];if(m(n))return g(n)}}return null},h=()=>{a&&a.removeAttribute(n),tn(Q.fromDom(s.getBody()),"#"+c).each(J),a=null};const v=()=>{o.hide()};return n1(s)||e(),{showCaret:u,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(Yo(e),i.scrollIntoView(e))},hideFakeCaret:v,destroy:()=>{o.destroy(),a=null}}},gA=(e,t,r,n,o)=>{if(ee(r)&&(n<0||n>r.data.length))return[];var a=o&&ee(r)?[((t,e)=>{let r=e;for(let e=t.previousSibling;ee(e);e=e.previousSibling)r+=e.data.length;return r})(r,n)]:[n];let i=r;for(;i!==t&&i.parentNode;)a.push(e.nodeIndex(i,o)),i=i.parentNode;return i===t?a.reverse():[]},pA=(e,t,r,n,o,a,i=!1)=>{return{start:gA(e,t,r,n,i),end:gA(e,t,o,a,i)}},hA=(e,t)=>{t=t.slice();const r=t.pop();return P(r)?ve(t,(e,t)=>e.bind(e=>R.from(e.childNodes[t])),R.some(e)).bind(e=>ee(e)&&(r<0||r>e.data.length)?R.none():R.some({node:e,offset:r})):R.none()},vA=(e,t)=>hA(e,t.start).bind(({node:n,offset:o})=>hA(e,t.end).map(({node:e,offset:t})=>{var r=document.createRange();return r.setStart(n,o),r.setEnd(e,t),r})),bA=(e,t,r)=>{var n;t&&e.isEmpty(t)&&!r(t)&&(n=t.parentNode,e.remove(t,ee(t.firstChild)&&ua(t.firstChild.data)),bA(e,n,r))},yA=(e,t,r,n=!0)=>{var o=t.startContainer.parentNode,a=t.endContainer.parentNode;t.deleteContents(),n&&!r(t.startContainer)&&(ee(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),ee(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),bA(e,o,r),o!==a)&&bA(e,a,r)},CA=(e,t)=>R.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),wA=(e,t,r)=>{r=e.dynamicPatternsLookup({text:r,block:t});return{...e,blockPatterns:Ol(r).concat(e.blockPatterns),inlinePatterns:Tl(r).concat(e.inlinePatterns)}},xA=(e,t,r,n)=>{e=e.createRng();return e.setStart(t,0),e.setEnd(r,n),e.toString()},kA=(n,o,a)=>{var e,t,r,i;t=0,r=e=o,(ee(e)&&t>=e.length?R.some(SE(e,t)):(i=xs(NE),R.from(i.forwards(e,t,DE(e),r)).map(e=>SE(e.container,0)))).each(e=>{const r=e.container;OE(r,a.start.length,o).each(e=>{var t=n.createRng();t.setStart(r,0),t.setEnd(e.container,e.offset),yA(n,t,e=>e===o)});var e=Q.fromDom(r),t=bo(e);/^\s[^\s]/.test(t)&&(e=e,t=t.slice(1),vo.set(e,t))})},_A=(t,e)=>{var r=t.dom;const n=e.pattern;r=vA(r.getRoot(),e.range).getOrDie("Unable to resolve path range");return CA(t,r).each(e=>{"block-format"===n.type?((e,t)=>{t=t.get(e);return re(t)&&Re(t).exists(e=>Y(e,"block"))})(n.format,t.formatter)&&t.undoManager.transact(()=>{kA(t.dom,e,n),t.formatter.apply(n.format)}):"block-command"===n.type&&t.undoManager.transact(()=>{kA(t.dom,e,n),t.execCommand(n.cmd,!1,n.value)})}),!0},EA=(e,t)=>{e=e;e=Ne(e,(e,t)=>t.start.length-e.start.length);const r=t.replace(po," ");return ye(e,e=>0===t.indexOf(e.start)||0===r.indexOf(e.start))},SA=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),NA=(e,t)=>{e=e.createRng();return e.setStartAfter(t.start),e.setEndBefore(t.end),e},DA=(e,t,r)=>{var r=vA(e.getRoot(),r).getOrDie("Unable to resolve path range"),n=r.startContainer,o=r.endContainer,o=0===r.endOffset?o:o.splitText(r.endOffset),n=0===r.startOffset?n:n.splitText(r.startOffset),r=n.parentNode;return{prefix:t,end:o.parentNode.insertBefore(SA(e,t+"-end"),o),start:r.insertBefore(SA(e,t+"-start"),n)}},RA=(e,t,r)=>{bA(e,e.get(t.prefix+"-end"),r),bA(e,e.get(t.prefix+"-start"),r)},AA=e=>0===e.start.length,OA=(n,t,o,e)=>{const a=t.start;var r;return TE(n,e.container,e.offset,(r=a,(e,t)=>{e=e.data.substring(0,t),t=e.lastIndexOf(r.charAt(r.length-1)),e=e.lastIndexOf(r);return-1!==e?e+r.length:-1!==t?t+1:-1}),o).bind(r=>{var e=null!=(e=null==(e=o.textContent)?void 0:e.indexOf(a))?e:-1;return-1!==e&&r.offset>=e+a.length?((e=n.createRng()).setStart(r.container,r.offset-a.length),e.setEnd(r.container,r.offset),R.some(e)):(e=r.offset-a.length,AE(r.container,e,o).map(e=>{var t=n.createRng();return t.setStart(e.container,e.offset),t.setEnd(r.container,r.offset),t}).filter(e=>e.toString()===a).orThunk(()=>OA(n,t,o,SE(r.container,0))))})},TA=(d,c,m,u)=>{const f=d.dom,g=f.getRoot(),p=m.pattern,h=m.position.container,v=m.position.offset;return AE(h,v-m.pattern.end.length,c).bind(e=>{const a=pA(f,g,e.container,e.offset,h,v,u);if(AA(p))return R.some({matches:[{pattern:p,startRng:a,endRng:a}],position:e});{var t=BA(d,m.remainingPatterns,e.container,e.offset,c,u);const l=t.getOr({matches:[],position:e});e=l.position;return[n,o,e,t,i,s=!1]=[f,p,e.container,e.offset,c,t.isNone()],(0!==o.start.length||s?RE(e,t,i).bind(r=>{return OA(n,o,i,r).bind(e=>{var t;if(s){if(e.endContainer===r.container&&e.endOffset===r.offset)return R.none();if(0===r.offset&&(null==(t=e.endContainer.textContent)?void 0:t.length)===e.endOffset)return R.none()}return R.some(e)})}):((r=n.createRng()).setStart(e,t),r.setEnd(e,t),R.some(r))).map(e=>{[o,t,r,n=!1]=[f,g,e,u];var t,r,n,o=pA(o,t,r.startContainer,r.startOffset,r.endContainer,r.endOffset,n);return{matches:l.matches.concat([{pattern:p,startRng:o,endRng:a}]),position:SE(e.startContainer,e.startOffset)}})}var n,o,i,s,r})},BA=(a,i,s,l,d,c)=>{const e=a.dom;return RE(s,l,e.getRoot()).bind(t=>{var r=xA(e,d,s,l);for(let e=0;e<i.length;e++){var n=i[e];if(dt(r,n.end)){var o=i.slice(),n=(o.splice(e,1),TA(a,d,{pattern:n,remainingPatterns:o,position:t},c));if(n.isNone()&&0<l)return BA(a,i,s,l-1,d,c);if(n.isSome())return n}}return R.none()})},PA=(t,e,r)=>{t.selection.setRng(r),"inline-format"===e.type?K(e.format,e=>{t.formatter.apply(e)}):t.execCommand(e.cmd,!1,e.value)},LA=(e,t,r,n,o,a)=>{var i,s=BA(e,o.inlinePatterns,r,n,t,a).fold(()=>[],e=>e.matches),o=BA(e,(e=o.inlinePatterns,Ne(e,(e,t)=>t.end.length-e.end.length)),r,n,t,a).fold(()=>[],e=>e.matches);return e=s,i=o,r=ke(e,t=>W(i,e=>t.pattern.start===e.pattern.start&&t.pattern.end===e.pattern.end)),e.length===i.length?r?e:i:e.length>i.length?e:i},MA=(m,e)=>{if(0!==e.length){const u=m.dom;var t=m.selection.getBookmark(),e=((n,e)=>{const o=ps("mce_textpattern"),a=he(e,(e,t)=>{var r=DA(n,o+("_end"+e.length),t.endRng);return e.concat([{...t,endMarker:r}])},[]);return he(a,(e,t)=>{var r=a.length-e.length-1,r=AA(t.pattern)?t.endMarker:DA(n,o+"_start"+r,t.startRng);return e.concat([{...t,startMarker:r}])},[])})(u,e);K(e,e=>{const t=u.getParent(e.startMarker.start,u.isBlock);var r,n,o,a,i,s,l,d,c=e=>e===t;AA(e.pattern)?(n=m,o=e.pattern,a=e.endMarker,r=c,a=NA(n.dom,a),yA(n.dom,a,r),PA(n,o,a)):(r=m,n=e.pattern,o=e.startMarker,a=e.endMarker,i=c,s=r.dom,l=NA(s,a),d=NA(s,o),yA(s,d,i),yA(s,l,i),d={prefix:o.prefix,start:o.end,end:a.start},l=NA(s,d),PA(r,n,l)),RA(u,e.endMarker,c),RA(u,e.startMarker,c)}),m.selection.moveToBookmark(t)}},IA=(a,i)=>{const s=a.selection.getRng();return CA(a,s).map(e=>{var t=Math.max(0,s.startOffset),r=wA(i,e,null!=(r=e.textContent)?r:"");const n=LA(a,e,s.startContainer,t,r,!0),o=((e,t,r,n)=>{const o=e.dom;var e=Yl(e);if(!o.is(t,e))return[];const a=null!=(e=t.textContent)?e:"";return EA(r.blockPatterns,a).map(e=>O.trim(a).length===e.start.length?[]:[{pattern:e,range:pA(o,o.getRoot(),t,0,t,0,n)}]).getOr([])})(a,e,r,!0);return(0<o.length||0<n.length)&&(a.undoManager.add(),a.undoManager.extra(()=>{a.execCommand("mceInsertNewLine")},()=>{a.insertContent(go),MA(a,n),t=a,0!==(e=o).length&&(r=t.selection.getBookmark(),K(e,e=>_A(t,e)),t.selection.moveToBookmark(r));var t,e=a.selection.getRng(),r=RE(e.startContainer,e.startOffset,a.dom.getRoot());a.execCommand("mceInsertNewLine"),r.each(e=>{var t=e.container;t.data.charAt(e.offset-1)===go&&(t.deleteData(e.offset-1,1),bA(a.dom,t.parentNode,e=>e===a.dom.getRoot()))})}),!0)}).getOr(!1)},FA=(t,r,n)=>{for(let e=0;e<t.length;e++)if(n(t[e],r))return!0;return!1},UA=r=>{const n=[",",".",";",":","!","?"],o=[32],s=()=>{return e=bc(r),t=yc(r),{inlinePatterns:Tl(e),blockPatterns:Ol(e),dynamicPatternsLookup:t};var e,t},l=()=>r.options.isSet("text_patterns_lookup"),a=(r.on("keydown",e=>{var t;13===e.keyCode&&!z.modifierPressed(e)&&r.selection.isCollapsed()&&(0<(t=s()).inlinePatterns.length||0<t.blockPatterns.length||l())&&IA(r,t)&&e.preventDefault()},!0),()=>{if(r.selection.isCollapsed()){var e=s();if(0<e.inlinePatterns.length||l()){var o=r;var a=e;const i=o.selection.getRng();CA(o,i).map(e=>{var t=Math.max(0,i.startOffset-1),r=xA(o.dom,e,i.startContainer,t),r=wA(a,e,r);const n=LA(o,e,i.startContainer,t,r,!1);0<n.length&&o.undoManager.transact(()=>{MA(o,n)})})}}});r.on("keyup",e=>{var t;t=o,e=e,FA(t,e,(e,t)=>e===t.keyCode&&!z.modifierPressed(t))&&a()}),r.on("keypress",e=>{var t;t=n,e=e,FA(t,e,(e,t)=>e.charCodeAt(0)===t.charCode)&&Kg.setEditorTimeout(r,a)})},zA=a=>{const o=O.each,i=z.BACKSPACE,s=z.DELETE,l=a.dom,d=a.selection,e=a.parser;var t=U.browser;const c=t.isFirefox(),m=t.isChromium()||t.isSafari(),u=U.deviceType.isiPhone()||U.deviceType.isiPad(),r=U.os.isMacOS()||U.os.isiOS(),f=(e,t)=>{try{a.getDoc().execCommand(e,!1,String(t))}catch(e){}},g=e=>e.isDefaultPrevented(),p=()=>{const o=e=>{var t=l.create("body"),e=e.cloneContents();return t.appendChild(e),d.serializer.serialize(t,{format:"html"})};a.on("keydown",e=>{var t,r,n=e.keyCode;g(e)||n!==s&&n!==i||!a.selection.isEditable()||(n=a.selection.isCollapsed(),t=a.getBody(),n&&(!l.isEmpty(t)||(e=>{e=Q.fromDom(e);return W(Wn(e,'[contenteditable="true"]'),e=>Tr(e).exists(e=>!on(e)))})(t)))||!n&&(n=a.selection.getRng(),n=o(n),(r=l.createRng()).selectNode(a.getBody()),r=o(r),n!==r)||(e.preventDefault(),a.setContent(""),t.firstChild&&l.isBlock(t.firstChild)?a.selection.setCursorLocation(t.firstChild,0):a.selection.setCursorLocation(t,0),a.nodeChanged())})},h=()=>{a.shortcuts.add("meta+a",null,"SelectAll")},v=()=>{a.inline||l.bind(a.getDoc(),"mousedown mouseup",e=>{var t;e.target===a.getDoc().documentElement&&(t=d.getRng(),a.getBody().focus(),"mousedown"===e.type?Ho(t.startContainer)||d.placeCaretAt(e.clientX,e.clientY):d.setRng(t))})},b=()=>{Range.prototype.getClientRects||a.on("mousedown",e=>{if(!g(e)&&"HTML"===e.target.nodeName){const t=a.getBody();t.blur(),Kg.setEditorTimeout(a,()=>{t.focus()})}})},y=()=>{const r=Jd(a);a.on("click",e=>{var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&l.isEditable(t.parentNode)&&(e.preventDefault(),a.selection.select(t),a.nodeChanged()),"A"===t.nodeName&&l.hasClass(t,r)&&0===t.childNodes.length&&l.isEditable(t.parentNode)&&(e.preventDefault(),d.select(t))})},C=()=>{a.on("keydown",e=>{if(!g(e)&&e.keyCode===i&&d.isCollapsed()&&0===d.getRng().startOffset){var t=d.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0})},w=()=>{Vd(a)||a.on("BeforeExecCommand mousedown",()=>{f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),xd(a)||f("enableObjectResizing",!1)})},x=()=>{a.on("SetContent ExecCommand",e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(l.select("a:not([data-mce-block])"),e=>{var t;let r=e.parentNode;var n=l.getRoot();if((null===r||void 0===r?void 0:r.lastChild)===e){for(;r&&!l.isBlock(r);){if((null==(t=r.parentNode)?void 0:t.lastChild)!==r||r===n)return;r=r.parentNode}l.add(r,"br",{"data-mce-bogus":1})}})})},k=e=>{var t=e.getBody(),e=e.selection.getRng();return e.startContainer===e.endContainer&&e.startContainer===t&&0===e.startOffset&&e.endOffset===t.childNodes.length},_=()=>{a.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},E=()=>{a.inline||a.on("keydown",()=>{document.activeElement===document.body&&a.getWin().focus()})},S=()=>{a.inline||(a.contentStyles.push("body {min-height: 150px}"),a.on("click",e=>{"HTML"===e.target.nodeName&&(e=a.selection.getRng(),a.getBody().focus(),a.selection.setRng(e),a.selection.normalize(),a.nodeChanged())}))},N=()=>{r&&a.on("keydown",e=>{!z.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),a.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})},D=()=>{a.on("click",e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),a.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},R=()=>{a.on("init",()=>{a.dom.bind(a.getBody(),"submit",e=>{e.preventDefault()})})};t=V;var n=()=>{if(a.on("keydown",t=>{if(!g(t)&&t.keyCode===z.BACKSPACE){var t=d.getRng(),r=t.startContainer,n=t.startOffset,o=l.getRoot();let e=r;if(t.collapsed&&0===n){for(;e.parentNode&&e.parentNode.firstChild===e&&e.parentNode!==o;)e=e.parentNode;"BLOCKQUOTE"===e.nodeName&&(a.formatter.toggle("blockquote",void 0,e),(t=l.createRng()).setStart(r,0),t.setEnd(r,0),d.setRng(t))}}}),p(),U.windowsPhone||a.on("keyup focusin mouseup",e=>{z.modifierPressed(e)||k(a)||d.normalize()},!0),m&&(v(),y(),a.on("init",()=>{f("DefaultParagraphSeparator",Yl(a))}),R(),C(),e.addNodeFilter("br",e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),(u?(E(),S(),D):h)()),c){a.on("keydown",e=>{var t,r;g(e)||e.keyCode!==i||a.getBody().getElementsByTagName("hr").length&&d.isCollapsed()&&0===d.getRng().startOffset&&(r=(t=d.getNode()).previousSibling,"HR"===t.nodeName?(l.remove(t),e.preventDefault()):r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(l.remove(r),e.preventDefault()))}),b();{const r=()=>{const e=l.getAttribs(d.getStart().cloneNode(!1));return()=>{const t=d.getStart();t!==a.getBody()&&(l.setAttrib(t,"style",null),o(e,e=>{t.setAttributeNode(e.cloneNode(!0))}))}},n=()=>!d.isCollapsed()&&l.getParent(d.getStart(),l.isBlock)!==l.getParent(d.getEnd(),l.isBlock);a.on("keypress",e=>{var t;return!(!(g(e)||8!==e.keyCode&&46!==e.keyCode)&&n()&&(t=r(),a.getDoc().execCommand("delete",!1),t(),e.preventDefault(),1))}),l.bind(a.getDoc(),"cut",e=>{if(!g(e)&&n()){const t=r();Kg.setEditorTimeout(a,()=>{t()})}})}w(),x(),_(),N(),C(),a.on("drop",e=>{var t=null==(t=e.dataTransfer)?void 0:t.getData("text/html");j(t)&&/^<img[^>]*>$/.test(t)&&a.dispatch("dragend",new window.DragEvent("dragend",e))})}};return n1(a)?(m&&(v(),y(),R(),h(),u)&&(E(),S(),D()),c&&(b(),w(),_(),N())):n(),{refreshContentEditable:t,isHidden:()=>{var e;return!(!c||a.removed||(e=a.selection.getSel())&&e.rangeCount&&0!==e.rangeCount)}}},jA=te.DOM,HA=e=>ze(e,e=>!1===N(e)),qA=e=>{var t,r=e.options.get,n=e.editorUpload.blobCache;return HA({allow_conditional_comments:r("allow_conditional_comments"),allow_html_data_urls:r("allow_html_data_urls"),allow_svg_data_urls:r("allow_svg_data_urls"),allow_html_in_named_anchor:r("allow_html_in_named_anchor"),allow_script_urls:r("allow_script_urls"),allow_unsafe_link_target:r("allow_unsafe_link_target"),convert_fonts_to_spans:r("convert_fonts_to_spans"),fix_list_elements:r("fix_list_elements"),font_size_legacy_values:r("font_size_legacy_values"),forced_root_block:r("forced_root_block"),forced_root_block_attrs:r("forced_root_block_attrs"),preserve_cdata:r("preserve_cdata"),inline_styles:r("inline_styles"),root_name:(t=e).inline?t.getElement().nodeName.toLowerCase():void 0,sanitize:r("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},VA=e=>{e=e.options.get;return HA({custom_elements:e("custom_elements"),extended_valid_elements:e("extended_valid_elements"),invalid_elements:e("invalid_elements"),invalid_styles:e("invalid_styles"),schema:e("schema"),valid_children:e("valid_children"),valid_classes:e("valid_classes"),valid_elements:e("valid_elements"),valid_styles:e("valid_styles"),verify_html:e("verify_html"),padd_empty_block_inline_children:e("format_empty_lines")})},$A=e=>{e.bindPendingEventDelegates(),e.initialized=!0,e.dispatch("Init"),e.focus(!0),t=(r=e).dom.getRoot(),r.inline||Ru(r)&&r.selection.getStart(!0)!==t||$m(t).each(e=>{var t=e.getNode(),t=Jn(t)?$m(t).getOr(e):e;r.selection.setRng(t.toRange())}),e.nodeChanged({initial:!0});var r,t=tc(e);q(t)&&t.call(e,e);{var n=e;const o=nc(n);o&&Kg.setEditorTimeout(n,()=>{let e;(e=!0===o?n:n.editorManager.get(o))&&!e.destroyed&&(e.focus(),e.selection.scrollIntoView())},100)}},WA=e=>(e.inline?e.ui:e.dom).styleSheetLoader,KA=e=>{const t=WA(e),r=yd(e),n=e.contentCSS,o=()=>{t.unloadAll(n),e.inline||e.ui.styleSheetLoader.unloadAll(r)};var a=()=>{e.removed?o():e.on("remove",o)};if(0<e.contentStyles.length){let t="";O.each(e.contentStyles,e=>{t+=e+"\r\n"}),e.dom.addStyle(t)}var a=Promise.all(((e,t,r)=>{t=[WA(e).loadAll(t)];return e.inline?t:t.concat([e.ui.styleSheetLoader.loadAll(r)])})(e,n,r)).then(a).catch(a),i=bd(e);if(i){var s=e;var l=Q.fromDom(s.getBody()),l=Wr($r(l));const d=Q.fromTag("style");ar(d,"type","text/css"),wn(d,Q.fromText(i)),wn(l,d),s.on("remove",()=>{J(d)})}return a},GA=e=>{var t;!0!==e.removed&&(t=e,n1(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),$A(e))},YA=t=>{var e=t.getElement();let r=t.getDoc();t.inline&&(jA.addClass(e,"mce-content-body"),t.contentDocument=r=document,t.contentWindow=window,t.bodyElement=e,t.contentAreaContainer=e);var s,n,e=t.getBody(),o=(e.disabled=!0,t.readonly=Vd(t),t._editableRoot=$d(t),!t.readonly&&t.hasEditableRoot()&&(t.inline&&"static"===jA.getStyle(e,"position",!0)&&(e.style.position="relative"),e.contentEditable="true"),e.disabled=!1,t.editorUpload=Cw(t),t.schema=Ci(VA(t)),t.dom=te(r,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:md(t),referrerPolicy:ud(t),onSetAttrib:e=>{t.dispatch("SetAttrib",e)}}),t.parser=(s=t,(e=pC(qA(s),s.schema)).addAttributeFilter("src,href,style,tabindex",(t,r)=>{var n=s.dom,o="data-mce-"+r;let a=t.length;for(;a--;){var i=t[a];let e=i.attr(r);e&&!i.attr(o)&&0!==e.indexOf("data:")&&0!==e.indexOf("blob:")&&("style"===r?((e=n.serializeStyle(n.parseStyle(e),i.name)).length||(e=null),i.attr(o,e),i.attr(r,e)):"tabindex"===r?(i.attr(o,e),i.attr(r,null)):i.attr(o,s.convertURL(e,r,i.name)))}}),e.addNodeFilter("script",e=>{let t=e.length;for(;t--;){var r=e[t],n=r.attr("type")||"no/type";0!==n.indexOf("mce-")&&r.attr("type","mce-"+n)}}),kc(s)&&e.addNodeFilter("#cdata",e=>{let t=e.length;for(;t--;){var r=e[t];r.type=8,r.name="#comment",r.value="[CDATA["+s.dom.encode(null!=(r=r.value)?r:"")+"]]"}}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",e=>{let t=e.length;for(var r=s.schema.getNonEmptyElements();t--;){var n=e[t];n.isEmpty(r)&&0===n.getAll("br").length&&n.append(new Ep("br",1))}}),e),t.serializer=_1((o=(e=t).options.get,{...qA(e),...VA(e),...HA({remove_trailing_brs:o("remove_trailing_brs"),pad_empty_with_br:o("pad_empty_with_br"),url_converter:o("url_converter"),url_converter_scope:o("url_converter_scope"),element_format:o("element_format"),entities:o("entities"),entity_encoding:o("entity_encoding"),indent:o("indent"),indent_after:o("indent_after"),indent_before:o("indent_before")})}),t),t.selection=v1(t.dom,t.getWin(),t.serializer,t),t.annotator=kf(t),t.formatter=Ow(t),t.undoManager=Pw(t),t._nodeChangeDispatcher=new pD(t),t._selectionOverrides=fA(t),C_(t),RR(t),S_(t),n1(t)||((n=t).on("mousedown",e=>{3<=e.detail&&(e.preventDefault(),IR(n))}),e=t,UA(e)),gD(t)),o=(b_(t,o),(e=t).on("NodeChange",w(k_,e)),Uw(t),DR(t),o1(t));{var a=t,e=a.getDoc(),i=a.getBody(),e;a.dispatch("PreInit"),oc(a)||(e.body.spellcheck=!1,jA.setAttrib(i,"spellcheck","false")),a.quirks=zA(a),a.dispatch("PostRender"),void 0!==(e=Cd(a))&&(i.dir=e);const l=ac(a);l&&a.on("BeforeSetContent",t=>{O.each(l,e=>{t.content=t.content.replace(e,e=>"\x3c!--mce:protected "+escape(e)+"--\x3e")})}),a.on("SetContent",()=>{a.addVisual(a.getBody())}),a.on("compositionstart compositionend",e=>{a.composing="compositionstart"===e.type})}o.fold(()=>{const e=(e=>{let t=!1;const r=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(r),t=!0,e.setProgressState(!1)}})(t);KA(t).then(()=>{GA(t),e()})},e=>{t.setProgressState(!0),KA(t).then(()=>{e().then(e=>{t.setProgressState(!1),GA(t),l1(t)},e=>{t.notificationManager.open({type:"error",text:String(e)}),GA(t),l1(t)})})})},XA=de,QA=te.DOM,JA=(e,t)=>{var r=e.translate("Rich Text Area"),n=lr(Q.fromDom(e.getElement()),"tabindex").bind(pt);const o=((e,t,r,n)=>{const o=Q.fromTag("iframe");return n.each(e=>ar(o,"tabindex",e)),ir(o,r),ir(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),br(o,"tox-edit-area__iframe"),o})(e.id,r,Hl(e),n).dom;o.onload=()=>{o.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=o,e.iframeHTML=(e=>{let t=ql(e)+"<html><head>";Vl(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var r=$l(e),n=Wl(e),o=e.translate(Zd(e));return Kl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Kl(e)+'" />'),t+="</head>"+`<body id="${r}" class="mce-content-body ${n}" data-id="${e.id}" aria-label="${o}">`+"<br></body></html>"})(e),QA.add(t.iframeContainer,o)},ZA=e=>{const t=e.iframeElement,r=()=>{e.contentDocument=t.contentDocument,YA(e)};if(Sc(e)||U.browser.isFirefox()){var n=e.getDoc();n.open(),n.write(e.iframeHTML),n.close(),r()}else{n=Q.fromDom(t),o="load",a=()=>{i.unbind(),r()};const i=Tn(n,o,XA,a);t.srcdoc=e.iframeHTML}var o,a},eO=te.DOM,tO=(t,e,r)=>{var n=ew.get(r),o=ew.urls[r]||t.documentBaseUrl.replace(/\/$/,"");if(r=O.trim(r),n&&-1===O.inArray(e,r)&&!t.plugins[r])try{var a=n(t,o)||{};t.plugins[r]=a,q(a.init)&&(a.init(t,o),e.push(r))}catch(e){n=t,a=r,o=e;a=Yi.translate(["Failed to initialize plugin: {0}",a]),Sf(n,"PluginLoadError",{message:a}),lw(a,o),aw(n,a)}},rO=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),nO=e=>{var t=eO.create("div");return eO.insertAfter(t,e),rO(t,t)},oO=e=>{var t=e.getElement();return e.inline?rO(null):nO(t)},aO=e=>{var t,r,n=e.getElement();return e.orgDisplay=n.style.display,j(Nd(e))?(r=(n=e).theme.renderUI)?r():oO(n):q(Nd(e))?(n=(r=e).getElement(),(t=Nd(r)(r,n)).editorContainer.nodeType&&(t.editorContainer.id=t.editorContainer.id||r.id+"_parent"),t.iframeContainer&&t.iframeContainer.nodeType&&(t.iframeContainer.id=t.iframeContainer.id||r.id+"_iframecontainer"),t.height=t.iframeHeight||n.offsetHeight,t):oO(e)},iO=async e=>{e.dispatch("ScriptsLoaded");{var r=e,t=O.trim(ad(r));const l=r.ui.registry.getAll().icons;t={...V1.get("default").icons,...V1.get(t).icons},G(t,(e,t)=>{Y(l,t)||r.ui.registry.addIcon(t,e)})}var n;t=e,s=Nd(t),j(s)?(n=tw.get(s),t.theme=n(t,tw.urls[s])||{},q(t.theme.init)&&t.theme.init(t,tw.urls[s]||t.documentBaseUrl.replace(/\/$/,""))):t.theme={},n=e,s=Rd(n),t=$1.get(s),n.model=t(n,$1.urls[s]);{var o=e;const d=[];K(Kd(o),e=>{tO(o,d,e.replace(/^\-/,""))})}var a,i,s,t=await aO(e);a=e,i=R.from(t.api).getOr({}),s={show:R.from(i.show).getOr(V),hide:R.from(i.hide).getOr(V),isEnabled:R.from(i.isEnabled).getOr(de),setEnabled:t=>{a.mode.isReadOnly()||R.from(i.setEnabled).each(e=>e(t))}},a.ui={...a.ui,...s},e.editorContainer=t.editorContainer,mw(e),e.inline?YA(e):(s=e,e={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer},JA(s,e),e.editorContainer&&(e.editorContainer.style.display=s.orgDisplay,s.hidden=QA.isHidden(e.editorContainer)),s.getElement().style.display="none",QA.setAttrib(s.id,"aria-hidden","true"),s.getElement().style.visibility=s.orgVisibility,ZA(s))},sO=te.DOM,lO=e=>"-"===e.charAt(0),dO=(e,n)=>{const o=fd(n);var t=gd(n);if(!Yi.hasCode(o)&&"en"!==o){const a=ft(t)?t:`${n.editorManager.baseURL}/langs/${o}.js`;e.add(a).catch(()=>{var e,t,r;e=n,t=a,r=o,iw(e,"LanguageLoadError",sw("language",t,r))})}},cO=(n,e)=>{const o=Nd(n);if(j(o)&&!lO(o)&&!Y(tw.urls,o)){var t=Dd(n);const a=t?n.documentBaseURI.toAbsolute(t):`themes/${o}/theme${e}.js`;tw.load(o,a).catch(()=>{var e,t,r;e=n,t=a,r=o,iw(e,"ThemeLoadError",sw("theme",t,r))})}},mO=(n,e)=>{const o=Rd(n);if("plugin"!==o&&!Y($1.urls,o)){var t=Ad(n);const a=j(t)?n.documentBaseURI.toAbsolute(t):`models/${o}/model${e}.js`;$1.load(o,a).catch(()=>{var e,t,r;e=n,t=a,r=o,iw(e,"ModelLoadError",sw("model",t,r))})}},uO=(t,e,r)=>R.from(e).filter(e=>ft(e)&&!V1.has(e)).map(e=>({url:t.editorManager.baseURL+`/icons/${e}/icons${r}.js`,name:R.some(e)})),fO=(e,o,t)=>{var t=uO(o,"default",t),r=(r=o,R.from(id(r)).filter(ft).map(e=>({url:e,name:R.none()})).orThunk(()=>uO(o,ad(o),"")));K((t=>{const r=[];var n=e=>{r.push(e)};for(let e=0;e<t.length;e++)t[e].each(n);return r})([t,r]),n=>{e.add(n.url).catch(()=>{var e,t,r;e=o,t=n.url,r=n.name.getOrUndefined(),iw(e,"IconsLoadError",sw("icons",t,r))})})},gO=(a,t)=>{const r=(n,o)=>{ew.load(n,o).catch(()=>{var e,t,r;e=a,t=o,r=n,iw(e,"PluginLoadError",sw("plugin",t,r))})};G(Gd(a),(e,t)=>{r(t,e),a.options.set("plugins",Kd(a).concat(t))}),K(Kd(a),e=>{!(e=O.trim(e))||ew.urls[e]||lO(e)||r(e,`plugins/${e}/plugin${t}.js`)})},pO=e=>{e=Nd(e);return!j(e)||H(tw.get(e))},hO=e=>{e=Rd(e);return H($1.get(e))},vO=t=>{var e,r,n,o=t.id;Yi.setCode(fd(t));const a=()=>{sO.unbind(window,"ready",a),t.render()};if(Ti.Event.domLoaded){if(t.getElement()){const i=Q.fromDom(t.getElement()),s=mr(i);t.on("remove",()=>{ge(i.dom.attributes,e=>cr(i,e.name)),ir(i,s)}),t.ui.styleSheetLoader=(r=i,n=t,Ua.forElement(r,{contentCssCors:Wd(n),referrerPolicy:ud(n)})),Id(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");const l=t.getElement().form||sO.getParent(o,"form");l&&(t.formElement=l,Fd(t)&&!Zn(t.getElement())&&(sO.insertAfter(sO.create("input",{type:"hidden",name:o}),o),t.hasHiddenInput=!0),t.formEventDelegate=e=>{t.dispatch(e.type,e)},sO.bind(l,"submit reset",t.formEventDelegate),t.on("reset",()=>{t.resetContent()}),!Ud(t)||l.submit.nodeType||l.submit.length||l._mceOldSubmit||(l._mceOldSubmit=l.submit,l.submit=()=>(t.editorManager.triggerSave(),t.setDirty(!1),l._mceOldSubmit(l)))),t.windowManager=nw(t),t.notificationManager=Z1(t),"xml"===t.options.get("encoding")&&t.on("GetContent",e=>{e.save&&(e.content=sO.encode(e.content))}),zd(t)&&t.on("submit",()=>{t.initialized&&t.save()}),jd(t)&&(t._beforeUnload=()=>{!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),r=(e=t).suffix,n=Vi.ScriptLoader,o=()=>{!e.removed&&pO(e)&&hO(e)&&iO(e)},cO(e,r),mO(e,r),dO(n,e),fO(n,e,r),gO(e,r),n.loadQueue().then(o,o)}}else sO.bind(window,"ready",a)};SS=It().deviceType;const bO=SS.isPhone(),yO=SS.isTablet(),CO=e=>{return ne(e)?[]:(e=re(e)?e:e.split(/[ ,]/),e=h(e,ct),D(e,ft))},wO=(r,e)=>{e=e,n=(e,t)=>A(r,t),o={},t={},Ue(e,n,Fe(o),Fe(t));var t,n,o,e={t:o,f:t};return n=e.t,o=e.f,{sections:$(n),options:$(o)}},xO=(e,t,r={})=>{e=e.sections(),e=g(e,t).getOr({});return O.extend({},r,e)},kO=(e,t)=>Y(e.sections(),t),_O=(e,t)=>{return{...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:g(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}},EO=(e,t)=>{t=null!=(t=t.external_plugins)?t:{};return e&&e.external_plugins?O.extend({},e.external_plugins,t):t},SO=(e,t,r,n)=>{var r=CO(r.forced_plugins),o=CO(n.plugins),a=(a=t,i="mobile",kO(a,i)?a.sections()[i]:{}),i=a.plugins?CO(a.plugins):o,i=(a=t,t=o,o=i,e&&kO(a,"mobile")?o:t),o=(e=r,a=i,[...CO(e),...CO(a)]);return O.extend(n,{forced_plugins:r,plugins:o})},NO=(e,t)=>e&&kO(t,"mobile"),DO=(e,t)=>{return r=bO||yO,n=bO,e=e,o=t=t,a=r?{mobile:_O(null!=(a=o.mobile)?a:{},n)}:{},n=wO(["mobile"],QE(a,o)),a=O.extend(t,e,n.options(),NO(r,n)?xO(n,"mobile"):{},{external_plugins:EO(e,n.options())}),SO(r,n,e,a);var r,n,o,a},RO=(e,t)=>{return e=e,t=t,i1(e).editor.addVisual(t)},AO=n=>{var e=r=>()=>{var e,t;K("left,center,right,justify".split(","),e=>{r!==e&&n.formatter.remove("align"+e)}),"none"!==r&&(e="align"+r,n.formatter.toggle(e,t),n.nodeChanged())};n.editorCommands.addCommands({JustifyLeft:e("left"),JustifyCenter:e("center"),JustifyRight:e("right"),JustifyFull:e("justify"),JustifyNone:e("none")})},OO=r=>{var e=t=>()=>{var e=r.selection,e=e.isCollapsed()?[r.dom.getParent(e.getNode(),r.dom.isBlock)]:e.getSelectedBlocks();return W(e,e=>H(r.formatter.matchNode(e,t)))};r.editorCommands.addCommands({JustifyLeft:e("alignleft"),JustifyCenter:e("aligncenter"),JustifyRight:e("alignright"),JustifyFull:e("alignjustify")},"state")},TO=(e,t)=>{var r,n=e.selection,e=e.dom;return/^ | $/.test(t)?(e=e,n=n.getRng(),r=t,e=Q.fromDom(e.getRoot()),r=kh(e,v.fromRangeStart(n))?r.replace(/^ /,"&nbsp;"):r.replace(/^&nbsp;/," "),r=_h(e,v.fromRangeEnd(n))?r.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):r.replace(/&nbsp;(<br( \/)?>)?$/," ")):t},BO=(o,e)=>{if(o.selection.isEditable()){const{content:r,details:a}="string"!=typeof(e=e)?(t=O.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}};yC(o,{...a,content:TO(o,r),format:"html",set:!1,selection:!0}).each(e=>{n=o,t=e.content,r=a;var t,r,n=a1(n).editor.insertContent(t,r);CC(o,n,e),o.addVisual()})}var t},PO={"font-size":"size","font-family":"face"},LO=nr("font"),MO=(r,t,e)=>{return yb(Q.fromDom(e),e=>{return t=e,gn(t,r).orThunk(()=>LO(t)?g(PO,r).bind(e=>lr(t,e)):R.none());var t},e=>T(Q.fromDom(t),e))};r=n=>(r,e)=>R.from(e).map(Q.fromDom).filter(Zt).bind(e=>{return MO(n,r,e.dom).or((t=n,e=e.dom,R.from(te.DOM.getStyle(e,t,!0))));var t}).getOr("");const IO=r("font-size"),FO=M(e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),r("font-family")),UO=e=>$m(e.getBody()).bind(e=>{e=e.container();return R.from(ee(e)?e.parentNode:e)}),zO=(e,t)=>{return r=e,R.from(r.selection.getRng()).bind(e=>{var t=r.getBody();return e.startContainer===t&&0===e.startOffset?R.none():R.from(r.selection.getStart(!0))}).orThunk(w(UO,e)).map(Q.fromDom).filter(Zt).bind(t);var r},jO=(e,t)=>zO(e,I(R.some,t)),HO=(e,t)=>{var r,n;return/^[0-9.]+$/.test(t)&&1<=(r=parseInt(t,10))&&r<=7?(n=e,n=O.explode(n.options.get("font_size_style_values")),e=e,0<(e=O.explode(e.options.get("font_size_classes"))).length?e[r-1]||t:n[r-1]||t):t},qO=(e,t)=>{t=HO(e,t);e.formatter.toggle("fontname",{value:(e=>{e=e.split(/\s*,\s*/);return h(e,e=>-1===e.indexOf(" ")||lt(e,'"')||lt(e,"'")?e:`'${e}'`).join(",")})(t)}),e.nodeChanged()},VO=o=>{const n=(e,t)=>{o.formatter.toggle(e,t),o.nodeChanged()};o.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{n(e)},"ForeColor,HiliteColor":(e,t,r)=>{n(e,{value:r})},BackColor:(e,t,r)=>{n("hilitecolor",{value:r})},FontName:(e,t,r)=>{qO(o,r)},FontSize:(e,t,r)=>{var n;r=r,(n=o).formatter.toggle("fontsize",{value:HO(n,r)}),n.nodeChanged()},LineHeight:(e,t,r)=>{var n;(n=o).formatter.toggle("lineheight",{value:String(r)}),n.nodeChanged()},Lang:(e,t,r)=>{n(e,{value:r.code,customValue:null!=(e=r.customCode)?e:null})},RemoveFormat:e=>{o.formatter.remove(e)},mceBlockQuote:()=>{n("blockquote")},FormatBlock:(e,t,r)=>{n(j(r)?r:"p")},mceToggleFormat:(e,t,r)=>{n(r)}})},$O=r=>{const t=e=>r.formatter.match(e);r.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),r.editorCommands.addQueryValueHandler("FontName",()=>{return t=r,jO(t,e=>FO(t.getBody(),e.dom)).getOr("");var t}),r.editorCommands.addQueryValueHandler("FontSize",()=>{return t=r,jO(t,e=>IO(t.getBody(),e.dom)).getOr("");var t}),r.editorCommands.addQueryValueHandler("LineHeight",()=>{return t=r,jO(t,r=>{var e=Q.fromDom(t.getBody());return yb(r,e=>gn(e,"line-height"),w(T,e)).getOrThunk(()=>{var e=parseFloat(un(r,"line-height")),t=parseFloat(un(r,"font-size"));return String(e/t)})}).getOr("");var t})},WO=n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":e=>{n.getDoc().execCommand(e);var t,r,e=n.dom.getParent(n.selection.getNode(),"ol,ul");e&&(t=e.parentNode)&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)&&(r=n.selection.getBookmark(),n.dom.split(t,e),n.selection.moveToBookmark(r))}})},KO=r=>{r.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":e=>{var t=r.dom.getParent(r.selection.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state")},GO=(r,e)=>{var t=r.dom,n=r.selection.getRng(),o=e?r.selection.getStart():r.selection.getEnd();const a=e?n.startContainer:n.endContainer,i=iN(t,a);if(i&&i.isContentEditable){const s=e?bn:yn,l=Yl(r);((e,t,r,n)=>{const o=e.dom;e=e=>o.isBlock(e)&&e.parentElement===r,t=e(t)?t:o.getParent(n,e,r);return R.from(t).map(Q.fromDom)})(r,o,i,a).each(e=>{var t=mN(r,a,e.dom,i,!1,l);s(e,Q.fromDom(t)),r.selection.setCursorLocation(t,0),r.dispatch("NewBlock",{newBlock:t}),ZS(r,"insertParagraph")})}},YO=e=>GO(e,!0),XO=e=>GO(e,!1),QO=e=>{var n,t,o,a,i,r,s,l,d,c;d=e,AO(d),OO(d),(n=e).editorCommands.addCommands({"Cut,Copy,Paste":e=>{var t=n.getDoc();let r;try{t.execCommand(e)}catch(e){r=!0}if((r="paste"!==e||t.queryCommandEnabled(e)?r:!0)||!t.queryCommandSupported(e)){let e=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(U.os.isMacOS()||U.os.isiOS())&&(e=e.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:e,type:"error"})}}}),(t=e).editorCommands.addCommands({mceAddUndoLevel:()=>{t.undoManager.add()},mceEndUndoLevel:()=>{t.undoManager.add()},Undo:()=>{t.undoManager.undo()},Redo:()=>{t.undoManager.redo()}}),(o=e).editorCommands.addCommands({mceSelectNodeDepth:(e,t,r)=>{let n=0;o.dom.getParent(o.selection.getNode(),e=>!Z(e)||n++!==r||(o.selection.select(e),!1),o.getBody())},mceSelectNode:(e,t,r)=>{o.selection.select(r)},selectAll:()=>{var e,t=o.dom.getParent(o.selection.getStart(),io);t&&((e=o.dom.createRng()).selectNodeContents(t),o.selection.setRng(e))}}),(a=e).editorCommands.addCommands({mceCleanup:()=>{var e=a.selection.getBookmark();a.setContent(a.getContent()),a.selection.moveToBookmark(e)},insertImage:(e,t,r)=>{BO(a,a.dom.createHTML("img",{src:r}))},insertHorizontalRule:()=>{a.execCommand("mceInsertContent",!1,"<hr>")},insertText:(e,t,r)=>{BO(a,a.dom.encode(r))},insertHTML:(e,t,r)=>{BO(a,r)},mceInsertContent:(e,t,r)=>{BO(a,r)},mceSetContent:(e,t,r)=>{a.setContent(r)},mceReplaceContent:(e,t,r)=>{a.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,a.selection.getContent({format:"text"})))},mceNewDocument:()=>{a.setContent(cc(a))}}),d=(e,t,r)=>{var r=j(r)?{href:r}:r,n=i.dom.getParent(i.selection.getNode(),"a");k(r)&&j(r.href)&&(r.href=r.href.replace(/ /g,"%20"),n&&r.href||i.formatter.remove("link"),r.href)&&i.formatter.apply("link",r,n)},(i=e).editorCommands.addCommands({unlink:()=>{var e;i.selection.isEditable()&&(i.selection.isCollapsed()?(e=i.dom.getParent(i.selection.getStart(),"a"))&&i.dom.remove(e,!0):i.formatter.remove("link"))},mceInsertLink:d,createLink:d}),(r=e).editorCommands.addCommands({Indent:()=>{f_(r)},Outdent:()=>{g_(r)}}),r.editorCommands.addCommands({Outdent:()=>l_(r)},"state"),(s=e).editorCommands.addCommands({InsertNewBlockBefore:()=>{YO(s)},InsertNewBlockAfter:()=>{XO(s)}}),(l=e).editorCommands.addCommands({insertParagraph:()=>{YN(EN,l)},mceInsertNewLine:(e,t,r)=>{XN(l,r)},InsertLineBreak:(e,t,r)=>{YN(PN,l)}}),d=e,WO(d),KO(d),d=e,VO(d),$O(d),(c=e).editorCommands.addCommands({mceRemoveNode:(e,t,r)=>{var n,r=null!=r?r:c.selection.getNode();r!==c.getBody()&&(n=c.selection.getBookmark(),c.dom.remove(r,!0),c.selection.moveToBookmark(n))},mcePrint:()=>{c.getWin().print()},mceFocus:(e,t,r)=>{dp(c,!0===r)},mceToggleVisualAid:()=>{c.hasVisual=!c.hasVisual,c.addVisual()}})},JO=["toggleview"],ZO=e=>A(JO,e.toLowerCase());class eT{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,r,n){var o,a=this.editor,i=e.toLowerCase(),n=null==n?void 0:n.skip_focus;return!(a.removed||("mcefocus"!==i&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||n?(o=a,$g(o).each(e=>o.selection.setRng(e))):a.focus()),a.dispatch("BeforeExecCommand",{command:e,ui:t,value:r}).isDefaultPrevented())||(n=this.commands.exec[i],!q(n))||(n(i,t,r),a.dispatch("ExecCommand",{command:e,ui:t,value:r}),0))}queryCommandState(e){var t;return!(!ZO(e)&&this.editor.quirks.isHidden()||this.editor.removed||(e=e.toLowerCase(),t=this.commands.state[e],!q(t)))&&t(e)}queryCommandValue(e){var t;return!(!ZO(e)&&this.editor.quirks.isHidden()||this.editor.removed)&&(e=e.toLowerCase(),t=this.commands.value[e],q(t))?t(e):""}addCommands(e,r="exec"){const n=this.commands;G(e,(t,e)=>{K(e.toLowerCase().split(","),e=>{n[r][e]=t})})}addCommand(e,n,o){e=e.toLowerCase();this.commands.exec[e]=(e,t,r)=>n.call(null!=o?o:this.editor,t,r)}queryCommandSupported(e){e=e.toLowerCase();return!!this.commands.exec[e]}addQueryStateHandler(e,t,r){this.commands.state[e.toLowerCase()]=()=>t.call(null!=r?r:this.editor)}addQueryValueHandler(e,t,r){this.commands.value[e.toLowerCase()]=()=>t.call(null!=r?r:this.editor)}}const tT="data-mce-contenteditable",rT=(e,t,r)=>{try{e.getDoc().execCommand(t,!1,String(r))}catch(e){}},nT=(e,t)=>{e.dom.contentEditable=t?"true":"false"},oT=(e,t)=>{var r,n,o,a=Q.fromDom(e.getBody());n=a,r="mce-content-readonly",o=t,wr(n,r)&&!o?Cr(n,r):o&&br(n,r),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),o=e,R.from(o.selection.getNode()).each(e=>{e.removeAttribute("data-mce-selected")}),e.readonly=!0,nT(a,!1),n=a,K(Wn(n,'*[contenteditable="true"]'),e=>{ar(e,tT,"true"),nT(e,!1)})):(e.readonly=!1,e.hasEditableRoot()&&nT(a,!0),r=a,K(Wn(r,`*[${tT}="true"]`),e=>{cr(e,tT),nT(e,!0)}),rT(e,"StyleWithCSS",!1),rT(e,"enableInlineTableEditing",!1),rT(e,"enableObjectResizing",!1),sp(e)&&e.focus(),e.selection.setRng(e.selection.getRng()),e.nodeChanged())},aT=e=>e.readonly,iT=t=>{t.parser.addAttributeFilter("contenteditable",e=>{aT(t)&&K(e,e=>{e.attr(tT,e.attr("contenteditable")),e.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(tT,e=>{aT(t)&&K(e,e=>{e.attr("contenteditable",e.attr(tT))})}),t.serializer.addTempAttr(tT)},sT=["copy"],lT=(r,n)=>{var e,t,o;"click"!==n.type||z.metaKeyPressed(n)?(e=n,A(sT,e.type)&&r.dispatch(n.type,n)):(e=Q.fromDom(n.target),t=r,o=e,rn(o,"a",e=>T(e,Q.fromDom(t.getBody()))).bind(e=>lr(e,"href")).each(e=>{var t;n.preventDefault(),/^#/.test(e)?(t=r.dom.select(`${e},[name="${it(e,"#")}"]`)).length&&r.selection.scrollIntoView(t[0],!0):window.open(e,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))},dT=O.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class cT{static isNative(e){return!!dT[e.toLowerCase()]}constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||u}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){var r=e.toLowerCase(),n=Si(r,null!=t?t:{},this.scope),o=(this.settings.beforeFire&&this.settings.beforeFire(n),this.bindings[r]);if(o)for(let e=0,t=o.length;e<t;e++){var a=o[e];if(!a.removed){if(a.once&&this.off(r,a.func),n.isImmediatePropagationStopped())return n;if(!1===a.func.call(this.scope,n))return n.preventDefault(),n}}return n}on(e,r,n,o){if(r=!1===r?u:r){var a={func:r,removed:!1},i=(o&&O.extend(a,o),e.toLowerCase().split(" "));let t=i.length;for(;t--;){var s=i[t];let e=this.bindings[s];e||(e=[],this.toggleEvent(s,!0)),e=n?[a,...e]:[...e,a],this.bindings[s]=e}}return this}off(r,n){if(r){var o=r.toLowerCase().split(" ");let t=o.length;for(;t--;){var a,i=o[t];let e=this.bindings[i];if(!i)return G(this.bindings,(e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]}),this;e&&(n?(a=pe(e,e=>e.func===n),e=a.fail,this.bindings[i]=e,K(a.pass,e=>{e.removed=!0})):e.length=0,e.length||(this.toggleEvent(r,!1),delete this.bindings[i]))}}else G(this.bindings,(e,t)=>{this.toggleEvent(t,!1)}),this.bindings={};return this}once(e,t,r){return this.on(e,t,r,{once:!0})}has(e){e=e.toLowerCase();e=this.bindings[e];return!(!e||0===e.length)}}const mT=r=>(r._eventDispatcher||(r._eventDispatcher=new cT({scope:r,toggleEvent:(e,t)=>{cT.isNative(e)&&r.toggleNativeEvent&&r.toggleNativeEvent(e,t)}})),r._eventDispatcher);AS={fire(e,t,r){return this.dispatch(e,t,r)},dispatch(t,e,r){if(this.removed&&"remove"!==t&&"detach"!==t)return Si(t.toLowerCase(),null!=e?e:{},this);var n=mT(this).dispatch(t,e);if(!1!==r&&this.parent){let e=this.parent();for(;e&&!n.isPropagationStopped();)e.dispatch(t,n,!1),e=e.parent?e.parent():void 0}return n},on(e,t,r){return mT(this).on(e,t,r)},off(e,t){return mT(this).off(e,t)},once(e,t){return mT(this).once(e,t)},hasEventListeners(e){return mT(this).has(e)}};const uT=te.DOM;let fT;const gT=(e,t)=>{return"selectionchange"===t?e.getDoc():!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t)?e.getDoc().documentElement:(t=Ed(e))?(e.eventRoot||(e.eventRoot=uT.select(t)[0]),e.eventRoot):e.getBody()},pT=e=>!e.hidden&&!aT(e),hT=(e,t,r)=>{pT(e)?e.dispatch(t,r):aT(e)&&lT(e,r)},vT=(a,i)=>{var e,t;a.delegates||(a.delegates={}),a.delegates[i]||a.removed||(e=gT(a,i),Ed(a)?(fT||(fT={},a.editorManager.on("removeEditor",()=>{a.editorManager.activeEditor||fT&&(G(fT,(e,t)=>{a.dom.unbind(gT(a,t))}),fT=null)})),fT[i]||(t=e=>{var t=e.target,r=a.editorManager.get();let n=r.length;for(;n--;){var o=r[n].getBody();o!==t&&!uT.isChildOf(t,o)||hT(r[n],i,e)}},fT[i]=t,uT.bind(e,i,t))):(t=e=>{hT(a,i,e)},uT.bind(e,i,t),a.delegates[i]=t))},bT={...AS,bindPendingEventDelegates(){const t=this;O.each(t._pendingNativeEvents,e=>{vT(t,e)})},toggleNativeEvent(e,t){var r=this;"focus"===e||"blur"===e||r.removed||(t?r.initialized?vT(r,e):r._pendingNativeEvents?r._pendingNativeEvents.push(e):r._pendingNativeEvents=[e]:r.initialized&&r.delegates&&(r.dom.unbind(gT(r,e),e,r.delegates[e]),delete r.delegates[e]))},unbindAllNativeEvents(){const r=this;var e=r.getBody(),t=r.dom;r.delegates&&(G(r.delegates,(e,t)=>{r.dom.unbind(gT(r,t),t,e)}),delete r.delegates),!r.inline&&e&&t&&(e.onload=null,t.unbind(r.getWin()),t.unbind(r.getDoc())),t&&(t.unbind(e),t.unbind(r.getContainer()))}},yT=e=>j(e)?{value:e.split(/[ ,]/),valid:!0}:L(e,j)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},CT=(e,t)=>{return e+(gt(t.message)?"":". "+t.message)},wT=e=>e.valid,xT=(e,t,r="")=>{t=t(e);return S(t)?t?{value:e,valid:!0}:{valid:!1,message:r}:t},kT=(e,o)=>{const a={},i={},s=(e,t,r)=>{t=xT(t,r);return wT(t)?(i[e]=t.value,!0):(console.warn(CT(`Invalid value passed for the ${e} option`,t)),!1)};const n=e=>Y(a,e);return{register:(t,e)=>{n=e;const r=j(n.processor)?(t=>{const r=(()=>{switch(t){case"array":return re;case"boolean":return S;case"function":return q;case"number":return P;case"object":return k;case"string":return j;case"string[]":return yT;case"object[]":return e=>L(e,k);case"regexp":return e=>x(e,RegExp);default:return de}})();return e=>xT(e,r,`The value must be a ${t}.`)})(e.processor):e.processor;var n=((e,t,r)=>{if(!N(t)){t=xT(t,r);if(wT(t))return t.value;console.error(CT(`Invalid default value passed for the "${e}" option`,t))}})(t,e.default,r);a[t]={...e,default:n,processor:r},g(i,t).orThunk(()=>g(o,t)).each(e=>s(t,e,r))},isRegistered:n,get:e=>g(i,e).orThunk(()=>g(a,e).map(e=>e.default)).getOrUndefined(),set:(e,t)=>{var r;return n(e)?(r=a[e]).immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):s(e,t,r.processor):(console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1)},unset:e=>{var t=n(e);return t&&delete i[e],t},isSet:e=>Y(i,e)}},_T=["design","readonly"],ET=(e,t,r,n)=>{var o=r[t.get()],r=r[n];try{r.activate()}catch(e){return void console.error(`problem while activating editor mode ${n}:`,e)}o.deactivate(),o.editorReadOnly!==r.editorReadOnly&&oT(e,r.editorReadOnly),t.set(n),e.dispatch("SwitchMode",{mode:n})},ST=a=>{const i=$i("design"),s=$i({design:{activate:V,deactivate:V,editorReadOnly:!1},readonly:{activate:V,deactivate:V,editorReadOnly:!0}});var e,t;return(e=a).serializer?iT(e):e.on("PreInit",()=>{iT(e)}),(t=a).on("ShowCaret",e=>{aT(t)&&e.preventDefault()}),t.on("ObjectSelected",e=>{aT(t)&&e.preventDefault()}),{isReadOnly:()=>aT(a),set:e=>{var t=a,r=s.get(),n=i,o=e;if(o!==n.get()){if(!Y(r,o))throw new Error(`Editor mode '${o}' is invalid`);t.initialized?ET(t,n,r,o):t.on("init",()=>ET(t,n,r,o))}},get:()=>i.get(),register:(e,t)=>{s.set(((e,t,r)=>{if(A(_T,t))throw new Error("Cannot override default mode "+t);return{...e,[t]:{...r,deactivate:()=>{try{r.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(s.get(),e,t))}}},NT=O.each,DT=O.explode,RT={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},AT=O.makeMap("alt,ctrl,shift,meta,access"),OT=e=>{const t={};var r=U.os.isMacOS()||U.os.isiOS(),n=(NT(DT(e.toLowerCase(),"+"),e=>{e in AT?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=RT[e]||e.toUpperCase().charCodeAt(0))}),[t.keyCode]);let o;for(o in AT)t[o]?n.push(o):t[o]=!1;return t.id=n.join(","),t.access&&(t.alt=!0,r?t.ctrl=!0:t.shift=!0),t.meta&&(r?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class TT{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const r=this;e.on("keyup keypress keydown",t=>{!r.hasModifier(t)&&!r.isFunctionKey(t)||t.isDefaultPrevented()||(NT(r.shortcuts,e=>{r.matchShortcut(t,e)&&(r.pendingPatterns=e.subpatterns.slice(0),"keydown"===t.type)&&r.executeShortcutAction(e)}),r.matchShortcut(t,r.pendingPatterns[0])&&(1===r.pendingPatterns.length&&"keydown"===t.type&&r.executeShortcutAction(r.pendingPatterns[0]),r.pendingPatterns.shift()))})}add(e,t,r,n){const o=this,a=o.normalizeCommandFunc(r);return NT(DT(O.trim(e)),e=>{e=o.createShortcut(e,t,a,n);o.shortcuts[e.id]=e}),!0}remove(e){e=this.createShortcut(e);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)}normalizeCommandFunc(e){const t=this,r=e;return"string"==typeof r?()=>{t.editor.execCommand(r,!1,null)}:O.isArray(r)?()=>{t.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(e,t,r,n){e=O.map(DT(e,">"),OT);return e[e.length-1]=O.extend(e[e.length-1],{func:r,scope:n||this.editor}),O.extend(e[0],{desc:this.editor.translate(t),subpatterns:e.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const BT=te.DOM,PT=O.extend,LT=O.each;class MT{constructor(e,t,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,PT(this,bT);var n=this,e=(this.id=e,this.hidden=!1,DO(r.defaultOptions,t)),o=(this.options=kT(0,e),jl(n),this.options.get),t=(o("deprecation_warnings")&&U1(t,e),o("suffix")),e=(t&&(r.suffix=t),this.suffix=r.suffix,o("base_url")),t=(e&&r._setBaseUrl(e),this.baseUri=r.baseURI,ud(n)),e=(t&&(Vi.ScriptLoader._setReferrerPolicy(t),te.DOM.styleSheetLoader._setReferrerPolicy(t)),Wd(n)),t=(H(e)&&te.DOM.styleSheetLoader._setContentCssCors(e),Xi.languageLoad=o("language_load"),Xi.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new eC(Vl(n),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Id(n),this.hasVisual=Xd(n),this.shortcuts=new TT(this),this.editorCommands=new eT(this),QO(this),o("cache_suffix")),o=(t&&(U.cacheSuffix=t.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(e=(()=>{const e={},t={},r={},n={},o={},a={},i={},s={};var l=(r,n)=>(e,t)=>{r[e.toLowerCase()]={...t,type:n}};return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(r,"autocompleter"),addContextMenu:l(o,"contextmenu"),addContextToolbar:l(a,"contexttoolbar"),addContextForm:l(a,"contextform"),addSidebar:l(i,"sidebar"),addView:l(s,"views"),addIcon:(e,t)=>n[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:n,popups:r,contextMenus:o,contextToolbars:a,sidebars:i,views:s})}})()).addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll},styleSheetLoader:void 0,show:V,hide:V,setEnabled:V,isEnabled:de},this.mode=ST(n),r.dispatch("SetupEditor",{editor:this}),ec(n));q(o)&&o.call(n,n)}render(){vO(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return ip(this)}translate(e){return Yi.translate(e)}getParam(e,t,r){var n=this.options;return n.isRegistered(e)||(H(r)?n.register(e,{processor:r,default:t}):n.register(e,{processor:de,default:t})),n.isSet(e)||N(t)?n.get(e):t}hasPlugin(e,t){return!(!A(Kd(this),e)||t&&void 0===ew.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,r){this.editorCommands.addCommand(e,t,r)}addQueryStateHandler(e,t,r){this.editorCommands.addQueryStateHandler(e,t,r)}addQueryValueHandler(e,t,r){this.editorCommands.addQueryValueHandler(e,t,r)}addShortcut(e,t,r,n){this.shortcuts.add(e,t,r,n)}execCommand(e,t,r,n){return this.editorCommands.execCommand(e,t,r,n)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(BT.show(this.getContainer()),BT.hide(this.id)),this.load(),this.dispatch("show"))}hide(){var e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(BT.hide(e.getContainer()),BT.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){var t,r=this.getElement();return!this.removed&&r?(e={...e,load:!0},t=Zn(r)?r.value:r.innerHTML,t=this.setContent(t,e),e.no_events||this.dispatch("LoadContent",{...e,element:r}),t):""}save(e={}){const t=this;let r=t.getElement();if(!r||!t.initialized||t.removed)return"";var n={...e,save:!0,element:r};let o=t.getContent(n);var a={...n,content:o};return a.no_events||t.dispatch("SaveContent",a),"raw"===a.format&&t.dispatch("RawSaveContent",a),o=a.content,Zn(r)?r.value=o:(!e.is_removing&&t.inline||(r.innerHTML=o),(e=BT.getParent(t.id,"form"))&&LT(e.elements,e=>e.name!==t.id||(e.value=o,!1))),a.element=n.element=r=null,!1!==a.set_dirty&&t.setDirty(!1),o}setContent(e,t){return N1(this,e,t)}getContent(e){return E1(this,e)}insertContent(e,t){t&&(e=PT({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?N1(this,this.startContent,{format:"raw"}):N1(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){return this.container||(this.container=this.editorContainer||BT.get(this.id+"_parent")),this.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=BT.get(this.id)),this.targetElm}getWin(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow}getDoc(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument}getBody(){var e,t=this.getDoc();return null!=(e=null!=(e=this.bodyElement)?e:null==t?void 0:t.body)?e:null}convertURL(e,t,r){var n=this.options.get,o=rc(this);if(q(o))return o.call(this,e,r,!0,t);if(n("convert_urls")&&"link"!==r&&(!k(r)||"LINK"!==r.nodeName)&&0!==e.indexOf("file:")&&0!==e.length){if(n("relative_urls"))return this.documentBaseURI.toRelative(e);e=this.documentBaseURI.toAbsolute(e,n("remove_script_host"))}return e}addVisual(e){RO(this,e)}setEditableRoot(e){var t;e=e,(t=this)._editableRoot!==e&&(t._editableRoot=e,t.readonly||(t.getBody().contentEditable=String(t.hasEditableRoot()),t.nodeChanged()),t.dispatch("EditableRootStateChange",{state:e}))}hasEditableRoot(){return this._editableRoot}remove(){H1(this)}destroy(e){q1(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const IT=te.DOM,FT=O.each;let UT=!1,zT,jT=[];const HT=t=>{const r=t.type;FT(WT.get(),e=>{switch(r){case"scroll":e.dispatch("ScrollWindow",t);break;case"resize":e.dispatch("ResizeWindow",t)}})},qT=e=>{var t;e!==UT&&(t=te.DOM,e?(t.bind(window,"resize",HT),t.bind(window,"scroll",HT)):(t.unbind(window,"resize",HT),t.unbind(window,"scroll",HT)),UT=e)},VT=t=>{var e=jT;return jT=D(jT,e=>t!==e),WT.activeEditor===t&&(WT.activeEditor=0<jT.length?jT[0]:null),WT.focusedEditor===t&&(WT.focusedEditor=null),e.length!==jT.length},$T="CSS1Compat"!==document.compatMode,WT={...AS,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"7.2",releaseDate:"2023-10-25",i18n:Yi,activeEditor:null,focusedEditor:null,setup(){let t="",r="",e=eC.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/"));var n=window.tinymce||window.tinyMCEPreInit;if(n)t=n.base||n.baseURL,r=n.suffix;else{var o=document.getElementsByTagName("script");for(let e=0;e<o.length;e++){var a=o[e].src||"";if(""!==a){var i=a.substring(a.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){-1!==i.indexOf(".min")&&(r=".min"),t=a.substring(0,a.lastIndexOf("/"));break}}}!t&&document.currentScript&&(-1!==(n=document.currentScript.src).indexOf(".min")&&(r=".min"),t=n.substring(0,n.lastIndexOf("/")))}this.baseURL=new eC(e).toAbsolute(t),this.documentBaseURL=e,this.baseURI=new eC(this.baseURL),this.suffix=r,(n=this).on("AddEditor",w(ep,n)),n.on("RemoveEditor",w(tp,n))},overrideDefaults(e){var t=e.base_url,t=(t&&this._setBaseUrl(t),e.suffix),t=(t&&(this.suffix=t),(this.defaultOptions=e).plugin_base_urls);void 0!==t&&G(t,(e,t)=>{Xi.PluginManager.urls[t]=e})},init(i){const s=this;let r;const n=O.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),l=(e,t)=>e.inline&&t.tagName.toLowerCase()in n,d=e=>{let t=e.id;return t||(t=g(e,"name").filter(e=>!IT.get(e)).getOrThunk(IT.uniqueId),e.setAttribute("id",t)),t},e=e=>{e=i[e];if(e)return e.apply(s,[])},t=e=>U.browser.isIE()||U.browser.isEdge()?(lw("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):$T?(lw("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):j(e.selector)?IT.select(e.selector):H(e.target)?[e.target]:[];let c=e=>{r=e};const m=()=>{let n=0;const o=[];let a;IT.unbind(window,"ready",m),e("onpageload"),a=((r,n)=>{const o=[];var a=q(n)?t=>W(o,e=>n(e,t)):e=>A(o,e);for(let e=0,t=r.length;e<t;e++){var i=r[e];a(i)||o.push(i)}return o})(t(i)),O.each(a,e=>{(e=s.get(e.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(VT(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)}),0===(a=O.grep(a,e=>!s.get(e.id))).length?c([]):FT(a,e=>{var t,r;l(i,e)?lw("Could not initialize inline editor on invalid inline target element",e):(t=d(e),r=i,e=e,t=new MT(t,r,s),o.push(t),t.on("init",()=>{++n===a.length&&c(o)}),t.targetElm=t.targetElm||e,t.render())})};return IT.bind(window,"ready",m),new Promise(t=>{r?t(r):c=e=>{t(e)}})},get(t){return 0===arguments.length?jT.slice(0):j(t)?ye(jT,e=>e.id===t).getOr(null):P(t)&&jT[t]||null},add(e){const r=this;var t=r.get(e.id);return t===e||(null===t&&jT.push(e),qT(!0),r.activeEditor=e,r.dispatch("AddEditor",{editor:e}),zT)||(zT=e=>{var t=r.dispatch("BeforeUnload");if(t.returnValue)return e.preventDefault(),e.returnValue=t.returnValue,t.returnValue},window.addEventListener("beforeunload",zT)),e},createEditor(e,t){return this.add(new MT(e,t,this))},remove(e){const t=this;let r;if(e){if(!j(e))return r=e,E(t.get(r.id))?null:(VT(r)&&t.dispatch("RemoveEditor",{editor:r}),0===jT.length&&window.removeEventListener("beforeunload",zT),r.remove(),qT(0<jT.length),r);FT(IT.select(e),e=>{(r=t.get(e.id))&&t.remove(r)})}else for(let e=jT.length-1;0<=e;e--)t.remove(jT[e])},execCommand(e,t,r){var n,o=k(r)?null!=(n=r.id)?n:r.index:r;switch(e){case"mceAddEditor":return this.get(o)||(a=r.options,new MT(o,a,this).render()),!0;case"mceRemoveEditor":var a=this.get(o);return a&&a.remove(),!0;case"mceToggleEditor":a=this.get(o);return a?a.isHidden()?a.show():a.hide():this.execCommand("mceAddEditor",!1,r),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,r)},triggerSave:()=>{FT(jT,e=>{e.save()})},addI18n:(e,t)=>{Yi.add(e,t)},translate:e=>Yi.translate(e),setActive(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new eC(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new eC(this.baseURL)}};WT.setup();RS=(()=>{const t=Ji();return{FakeClipboardItem:t=>({items:t,types:Be(t),getType:e=>g(t,e).getOrUndefined()}),write:e=>{t.set(e)},read:()=>t.get().getOrUndefined(),clear:t.clear}})();const KT=Math.min,GT=Math.max,YT=Math.round,XT=(e,t,r)=>{let n=t.x,o=t.y;var a=e.w,e=e.h,i=t.w,t=t.h,r=(r||"").split("");return"b"===r[0]&&(o+=t),"r"===r[1]&&(n+=i),"c"===r[0]&&(o+=YT(t/2)),"c"===r[1]&&(n+=YT(i/2)),"b"===r[3]&&(o-=e),"r"===r[4]&&(n-=a),"c"===r[3]&&(o-=YT(e/2)),"c"===r[4]&&(n-=YT(a/2)),QT(n,o,a,e)};const QT=(e,t,r,n)=>({x:e,y:t,w:r,h:n});BS={inflate:(e,t,r)=>QT(e.x-t,e.y-r,e.w+2*t,e.h+2*r),relativePosition:XT,findBestRelativePosition:(t,r,n,o)=>{for(let e=0;e<o.length;e++){var a=XT(t,r,o[e]);if(a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return o[e]}return null},intersect:(e,t)=>{var r=GT(e.x,t.x),n=GT(e.y,t.y),o=KT(e.x+e.w,t.x+t.w),e=KT(e.y+e.h,t.y+t.h);return o-r<0||e-n<0?null:QT(r,n,o-r,e-n)},clamp:(e,t,r)=>{let n=e.x,o=e.y,a=e.x+e.w,i=e.y+e.h;var e=t.x+t.w,s=t.y+t.h,l=GT(0,t.x-n),t=GT(0,t.y-o),e=GT(0,a-e),s=GT(0,i-s);return n+=l,o+=t,r&&(a+=l,i+=t,n-=e,o-=s),a-=e,i-=s,QT(n,o,a-n,i-o)},create:QT,fromClientRect:e=>QT(e.left,e.top,e.width,e.height)};n=(()=>{const r={},s={};return{load:(n,o)=>{const a=`Script at URL "${o}" failed to load`,i=`Script at URL "${o}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;var e;return void 0!==r[n]?r[n]:(e=new Promise((e,t)=>{const r=((e,t,r=1e3)=>{let n=!1,o=null;var a=t=>(...e)=>{n||(n=!0,null!==o&&(clearTimeout(o),o=null),t.apply(null,e))},e=a(e);const i=a(t);return{start:(...e)=>{n||null!==o||(o=setTimeout(()=>i.apply(null,e),r))},resolve:e,reject:i}})(e,t);s[n]=r.resolve,Vi.ScriptLoader.loadScript(o).then(()=>r.start(i),()=>r.reject(a))}),r[n]=e)},add:(e,t)=>{void 0!==s[e]&&(s[e](t),delete s[e]),r[e]=Promise.resolve(t)},unload:e=>{delete r[e]}}})();let JT;try{var ZT="__storage_test__";(JT=window.localStorage).setItem(ZT,ZT),JT.removeItem(ZT)}catch(e){JT=(()=>{{let r={},n=[];var e={getItem:e=>{e=r[e];return e||null},setItem:(e,t)=>{n.push(e),r[e]=String(t)},key:e=>n[e],removeItem:t=>{n=n.filter(e=>e===t),delete r[t]},clear:()=>{n=[],r={}},length:0};return Object.defineProperty(e,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),e}})()}TS=JT,OS={geom:{Rect:BS},util:{Delay:Kg,Tools:O,VK:z,URI:eC,EventDispatcher:cT,Observable:AS,I18n:Yi,LocalStorage:TS,ImageUploader:r=>{var e=fw();const n=bw(r,e);return{upload:(e,t=!0)=>n.upload(e,t?vw(r):void 0)}}},dom:{EventUtils:Ti,TreeWalker:Gn,TextSeeker:xs,DOMUtils:te,ScriptLoader:Vi,RangeUtils:ug,Serializer:_1,StyleSheetLoader:Fa,ControlSelection:Ff,BookmarkManager:_f,Selection:v1,Event:Ti.Event},html:{Styles:wi,Entities:ai,Node:Ep,Schema:Ci,DomParser:pC,Writer:Ip,Serializer:Fp},Env:U,AddOnManager:Xi,Annotator:kf,Formatter:Ow,UndoManager:Pw,EditorCommands:eT,WindowManager:nw,NotificationManager:Z1,EditorObservable:bT,Shortcuts:TT,Editor:MT,FocusManager:Wg,EditorManager:WT,DOM:te.DOM,ScriptLoader:Vi.ScriptLoader,PluginManager:ew,ThemeManager:tw,ModelManager:$1,IconManager:V1,Resource:n,FakeClipboard:RS,trim:O.trim,isArray:O.isArray,is:O.is,toArray:O.toArray,makeMap:O.makeMap,each:O.each,map:O.map,grep:O.grep,inArray:O.inArray,extend:O.extend,walk:O.walk,resolve:O.resolve,explode:O.explode,_addCacheSuffix:O._addCacheSuffix},DS=O.extend(WT,OS),_S=DS,window.tinymce=_S,window.tinyMCE=_S,o=DS;if("object"==typeof module)try{module.exports=o}catch(e){}}();
!function(){"use strict";var l=tinymce.util.Tools.resolve("tinymce.ModelManager");const a=(e,t,r)=>{return!!r(e,t.prototype)||(null==(r=e.constructor)?void 0:r.name)===t.name};var e=r=>e=>{return t=typeof(e=e),(null===e?"null":"object"==t&&Array.isArray(e)?"array":"object"==t&&a(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t)===r;var t},t=t=>e=>typeof e===t,r=t=>e=>t===e;const P=e("string"),F=e("object"),m=e("array"),H=r(null),s=t("boolean"),V=r(void 0),q=e=>{return!(null==e)},$=t("function"),U=t("number"),k=()=>{},f=e=>()=>e,c=e=>e;function v(t,...r){return(...e)=>{e=r.concat(e);return t.apply(null,e)}}const G=t=>e=>!t(e),K=e=>e(),Y=f(!1),E=f(!0);class A{constructor(e,t){this.tag=e,this.value=t}static some(e){return new A(!0,e)}static none(){return A.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?A.some(e(this.value)):A.none()}bind(e){return this.tag?e(this.value):A.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:A.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return q(e)?A.some(e):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const J=Array.prototype.slice,Q=Array.prototype.indexOf,X=Array.prototype.push,Z=(e,t)=>Q.call(e,t),u=(e,t)=>-1<Z(e,t),d=(r,o)=>{for(let e=0,t=r.length;e<t;e++)if(o(r[e],e))return!0;return!1},ee=(t,r)=>{var o=[];for(let e=0;e<t;e++)o.push(r(e));return o},g=(t,r)=>{var o=t.length,n=new Array(o);for(let e=0;e<o;e++){var l=t[e];n[e]=r(l,e)}return n},N=(r,o)=>{for(let e=0,t=r.length;e<t;e++)o(r[e],e)},te=(t,r)=>{for(let e=t.length-1;0<=e;e--)r(t[e],e)},re=(r,o)=>{var n=[],l=[];for(let e=0,t=r.length;e<t;e++){var a=r[e];(o(a,e)?n:l).push(a)}return{pass:n,fail:l}},h=(r,o)=>{var n=[];for(let e=0,t=r.length;e<t;e++){var l=r[e];o(l,e)&&n.push(l)}return n},oe=(e,r,o)=>(te(e,(e,t)=>{o=r(o,e,t)}),o),ne=(e,r,o)=>(N(e,(e,t)=>{o=r(o,e,t)}),o),le=(r,o,n)=>{for(let e=0,t=r.length;e<t;e++){var l=r[e];if(o(l,e))return A.some(l);if(n(l,e))break}return A.none()},ae=(e,t)=>le(e,t,Y),se=(r,o)=>{for(let e=0,t=r.length;e<t;e++)if(o(r[e],e))return A.some(e);return A.none()},ie=r=>{var o=[];for(let e=0,t=r.length;e<t;++e){if(!m(r[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+r);X.apply(o,r[e])}return o},p=(e,t)=>ie(g(e,t)),ce=(r,o)=>{for(let e=0,t=r.length;e<t;++e)if(!0!==o(r[e],e))return!1;return!0},me=(r,o)=>{var n={};for(let e=0,t=r.length;e<t;e++){var l=r[e];n[String(l)]=o(l,e)}return n},de=(e,t)=>{e=J.call(e,0);return e.sort(t),e},ue=(e,t)=>0<=t&&t<e.length?A.some(e[t]):A.none(),fe=e=>ue(e,0),ge=e=>ue(e,e.length-1),he=(t,r)=>{for(let e=0;e<t.length;e++){var o=r(t[e],e);if(o.isSome())return o}return A.none()},pe=Object.keys,ve=Object.hasOwnProperty,b=(r,o)=>{var n=pe(r);for(let e=0,t=n.length;e<t;e++){var l=n[e];o(r[l],l)}},be=(e,r)=>{{var o=(e,t)=>({k:t,v:r(e,t)});const n={};return b(e,(e,t)=>{e=o(e,t);n[e.k]=e.v}),n}},we=(e,t)=>{var r,o,n,l,a={};return e=e,r=t,l=a,o=(e,t)=>{l[t]=e},n=k,b(e,(e,t)=>{(r(e,t)?o:n)(e,t)}),a},ye=(e,r)=>{const o=[];return b(e,(e,t)=>{o.push(r(e,t))}),o},Ce=e=>ye(e,c),xe=(e,t)=>ve.call(e,t),Te=(e,t)=>xe(e,t)&&void 0!==e[t]&&null!==e[t],Se="undefined"!=typeof window?window:Function("return this;")(),Re=(e,r)=>{e=e.split(".");{var o=e;let t=null!=(e=r)?e:Se;for(let e=0;e<o.length&&void 0!==t&&null!==t;++e)t=t[o[e]];return t}},De=(e,t)=>{r=e,t=t;var r=Re(r,t);if(null==r)throw new Error(e+" not available on this browser");return r},Oe=Object.getPrototypeOf,ke=e=>{var t=Re("ownerDocument.defaultView",e);return F(e)&&(t=t,De("HTMLElement",t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Oe(e).constructor.name))},Ee=8;const z=e=>{return e.dom.nodeName.toLowerCase()},Ae=e=>e.dom.nodeType;e=t=>e=>Ae(e)===t;const Ne=e=>Ae(e)===Ee||"#comment"===z(e),ze=e=>Be(e)&&ke(e.dom),Be=e(1),_e=e(3),je=e(9),Le=e(11),w=t=>e=>Be(e)&&z(e)===t,We=(e,t,r)=>{if(!(P(r)||s(r)||U(r)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},B=(e,t,r)=>{We(e.dom,t,r)},Me=(e,t)=>{const r=e.dom;b(t,(e,t)=>{We(r,t,e)})},Ie=(e,t)=>{e=e.dom.getAttribute(t);return null===e?void 0:e},Pe=(e,t)=>A.from(Ie(e,t)),y=(e,t)=>{e.dom.removeAttribute(t)},Fe=e=>ne(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{});const He=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}};const _={fromHtml:(e,t)=>{var r,t=(t||document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw r="HTML does not have a single root node",console.error(r,e),new Error(r);return He(t.childNodes[0])},fromTag:(e,t)=>{t=(t||document).createElement(e);return He(t)},fromText:(e,t)=>{t=(t||document).createTextNode(e);return He(t)},fromDom:He,fromPoint:(e,t,r)=>A.from(e.dom.elementFromPoint(t,r)).map(He)},Ve=(e,t)=>{e=e.dom;if(1!==e.nodeType)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},qe=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,$e=(e,t)=>{t=void 0===t?document:t.dom;return qe(t)?[]:g(t.querySelectorAll(e),_.fromDom)},Ue=(e,t)=>{t=void 0===t?document:t.dom;return qe(t)?A.none():A.from(t.querySelector(e)).map(_.fromDom)},C=(e,t)=>e.dom===t.dom,Ge=(e,t)=>{e=e.dom,t=t.dom;return e!==t&&e.contains(t)},Ke=Ve,Ye=e=>_.fromDom(e.dom.ownerDocument),Je=e=>je(e)?e:Ye(e),Qe=e=>A.from(e.dom.parentNode).map(_.fromDom),Xe=e=>A.from(e.dom.parentElement).map(_.fromDom),Ze=(e,t)=>{var r=$(t)?t:Y;let o=e.dom;for(var n=[];null!==o.parentNode&&void 0!==o.parentNode;){var l=o.parentNode,a=_.fromDom(l);if(n.push(a),!0===r(a))break;o=l}return n},et=e=>A.from(e.dom.previousSibling).map(_.fromDom),tt=e=>A.from(e.dom.nextSibling).map(_.fromDom),rt=e=>g(e.dom.childNodes,_.fromDom),ot=(e,t)=>{e=e.dom.childNodes;return A.from(e[t]).map(_.fromDom)},nt=e=>ot(e,0),lt=(t,r)=>{Qe(t).each(e=>{e.dom.insertBefore(r.dom,t.dom)})},at=(e,t)=>{tt(e).fold(()=>{Qe(e).each(e=>{x(e,t)})},e=>{lt(e,t)})},st=(t,r)=>{nt(t).fold(()=>{x(t,r)},e=>{t.dom.insertBefore(r.dom,e.dom)})},x=(e,t)=>{e.dom.appendChild(t.dom)},it=(e,t)=>{lt(e,t),x(t,e)},ct=(r,o)=>{N(o,(e,t)=>{t=0===t?r:o[t-1];at(t,e)})},mt=(t,e)=>{N(e,e=>{x(t,e)})},dt=e=>{e.dom.textContent="",N(rt(e),e=>{T(e)})},T=e=>{e=e.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},ut=e=>{var t=rt(e);0<t.length&&ct(e,t),T(e)},ft=(e,t)=>_.fromDom(e.dom.cloneNode(t)),gt=e=>ft(e,!1),ht=e=>ft(e,!0),pt=(e,t)=>{t=_.fromTag(t),e=Fe(e);return Me(t,e),t},vt=(e,t)=>{var t=pt(e,t),r=(at(e,t),rt(e));return mt(t,r),T(e),t},bt=["tfoot","thead","tbody","colgroup"],wt=(e,t)=>({rows:e,columns:t}),yt=(e,t,r)=>({element:e,rowspan:t,colspan:r}),Ct=(e,t,r,o,n,l)=>({element:e,rowspan:t,colspan:r,row:o,column:n,isLocked:l}),xt=(e,t,r)=>({element:e,cells:t,section:r}),S=(e,t,r)=>({element:e,isNew:t,isLocked:r}),Tt=(e,t,r,o)=>({element:e,cells:t,section:r,isNew:o}),St=(e,t)=>({element:e,columns:t}),Rt=e=>Le(e)&&q(e.dom.host);r=$(Element.prototype.attachShadow)&&$(Node.prototype.getRootNode);const Dt=f(r),Ot=r?e=>_.fromDom(e.dom.getRootNode()):Je,kt=e=>_.fromDom(e.dom.host),Et=e=>q(e.dom.shadowRoot),At=e=>{const t=_e(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const r=t.ownerDocument;return(e=>{e=Ot(e);return Rt(e)?A.some(e):A.none()})(_.fromDom(t)).fold(()=>r.body.contains(t),(o=At,n=kt,e=>o(n(e))));var o,n},Nt=e=>{e=e.dom.body;if(null==e)throw new Error("Body is not available yet");return _.fromDom(e)},zt=(e,t)=>{let r=[];return N(rt(e),e=>{r=(r=t(e)?r.concat([e]):r).concat(zt(e,t))}),r},Bt=(e,t,r)=>{return e=e,o=e=>Ve(e,t),r=r,h(Ze(e,r),o);var o},_t=(e,t)=>{return e=e,r=e=>Ve(e,t),h(rt(e),r);var r},jt=(e,t)=>$e(t,e);var Lt=(e,t,r,o,n)=>e(r,o)?A.some(r):$(n)&&n(r)?A.none():t(r,o,n);const Wt=(e,t,r)=>{let o=e.dom;for(var n=$(r)?r:Y;o.parentNode;){o=o.parentNode;var l=_.fromDom(o);if(t(l))return A.some(l);if(n(l))break}return A.none()},Mt=(e,t,r)=>{return Lt((e,t)=>t(e),Wt,e,t,r)},It=(e,t,r)=>Wt(e,e=>Ve(e,t),r),Pt=(e,t)=>{return e=e,r=e=>Ve(e,t),ae(e.dom.childNodes,e=>r(_.fromDom(e))).map(_.fromDom);var r},Ft=(e,t)=>Ue(t,e),R=(e,t,r)=>{return Lt((e,t)=>Ve(e,t),It,e,t,r)},Ht=(e,t,r=(e,t)=>e===t)=>e.exists(e=>r(e,t)),Vt=t=>{const r=[];var o=e=>{r.push(e)};for(let e=0;e<t.length;e++)t[e].each(o);return r},qt=(e,t)=>e?A.some(t):A.none(),$t=(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t,o=(e,t,r=0,o)=>{e=e.indexOf(t,r);return-1!==e&&(!!V(o)||e+t.length<=o)},Ut=(e,t)=>$t(e,t,0),Gt=(e,t)=>$t(e,t,e.length-t.length);var Kt;Kt=/^\s+|\s+$/g;const Yt=e=>e.replace(Kt,""),Jt=e=>0<e.length,Qt=e=>void 0!==e.style&&$(e.style.getPropertyValue),Xt=(e,t,r)=>{if(!P(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Qt(e)&&e.style.setProperty(t,r)},Zt=(e,t)=>{Qt(e)&&e.style.removeProperty(t)},D=(e,t,r)=>{e=e.dom;Xt(e,t,r)},er=(e,t)=>{const r=e.dom;b(t,(e,t)=>{Xt(r,t,e)})},tr=(e,t)=>{var r=e.dom,o=window.getComputedStyle(r).getPropertyValue(t);return""!==o||At(e)?o:rr(r,t)},rr=(e,t)=>Qt(e)?e.style.getPropertyValue(t):"",or=(e,t)=>{e=e.dom,e=rr(e,t);return A.from(e).filter(e=>0<e.length)},nr=(e,t)=>{var r=e.dom;Zt(r,t),Ht(Pe(e,"style").map(Yt),"")&&y(e,"style")},lr=(e,t,r=0)=>Pe(e,t).map(e=>parseInt(e,10)).getOr(r),ar=(e,t)=>lr(e,t,1),sr=e=>w("col")(e)?1<lr(e,"span",1):1<ar(e,"colspan"),ir=e=>1<ar(e,"rowspan"),cr=(e,t)=>parseInt(tr(e,t),10),mr=f(10),dr=f(10),ur=(e,t)=>fr(e,t,E),fr=(e,t,r)=>p(rt(e),e=>Ve(e,t)?r(e)?[e]:[]:fr(e,t,r)),gr=(e,t,r=Y)=>{return r(t)?A.none():u(e,z(t))?A.some(t):It(t,e.join(","),e=>Ve(e,"table")||r(e))},hr=(e,t)=>gr(["td","th"],e,t),pr=e=>ur(e,"th,td"),vr=e=>Ve(e,"colgroup")?_t(e,"col"):p(wr(e),e=>_t(e,"col")),O=(e,t)=>R(e,"table",t),br=e=>ur(e,"tr"),wr=e=>O(e).fold(f([]),e=>_t(e,"colgroup")),yr=(e,r)=>g(e,e=>{var t;return"colgroup"===z(e)?(t=g(vr(e),e=>{var t=lr(e,"span",1);return yt(e,1,t)}),xt(e,t,"colgroup")):(t=g(pr(e),e=>{var t=lr(e,"rowspan",1),r=lr(e,"colspan",1);return yt(e,t,r)}),xt(e,t,r(e)))}),Cr=e=>Qe(e).map(e=>{var t,e=z(e);return t=e,u(bt,t)?e:"tbody"}).getOr("tbody"),xr=e=>{var t=br(e),e=[...wr(e),...t];return yr(e,Cr)},Tr=(e,t)=>yr(e,()=>t),Sr=t=>{let r=!1,o;return(...e)=>(r||(r=!0,o=t.apply(null,e)),o)},Rr=(t,r)=>{for(let e=0;e<t.length;e++){var o=t[e];if(o.test(r))return o}};const Dr=()=>Or(0,0),Or=(e,t)=>({major:e,minor:t}),kr={nu:Or,detect:(e,t)=>{t=String(t).toLowerCase();if(0===e.length)return Dr();{var r=t;const o=Rr(e,r);return o?(e=e=>Number(r.replace(o,"$"+e)),Or(e(1),e(2))):{major:0,minor:0};return}},unknown:Dr},Er=(e,t)=>{const r=String(t).toLowerCase();return ae(e,e=>e.search(r))};t=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,e=t=>e=>o(e,t),r=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>o(e,"edge/")&&o(e,"chrome")&&o(e,"safari")&&o(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,t],search:e=>o(e,"chrome")&&!o(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>o(e,"msie")||o(e,"trident")},{name:"Opera",versionRegexes:[t,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:e("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:e("firefox")},{name:"Safari",versionRegexes:[t,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(o(e,"safari")||o(e,"mobile/"))&&o(e,"applewebkit")}],t=[{name:"Windows",search:e("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>o(e,"iphone")||o(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:e("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:e("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:e("linux"),versionRegexes:[]},{name:"Solaris",search:e("sunos"),versionRegexes:[]},{name:"FreeBSD",search:e("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:e("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const Ar={browsers:f(r),oses:f(t)},Nr="Edge",zr="Chromium",Br="IE",_r="Opera",jr="Firefox",Lr="Safari";const Wr=e=>{const t=e.current;var e=e.version,r=e=>()=>t===e;return{current:t,version:e,isEdge:r(Nr),isChromium:r(zr),isIE:r(Br),isOpera:r(_r),isFirefox:r(jr),isSafari:r(Lr)}},Mr={unknown:()=>Wr({current:void 0,version:kr.unknown()}),nu:Wr,edge:f(Nr),chromium:f(zr),ie:f(Br),opera:f(_r),firefox:f(jr),safari:f(Lr)},Ir="Windows",Pr="iOS",Fr="Android",Hr="Linux",Vr="macOS",qr="Solaris",$r="FreeBSD",Ur="ChromeOS";const Gr=e=>{const t=e.current;var e=e.version,r=e=>()=>t===e;return{current:t,version:e,isWindows:r(Ir),isiOS:r(Pr),isAndroid:r(Fr),isMacOS:r(Vr),isLinux:r(Hr),isSolaris:r(qr),isFreeBSD:r($r),isChromeOS:r(Ur)}},Kr={unknown:()=>Gr({current:void 0,version:kr.unknown()}),nu:Gr,windows:f(Ir),ios:f(Pr),android:f(Fr),linux:f(Hr),macos:f(Vr),solaris:f(qr),freebsd:f($r),chromeos:f(Ur)};const Yr={detect:(t,e,r)=>{const n=Ar.browsers();var o,l,a,s,i,c,m,d=Ar.oses(),e=e.bind(e=>{return o=n,e=e,he(e.brands,t=>{const r=t.brand.toLowerCase();return ae(o,e=>{return r===(null==(e=e.brand)?void 0:e.toLowerCase())}).map(e=>({current:e.name,version:kr.nu(parseInt(t.version,10),0)}))});var o}).orThunk(()=>{return e=n,r=t,Er(e,r).map(e=>{var t=kr.detect(e.versionRegexes,r);return{current:e.name,version:t}});var e,r}).fold(Mr.unknown,Mr.nu),d=(d=d,o=t,Er(d,o).map(e=>{var t=kr.detect(e.versionRegexes,o);return{current:e.name,version:t}}).fold(Kr.unknown,Kr.nu)),u=(a=e,s=t,r=r,u=(l=d).isiOS()&&!0===/ipad/i.test(s),i=l.isiOS()&&!u,c=l.isiOS()||l.isAndroid(),m=c||r("(pointer:coarse)"),r=u||!i&&c&&r("(min-device-width:768px)"),c=i||c&&!r,a=a.isSafari()&&l.isiOS()&&!1===/safari/i.test(s),s=!c&&!r&&!a,{isiPad:f(u),isiPhone:f(i),isTablet:f(r),isPhone:f(c),isTouch:f(m),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:f(a),isDesktop:f(s)});return{browser:e,os:d,deviceType:u}}},Jr=e=>window.matchMedia(e).matches;let Qr=Sr(()=>Yr.detect(navigator.userAgent,A.from(navigator.userAgentData),Jr));e=(r,o)=>{var e=e=>{var t=o(e);return t<=0||null===t?(e=tr(e,r),parseFloat(e)||0):t};const n=(r,e)=>ne(e,(e,t)=>{t=tr(r,t),t=void 0===t?0:parseInt(t,10);return isNaN(t)?e:e+t},0);return{set:(e,t)=>{if(!U(t)&&!t.match(/^[0-9]+$/))throw new Error(r+".set accepts only positive integer values. Value was "+t);e=e.dom;Qt(e)&&(e.style[r]=t+"px")},get:e,getOuter:e,aggregate:n,max:(e,t,r)=>{e=n(e,r);return e<t?t-e:0}}};const Xr=(e,t)=>(e=>{e=parseFloat(e);return isNaN(e)?A.none():A.some(e)})(e).getOr(t),Zr=(e,t,r)=>Xr(tr(e,t),r),eo=(e,t,r,o)=>{return t-Zr(e,"padding-"+r,0)-Zr(e,"padding-"+o,0)-Zr(e,`border-${r}-width`,0)-Zr(e,`border-${o}-width`,0)};const to=e("width",e=>e.dom.offsetWidth),ro=e=>to.get(e),oo=e=>to.getOuter(e),no=e=>{return t="content-box",r=(r=(e=e).dom).getBoundingClientRect().width||r.offsetWidth,"border-box"===t?r:eo(e,r,"left","right");var t,r},lo=e=>Zr(e,"width",e.dom.offsetWidth),ao=(e,t,r)=>{var o=e.cells,n=o.slice(0,t),o=o.slice(t),t=n.concat(r).concat(o);return co(e,t)},so=(e,t,r)=>ao(e,t,[r]),io=(e,t,r)=>{e.cells[t]=r},co=(e,t)=>Tt(e.element,t,e.section,e.isNew),mo=(e,t)=>e.cells[t],j=(e,t)=>mo(e,t).element,uo=e=>e.cells.length,L=e=>{e=re(e,e=>"colgroup"===e.section);return{rows:e.fail,cols:e.pass}},fo=(e,t,r)=>{r=g(e.cells,r);return Tt(t(e.element),r,e.section,!0)},go="data-snooker-locked-cols",ho=e=>Pe(e,go).bind(e=>A.from(e.match(/\d+/g))).map(e=>me(e,E)),po=e=>{e=ne(L(e).rows,(r,e)=>(N(e.cells,(e,t)=>{e.isLocked&&(r[t]=!0)}),r),{}),e=ye(e,(e,t)=>parseInt(t,10));return de(e)},vo=(e,t)=>e+","+t;const bo=(e,t)=>{e=p(e.all,e=>e.cells);return h(e,t)},wo=e=>{const o={};let n=0;return N(e.cells,t=>{const r=t.colspan;ee(r,e=>{e=n+e;o[e]={element:t.element,colspan:r,column:e}}),n+=r}),o},yo=e=>{const s={},r=[];const i=fe(e).map(e=>e.element).bind(O).bind(ho).getOr({});let o=0,c=0,m=0;var{pass:e,fail:t}=re(e,e=>"colgroup"===e.section),{columns:t,colgroups:e}=(N(t,e=>{const t=[];N(e.cells,r=>{let o=0;for(;void 0!==s[vo(m,o)];)o++;var e=Te(i,o.toString()),n=Ct(r.element,r.rowspan,r.colspan,m,o,e);for(let t=0;t<r.colspan;t++)for(let e=0;e<r.rowspan;e++){var l=m+e,a=o+t,l=vo(l,a);s[l]=n,c=Math.max(c,a+1)}t.push(n)}),o++,r.push(xt(e.element,t,e.section)),m++}),ge(e).map(e=>{var t=wo(e);return{colgroups:[St(e.element,Ce(t))],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}})));return{grid:wt(o,c),access:s,all:r,columns:t,colgroups:e}};const W={fromTable:e=>{e=xr(e);return yo(e)},generate:yo,getAt:(e,t,r)=>A.from(e.access[vo(t,r)]),findItem:(e,t,r)=>{e=bo(e,e=>r(t,e.element));return 0<e.length?A.some(e[0]):A.none()},filterItems:bo,justCells:e=>p(e.all,e=>e.cells),justColumns:e=>Ce(e.columns),hasColumns:e=>0<pe(e.columns).length,getColumnAt:(e,t)=>A.from(e.columns[t])},Co=(r,o=E)=>{var e=r.grid,t=ee(e.columns,c);const n=ee(e.rows,c);return g(t,t=>{return xo(()=>p(n,e=>W.getAt(r,e,t).filter(e=>e.column===t).toArray()),e=>1===e.colspan&&o(e.element),()=>W.getAt(r,0,t))})},xo=(e,t,r)=>{const o=e();return ae(o,t).orThunk(()=>A.from(o[0]).orThunk(r)).map(e=>e.element)},To=r=>{var e=r.grid,t=ee(e.rows,c);const o=ee(e.columns,c);return g(t,t=>{return xo(()=>p(o,e=>W.getAt(r,t,e).filter(e=>e.row===t).fold(f([]),e=>[e])),e=>1===e.rowspan,()=>W.getAt(r,t,0))})},So=(t,r)=>{if(r<0||r>=t.length-1)return A.none();var e=t[r].fold(()=>{var e=(e=>{e=J.call(e,0);return e.reverse(),e})(t.slice(0,r));return he(e,(e,t)=>e.map(e=>({value:e,delta:t+1})))},e=>A.some({value:e,delta:0}));const o=t[r+1].fold(()=>{var e=t.slice(r+1);return he(e,(e,t)=>e.map(e=>({value:e,delta:t+1})))},e=>A.some({value:e,delta:1}));return e.bind(r=>o.map(e=>{var t=e.delta+r.delta;return Math.abs(e.value-r.value)/t}))},Ro=(t,r)=>e=>{return"rtl"==(e=e,"rtl"===tr(e,"direction")?"rtl":"ltr")?r:t},Do=e("height",e=>{var t=e.dom;return At(e)?t.getBoundingClientRect().height:t.offsetHeight}),Oo=e=>Do.get(e),ko=e=>Do.getOuter(e),Eo=e=>Zr(e,"height",e.dom.offsetHeight),Ao=(r,o)=>{return{left:r,top:o,translate:(e,t)=>Ao(r+e,o+t)}},No=Ao,zo=(e,t)=>void 0!==e?e:void 0!==t?t:0,Bo=e=>{var t,r,o=e.dom.ownerDocument,n=o.body,l=o.defaultView,o=o.documentElement;return n===e.dom?No(n.offsetLeft,n.offsetTop):(t=zo(null==l?void 0:l.pageYOffset,o.scrollTop),l=zo(null==l?void 0:l.pageXOffset,o.scrollLeft),r=zo(o.clientTop,n.clientTop),o=zo(o.clientLeft,n.clientLeft),_o(e).translate(l-o,t-r))},_o=e=>{var t=e.dom,r=t.ownerDocument.body;return r===t?No(r.offsetLeft,r.offsetTop):At(e)?(r=(r=t).getBoundingClientRect(),No(r.left,r.top)):No(0,0)},jo=(e,t)=>({row:e,y:t}),Lo=(e,t)=>({col:e,x:t}),Wo=e=>{return Bo(e).left+oo(e)},Mo=e=>Bo(e).left,Io=(e,t)=>Lo(e,Mo(t)),Po=(e,t)=>Lo(e,Wo(t)),Fo=e=>Bo(e).top,Ho=(e,t)=>jo(e,Fo(t)),Vo=(e,t)=>jo(e,Fo(t)+ko(t)),qo=(r,t,o)=>{var e,n;return 0===o.length?[]:(e=g(o.slice(1),(e,t)=>e.map(e=>r(t,e))),n=o[o.length-1].map(e=>t(o.length-1,e)),e.concat([n]))};const $o={delta:c,positions:e=>qo(Ho,Vo,e),edge:Fo};var r={delta:c,edge:Mo,positions:e=>qo(Io,Po,e)},t={delta:e=>-e,edge:Wo,positions:e=>qo(Po,Io,e)};const Uo=Ro(r,t),Go={delta:(e,t)=>Uo(t).delta(e,t),positions:(e,t)=>Uo(t).positions(e,t),edge:e=>Uo(e).edge(e)},Ko={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Yo=(e="[eE][+-]?[0-9]+",r=["Infinity",(r="[0-9]+")+"\\."+(t=e=>`(?:${e})?`)(r)+t(e),"\\."+r+t(e),r+t(e)].join("|"),new RegExp(`^(${`[+-]?(?:${r})`})(.*)$`)),Jo=(e,n)=>{return A.from(Yo.exec(e)).bind(e=>{var t,r,o=Number(e[1]),e=e[2];return t=e,r=n,d(r,e=>d(Ko[e],e=>t===e))?A.some({value:o,unit:e}):A.none()})},Qo=/(\d+(\.\d+)?)%/,Xo=/(\d+(\.\d+)?)px|em/,Zo=w("col"),en=(e,t,r)=>{var o=Xe(e).getOrThunk(()=>Nt(Ye(e)));return t(e)/r(o)*100},tn=(e,t)=>{D(e,"width",t+"px")},rn=(e,t)=>{D(e,"width",t+"%")},on=(e,t)=>{D(e,"height",t+"px")},nn=(e,t,r,o)=>{var n,l,a=parseFloat(e);return Gt(e,"%")&&"table"!==z(t)?(e=t,n=a,l=r,t=o,r=O(e).map(e=>{e=l(e);return Math.floor(n/100*e)}).getOr(n),t(e,r),r):a},ln=e=>{t=e;var t=Eo(t)+"px";return t?nn(t,e,Oo,on):Oo(e)},an=(e,t)=>or(e,t).orThunk(()=>Pe(e,t).map(e=>e+"px")),sn=e=>an(e,"width"),cn=e=>en(e,ro,no),mn=e=>(Zo(e)?ro:lo)(e),dn=e=>{return e=e,t="rowspan",ln(e)/ar(e,t);var t},un=(e,t,r)=>{D(e,"width",t+r)},fn=e=>en(e,ro,no)+"%";const gn=f(Qo),hn=w("col"),pn=e=>sn(e).getOrThunk(()=>mn(e)+"px"),vn=e=>{return t=e,an(t,"height").getOrThunk(()=>dn(e)+"px");var t},bn=(e,t,r,o,n,l)=>e.filter(o).fold(()=>l(So(r,t)),e=>n(e)),wn=(e,t,n,l)=>{const a=Co(e);e=W.hasColumns(e)?(e=e,g(W.justColumns(e),e=>A.from(e.element))):a;const s=[A.some(Go.edge(t))].concat(g(Go.positions(a,t),e=>e.map(e=>e.x))),i=G(sr);return g(e,(e,o)=>bn(e,o,s,i,e=>{var t,r;return t=e,r=(r=Qr().browser).isChromium()||r.isFirefox(),!hn(t)||r?n(e):(t=a[o],r=c,e=null!=t?r(t):A.none(),bn(e,o,s,i,e=>l(A.some(ro(e))),l))},l))},yn=e=>e.map(e=>e+"px").getOr(""),Cn=(e,t,r)=>wn(e,t,mn,e=>e.getOrThunk(r.minCellWidth)),xn=(e,t,r,o,n)=>{e=To(e);const l=[A.some(r.edge(t))].concat(g(r.positions(e,t),e=>e.map(e=>e.y)));return g(e,(e,t)=>bn(e,t,l,G(ir),o,n))},Tn=(e,t,r)=>xn(e,t,r,dn,e=>e.getOrThunk(dr)),Sn=(e,t)=>()=>At(e)?t(e):parseFloat(or(e,"width").getOr("0")),Rn=r=>{var e=Sn(r,ro),t=f(0);return{width:e,pixelWidth:e,getWidths:(e,t)=>Cn(e,r,t),getCellDelta:t,singleColumnWidth:f([0]),minCellWidth:t,setElementWidth:k,adjustTableWidth:k,isRelative:!0,label:"none"}},Dn=n=>{const r=Sn(n,e=>parseFloat(fn(e))),t=Sn(n,ro);return{width:r,pixelWidth:t,getWidths:(e,t)=>{return e=e,r=n,o=t,wn(e,r,cn,e=>e.fold(()=>o.minCellWidth(),e=>e/o.pixelWidth()*100));var r,o},getCellDelta:e=>e/t()*100,singleColumnWidth:(e,t)=>[100-e],minCellWidth:()=>mr()/t()*100,setElementWidth:rn,adjustTableWidth:e=>{var t=r(),e=t+e/100*t;rn(n,e)},isRelative:!0,label:"percent"}},On=r=>{const t=Sn(r,ro);var e=c;return{width:t,pixelWidth:t,getWidths:(e,t)=>Cn(e,r,t),getCellDelta:e,singleColumnWidth:(e,t)=>{return[Math.max(mr(),e+t)-e]},minCellWidth:mr,setElementWidth:tn,adjustTableWidth:e=>{e=t()+e;tn(r,e)},isRelative:!1,label:"pixel"}};const kn={getTableSize:r=>{return sn(r).fold(()=>Rn(r),e=>{return t=r,e=e,(null!==gn().exec(e)?Dn:On)(t);var t})},pixelSize:On,percentageSize:Dn,noneSize:Rn},En=(e,o,n,l)=>{var a,s,i,c=h(e,e=>"colgroup"!==e.section),m=o.grid.columns,t=o.grid.rows;for(let r=0;r<t;r++){let t=!1;for(let e=0;e<m;e++)r<n.minRow||r>n.maxRow||e<n.minCol||e>n.maxCol||(W.getAt(o,r,e).filter(l).isNone()?(a=c,s=t,i=r,a=c[i].element,i=_.fromTag("td"),x(i,_.fromTag("br")),(s?x:st)(a,i)):t=!0)}},An=(e,t)=>{var r=e=>Ve(e.element,t),o=ht(e),n=xr(o),l=kn.getTableSize(e),a=W.generate(n),s=((e,n)=>{var t=e.grid.columns;let l=e.grid.rows,a=t,s=0,i=0;const c=[],m=[];return b(e.access,e=>{var t,r,o;c.push(e),n(e)&&(m.push(e),r=(t=e.row)+e.rowspan-1,e=(o=e.column)+e.colspan-1,t<l?l=t:r>s&&(s=r),o<a?a=o:e>i&&(i=e))}),{minRow:l,minCol:a,maxRow:s,maxCol:i,allCells:c,selectedCells:m}})(a,r);const i="th:not("+t+"),td:not("+t+")";var c=fr(o,"th,td",e=>Ve(e,i)),c=(N(c,T),En(n,a,s,r),W.fromTable(e)),l=(n=e,r=c,e=l,0===(c=s).minCol&&r.grid.columns===c.maxCol+1?0:(r=Cn(r,n,e),n=ne(r,(e,t)=>e+t,0),r=ne(r.slice(c.minCol,c.maxCol+1),(e,t)=>e+t,0)/n*e.pixelWidth()-e.pixelWidth(),e.getCellDelta(r))),c=o,m=s,n=a,e=l;return b(n.columns,e=>{(e.column<m.minCol||e.column>m.maxCol)&&T(e.element)}),n=h(ur(c,"tr"),e=>0===e.dom.childElementCount),N(n,T),m.minCol!==m.maxCol&&m.minRow!==m.maxRow||N(ur(c,"th,td"),e=>{y(e,"rowspan"),y(e,"colspan")}),y(c,go),y(c,"data-snooker-col-series"),kn.getTableSize(c).adjustTableWidth(e),o};const Nn=((r,o)=>{const t=e=>r(e)?A.from(e.dom.nodeValue):A.none();return{get:e=>{if(r(e))return t(e).getOr("");throw new Error("Can only get "+o+" value of a "+o+" node")},getOption:t,set:(e,t)=>{if(!r(e))throw new Error("Can only set raw "+o+" value of a "+o+" node");e.dom.nodeValue=t}}})(_e,"text"),zn=e=>Nn.get(e),Bn=e=>Nn.getOption(e),_n=(e,t)=>Nn.set(e,t),jn=e=>"img"===z(e)?1:Bn(e).fold(()=>rt(e).length,e=>e.length),Ln=["img","br"],Wn=e=>{var t;return t=e,Bn(t).filter(e=>0!==e.trim().length||-1<e.indexOf(" ")).isSome()||u(Ln,z(e))||(t=e,ze(t)&&"false"===Ie(t,"contenteditable"))},Mn=e=>{{var o=Wn;const n=t=>{for(let e=0;e<t.childNodes.length;e++){var r=_.fromDom(t.childNodes[e]);if(o(r))return A.some(r);r=n(t.childNodes[e]);if(r.isSome())return r}return A.none()};return n(e.dom)}},In=e=>{{var o=Wn;const n=e=>{var t=rt(e);for(let e=t.length-1;0<=e;e--){var r=t[e];if(o(r))return A.some(r);r=n(r);if(r.isSome())return r}return A.none()};return n(e)}},Pn={scope:["row","col"]},Fn=t=>()=>{var e=_.fromTag("td",t.dom);return x(e,_.fromTag("br",t.dom)),e},Hn=e=>()=>_.fromTag("col",e.dom),Vn=e=>()=>_.fromTag("colgroup",e.dom),qn=e=>()=>_.fromTag("tr",e.dom),$n=(e,t,r)=>{const o=((e,t)=>{t=pt(e,t),e=rt(ht(e));return mt(t,e),t})(e,t);return b(r,(e,t)=>{null===e?y(o,t):B(o,t,e)}),o},Un=e=>e,Gn=(i,c,m)=>{const d=(e,t)=>{var r=e.element,o=t;r=r.dom,o=o.dom,Qt(r)&&Qt(o)&&(o.style.cssText=r.style.cssText),nr(t,"height"),1!==e.colspan&&nr(t,"width")};return{col:e=>{var t=_.fromTag(z(e.element),c.dom);return d(e,t),i(e.element,t),t},colgroup:Vn(c),row:qn(c),cell:e=>{var r,o,n,l,a,t=_.fromTag(z(e.element),c.dom),s=m.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),s=0<s.length?(r=e.element,o=t,n=s,Mn(r).map(e=>{var t=n.join(","),e=Bt(e,t,e=>C(e,r));return oe(e,(e,t)=>{t=gt(t);return x(e,t),t},o)}).getOr(o)):t;return x(s,_.fromTag("br")),d(e,t),l=e.element,a=t,b(Pn,(t,r)=>Pe(l,r).filter(e=>u(t,e)).each(e=>B(a,r,e))),i(e.element,t),t},replace:$n,colGap:Hn(c),gap:Fn(c)}},Kn=e=>({col:Hn(e),colgroup:Vn(e),row:qn(e),cell:Fn(e),replace:Un,colGap:Hn(e),gap:Fn(e)});t=t=>e=>e.options.get(t);const Yn=e=>{var t=e.dom,t=null!=(t=t.getParent(e.selection.getStart(),t.isBlock))?t:e.getBody();return no(_.fromDom(t))+"px"},Jn=e=>A.from(e.options.get("table_clone_elements")),Qn=t("table_header_type"),Xn=t("table_column_resizing"),Zn=e=>"preservetable"===Xn(e),el=e=>"resizetable"===Xn(e),tl=t("table_sizing_mode"),rl=e=>"relative"===tl(e),ol=e=>"fixed"===tl(e),nl=e=>"responsive"===tl(e),ll=t("table_resize_bars"),al=t("table_style_by_css"),sl=t("table_merge_content_on_paste"),il=e=>{var t=e.options,r=t.get("table_default_attributes");return t.isSet("table_default_attributes")?r:(t=e,e=r,nl(t)||al(t)?e:ol(t)?{...e,width:Yn(t)}:{...e,width:"100%"})},cl=e=>{var t=e.options,r=t.get("table_default_styles");return t.isSet("table_default_styles")?r:(t=e,e=r,nl(t)||!al(t)?e:ol(t)?{...e,width:Yn(t)}:{...e,width:"100%"})},ml=t("table_use_colgroups"),dl=e=>R(e,"[contenteditable]"),ul=(e,t=!1)=>At(e)?e.dom.isContentEditable:dl(e).fold(f(t),e=>"true"===fl(e)),fl=e=>e.dom.contentEditable,gl=e=>_.fromDom(e.getBody()),hl=t=>e=>C(e,gl(t)),pl=e=>{y(e,"data-mce-style");var t=e=>y(e,"data-mce-style");N(pr(e),t),N(vr(e),t),N(br(e),t)},vl=e=>_.fromDom(e.selection.getStart()),bl=e=>e.getBoundingClientRect().width,wl=e=>e.getBoundingClientRect().height,yl=e=>Mt(e,w("table")).exists(ul),Cl=(e,t)=>{var r=t.column,o=t.column+t.colspan-1,n=t.row,t=t.row+t.rowspan-1;return r<=e.finishCol&&o>=e.startCol&&n<=e.finishRow&&t>=e.startRow},xl=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Tl=(e,t,r)=>{t=W.findItem(e,t,C);const o=W.findItem(e,r,C);return t.bind(r=>o.map(e=>{return t=r,e=e,{startRow:Math.min(t.row,e.row),startCol:Math.min(t.column,e.column),finishRow:Math.max(t.row+t.rowspan-1,e.row+e.rowspan-1),finishCol:Math.max(t.column+t.colspan-1,e.column+e.colspan-1)};var t}))},Sl=(t,e,r)=>Tl(t,e,r).bind(e=>{{var o=t,n=e;let r=!0;var l=v(xl,n);for(let t=n.startRow;t<=n.finishRow;t++)for(let e=n.startCol;e<=n.finishCol;e++)r=r&&W.getAt(o,t,e).exists(l);return r?A.some(n):A.none()}}),Rl=(t,e,r)=>Tl(t,e,r).map(e=>{e=W.filterItems(t,v(Cl,e));return g(e,e=>e.element)}),Dl=(e,t)=>{return W.findItem(e,t,(e,t)=>Ge(t,e)).map(e=>e.element)},Ol=(t,l,a)=>O(t).bind(e=>{var r,o,n,e=El(e);return r=e,e=t,o=l,n=a,W.findItem(r,e,C).bind(e=>{var t=0<o?e.row+e.rowspan-1:e.row,e=0<n?e.column+e.colspan-1:e.column;return W.getAt(r,t+o,e+n).map(e=>e.element)})}),kl=(e,t,r,o,n)=>{const l=El(e);r=C(e,r)?A.some(t):Dl(l,t);const a=C(e,n)?A.some(o):Dl(l,o);return r.bind(t=>a.bind(e=>Rl(l,t,e)))},El=W.fromTable;var Al=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],e=()=>{return{up:f({selector:It,closest:R,predicate:Wt,all:Ze}),down:f({selector:jt,predicate:zt}),styles:f({get:tr,getRaw:or,set:D,remove:nr}),attrs:f({get:Ie,set:B,remove:y,copyTo:(e,t)=>{e=Fe(e);Me(t,e)}}),insert:f({before:lt,after:at,afterAll:ct,append:x,appendAll:mt,prepend:st,wrap:it}),remove:f({unwrap:ut,remove:T}),create:f({nu:_.fromTag,clone:e=>_.fromDom(e.dom.cloneNode(!1)),text:_.fromText}),query:f({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:et,nextSibling:tt}),property:f({children:rt,name:z,parent:Qe,document:e=>Je(e).dom,isText:_e,isComment:Ne,isElement:Be,isSpecial:e=>{e=z(e);return u(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],e)},getLanguage:e=>Be(e)?Pe(e,"lang"):A.none(),getText:zn,setText:_n,isBoundary:e=>!!Be(e)&&("body"===z(e)||u(Al,z(e))),isEmptyTag:e=>!!Be(e)&&u(["br","img","hr","input"],z(e)),isNonEditable:e=>Be(e)&&"false"===Ie(e,"contenteditable")}),eq:C,is:Ke}};const Nl=(r,o,e,t)=>{e=o(r,e);return oe(t,(e,t)=>{t=o(r,t);return zl(r,e,t)},e)},zl=(t,e,r)=>e.bind(e=>r.filter(v(t.eq,e)));const Bl=(e,t,r)=>{return 0<r.length?(e=e,t=t,r=r,Nl(e,t,r[0],r.slice(1))):A.none()},_l=(t,e,r,o=Y)=>{var e=[e].concat(t.up().all(e)),r=[r].concat(t.up().all(r)),n=t=>{return se(t,o).fold(()=>t,e=>t.slice(0,e+1))},e=n(e);const l=n(r);n=ae(e,e=>{return d(l,v(t.eq,e))});return{firstpath:e,secondpath:l,shared:n}},jl=e(),Ll=(r,e)=>Bl(jl,(e,t)=>r(t),e),Wl=e=>It(e,"table"),Ml=(l,a,s)=>{const i=t=>e=>void 0!==s&&s(e)||C(e,t);return C(l,a)?A.some({boxes:A.some([l]),start:l,finish:a}):Wl(l).bind(n=>Wl(a).bind(o=>{var e,t,r;return C(n,o)?A.some({boxes:((e,t,r)=>{e=El(e);return Rl(e,t,r)})(n,l,a),start:l,finish:a}):Ge(n,o)?(e=0<(e=Bt(a,"td,th",i(n))).length?e[e.length-1]:a,A.some({boxes:kl(n,l,n,a,o),start:l,finish:e})):Ge(o,n)?(e=0<(e=Bt(l,"td,th",i(o))).length?e[e.length-1]:l,A.some({boxes:kl(o,l,n,a,o),start:l,finish:e})):(e=l,t=a,_l(jl,e,t,r).shared.bind(e=>R(e,"table",s).bind(e=>{var t=Bt(a,"td,th",i(e)),t=0<t.length?t[t.length-1]:a,r=Bt(l,"td,th",i(e)),r=0<r.length?r[r.length-1]:l;return A.some({boxes:kl(e,l,n,a,o),start:r,finish:t})})))}))},Il=(e,t)=>{e=jt(e,t);return 0<e.length?A.some(e):A.none()},Pl=(e,t,o)=>Ft(e,t).bind(r=>Ft(e,o).bind(t=>Ll(Wl,[r,t]).map(e=>({first:r,last:t,table:e})))),Fl=(e,t,r,o,n)=>{return e=e,l=n,ae(e,e=>Ve(e,l)).bind(e=>Ol(e,t,r).bind(e=>{return t=e,r=o,It(t,"table").bind(e=>Ft(e,r).bind(e=>Ml(e,t).bind(t=>t.boxes.map(e=>({boxes:e,start:t.start,finish:t.finish})))));var t,r}));var l},Hl=(e,t)=>Il(e,t),Vl=(o,e,t)=>Pl(o,e,t).bind(n=>{var e=e=>C(o,e),t="thead,tfoot,tbody,table",r=It(n.first,t,e);const l=It(n.last,t,e);return r.bind(o=>l.bind(e=>{var t,r;return C(o,e)?(e=n.table,t=n.first,r=n.last,e=El(e),Sl(e,t,r)):A.none()}))}),ql=c;var r="data-mce-selected",t="data-mce-first-selected",n="data-mce-last-selected";const $l={selected:r,selectedSelector:"td[data-mce-selected],th[data-mce-selected]",firstSelected:t,firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:n,lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"},Ul=(e,t,r)=>{return{element:r,mergable:(r=t,o=e,t=$l,o.length<=1?A.none():Vl(r,t.firstSelectedSelector,t.lastSelectedSelector).map(e=>({bounds:e,cells:o}))),unmergable:(e=>{const t=(e,t)=>Pe(e,t).exists(e=>1<parseInt(e,10));return 0<e.length&&ce(e,e=>t(e,"rowspan")||t(e,"colspan"))?A.some(e):A.none()})(e),selection:ql(e)};var o};r=o=>(e,t)=>{var r=z(e),r="col"===r||"colgroup"===r?(r=e,O(r).bind(e=>Hl(e,$l.firstSelectedSelector)).fold(f(r),e=>e[0])):e;return R(r,o,t)};const Gl=r("th,td,caption"),Kl=r("th,td"),Yl=e=>{return e=e.model.table.getSelectedCells(),g(e,_.fromDom)},Jl=(l,a)=>{l.on("BeforeGetContent",o=>{var e,t=e=>{o.preventDefault(),e=e,O(e[0]).map(e=>{e=An(e,"[data-mce-selected]");return pl(e),[e]}).each(e=>{var t,r;o.content=("text"===o.format?(r=e,g(r,e=>e.dom.innerText)):(t=l,r=e,g(r,e=>t.selection.serializer.serialize(e.dom,{})))).join("")})};!0===o.selection&&(e=l,1<=(e=h(Yl(e),e=>Ve(e,$l.selectedSelector))).length)&&t(e)}),l.on("BeforeSetContent",n=>{var e;!0===n.selection&&!0===n.paste&&(e=Yl(l),fe(e).each(o=>{O(o).each(e=>{var t=h(((e,t)=>{t=(t||document).createElement("div");return t.innerHTML=e,rt(_.fromDom(t))})(n.content),e=>"meta"!==z(e)),r=w("table");sl(l)&&1===t.length&&r(t[0])&&(n.preventDefault(),r=_.fromDom(l.getDoc()),r=Kn(r),t={element:o,clipboard:t[0],generators:r},a.pasteCells(e,t).each(()=>{l.focus()}))})}))})},Ql=(e,t)=>({element:e,offset:t}),Xl=(t,e,r)=>t.property().isText(e)&&0===t.property().getText(e).trim().length||t.property().isComment(e)?r(e).bind(e=>Xl(t,e,r).orThunk(()=>A.some(e))):A.none(),Zl=(e,t)=>{return(e.property().isText(t)?e.property().getText(t):e.property().children(t)).length},ea=(e,t)=>{var r,t=Xl(e,t,e.query().prevSibling).getOr(t);return!e.property().isText(t)&&0<(r=e.property().children(t)).length?ea(e,r[r.length-1]):Ql(t,Zl(e,t))},ta=ea,ra=e(),oa=(r,o)=>{var e;sr(r)||(e=r,sn(e).bind(e=>Jo(e,["fixed","relative","empty"])).each(e=>{var t=e.value/2;un(r,t,e.unit),un(o,t,e.unit)}))},na=e=>g(e,f(0)),la=(e,t,r,o,n)=>n(e.slice(0,t)).concat(o).concat(n(e.slice(r)));t=n=>(e,t,r,o)=>{return n(r)?(o=Math.max(o,e[t]-Math.abs(r)),o=Math.abs(o-e[t]),0<=r?o:-o):r};const aa=t(e=>e<0),sa=t(E),ia=()=>{const a=(e,r,t,o)=>{const n=(100+t)/100,l=Math.max(o,(e[r]+t)/n);return g(e,(e,t)=>{return(t===r?l:e/n)-e})},s=(e,t,r,o,n,l)=>{return l?a(e,t,o,n):(l=e,e=t,t=r,r=o,o=n,r=aa(l,e,r,o),la(l,e,t+1,[r,0],na))};return{resizeTable:(e,t)=>e(t),clampTableDelta:aa,calcLeftEdgeDeltas:s,calcMiddleDeltas:(e,t,r,o,n,l,a)=>s(e,r,o,n,l,a),calcRightEdgeDeltas:(e,t,r,o,n,l)=>{return l?a(e,r,o,n):(l=aa(e,r,o,n),na(e.slice(0,r)).concat([l]))},calcRedestributedWidths:(e,t,r,o)=>{if(o){const n=(t+r)/t;o=g(e,e=>e/n);return{delta:100*n-100,newSizes:o}}return{delta:r,newSizes:e}}}},ca=()=>{const a=(e,t,r,o,n)=>{var l=0<=o?r:t,l=sa(e,l,o,n);return la(e,t,r+1,[l,-l],na)};return{resizeTable:(e,t,r)=>{r&&e(t)},clampTableDelta:(e,t,r,o,n)=>{return n?0<=r?r:(n=ne(e,(e,t)=>e+t-o,0),Math.max(-n,r)):aa(e,t,r,o)},calcLeftEdgeDeltas:a,calcMiddleDeltas:(e,t,r,o,n,l)=>a(e,r,o,n,l),calcRightEdgeDeltas:(e,t,r,o,n,l)=>{return l?na(e):(l=o/e.length,g(e,f(l)))},calcRedestributedWidths:(e,t,r,o)=>({delta:0,newSizes:e})}},ma=e=>{return W.fromTable(e).grid},da=w("th"),ua=e=>ce(e,e=>da(e.element)),fa=e=>{var t="thead"===e.section,r=Ht(ga(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||r?{type:"header",subType:(e=r,(r=t)&&e?"sectionCells":r?"section":"cells")}:{type:"body"}},ga=e=>{var t=h(e,e=>da(e.element));return 0===t.length?A.some("td"):t.length===e.length?A.some("th"):A.none()},ha=(e,t,r)=>S(r(e.element,t),!0,e.isLocked),pa=(e,t)=>e.section!==t?Tt(e.element,e.cells,t,e.isNew):e,va=()=>({transformRow:pa,transformCell:(e,t,r)=>{r=r(e.element,t),t="td"!==z(r)?vt(r,"td"):r;return S(t,e.isNew,e.isLocked)}}),ba=()=>({transformRow:pa,transformCell:ha}),wa=()=>({transformRow:(e,t)=>{t="thead"===t?"tbody":t;return pa(e,t)},transformCell:ha});const ya={getTableSectionType:(e,t)=>{var e=W.fromTable(e);switch(e=e,he(e.all,e=>{e=fa(e);return"header"===e.type?A.from(e.subType):A.none()}).getOr(t)){case"section":return va();case"sectionCells":return ba();case"cells":return wa()}},section:va,sectionCells:ba,cells:wa,fallback:()=>({transformRow:c,transformCell:ha})},Ca=(e,t,r,o)=>{r===o?y(e,t):B(e,t,r)},xa=(e,t,r)=>{ge(_t(e,t)).fold(()=>st(e,r),e=>at(e,r))},Ta=(t,r)=>{var e=Pt(t,r).getOrThunk(()=>{var e=_.fromTag(r,Ye(t).dom);return"thead"===r?xa(t,"caption,colgroup",e):"colgroup"===r?xa(t,"caption",e):x(t,e),e});return dt(e),e},Sa=(n,e)=>{const r=[],o=[],l=e=>g(e,e=>{e.isNew&&r.push(e.element);const t=e.element;return dt(t),N(e.cells,e=>{e.isNew&&o.push(e.element),Ca(e.element,"colspan",e.colspan,1),Ca(e.element,"rowspan",e.rowspan,1),x(t,e.element)}),t}),a=e=>p(e,e=>g(e.cells,e=>(Ca(e.element,"span",e.colspan,1),e.element)));var t=(e,t)=>{var r,o;0<e.length?(e=e,r=t,o=Ta(n,r),r=("colgroup"===r?a:l)(e),mt(o,r)):(e=t,Pt(n,e).each(T))};const s=[],i=[],c=[],m=[];return N(e,e=>{switch(e.section){case"thead":s.push(e);break;case"tbody":i.push(e);break;case"tfoot":c.push(e);break;case"colgroup":m.push(e)}}),t(m,"colgroup"),t(s,"thead"),t(i,"tbody"),t(c,"tfoot"),{newRows:r,newCells:o}},Ra=(e,t)=>{if(0===e.length)return 0;const r=e[0];return se(e,e=>!t(r.element,e.element)).getOr(e.length)},Da=(e,t,r,o)=>{var n,l=e[t],a="colgroup"===l.section;return{colspan:Ra(l.cells.slice(r),o),rowspan:a?1:Ra((l=e.slice(t),n=r,g(l,e=>mo(e,n))),o)}},Oa=(i,c)=>{const m=g(i,e=>g(e.cells,Y));return g(i,(e,s)=>{var t=p(e.cells,(e,t)=>{if(!1!==m[s][t])return[];var r=Da(i,s,t,c),o=s,n=t,l=r.rowspan,a=r.colspan;for(let t=o;t<o+l;t++)for(let e=n;e<n+a;e++)m[t][e]=!0;return[{element:e.element,rowspan:r.rowspan,colspan:r.colspan,isNew:e.isNew}]});return{element:e.element,cells:t,section:e.section,isNew:e.isNew}})},ka=(o,n,l)=>{const a=[];N(o.colgroups,e=>{var t=[];for(let e=0;e<o.grid.columns;e++){var r=W.getColumnAt(o,e).map(e=>S(e.element,l,!1)).getOrThunk(()=>S(n.colGap(),!0,!1));t.push(r)}a.push(Tt(e.element,t,"colgroup",l))});for(let t=0;t<o.grid.rows;t++){var r=[];for(let e=0;e<o.grid.columns;e++){var s=W.getAt(o,t,e).map(e=>S(e.element,l,e.isLocked)).getOrThunk(()=>S(n.gap(),!0,!1));r.push(s)}var e=o.all[t],e=Tt(e.element,r,e.section,l);a.push(e)}return a},Ea=e=>Oa(e,C),Aa=(e,t)=>he(e.all,e=>ae(e.cells,e=>C(t,e.element))),Na=(t,e,r)=>{e=g(e.selection,e=>hr(e).bind(e=>Aa(t,e)).filter(r)),e=Vt(e);return qt(0<e.length,e)};n=(i,t,c,m,d)=>(n,e,o,l)=>{const a=W.fromTable(n),s=A.from(null==l?void 0:l.section).getOrThunk(ya.fallback);return t(a,e).map(e=>{t=a,r=o;var t=ka(t,r,!1),r=i(t,e,C,d(o),s),t=po(r.grid);return{info:e,grid:Ea(r.grid),cursor:r.cursor,lockedColumns:t}}).bind(e=>{var t=Sa(n,e.grid),r=A.from(null==l?void 0:l.sizing).getOrThunk(()=>kn.getTableSize(n)),o=A.from(null==l?void 0:l.resize).getOrThunk(ca);return c(n,e.grid,e.info,{sizing:r,resize:o,section:s}),m(n),y(n,go),0<e.lockedColumns.length&&B(n,go,e.lockedColumns.join(",")),A.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})};const za=(e,t)=>Na(e,t,E).map(e=>({cells:e,generators:t.generators,clipboard:t.clipboard})),Ba=(e,t)=>Na(e,t,E),_a=(e,t)=>Na(e,t,e=>!e.isLocked),ja=(e,t)=>Aa(e,t).exists(e=>!e.isLocked),La=(t,e)=>ce(e,e=>ja(t,e));const Wa=(e,r,o,n)=>{var l=L(e).rows;let a=!0;for(let t=0;t<l.length;t++)for(let e=0;e<uo(l[0]);e++){var s=l[t],i=mo(s,e),c=o(i.element,r);c&&!a?io(s,e,S(n(),!0,i.isLocked)):c&&(a=!1)}return e},Ma=(e,n,l,a)=>(0<n&&n<e[0].cells.length&&N(e,e=>{var t=e.cells[n-1];let r=0;for(var o=a();e.cells.length>n+r&&l(t.element,e.cells[n+r].element);)io(e,n+r,S(o,!0,e.cells[n+r].isLocked)),r++}),e),Ia=(e,t,a,s)=>{const i=L(e).rows;var r,o;return 0<t&&t<i.length&&(r=i[t-1].cells,r=r,o=a,r=ne(r,(e,t)=>d(e,e=>o(e.element,t.element))?e:e.concat([t]),[]),N(r,r=>{let o=A.none();for(let e=t;e<i.length;e++)for(let t=0;t<uo(i[0]);t++){const n=i[e],l=mo(n,t);a(l.element,r.element)&&(o=o.isNone()?A.some(s()):o).each(e=>{io(n,t,S(e,!0,l.isLocked))})}})),e},Pa=r=>{var e=e=>e(r),t=f(r),o=()=>n;const n={tag:!0,inner:r,fold:(e,t)=>t(r),isValue:E,isError:Y,map:e=>Ha.value(e(r)),mapError:o,bind:e,exists:e,forall:e,getOr:t,or:o,getOrThunk:t,orThunk:o,getOrDie:t,each:e=>{e(r)},toOptional:()=>A.some(r)};return n},Fa=r=>{var e,t=()=>o;const o={tag:!1,inner:r,fold:(e,t)=>e(r),isValue:Y,isError:E,map:t,mapError:e=>Ha.error(e(r)),bind:t,exists:Y,forall:E,getOr:c,or:c,getOrThunk:K,orThunk:K,getOrDie:(e=String(r),()=>{throw new Error(e)}),each:k,toOptional:A.none};return o};const Ha={value:Pa,error:Fa,fromOption:(e,t)=>e.fold(()=>Fa(t),Pa)},Va=(e,t,r)=>{var o;return e.row>=t.length||e.column>uo(t[0])?Ha.error("invalid start address out of table bounds, row: "+e.row+", column: "+e.column):(e=(t=t.slice(e.row))[0].cells.slice(e.column),o=uo(r[0]),r=r.length,Ha.value({rowDelta:t.length-r,colDelta:e.length-o}))},qa=(e,t)=>{return{rowDelta:0,colDelta:uo(e[0])-uo(t[0])}},$a=(e,t)=>{return{rowDelta:e.length-t.length,colDelta:0}},Ua=(e,t,r,o)=>{const n="colgroup"===t.section?r.col:r.cell;return ee(e,e=>S(n(),!0,o(e)))},Ga=(e,t,r,o)=>{const n=e[e.length-1];return e.concat(ee(t,()=>{var e="colgroup"===n.section?r.colgroup:r.row,e=fo(n,e,c),t=Ua(e.cells.length,e,r,e=>xe(o,e.toString()));return co(e,t)}))},Ka=(e,r,o,n)=>g(e,e=>{var t=Ua(r,e,o,Y);return ao(e,n,t)}),Ya=(e,n,t)=>g(e,o=>ne(t,(e,t)=>{var r=Ua(1,o,n,E)[0];return so(e,t,r)},o)),Ja=(e,t,r)=>{var o=t.colDelta<0?Ka:c,n=t.rowDelta<0?Ga:c,l=po(e);const a=uo(e[0]);l=d(l,e=>e===a-1),o=o(e,Math.abs(t.colDelta),r,l?a-1:a),e=po(o);return n(o,Math.abs(t.rowDelta),r,me(e,E))},Qa=(e,o,n,l,a,t)=>{var s,i,c,m,d,u=e.row,f=e.column,g=u+n.length,h=f+uo(n[0])+t.length,p=me(t,E);for(let r=u;r<g;r++){let t=0;for(let e=f;e<h;e++)p[e]?t++:(s=o,i=r,c=e,d=void 0,m=v(m=a,mo(s[i],c).element),d=s[i],1<s.length&&1<uo(d)&&(0<c&&m(j(d,c-1))||c<d.cells.length-1&&m(j(d,c+1))||0<i&&m(j(s[i-1],c))||i<s.length-1&&m(j(s[i+1],c)))&&Wa(o,j(o[r],e),a,l.cell),d=e-f-t,s=(m=mo(n[r-u],d)).element,i=l.replace(s),io(o[r],e,S(i,!0,m.isLocked)))}return o},Xa=(t,e,r)=>{var o=uo(e[0]),e=L(e).cols.length+t.row,n=ee(o-t.column,e=>e+t.column);return{row:e,column:ae(n,t=>ce(r,e=>e!==t)).getOr(o-1)}},Za=(t,r,e)=>h(e,e=>e>=t.column&&e<=uo(r[0])+t.column),es=(r,e,t,o,n)=>{Ma(e,r,n,o.cell);n=$a(t,e);const l=Ja(t,n,o);t=$a(e,l),n=Ja(e,t,o);return g(n,(e,t)=>ao(e,r,l[t].cells))},ts=(e,t,r,o,n)=>{Ia(t,e,n,o.cell);var n=po(t),l=qa(t,r),l={...l,colDelta:l.colDelta-n.length},n=Ja(t,l,o),{cols:l,rows:a}=L(n),n=po(n),t=qa(r,t),t={...t,colDelta:t.colDelta+n.length},r=Ya(r,o,n),n=Ja(r,t,o);return[...l,...a.slice(0,e),...n,...a.slice(e,a.length)]},rs=(e,t,r,o)=>fo(e,e=>o(e,r),t),os=(e,r,t,o,n)=>{const{rows:l,cols:a}=L(e);var e=l.slice(0,r),s=l.slice(r),t=rs(l[t],(e,t)=>{return 0<r&&r<l.length&&o(j(l[r-1],t),j(l[r],t))?mo(l[r],t):S(n(e.element,o),!0,e.isLocked)},o,n);return[...a,...e,t,...s]},ns=(e,t,r,o,n,l,a)=>{return"colgroup"!==r&&o?mo(e,t):(r=mo(e,n),S(a(r.element,l),!0,!1))},ls=(e,r,o,n,l)=>g(e,e=>{var t=0<r&&r<uo(e)&&n(j(e,r-1),j(e,r)),t=ns(e,r,e.section,t,o,n,l);return so(e,r,t)}),as=(e,t,r,o)=>{return n=e,l=t,a=r,s=o,void 0!==j(n[l],a)&&0<l&&s(j(n[l-1],a),j(n[l],a))||(s=e[t],n=o,0<(l=r)&&n(j(s,l-1),j(s,l)));var n,l,a,s},ss=(e,o)=>{return ce(o,c)&&ua(e.cells)?E:(e,t,r)=>{return!("th"===z(e.element)&&o[r])}},is=(e,o)=>{return ce(o,c)&&ua(e)?E:(e,t,r)=>{return!("th"===z(e.element)&&o[t])}},cs=(e,t,r,o)=>{var n=e=>{return("row"===e?ir:sr)(t)?e+"group":e};return e?da(t)?n(r):null:o&&da(t)?n("row"===r?"col":"row"):null},ms=(o,n)=>(e,t,r)=>A.some(cs(o,e.element,"col",n[r])),ds=(r,o)=>(e,t)=>A.some(cs(r,e.element,"row",o[t])),us=(e,t,r)=>S(r(e.element,t),!0,e.isLocked),fs=(e,l,a,s,i,c,m)=>{return g(e,(e,n)=>{return t=(e,t)=>{if(r=e,d(l,e=>a(r.element,e.element))){const o=m(e,n,t)?i(e,a,s):e;return c(o,n,t).each(e=>{var r;r=o.element,e={scope:A.from(e)},b(e,(e,t)=>{e.fold(()=>{y(r,t)},e=>{We(r.dom,t,e)})})}),o}return e;var r},r=(e=e).cells,r=g(r,t),Tt(e.element,r,e.section,e.isNew);var t,r})},gs=(r,o,n)=>p(r,(e,t)=>as(r,t,o,n)?[]:[mo(e,o)]),hs=(r,o,n)=>{var e=r[o];return p(e.cells,(e,t)=>as(r,o,t,n)?[]:[e])},ps=(e,t,r,o,n)=>{const l=L(e).rows;var t=p(t,e=>gs(l,e,o)),a=g(l,e=>ua(e.cells)),s=is(t,a),r=ds(r,a);return fs(e,t,o,n,us,r,s)},vs=(e,t,r,o)=>{const n=L(e).rows;t=g(t,e=>mo(n[e.row],e.column));return fs(e,t,r,o,us,A.none,E)};const bs=l=>{if(!m(l))throw new Error("cases must be an array");if(0===l.length)throw new Error("there must be at least one case");const a=[],s={};return N(l,(e,t)=>{var r=pe(e);if(1!==r.length)throw new Error("one and only one name per case");const o=r[0],n=e[o];if(void 0!==s[o])throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!m(n))throw new Error("case arguments must be an array");a.push(o),s[o]=(...r)=>{var e=r.length;if(e!==n.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+n.length+" ("+n+"), got "+e);return{fold:(...e)=>{if(e.length!==l.length)throw new Error("Wrong number of arguments to fold. Expected "+l.length+", got "+e.length);return e[t].apply(null,r)},match:e=>{const t=pe(e);if(a.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+a.join(",")+"\nActual: "+t.join(","));if(ce(a,e=>u(t,e)))return e[o].apply(null,r);throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+a.join(", "))},log:e=>{console.log(e,{constructors:a,constructor:o,params:r})}}}}),s},ws={...bs([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},ys=(e,t,o,n,l)=>{const a=e.slice(0);t=t;e=0===(e=e).length?ws.none():1===e.length?ws.only(0):0===t?ws.left(0,1):t===e.length-1?ws.right(t-1,t):0<t&&t<e.length-1?ws.middle(t-1,t,t+1):ws.none(),t=f(g(a,f(0)));return e.fold(t,e=>n.singleColumnWidth(a[e],o),(e,t)=>l.calcLeftEdgeDeltas(a,e,t,o,n.minCellWidth(),n.isRelative),(e,t,r)=>l.calcMiddleDeltas(a,e,t,r,o,n.minCellWidth(),n.isRelative),(e,t)=>l.calcRightEdgeDeltas(a,e,t,o,n.minCellWidth(),n.isRelative))},Cs=(t,r,o)=>{let n=0;for(let e=t;e<r;e++)n+=void 0!==o[e]?o[e]:0;return n},xs=(e,r)=>{e=W.justCells(e);return g(e,e=>{var t=Cs(e.row,e.row+e.rowspan,r);return{element:e.element,height:t,rowspan:e.rowspan}})},Ts=(e,r)=>g(e.all,(e,t)=>({element:e.element,height:r[t]})),Ss=e=>oe(e,(e,t)=>e+t,0),Rs=(e,t)=>{var r,o,n;return W.hasColumns(e)?(o=e,r=t,o=W.justColumns(o),g(o,(e,t)=>({element:e.element,width:r[t],colspan:e.colspan}))):(o=e,n=t,o=W.justCells(o),g(o,e=>{var t=Cs(e.column,e.column+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}}))},Ds=(e,t,r)=>{e=Rs(e,t);N(e,e=>{r.setElementWidth(e.element,e.width)})},Os=(e,t,r,o,n)=>{e=W.fromTable(e),t=n.getCellDelta(t);const l=n.getWidths(e,n);var a=r===e.grid.columns-1,t=o.clampTableDelta(l,r,t,n.minCellWidth(),a),r=ys(l,r,t,n,o),r=g(r,(e,t)=>e+l[t]);Ds(e,r,n),o.resizeTable(n.adjustTableWidth,t,a)},ks=e=>{return ne(e,(e,t)=>{return d(e,e=>e.column===t.column)?e:e.concat([t])},[]).sort((e,t)=>e.column-t.column)},Es=w("col"),As=w("colgroup"),Ns=e=>"tr"===z(e)||As(e);const zs=e=>Pe(e,"scope").map(e=>e.substr(0,3));const Bs=(t,r=e=>{return{element:e,colspan:lr(e,"colspan",1),rowspan:lr(e,"rowspan",1)}})=>{const o=e=>Es(e.element)?t.col(e):t.cell(e),n=e=>As(e.element)?t.colgroup(e):t.row(e),l=e=>{var t;return Ns(e)?n({element:e}):(e=e,t=o(r(e)),a=A.some({item:e,replacement:t}),t)};let a=A.none();return{getOrInit:(t,r)=>a.fold(()=>l(t),e=>r(t,e.item)?e.replacement:l(t))}},_s=l=>r=>{const o=[],e=(t,r)=>ae(o,e=>r(e.item,t)),n=e=>{var t=r.replace(e,l,"td"===l?{scope:null}:{});return o.push({item:e,sub:t}),t};return{replaceOrInit:(t,r)=>{if(Ns(t)||Es(t))return t;{const o=t;return e(o,r).fold(()=>n(o),e=>r(t,e.item)?e.sub:n(o))}}}},js=o=>{return{unmerge:r=>{const e=zs(r);return e.each(e=>B(r,"scope",e)),()=>{const t=o.cell({element:r,colspan:1,rowspan:1});return nr(t,"width"),nr(r,"width"),e.each(e=>B(t,"scope",e)),t}},merge:o=>{return nr(o[0],"width"),(()=>{var e=Vt(g(o,zs));if(0===e.length)return A.none();{const t=e[0],r=["row","col"];return d(e,e=>e!==t&&u(r,e))?A.none():A.from(t)}})().fold(()=>y(o[0],"scope"),e=>B(o[0],"scope",e+"group")),f(o[0])}}},Ls=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ws=e(),Ms=e=>{var t=Ws;return t=t.property().name(e),u(Ls,t)},Is=e=>{var t=Ws;return t=t.property().name(e),u(["ol","ul"],t)},Ps=e=>{return t=Ws,e=e,u(["br","img","hr","input"],t.property().name(e));var t},Fs=e=>{const n=w("br"),l=e=>"li"===z(e)||Wt(e,Is).isSome(),a=e=>tt(e).map(e=>!!Ms(e)||!!Ps(e)&&"img"!==z(e)).getOr(!1);var t=0===(t=p(e,e=>{var o,t,r=rt(e);return t=r,ce(t,e=>n(e)||_e(e)&&0===zn(e).trim().length)?[]:r.concat((o=e,In(o).bind(t=>{const r=a(t);return Qe(t).map(e=>!0===r||l(e)||n(t)||Ms(e)&&!C(o,e)?[]:[_.fromTag("br")])}).getOr([])))})).length?[_.fromTag("br")]:t;dt(e[0]),mt(e[0],t)},Hs=e=>ul(e,!0);r=e=>{0===pr(e).length&&T(e)};const Vs=(e,t)=>({grid:e,cursor:t}),qs=(e,t,r)=>{const o=L(e).rows;return A.from(null==(t=null==(e=o[t])?void 0:e.cells[r])?void 0:t.element).filter(Hs).orThunk(()=>{return e=o,he(e,e=>he(e.cells,e=>{e=e.element;return qt(Hs(e),e)}));var e})},i=(e,t,r)=>{t=qs(e,t,r);return Vs(e,t)},$s=e=>{return ne(e,(e,t)=>{return d(e,e=>e.row===t.row)?e:e.concat([t])},[]).sort((e,t)=>e.row-t.row)};var t=(a,s)=>(e,t,r,o,n)=>{var l=$s(t),e=((e,t,r,o,n,l,a)=>{const{cols:s,rows:i}=L(e);var e=i[t[0]],c=p(t,e=>hs(i,e,n)),m=g(e.cells,(e,t)=>ua(gs(i,t,n)));const d=[...i];N(t,e=>{d[e]=a.transformRow(i[e],r)});t=[...s,...d],e=ss(e,m),o=ms(o,m);return fs(t,c,n,l,a.transformCell,o,e)})(e,g(l,e=>e.row),a,s,r,o.replaceOrInit,n);return i(e,t[0].row,t[0].column)},Us=t("thead",!0),Gs=t("tbody",!1),t=t("tfoot",!1);const Ks=(e,t,r)=>{e=Tr(e,r.section),r=W.generate(e);return ka(r,t,!0)};var Ys=(e,t,r,o)=>{var n;t=t,o=o.sizing,t=W.generate(t),n=o.getWidths(t,o),Ds(t,n,o)},Js=(e,t,r,o)=>{var n=o.sizing,o=o.resize,t=W.generate(t),l=n.getWidths(t,n),a=n.pixelWidth(),{newSizes:o,delta:l}=o.calcRedestributedWidths(l,a,r.pixelDelta,n.isRelative);Ds(t,o,n),n.adjustTableWidth(l)};const Qs=(e,t)=>d(t,e=>0===e.column&&e.isLocked),Xs=(t,e)=>d(e,e=>e.column+e.colspan>=t.grid.columns&&e.isLocked),Zs=(e,t)=>{const r=Co(e);e=ks(t);return ne(e,(e,t)=>{return e+r[t.column].map(oo).getOr(0)},0)};var ei=r=>(t,e)=>Ba(t,e).filter(e=>{return!(r?Qs:Xs)(t,e)}).map(e=>({details:e,pixelDelta:Zs(t,e)})),ti=r=>(t,e)=>za(t,e).filter(e=>{return!(r?Qs:Xs)(t,e.cells)}),ri=_s("th"),oi=_s("td");const ni=n((e,t,r,o)=>{const n=t[0].row;var l=$s(t),l=oe(l,(e,t)=>{return{grid:os(e.grid,n,t.row+e.delta,r,o.getOrInit),delta:e.delta+1}},{grid:e,delta:0}).grid;return i(l,n,t[0].column)},Ba,k,k,Bs),li=n((e,t,r,o)=>{var n=$s(t),l=n[n.length-1];const a=l.row+l.rowspan;l=oe(n,(e,t)=>os(e,a,t.row,r,o.getOrInit),e);return i(l,a,t[0].column)},Ba,k,k,Bs),ai=n((e,t,r,o)=>{var t=t.details,n=ks(t);const l=n[0].column;n=oe(n,(e,t)=>{return{grid:ls(e.grid,l,t.column+e.delta,r,o.getOrInit),delta:e.delta+1}},{grid:e,delta:0}).grid;return i(n,t[0].row,l)},ei(!0),Js,k,Bs),si=n((e,t,r,o)=>{var t=t.details,n=t[t.length-1];const l=n.column+n.colspan;n=ks(t),n=oe(n,(e,t)=>ls(e,l,t.column,r,o.getOrInit),e);return i(n,t[0].row,l)},ei(!1),Js,k,Bs),ii=n((e,t,r,o)=>{var n,t=ks(t.details),e=(e=e,n=g(t,e=>e.column),p(e,e=>{var t=e.cells,t=oe(n,(e,t)=>0<=t&&t<e.length?e.slice(0,t).concat(e.slice(t+1)):e,t);return 0<t.length?[Tt(e.element,t,e.section,e.isNew)]:[]})),l=0<e.length?e[0].cells.length-1:0;return i(e,t[0].row,Math.min(t[0].column,l))},(t,e)=>_a(t,e).map(e=>({details:e,pixelDelta:-Zs(t,e)})),Js,r,Bs),ci=n((e,t,r,o)=>{var n=$s(t),e=((e,t,r)=>{var{rows:e,cols:o}=L(e);return[...o,...e.slice(0,t),...e.slice(r+1)]})(e,n[0].row,n[n.length-1].row),n=0<e.length?e.length-1:0;return i(e,Math.min(t[0].row,n),t[0].column)},Ba,k,r,Bs),mi=n((e,t,r,o)=>{var n=ks(t),n=g(n,e=>e.column),e=ps(e,n,!0,r,o.replaceOrInit);return i(e,t[0].row,t[0].column)},_a,k,k,ri),di=n((e,t,r,o)=>{var n=ks(t),n=g(n,e=>e.column),e=ps(e,n,!1,r,o.replaceOrInit);return i(e,t[0].row,t[0].column)},_a,k,k,oi),ui=n(Us,_a,k,k,ri),fi=n(Gs,_a,k,k,oi),gi=n(t,_a,k,k,oi),hi=n((e,t,r,o)=>{e=vs(e,t,r,o.replaceOrInit);return i(e,t[0].row,t[0].column)},_a,k,k,ri),pi=n((e,t,r,o)=>{e=vs(e,t,r,o.replaceOrInit);return i(e,t[0].row,t[0].column)},_a,k,k,oi),vi=n((e,t,r,o)=>{var n=t.cells,e=(Fs(n),((e,r,o)=>{var n=L(e).rows;if(0!==n.length)for(let t=r.startRow;t<=r.finishRow;t++)for(let e=r.startCol;e<=r.finishCol;e++){var l=n[t],a=mo(l,e).isLocked;io(l,e,S(o(),!1,a))}return e})(e,t.bounds,o.merge(n)));return Vs(e,A.from(n[0]))},(t,e)=>e.mergable.filter(e=>La(t,e.cells)),Ys,k,js),bi=n((e,t,r,o)=>{e=oe(t,(e,t)=>Wa(e,t,r,o.unmerge(t)),e);return Vs(e,A.from(t[0]))},(t,e)=>e.unmergable.filter(e=>La(t,e)),Ys,k,js),wi=n((e,t,r,o)=>{var n=((e,t)=>{e=W.fromTable(e);return ka(e,t,!0)})(t.clipboard,t.generators);return((e,r,t,o,n)=>{var l=po(r);const a=Xa(e,r,l),s=L(t).rows,i=Za(a,s,l);return Va(a,r,s).map(e=>{var e={...e,colDelta:e.colDelta-i.length},e=Ja(r,e,o),t=po(e),t=Za(a,s,t);return Qa(a,e,s,o,n,t)})})({row:t.row,column:t.column},e,n,t.generators,r).fold(()=>Vs(e,A.some(t.element)),e=>i(e,t.row,t.column))},(t,r)=>hr(r.element).bind(e=>Aa(t,e).map(e=>{return{...e,generators:r.generators,clipboard:r.clipboard}})),Ys,k,Bs),yi=n((e,t,r,o)=>{var n=L(e).rows,l=t.cells[0].column,n=n[t.cells[0].row],n=Ks(t.clipboard,t.generators,n),l=es(l,e,n,t.generators,r);return i(l,t.cells[0].row,t.cells[0].column)},ti(!0),k,k,Bs),Ci=n((e,t,r,o)=>{var n=L(e).rows,l=t.cells[t.cells.length-1].column+t.cells[t.cells.length-1].colspan,n=n[t.cells[0].row],n=Ks(t.clipboard,t.generators,n),l=es(l,e,n,t.generators,r);return i(l,t.cells[0].row,t.cells[0].column)},ti(!1),k,k,Bs),xi=n((e,t,r,o)=>{var n=L(e).rows,l=t.cells[0].row,n=n[l],n=Ks(t.clipboard,t.generators,n),l=ts(l,e,n,t.generators,r);return i(l,t.cells[0].row,t.cells[0].column)},za,k,k,Bs),Ti=n((e,t,r,o)=>{var n=L(e).rows,l=t.cells[t.cells.length-1].row+t.cells[t.cells.length-1].rowspan,n=n[t.cells[0].row],n=Ks(t.clipboard,t.generators,n),l=ts(l,e,n,t.generators,r);return i(l,t.cells[0].row,t.cells[0].column)},za,k,k,Bs),Si=(e,t)=>{const n=W.fromTable(e);return Ba(n,t).bind(e=>{var t=e[e.length-1];const r=e[0].column,o=t.column+t.colspan;e=ie(g(n.all,e=>h(e.cells,e=>e.column>=r&&e.column<o)));return ga(e)}).getOr("")},Ri=(e,t)=>{e=W.fromTable(e);return Ba(e,t).bind(ga).getOr("")},Di=(e,t)=>{const o=W.fromTable(e);return Ba(o,t).bind(e=>{var t,r=e[e.length-1],e=e[0].row,r=r.row+r.rowspan,e=o.all.slice(e,r);return r=e,r=g(r,e=>fa(e).type),e=u(r,"header"),t=u(r,"footer"),e||t?(r=u(r,"body"),!e||r||t?e||r||!t?A.none():A.some("footer"):A.some("header")):A.some("body")}).getOr("")},Oi=(e,t)=>e.dispatch("NewRow",{node:t}),ki=(e,t)=>e.dispatch("NewCell",{node:t}),Ei=(e,t,r)=>{e.dispatch("TableModified",{...r,table:t})},Ai={structure:!1,style:!0},M={structure:!0,style:!1},Ni={structure:!0,style:!0},zi=(e,t)=>rl(e)?kn.percentageSize(t):ol(e)?kn.pixelSize(t):kn.getTableSize(t),Bi=(c,m,o)=>{const t=e=>"table"===z(gl(e));const d=Jn(c);var e=el(c)?k:oa;const u=(r,e)=>e.cursor.fold(()=>{var e=pr(r);return fe(e).filter(At).map(e=>{o.clearSelectedCells(r.dom);var t=c.dom.createRng();return t.selectNode(e.dom),c.selection.setRng(t),B(e,"data-mce-selected","1"),t})},e=>{e=e;var e=ta(ra,e),t=c.dom.createRng();return t.setStart(e.element.dom,e.offset),t.setEnd(e.element.dom,e.offset),c.selection.setRng(t),o.clearSelectedCells(r.dom),A.some(t)});var r=(l,a,s,i)=>(t,e,r=!1)=>{pl(t);var o=_.fromDom(c.getDoc()),o=Gn(s,o,d),n={sizing:zi(c,t),resize:(el(c)?ia:ca)(),section:(e=>{switch(Qn(c)){case"section":return ya.section();case"sectionCells":return ya.sectionCells();case"cells":return ya.cells();default:return ya.getTableSectionType(e,"section")}})(t)};return a(t)?l(t,e,o,n).bind(e=>{m.refresh(t.dom),N(e.newRows,e=>{Oi(c,e.dom)}),N(e.newCells,e=>{ki(c,e.dom)});e=u(t,e);return At(t)&&(pl(t),r||Ei(c,t.dom,i)),e.map(e=>({rng:e,effect:i}))}):A.none()},n=r(ci,e=>!t(c)||1<ma(e).rows,k,M),l=r(ii,e=>!t(c)||1<ma(e).columns,k,M),a=r(ni,E,k,M),s=r(li,E,k,M),i=r(ai,E,e,M),e=r(si,E,e,M),f=r(vi,E,k,M),g=r(bi,E,k,M),h=r(yi,E,k,M),p=r(Ci,E,k,M),v=r(xi,E,k,M),b=r(Ti,E,k,M),w=r(wi,E,k,Ni),y=r(hi,E,k,M),C=r(pi,E,k,M),x=r(mi,E,k,M),T=r(di,E,k,M),S=r(ui,E,k,M),R=r(fi,E,k,M),r=r(gi,E,k,M),D=Ri,O=Si;return{deleteRow:n,deleteColumn:l,insertRowsBefore:a,insertRowsAfter:s,insertColumnsBefore:i,insertColumnsAfter:e,mergeCells:f,unmergeCells:g,pasteColsBefore:h,pasteColsAfter:p,pasteRowsBefore:v,pasteRowsAfter:b,pasteCells:w,makeCellsHeader:y,unmakeCellsHeader:C,makeColumnsHeader:x,unmakeColumnsHeader:T,makeRowsHeader:S,makeRowsBody:R,makeRowsFooter:r,getTableRowType:Di,getTableCellType:D,getTableColType:O}},_i=(e,t,r)=>{var o=lr(e,t,1);1===r||o<=1?y(e,t):B(e,t,Math.min(r,o))},ji=(r,o)=>e=>{var t=e.column+e.colspan-1,e=e.column;return r<=t&&e<o},Li=(e,t)=>{const i=W.fromTable(e);return _a(i,t).map(e=>{var t,r,o,n,l,a=e[e.length-1],e=e[0].column,a=a.column+a.colspan,s=(s=i,t=e,r=a,W.hasColumns(s)?(s=h(W.justColumns(s),ji(t,r)),s=g(s,e=>{e=ht(e.element);return _i(e,"span",r-t),e}),o=_.fromTag("colgroup"),mt(o,s),[o]):[]),e=(o=i,n=e,l=a,g(o.all,e=>{var e=h(e.cells,ji(n,l)),e=g(e,e=>{e=ht(e.element);return _i(e,"colspan",l-n),e}),t=_.fromTag("tr");return mt(t,e),t}));return[...s,...e]})},Wi=(e,t,r)=>{const o=W.fromTable(e);return Ba(o,t).bind(e=>{var t=ka(o,r,!1),t=L(t).rows.slice(e[0].row,e[e.length-1].row+e[e.length-1].rowspan),e=p(t,e=>{var t=h(e.cells,e=>!e.isLocked);return 0<t.length?[{...e,cells:t}]:[]}),t=Ea(e);return qt(0<t.length,t)}).map(e=>{return e=e,g(e,e=>{const r=gt(e.element);return N(e.cells,e=>{var t=ht(e.element);Ca(t,"colspan",e.colspan,1),Ca(t,"rowspan",e.rowspan,1),x(r,t)}),r})})},Mi=bs([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Ii=(e,t,r)=>{var e=r.substring(0,r.length-e.length),o=parseFloat(e);return e===o.toString()?t(o):Mi.invalid(r)};const Pi={...Mi,from:e=>Gt(e,"%")?Ii("%",Mi.percent,e):Gt(e,"px")?Ii("px",Mi.pixels,e):Mi.invalid(e)},Fi=(e,l,a)=>e.fold(()=>l,e=>{{var t=l,r,o=e;const n=o/a;return g(t,e=>{return Pi.from(e).fold(()=>e,e=>e*n+"px",e=>e/100*o+"px")})}},e=>{return t=l,r=a,g(t,e=>{return Pi.from(e).fold(()=>e,e=>{return e/r*100+"%"},e=>e+"%")});var t,r}),Hi=(e,t,r)=>{r=Pi.from(r),r=ce(e,e=>"0px"===e)?((e,t)=>{e=e.fold(()=>f(""),e=>{e/=t;return f(e+"px")},()=>{var e=100/t;return f(e+"%")});return ee(t,e)})(r,e.length):Fi(r,e,t);{var o,n;return 0===(e=r).length?e:(o=oe(e,(e,t)=>{var r=Pi.from(t).fold(()=>({value:t,remainder:0}),e=>qi(e,"px"),e=>({value:e+"%",remainder:0}));return{output:[r.value].concat(e.output),remainder:e.remainder+r.remainder}},{output:[],remainder:0}),(n=o.output).slice(0,n.length-1).concat([$i(n[n.length-1],Math.round(o.remainder))]))}},Vi=(e,t)=>0===e.length?t:oe(e,(e,t)=>Pi.from(t).fold(f(0),c,c)+e,0),qi=(e,t)=>{var r=Math.floor(e);return{value:r+t,remainder:e-r}},$i=(e,t)=>Pi.from(e).fold(f(e),e=>e+t+"px",e=>e+t+"%"),Ui=Pi.from,Gi=e=>Ui(e).fold(f("px"),f("px"),f("%")),Ki=(c,e,t)=>{const m=W.fromTable(c),i=m.all,d=W.justCells(m),u=W.justColumns(m);e.each(e=>{var r,o,n,l,t=Gi(e),a=ro(c),s=(s=m,i=c,wn(s,i,pn,yn)),i=Hi(s,a,e);W.hasColumns(m)?(n=i,s=u,l=t,N(s,(e,t)=>{t=Vi([n[t]],mr());D(e.element,"width",t+l)})):(r=i,a=d,o=t,N(a,e=>{var t=r.slice(e.column,e.colspan+e.column),t=Vi(t,mr());D(e.element,"width",t+o)})),D(c,"width",e)}),t.each(e=>{var r,t,o,n=Gi(e),l=Oo(c),a=(a=m,s=c,t=$o,xn(a,s,t,vn,yn)),s=Hi(a,l,e);r=s,t=i,a=d,o=n,N(a,e=>{var t=r.slice(e.row,e.rowspan+e.row),t=Vi(t,dr());D(e.element,"height",t+o)}),N(t,(e,t)=>{D(e.element,"height",r[t])}),D(c,"height",e)})},Yi=e=>sn(e).exists(e=>Qo.test(e)),Ji=e=>sn(e).exists(e=>Xo.test(e)),Qi=e=>sn(e).isNone(),Xi=e=>{y(e,"width")},Zi=e=>{var t=fn(e);Ki(e,A.some(t),A.none()),Xi(e)},ec=e=>{t=e;var t=ro(t)+"px";Ki(e,A.some(t),A.none()),Xi(e)},tc=e=>{nr(e,"width");var t=vr(e),t=0<t.length?t:pr(e);N(t,e=>{nr(e,"width"),Xi(e)}),Xi(e)},rc=(t,r,o,n)=>{var l=_.fromTag("tr");for(let e=0;e<t;e++){var a=n<r||e<o?_.fromTag("th"):_.fromTag("td");e<o&&B(a,"scope","row"),n<r&&B(a,"scope","col"),x(a,_.fromTag("br")),x(l,a)}return l},oc=e=>{const t=_.fromTag("colgroup");return ee(e,()=>x(t,_.fromTag("col"))),t},nc=(e,t,r,o)=>ee(e,e=>rc(t,r,o,e)),lc=(e,t)=>{e.selection.select(t.dom,!0),e.selection.collapse(!0)},ac=(c,m,d,u,f)=>{const l=cl(c),g={styles:l,attributes:il(c),colGroups:ml(c)};return c.undoManager.ignore(()=>{e=d,i=m,l=f,t=u,a=Qn(c),r=g,o=_.fromTag("table"),s="cells"!==a,er(o,r.styles),Me(o,r.attributes),r.colGroups&&x(o,oc(i)),r=Math.min(e,l),s&&0<l&&(n=_.fromTag("thead"),x(o,n),a="sectionCells"===a?r:0,a=nc(l,i,a,t),mt(n,a)),n=_.fromTag("tbody"),x(o,n),a=s?e-r:e,r=s?0:l,e=nc(a,i,r,t),mt(n,e);var e,t,r,o,n,l,a,s=o,i=(B(s,"data-mce-id","__mce"),l=s,a=_.fromTag("div"),l=_.fromDom(l.dom.cloneNode(!0)),x(a,l),a.dom.innerHTML);c.insertContent(i),c.addVisual()}),Ft(gl(c),'table[data-mce-id="__mce"]').map(e=>{var t,r,o,n;return ol(c)?ec(e):nl(c)?tc(e):(rl(c)||(r=l.width,P(r)&&-1!==r.indexOf("%")))&&Zi(e),pl(e),y(e,"data-mce-id"),t=c,r=e,N(jt(r,"tr"),e=>{Oi(t,e.dom),N(jt(e,"th,td"),e=>{ki(t,e.dom)})}),o=c,n=e,Ft(n,"td,th").each(v(lc,o)),e.dom}).getOrNull()};var sc=tinymce.util.Tools.resolve("tinymce.FakeClipboard"),ei="x-tinymce/dom-table-";const ic=ei+"rows",cc=ei+"columns",mc=e=>{e=sc.FakeClipboardItem(e);sc.write([e])},dc=t=>{var e=null!=(e=sc.read())?e:[];return he(e,e=>A.from(e.getType(t)))},uc=e=>{dc(e).isSome()&&sc.clear()},fc=e=>{e.fold(hc,e=>mc({[ic]:e}))},gc=()=>dc(ic),hc=()=>uc(ic),pc=e=>{e.fold(bc,e=>mc({[cc]:e}))},vc=()=>dc(cc),bc=()=>uc(cc),wc=e=>Gl(vl(e),hl(e)).filter(yl),yc=(s,t)=>{const o=hl(s);const l=e=>O(e,o),n=r=>{return e=s,Kl(vl(e),hl(e)).filter(yl).bind(t=>l(t).map(e=>r(e,t)));var e};const i=e=>{s.focus()},a=(r,o=!1)=>n((e,t)=>{t=Ul(Yl(s),e,t);r(e,t,o).each(i)}),e=()=>n((e,t)=>{var t=Ul(Yl(s),e,t),r=Gn(k,_.fromDom(s.getDoc()),A.none());return Wi(e,t,r)}),r=()=>n((e,t)=>{t=Ul(Yl(s),e,t);return Li(e,t)}),c=(a,e)=>e().each(e=>{const l=g(e,e=>ht(e));n((e,t)=>{var r,o=Kn(_.fromDom(s.getDoc())),n=(n=Yl(s),r=l,o=o,{selection:ql(n),clipboard:r,generators:o});a(e,n).each(i)})});var m=n=>(e,t)=>{return r=t,o="type",(xe(r,o)?A.from(r[o]):A.none()).each(e=>{a(n(e),t.no_events)});var r,o};b({mceTableSplitCells:()=>a(t.unmergeCells),mceTableMergeCells:()=>a(t.mergeCells),mceTableInsertRowBefore:()=>a(t.insertRowsBefore),mceTableInsertRowAfter:()=>a(t.insertRowsAfter),mceTableInsertColBefore:()=>a(t.insertColumnsBefore),mceTableInsertColAfter:()=>a(t.insertColumnsAfter),mceTableDeleteCol:()=>a(t.deleteColumn),mceTableDeleteRow:()=>a(t.deleteRow),mceTableCutCol:()=>r().each(e=>{pc(e),a(t.deleteColumn)}),mceTableCutRow:()=>e().each(e=>{fc(e),a(t.deleteRow)}),mceTableCopyCol:()=>r().each(e=>pc(e)),mceTableCopyRow:()=>e().each(e=>fc(e)),mceTablePasteColBefore:()=>c(t.pasteColsBefore,vc),mceTablePasteColAfter:()=>c(t.pasteColsAfter,vc),mceTablePasteRowBefore:()=>c(t.pasteRowsBefore,gc),mceTablePasteRowAfter:()=>c(t.pasteRowsAfter,gc),mceTableDelete:()=>wc(s).each(e=>{O(e,o).filter(G(o)).each(e=>{var t=_.fromText("");at(e,t),T(e),s.dom.isEmpty(s.getBody())?(s.setContent(""),s.selection.setCursorLocation()):((e=s.dom.createRng()).setStart(t.dom,0),e.setEnd(t.dom,0),s.selection.setRng(e),s.nodeChanged())})}),mceTableCellToggleClass:(e,o)=>{n(e=>{var t=Yl(s);const r=ce(t,e=>s.formatter.match("tablecellclass",{value:o},e.dom))?s.formatter.remove:s.formatter.apply;N(t,e=>r("tablecellclass",{value:o},e.dom)),Ei(s,e.dom,Ai)})},mceTableToggleClass:(e,t)=>{n(e=>{s.formatter.toggle("tableclass",{value:t},e.dom),Ei(s,e.dom,Ai)})},mceTableToggleCaption:()=>{wc(s).each(t=>{O(t,o).each(n=>{Pt(n,"caption").fold(()=>{var e,t,r,o=_.fromTag("caption");x(o,_.fromText("Caption")),e=n,t=o,r=0,ot(e,r).fold(()=>{x(e,t)},e=>{lt(e,t)}),s.selection.setCursorLocation(o.dom,0)},e=>{w("caption")(t)&&Ue("td",n).each(e=>s.selection.setCursorLocation(e.dom,0)),T(e)}),Ei(s,n.dom,M)})})},mceTableSizingMode:(e,t)=>{return r=t,wc(s).each(e=>{nl(s)||ol(s)||rl(s)||O(e,o).each(e=>{"relative"!==r||Yi(e)?"fixed"!==r||Ji(e)?"responsive"!==r||Qi(e)||tc(e):ec(e):Zi(e),pl(e),Ei(s,e.dom,M)})});var r},mceTableCellType:m(e=>"th"===e?t.makeCellsHeader:t.unmakeCellsHeader),mceTableColType:m(e=>"th"===e?t.makeColumnsHeader:t.unmakeColumnsHeader),mceTableRowType:m(e=>{switch(e){case"header":return t.makeRowsHeader;case"footer":return t.makeRowsFooter;default:return t.makeRowsBody}})},(e,t)=>s.addCommand(t,e)),s.addCommand("mceInsertTable",(e,t)=>{var r,o,n,l;[t,r,o,n={}]=[s,t.rows,t.columns,t.options],(l=e=>U(e)&&0<e)(r)&&l(o)?(l=n.headerRows||0,n=n.headerColumns||0,ac(t,o,r,n,l)):console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")}),s.addCommand("mceTableApplyCellStyle",(e,t)=>{const o=e=>"tablecell"+e.toLowerCase().replace("-","");if(F(t)){const n=h(Yl(s),yl);0===n.length||(e=>{for(const t in e)if(ve.call(e,t))return!1;return!0})(t=we(t,(e,t)=>s.formatter.has(o(t))&&P(e)))||(b(t,(t,e)=>{const r=o(e);N(n,e=>{""===t?s.formatter.remove(r,{value:null},e.dom,!0):s.formatter.apply(r,{value:t},e.dom)})}),l(n[0]).each(e=>Ei(s,e.dom,Ai)))}})};Js=bs([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const I={before:Js.before,on:Js.on,after:Js.after,cata:(e,t,r,o)=>e.fold(t,r,o),getStart:e=>e.fold(c,c,c)};const Cc={create:(e,t)=>({selection:e,kill:t})},xc=(e,t)=>{e=e.document.createRange();return e.selectNode(t.dom),e},Tc=(e,t)=>{e=e.document.createRange();return e.selectNodeContents(t.dom),e},Sc=(e,t,r)=>{var o,n,e=e.document.createRange();return o=e,t.fold(e=>{o.setStartBefore(e.dom)},(e,t)=>{o.setStart(e.dom,t)},e=>{o.setStartAfter(e.dom)}),n=e,r.fold(e=>{n.setEndBefore(e.dom)},(e,t)=>{n.setEnd(e.dom,t)},e=>{n.setEndAfter(e.dom)}),e},Rc=(e,t,r,o,n)=>{e=e.document.createRange();return e.setStart(t.dom,r),e.setEnd(o.dom,n),e},Dc=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Oc=bs([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),kc=(e,t,r)=>t(_.fromDom(r.startContainer),r.startOffset,_.fromDom(r.endContainer),r.endOffset),Ec=(e,t)=>{n=e;var n,e=t.match({domRange:e=>({ltr:f(e),rtl:A.none}),relative:(e,t)=>({ltr:Sr(()=>Sc(n,e,t)),rtl:Sr(()=>A.some(Sc(n,t,e)))}),exact:(e,t,r,o)=>({ltr:Sr(()=>Rc(n,e,t,r,o)),rtl:Sr(()=>A.some(Rc(n,r,o,e,t)))})});{const r=(t=e).ltr();return r.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>Oc.rtl(_.fromDom(e.endContainer),e.endOffset,_.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>kc(0,Oc.ltr,r)):kc(0,Oc.ltr,r)}},Ac=(l,e)=>{return Ec(l,e).match({ltr:(e,t,r,o)=>{var n=l.document.createRange();return n.setStart(e.dom,t),n.setEnd(r.dom,o),n},rtl:(e,t,r,o)=>{var n=l.document.createRange();return n.setStart(r.dom,o),n.setEnd(e.dom,t),n}})};Oc.ltr,Oc.rtl;const Nc={create:(e,t,r,o)=>({start:e,soffset:t,finish:r,foffset:o})};const zc={create:(e,t,r,o)=>({start:I.on(e,t),finish:I.on(r,o)})},Bc=(e,t)=>{e=Ac(e,t);return Nc.create(_.fromDom(e.startContainer),e.startOffset,_.fromDom(e.endContainer),e.endOffset)},_c=zc.create,jc=(r,e,o,t,n)=>C(o,t)?A.none():Ml(o,t,e).bind(e=>{var t=e.boxes.getOr([]);return 1<t.length?(n(r,t,e.start,e.finish),A.some(Cc.create(A.some(_c(o,0,o,jn(o))),!0))):A.none()}),Lc=(e,t)=>({item:e,mode:t});r=(e,t,r,o=Wc)=>e.property().parent(t).map(e=>Lc(e,o));const Wc=(e,t,r,o=Mc)=>r.sibling(e,t).map(e=>Lc(e,o)),Mc=(e,t,r,o=Mc)=>{e=e.property().children(t);return r.first(e).map(e=>Lc(e,o))},Ic=[{current:r,next:Wc,fallback:A.none()},{current:Wc,next:Mc,fallback:A.some(r)},{current:Mc,next:Mc,fallback:A.some(Wc)}],Pc=(t,r,o,n,e=Ic)=>{return ae(e,e=>e.current===o).bind(e=>e.current(t,r,n,e.next).orThunk(()=>e.fallback.bind(e=>Pc(t,r,e,n))))};const Fc={left:()=>{return{sibling:(e,t)=>e.query().prevSibling(t),first:e=>0<e.length?A.some(e[e.length-1]):A.none()}},right:()=>{return{sibling:(e,t)=>e.query().nextSibling(t),first:e=>0<e.length?A.some(e[0]):A.none()}}},Hc=(t,e,r,o,n,l)=>{return Pc(t,e,o,n).bind(e=>l(e.item)?A.none():r(e.item)?A.some(e.item):Hc(t,e.item,r,e.mode,n,l))};const Vc=t=>e=>0===t.property().children(e).length,qc=(e,t,r,o)=>Hc(e,t,r,Wc,Fc.left(),o),$c=(e,t,r,o)=>Hc(e,t,r,Wc,Fc.right(),o),Uc=e();Us=(e,t)=>{return r=Uc,e=e,t=t,qc(r,e,Vc(r),t);var r},Gs=(e,t)=>{return r=Uc,e=e,t=t,$c(r,e,Vc(r),t);var r};const Gc=bs([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Kc=e=>R(e,"tr");const Yc={...Gc,verify:(r,t,e,o,n,l,a)=>R(o,"td,th",a).bind(e=>R(t,"td,th",a).map(t=>C(e,t)?C(o,e)&&jn(e)===n?l(t):Gc.none("in same cell"):Ll(Kc,[e,t]).fold(()=>((e,t,r)=>{t=e.getRect(t),e=e.getRect(r);return e.right>t.left&&e.left<t.right})(r,t,e)?Gc.success():l(t),e=>l(t)))).getOr(Gc.none("default")),cata:(e,t,r,o,n)=>e.fold(t,r,o,n)},Jc=n=>Qe(n).bind(t=>{const r=rt(t);return e=r,o=n,se(e,v(C,o)).map(e=>({parent:t,children:r,element:n,index:e}));var e,o}),Qc=w("br"),Xc=(e,t,r)=>t(e,r).bind(e=>_e(e)&&0===zn(e).trim().length?Xc(e,t,r):A.some(e)),Zc=(t,e,r,o)=>{return n=e,l=r,ot(n,l).filter(Qc).orThunk(()=>ot(n,l-1).filter(Qc)).bind(e=>o.traverse(e).fold(()=>Xc(e,o.gather,t).map(o.relative),e=>Jc(e).map(e=>I.on(e.parent,e.index))));var n,l},em=(e,t,r,o)=>{var n,l,a;return(Qc(t)?(n=e,l=t,(a=o).traverse(l).orThunk(()=>Xc(l,a.gather,n)).map(a.relative)):Zc(e,t,r,o)).map(e=>({start:e,finish:e}))},tm=(e,t)=>({left:e.left,top:e.top+t,right:e.right,bottom:e.bottom+t}),rm=(e,t)=>({left:e.left,top:e.top-t,right:e.right,bottom:e.bottom-t}),om=(e,t,r)=>({left:e.left+t,top:e.top+r,right:e.right+t,bottom:e.bottom+r});const nm=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom}),lm=(e,t)=>A.some(e.getRect(t)),am=(e,t,r)=>{return Be(t)?lm(e,t).map(nm):_e(t)?(e=e,t=t,(0<=(r=r)&&r<jn(t)?e.getRangedRect(t,r,t,r+1):0<r?e.getRangedRect(t,r-1,t,r):A.none()).map(nm)):A.none()},sm=(e,t)=>Be(t)?lm(e,t).map(nm):_e(t)?e.getRangedRect(t,0,t,jn(t)).map(nm):A.none(),im=bs([{none:[]},{retry:["caret"]}]),cm=(e,t)=>e.left<t.left||Math.abs(t.right-e.left)<1||e.left>t.right,mm=(t,e,r)=>Mt(e,Ms).fold(Y,e=>sm(t,e).exists(e=>cm(r,e)));t={point:e=>e.top,adjuster:(e,t,r,o,n)=>{var l=rm(n,5);return Math.abs(r.top-o.top)<1||r.bottom<n.top?im.retry(l):r.bottom===n.top?im.retry(rm(n,1)):mm(e,t,n)?im.retry(om(l,5,0)):im.none()},move:rm,gather:Us},ri={point:e=>e.bottom,adjuster:(e,t,r,o,n)=>{var l=tm(n,5);return Math.abs(r.bottom-o.bottom)<1||r.top>n.bottom?im.retry(l):r.top===n.bottom?im.retry(tm(n,1)):mm(e,t,n)?im.retry(om(l,5,0)):im.none()},move:tm,gather:Gs};const dm=(e,t,r)=>e.elementFromPoint(t,r).filter(e=>"table"===z(e)).isSome(),um=(e,t,r,o,n)=>fm(e,t,r,t.move(o,5),n),fm=(r,o,n,l,a)=>0===a?A.some(l):dm(r,l.left,o.point(l))?um(r,o,n,l,a-1):r.situsFromPoint(l.left,o.point(l)).bind(e=>e.start.fold(A.none,t=>sm(r,t).bind(e=>o.adjuster(r,t,e,n,l).fold(A.none,e=>fm(r,o,n,e,a-1))).orThunk(()=>A.some(l)),A.none));oi=(t,r,e)=>{var o,n=t.move(e,5);const l=fm(r,t,e,n,100).getOr(n);return e=l,n=r,((o=t).point(e)>n.getInnerHeight()?A.some(o.point(e)-n.getInnerHeight()):o.point(e)<0?A.some(-o.point(e)):A.none()).fold(()=>r.situsFromPoint(l.left,t.point(l)),e=>(r.scrollBy(0,e),r.situsFromPoint(l.left,t.point(l)-e)))};const gm={tryUp:v(oi,t),tryDown:v(oi,ri),getJumpSize:f(5)},hm=(r,o,n)=>r.getSelection().bind(t=>em(o,t.finish,t.foffset,n).fold(()=>A.some(Ql(t.finish,t.foffset)),e=>{var e=r.fromSitus(e),e=Yc.verify(r,t.finish,t.foffset,e.finish,e.foffset,n.failure,o);return e=e,Yc.cata(e,e=>A.none(),()=>A.none(),e=>A.some(Ql(e,0)),e=>A.some(Ql(e,jn(e))))})),pm=(r,o,n,l,a,s)=>{return 0===s?A.none():(t=r,e=n,i=l,c=a,am(t,e,i).bind(e=>bm(t,c,e)).bind(e=>{var t=r.fromSitus(e),t=Yc.verify(r,n,l,t.finish,t.foffset,a.failure,o);return Yc.cata(t,()=>A.none(),()=>A.some(e),e=>C(n,e)&&0===l?vm(r,n,l,rm,a):pm(r,o,e,0,a,s-1),e=>C(n,e)&&l===jn(e)?vm(r,n,l,tm,a):pm(r,o,e,jn(e),a,s-1))}));var t,e,i,c},vm=(t,e,r,o,n)=>am(t,e,r).bind(e=>bm(t,n,o(e,gm.getJumpSize()))),bm=(e,t,r)=>{var o=Qr().browser;return o.isChromium()||o.isSafari()||o.isFirefox()?t.retry(e,r):A.none()},wm=(e,t)=>{return e=e,r=e=>Qe(e).exists(e=>C(e,t)),Wt(e,r,o).isSome();var r,o},ym=(l,a,s,e,i)=>R(e,"td,th",a).bind(n=>R(n,"table",a).bind(e=>{return wm(i,e)?(t=l,r=a,o=s,hm(t,r,o).bind(e=>pm(t,r,e.element,e.offset,o,20).map(t.fromSitus)).bind(t=>R(t.finish,"td,th",a).map(e=>({start:n,finish:e,range:t})))):A.none();var t,r,o})),Cm=(e,t,r,o,n,l)=>l(o,t).orThunk(()=>ym(e,t,r,o,n).map(e=>{e=e.range;return Cc.create(A.some(_c(e.start,e.soffset,e.finish,e.foffset)),!0)})),xm=(e,n)=>R(e,"tr",n).bind(o=>R(o,"table",n).bind(e=>{var t,r=jt(e,"tr");return C(o,r[0])?(r=e,e=e=>In(e).isSome(),t=n,qc(Uc,r,e,t).map(e=>{var t=jn(e);return Cc.create(A.some(_c(e,t,e,t)),!0)})):A.none()})),Tm=(e,n)=>R(e,"tr",n).bind(o=>R(o,"table",n).bind(e=>{var t,r=jt(e,"tr");return C(o,r[r.length-1])?(r=e,e=e=>Mn(e).isSome(),t=n,$c(Uc,r,e,t).map(e=>Cc.create(A.some(_c(e,0,e,0)),!0))):A.none()})),Sm=(e,t,r,o,n,l,a)=>ym(e,r,o,n,l).bind(e=>jc(t,r,e.start,e.finish,a)),Rm=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Dm=()=>{const t=(e=>{const t=Rm(A.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(A.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(A.some(e))}}})(k);return{...t,on:e=>t.get().each(e)}},Om=(e,t)=>R(e,"td,th",t),km=e=>Xe(e).exists(ul),Em={traverse:tt,gather:Gs,relative:I.before,retry:gm.tryDown,failure:Yc.failedDown},Am={traverse:et,gather:Us,relative:I.before,retry:gm.tryUp,failure:Yc.failedUp};Ys=t=>e=>e===t;const Nm=Ys(38),zm=Ys(40),Bm=e=>37<=e&&e<=40,_m={isBackward:Ys(37),isForward:Ys(39)},jm={isBackward:Ys(39),isForward:Ys(37)},Lm=bs([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const Wm={domRange:Lm.domRange,relative:Lm.relative,exact:Lm.exact,exactFromRange:e=>Lm.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{var e=e.match({domRange:e=>_.fromDom(e.startContainer),relative:(e,t)=>I.getStart(e),exact:(e,t,r,o)=>e});return e=e,_.fromDom(Je(e).dom.defaultView)},range:Nc.create},Mm=(r,e,t)=>{var o,n;return A.from(null==(n=(o=r.dom).caretPositionFromPoint)?void 0:n.call(o,e,t)).bind(e=>{var t;return null===e.offsetNode?A.none():((t=r.dom.createRange()).setStart(e.offsetNode,e.offset),t.collapse(),A.some(t))})},Im=(e,t,r)=>{var o;return A.from(null==(o=(e=e.dom).caretRangeFromPoint)?void 0:o.call(e,t,r))},Pm=document.caretPositionFromPoint?Mm:document.caretRangeFromPoint?Im:A.none,Fm=(e,t)=>{var r=z(e);return"input"===r?I.after(e):u(["br","img"],r)?0===t?I.before(e):I.after(e):I.on(e,t)},Hm=(e,t,r,o)=>{s=e,i=t,n=r,l=o,(a=Ye(s).dom.createRange()).setStart(s.dom,i),a.setEnd(n.dom,l);var n,l,a,s=a,i=C(e,r)&&t===o;return s.collapsed&&!i},Vm=e=>A.from(e.getSelection()),qm=(e,t)=>{Vm(e).each(e=>{e.removeAllRanges(),e.addRange(t)})},$m=(e,t,r,o,n)=>{t=Rc(e,t,r,o,n);qm(e,t)},Um=(i,e)=>Ec(i,e).match({ltr:(e,t,r,o)=>{$m(i,e,t,r,o)},rtl:(n,l,a,s)=>{Vm(i).each(e=>{if(e.setBaseAndExtent)e.setBaseAndExtent(n.dom,l,a.dom,s);else if(e.extend)try{r=a,o=s,(t=e).collapse(n.dom,l),t.extend(r.dom,o)}catch(e){$m(i,a,s,n,l)}else $m(i,a,s,n,l);var t,r,o})}}),Gm=(e,t,r,o,n)=>{t=((e,t,r,o)=>{e=Fm(e,t),t=Fm(r,o);return Wm.relative(e,t)})(t,r,o,n);Um(e,t)},Km=(e,t,r)=>{t=((e,t)=>{e=e.fold(I.before,Fm,I.after),t=t.fold(I.before,Fm,I.after);return Wm.relative(e,t)})(t,r);Um(e,t)},Ym=e=>{var t;return 0<e.rangeCount?(t=e.getRangeAt(0),e=e.getRangeAt(e.rangeCount-1),A.some(Nc.create(_.fromDom(t.startContainer),t.startOffset,_.fromDom(e.endContainer),e.endOffset))):A.none()},Jm=e=>{var t,r;return null!==e.anchorNode&&null!==e.focusNode&&(t=_.fromDom(e.anchorNode),r=_.fromDom(e.focusNode),Hm(t,e.anchorOffset,r,e.focusOffset))?A.some(Nc.create(t,e.anchorOffset,r,e.focusOffset)):Ym(e)},Qm=(e,t,r=!0)=>{r=(r?Tc:xc)(e,t);qm(e,r)},Xm=e=>{return e=e,Vm(e).filter(e=>0<e.rangeCount).bind(Jm).map(e=>Wm.exact(e.start,e.soffset,e.finish,e.foffset))},Zm=(e,t)=>{var e=Ac(e,t);return 0<(e=0<(e=(t=e).getClientRects()).length?e[0]:t.getBoundingClientRect()).width||0<e.height?A.some(e).map(Dc):A.none()},ed=(e,t,r)=>{return e=_.fromDom(e.document),Pm(e,t,r).map(e=>Nc.create(_.fromDom(e.startContainer),e.startOffset,_.fromDom(e.endContainer),e.endOffset))},td=l=>{return{elementFromPoint:(e,t)=>_.fromPoint(_.fromDom(l.document),e,t),getRect:e=>e.dom.getBoundingClientRect(),getRangedRect:(e,t,r,o)=>{e=Wm.exact(e,t,r,o);return Zm(l,e)},getSelection:()=>Xm(l).map(e=>Bc(l,e)),fromSitus:e=>{e=Wm.relative(e.start,e.finish);return Bc(l,e)},situsFromPoint:(e,t)=>ed(l,e,t).map(e=>zc.create(e.start,e.soffset,e.finish,e.foffset)),clearSelection:()=>{var e;e=l,Vm(e).each(e=>e.removeAllRanges())},collapseSelection:(n=!1)=>{Xm(l).each(e=>e.fold(e=>e.collapse(n),(e,t)=>{e=n?e:t;Km(l,e,e)},(e,t,r,o)=>{e=n?e:r,r=n?t:o;Gm(l,e,r,e,r)}))},setSelection:e=>{Gm(l,e.start,e.soffset,e.finish,e.foffset)},setRelativeSelection:(e,t)=>{Km(l,e,t)},selectNode:e=>{Qm(l,e,!1)},selectContents:e=>{Qm(l,e)},getInnerHeight:()=>l.innerHeight,getScrollY:()=>{var e,t;return e=void 0!==(e=_.fromDom(l.document))?e.dom:document,t=e.body.scrollLeft||e.documentElement.scrollLeft,e=e.body.scrollTop||e.documentElement.scrollTop,No(t,e).top},scrollBy:(e,t)=>{var r=_.fromDom(l.document);(r=(void 0!==r?r.dom:document).defaultView)&&r.scrollBy(e,t)}}},rd=(e,t)=>({rows:e,cols:t}),od=(e,t,r,o)=>{e=((s,i,t,c)=>{const r=Dm(),o=r.clear,n=a=>{r.on(e=>{c.clearBeforeUpdate(i),Om(a.target,t).each(l=>{Ml(e,l,t).each(e=>{var t,r,o,n=e.boxes.getOr([]);1===n.length?(t=n[0],r="false"===fl(t),o=Ht(dl(a.target),t,C),r&&o&&(c.selectRange(i,n,t,t),s.selectContents(t))):1<n.length&&(c.selectRange(i,n,e.start,e.finish),s.selectContents(l))})})})};return{clearstate:o,mousedown:e=>{c.clear(i),Om(e.target,t).filter(km).each(r.set)},mouseover:e=>{n(e)},mouseup:e=>{n(e),o()}}})(td(e),t,r,o);return{clearstate:e.clearstate,mousedown:e.mousedown,mouseover:e.mouseover,mouseup:e.mouseup}},nd=e=>Mt(e,ze).exists(ul),ld=(e,t)=>nd(e)||nd(t),ad=(e,u,f,g)=>{const c=td(e),m=()=>(g.clear(u),A.none());return{keydown:(e,t,r,o,n,a)=>{e=e.raw;const s=e.which,i=!0===e.shiftKey;return Il(u,g.selectedSelector).fold(()=>(Bm(s)&&!i&&g.clearBeforeUpdate(u),Bm(s)&&i&&!ld(t,o)?A.none:zm(s)&&i?v(Sm,c,u,f,Em,o,t,g.selectRange):Nm(s)&&i?v(Sm,c,u,f,Am,o,t,g.selectRange):zm(s)?v(Cm,c,f,Em,o,t,Tm):Nm(s)?v(Cm,c,f,Am,o,t,xm):A.none),l=>{var e=e=>()=>{return he(e,e=>{return t=e.rows,e=e.cols,r=u,o=l,n=g,Fl(o,t,e,n.firstSelectedSelector,n.lastSelectedSelector).map(e=>(n.clearBeforeUpdate(r),n.selectRange(r,e.boxes,e.start,e.finish),e.boxes));var t,r,o,n}).fold(()=>Pl(u,g.firstSelectedSelector,g.lastSelectedSelector).map(e=>{var t=zm(s)||a.isForward(s)?I.after:I.before;return c.setRelativeSelection(I.on(e.first,0),t(e.table)),g.clear(u),Cc.create(A.none(),!0)}),e=>A.some(Cc.create(A.none(),!0)))};return Bm(s)&&i&&!ld(t,o)?A.none:zm(s)&&i?e([rd(1,0)]):Nm(s)&&i?e([rd(-1,0)]):a.isBackward(s)&&i?e([rd(0,-1),rd(-1,0)]):a.isForward(s)&&i?e([rd(0,1),rd(1,0)]):Bm(s)&&!i?m:A.none})()},keyup:(s,i,c,m,d)=>Il(u,g.selectedSelector).fold(()=>{var r,o,e,t,n,l=s.raw,a=l.which;return!0!==l.shiftKey||!Bm(a)||!ld(i,m)||(r=u,o=f,l=i,a=c,e=m,t=d,n=g.selectRange,C(l,e)&&a===t)?A.none():R(l,"td,th",o).bind(t=>R(e,"td,th",o).bind(e=>jc(r,o,t,e,n)))},A.none)}},sd=(e,t)=>{e=Ie(e,t);return void 0===e||""===e?[]:e.split(" ")},id=e=>void 0!==e.dom.classList,cd=(e,t)=>{var r="class";return t=sd(e,r).concat([t]),B(e,r,t.join(" ")),!0},md=(e,t)=>{return e=e,r="class",o=t,0<(t=h(sd(e,r),e=>e!==o)).length?B(e,r,t.join(" ")):y(e,r),!1;var r,o},dd=(e,t)=>{id(e)?e.dom.classList.add(t):cd(e,t)},ud=e=>{var t;0===(id(e)?e.dom.classList:(t=e,sd(t,"class"))).length&&y(e,"class")},fd=(e,t)=>id(e)&&e.dom.classList.contains(t),gd=(r,e)=>{N(e,e=>{var t;t=r,e=e,id(t)?t.dom.classList.remove(e):md(t,e),ud(t)})};const hd={byClass:n=>{t=n.selected;const l=e=>{dd(e,t)};var t,r;r=[n.selected,n.lastSelected,n.firstSelected];const o=e=>{gd(e,r)},a=e=>{e=jt(e,n.selectedSelector);N(e,o)};return{clearBeforeUpdate:a,clear:a,selectRange:(e,t,r,o)=>{a(e),N(t,l),dd(r,n.firstSelected),dd(o,n.lastSelected)},selectedSelector:n.selectedSelector,firstSelectedSelector:n.firstSelectedSelector,lastSelectedSelector:n.lastSelectedSelector}},byAttr:(n,l,t)=>{const r=e=>{y(e,n.selected),y(e,n.firstSelected),y(e,n.lastSelected)},a=e=>{B(e,n.selected,"1")},s=e=>{o(e),t()},o=e=>{e=jt(e,`${n.selectedSelector},${n.firstSelectedSelector},`+n.lastSelectedSelector);N(e,r)};return{clearBeforeUpdate:o,clear:s,selectRange:(e,t,r,o)=>{s(e),N(t,a),B(r,n.firstSelected,"1"),B(o,n.lastSelected,"1"),l(t,r,o)},selectedSelector:n.selectedSelector,firstSelectedSelector:n.firstSelectedSelector,lastSelectedSelector:n.lastSelectedSelector}}},pd=()=>({tag:"none"}),vd=e=>({tag:"multiple",elements:e}),bd=e=>({tag:"single",element:e}),wd=(e,t,r)=>{const o=W.fromTable(e);return Ba(o,t).map(e=>{var t=ka(o,r,!1),t=L(t)["rows"];return{upOrLeftCells:((e,t)=>{e=e.slice(0,t[t.length-1].row+1),e=Ea(e);return p(e,e=>{e=e.cells.slice(0,t[t.length-1].column+1);return g(e,e=>e.element)})})(t,e),downOrRightCells:((e,t)=>{e=e.slice(t[0].row+t[0].rowspan-1,e.length),e=Ea(e);return p(e,e=>{e=e.cells.slice(t[0].column+t[0].colspan-1,e.cells.length);return g(e,e=>e.element)})})(t,e)}})},yd=e=>{var t,r,o=_.fromDom((e=>{if(Dt()&&q(e.target)){var t=_.fromDom(e.target);if(Be(t)&&Et(t)&&e.composed&&e.composedPath){t=e.composedPath();if(t)return fe(t)}}return A.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),l=()=>e.preventDefault(),a=(t=l,r=n,(...e)=>t(r.apply(null,e)));return{target:o,x:e.clientX,y:e.clientY,stop:n,prevent:l,kill:a,raw:e}},Cd=(e,t,r,o,n)=>{l=r,a=o;var l,a,r=e=>{l(e)&&a(yd(e))};return e.dom.addEventListener(t,r,n),{unbind:v(Td,e,t,r,n)}},xd=(e,t,r,o)=>Cd(e,t,r,o,!1),Td=(e,t,r,o)=>{e.dom.removeEventListener(t,r,o)},Sd=E,Rd=(e,t,r)=>xd(e,t,Sd,r),Dd=yd,Od=e=>!fd(_.fromDom(e.target),"ephox-snooker-resizer-bar"),kd=(m,d)=>{e=()=>_.fromDom(m.getBody()),t=()=>Kl(vl(m),hl(m)),r=$l.selectedSelector;const n={get:()=>Hl(e(),r).fold(()=>t().fold(pd,bd),vd)};var e,t,r;const u=hd.byAttr($l,(o,n,l)=>{O(n).each(e=>{var t=Jn(m),t=Gn(k,_.fromDom(m.getDoc()),t),r=Yl(m),e=wd(e,{selection:r},t);m.dispatch("TableSelectionChange",{cells:o,start:n,finish:l,otherCells:e})})},()=>{m.dispatch("TableSelectionClear")});m.on("init",e=>{const r=m.getWin(),o=gl(m);var t=hl(m);const n=od(r,o,t,u),l=ad(r,o,t,u),a=((e,o,t,n)=>{const l=td(e);return(e,r)=>{n.clearBeforeUpdate(o),Ml(e,r,t).each(e=>{var t=e.boxes.getOr([]);n.selectRange(o,t,e.start,e.finish),l.selectContents(r),l.collapseSelection()})}})(r,o,t,u),s=(m.on("TableSelectorChange",e=>a(e.start,e.finish)),(e,t)=>{!0===e.raw.shiftKey&&(t.kill&&e.kill(),t.selection.each(e=>{e=Wm.relative(e.start,e.finish),e=Ac(r,e);m.selection.setRng(e)}))});const i=e=>0===e.button,c=e=>void 0===e.buttons||0!=(1&e.buttons);t=(()=>{const n=Rm(_.fromDom(o)),l=Rm(0);return{touchEnd:e=>{var t,r,o=_.fromDom(e.target);(w("td")(o)||w("th")(o))&&(t=n.get(),r=l.get(),C(t,o))&&e.timeStamp-r<300&&(e.preventDefault(),a(o,o)),n.set(o),l.set(e.timeStamp)}}})();m.on("dragstart",e=>{n.clearstate()}),m.on("mousedown",e=>{i(e)&&Od(e)&&n.mousedown(Dd(e))}),m.on("mouseover",e=>{c(e)&&Od(e)&&n.mouseover(Dd(e))}),m.on("mouseup",e=>{i(e)&&Od(e)&&n.mouseup(Dd(e))}),m.on("touchend",t.touchEnd),m.on("keyup",e=>{const t=Dd(e);var r,o;t.raw.shiftKey&&Bm(t.raw.which)&&(e=m.selection.getRng(),r=_.fromDom(e.startContainer),o=_.fromDom(e.endContainer),l.keyup(t,r,e.startOffset,o,e.endOffset).each(e=>{s(t,e)}))}),m.on("keydown",e=>{const t=Dd(e);d.hide();var e=m.selection.getRng(),r=_.fromDom(e.startContainer),o=_.fromDom(e.endContainer),n=Ro(_m,jm)(_.fromDom(m.selection.getStart()));l.keydown(t,r,e.startOffset,o,e.endOffset,n).each(e=>{s(t,e)}),d.show()}),m.on("NodeChange",()=>{var e=m.selection,t=_.fromDom(e.getStart()),e=_.fromDom(e.getEnd());Ll(O,[t,e]).fold(()=>u.clear(o),k)})}),m.on("PreInit",()=>{m.serializer.addTempAttr($l.firstSelected),m.serializer.addTempAttr($l.lastSelected)});return{getSelectedCells:()=>{var e=n.get(),t=f([]),r=e=>g(e,e=>e.dom),o=e=>[e.dom];switch(e.tag){case"none":return t();case"single":return o(e.element);case"multiple":return r(e.elements)}},clearSelectedCells:e=>u.clear(_.fromDom(e))}},Ed=e=>{let n=[];return{bind:e=>{if(void 0===e)throw new Error("Event bind error: undefined handler");n.push(e)},unbind:t=>{n=h(n,e=>e!==t)},trigger:(...r)=>{const o={};N(e,(e,t)=>{o[e]=r[t]}),N(n,e=>{e(o)})}}},Ad=e=>{return{registry:be(e,e=>({bind:e.bind,unbind:e.unbind})),trigger:be(e,e=>e.trigger)}},Nd=e=>e.slice(0).sort(),zd=e=>{throw new Error("Unsupported keys for object: "+Nd(e).join(", "))},Bd=(l,a,s)=>{if(0===a.length)throw new Error("You must specify at least one required field.");var t="required",e=a;if(!m(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");N(e,e=>{if(!P(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")});{e=a;const r=Nd(e);ae(r,(e,t)=>t<r.length-1&&e===r[t+1]).each(e=>{throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+r.join(", ")+"].")})}return t=>{const r=pe(t);if(!ce(a,e=>u(r,e)))throw n=a,e=r,new Error("All required keys ("+Nd(n).join(", ")+") were not specified. Specified keys were: "+Nd(e).join(", ")+".");l(a,r);var e,o,n=h(a,e=>!s.validate(t[e],e));if(0<n.length)throw e=n,o=s.label,new Error("All values need to be of type: "+o+". Keys ("+Nd(e).join(", ")+") were not.");return t}},_d=(t,e)=>{e=h(e,e=>!u(t,e));0<e.length&&zd(e)};ti=e=>{return t=_d,e=e,Bd(t,e,{validate:$,label:"function"});var t},n=ti(["compare","extract","mutate","sink"]);const jd=ti(["element","start","stop","destroy"]),Ld=ti(["forceDrop","drop","move","delayDrop"]),Wd=()=>{let n=A.none();const l=Ad({move:Ed(["info"])});return{onEvent:(e,o)=>{o.extract(e).each(e=>{var t,r;t=o,r=e,e=n.map(e=>t.compare(e,r)),n=A.some(r),e.each(e=>{l.trigger.move(e)})})},reset:()=>{n=A.none()},events:l.registry}},Md=()=>{t=Ad({move:Ed(["info"])});const e={onEvent:k,reset:k,events:t.registry};var t;const r=Wd();let o=e;return{on:()=>{o.reset(),o=r},off:()=>{o.reset(),o=e},isOn:()=>o===r,onEvent:(e,t)=>{o.onEvent(e,t)},events:r.events}},Id=(t,r,e)=>{let o=!1;const n=Ad({start:Ed([]),stop:Ed([])}),l=Md();var a=()=>{c.stop(),l.isOn()&&(l.off(),n.trigger.stop())};const s=((t,r)=>{let o=null;const n=()=>{H(o)||(clearTimeout(o),o=null)};return{cancel:n,throttle:(...e)=>{n(),o=setTimeout(()=>{o=null,t.apply(null,e)},r)}}})(a,200);l.events.move.bind(e=>{r.mutate(t,e.info)});var i=t=>(...e)=>{o&&t.apply(null,e)};const c=r.sink(Ld({forceDrop:a,drop:i(a),move:i(e=>{s.cancel(),l.onEvent(e,r)}),delayDrop:i(s.throttle)}),e);return{element:c.element,go:e=>{c.start(e),l.on(),n.trigger.start()},on:()=>{o=!0},off:()=>{o=!1},isActive:()=>o,destroy:()=>{c.destroy()},events:n.registry}};ei=e=>{const t=e.replace(/\./g,"-");return{resolve:e=>t+"-"+e}};const Pd=ei("ephox-dragster").resolve;var Fd=n({compare:(e,t)=>No(t.left-e.left,t.top-e.top),extract:e=>A.some(No(e.x,e.y)),sink:(e,t)=>{const r=(e=>{e={layerClass:Pd("blocker"),...e};const t=_.fromTag("div");B(t,"role","presentation"),er(t,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),dd(t,Pd("blocker")),dd(t,e.layerClass);return{element:f(t),destroy:()=>{T(t)}}})(t),o=Rd(r.element(),"mousedown",e.forceDrop),n=Rd(r.element(),"mouseup",e.drop),l=Rd(r.element(),"mousemove",e.move),a=Rd(r.element(),"mouseout",e.delayDrop);return jd({element:r.element,start:e=>{x(e,r.element())},stop:()=>{T(r.element())},destroy:()=>{r.destroy(),n.unbind(),l.unbind(),a.unbind(),o.unbind()}})},mutate:(e,t)=>{e.mutate(t.left,t.top)}});const Hd=(e,t={})=>{var r=null!=(r=t.mode)?r:Fd;return Id(e,r,t)};Js=ei("ephox-snooker").resolve;const Vd=()=>{const r=Ad({drag:Ed(["xDelta","yDelta","target"])});let o=A.none();var e=(()=>{const r=Ad({drag:Ed(["xDelta","yDelta"])});return{mutate:(e,t)=>{r.trigger.drag(e,t)},events:r.registry}})();e.events.drag.bind(t=>{o.each(e=>{r.trigger.drag(t.xDelta,t.yDelta,e)})});return{assign:e=>{o=A.some(e)},get:()=>o,mutate:e.mutate,events:r.registry}},qd=Js("resizer-bar"),$d=Js("resizer-rows"),Ud=Js("resizer-cols"),Gd=e=>{e=jt(e.parent(),"."+qd);N(e,T)},Kd=(t,e,r)=>{const o=t.origin();N(e,e=>{e.each(e=>{e=r(o,e);dd(e,qd),x(t.parent(),e)})})},Yd=(e,t,a,s)=>{Kd(e,t,(e,t)=>{r=t.col,t=t.x-e.left,e=a.top-e.top,o=7,n=s,l=_.fromTag("div"),er(l,{position:"absolute",left:t-o/2+"px",top:e+"px",height:n+"px",width:o+"px"}),Me(l,{"data-column":r,role:"presentation"});var r,o,n,l,t=l;return dd(t,Ud),t})},Jd=(e,t,a,s)=>{Kd(e,t,(e,t)=>{r=t.row,l=a.left-e.left,t=t.y-e.top,e=s,o=7,n=_.fromTag("div"),er(n,{position:"absolute",left:l+"px",top:t-o/2+"px",height:o+"px",width:e+"px"}),Me(n,{"data-row":r,role:"presentation"});var r,o,n,l=n;return dd(l,$d),l})},Qd=(e,t,r,o,n)=>{var l,a=Bo(r),s=t.isResizable,o=0<o.length?$o.positions(o,r):[];const i=0<o.length?(c=e,l=s,p(c.all,(e,t)=>l(e.element)?[t]:[])):[];var c=h(o,(e,t)=>d(i,e=>t===e)),o=(Jd(t,c,a,oo(r)),0<n.length?Go.positions(n,r):[]);const m=0<o.length?((r,o)=>{const t=[];return ee(r.grid.columns,e=>{W.getColumnAt(r,e).map(e=>e.element).forall(o)&&t.push(e)}),h(t,t=>{var e=W.filterItems(r,e=>e.column===t);return ce(e,e=>o(e.element))})})(e,s):[];n=h(o,(e,t)=>d(m,e=>t===e));Yd(t,n,a,ko(r))},Xd=(e,t)=>{var r,o,n;Gd(e),e.isResizable(t)&&(r=W.fromTable(t),o=To(r),n=Co(r),Qd(r,e,t,o,n))},Zd=(e,t)=>{e=jt(e.parent(),"."+qd);N(e,t)},eu=e=>{Zd(e,e=>{D(e,"display","none")})},tu=e=>{Zd(e,e=>{D(e,"display","block")})},ru=e=>fd(e,$d),ou=e=>fd(e,Ud),nu=Js("resizer-bar-dragging"),lu=n=>{const r=Vd(),o=Hd(r,{});let l=A.none();const e=(e,t)=>A.from(Ie(e,t)),a=(r.events.drag.bind(r=>{e(r.target,"data-row").each(e=>{var t=cr(r.target,"top");D(r.target,"top",t+r.yDelta+"px")}),e(r.target,"data-column").each(e=>{var t=cr(r.target,"left");D(r.target,"left",t+r.xDelta+"px")})}),(e,t)=>{return cr(e,t)-lr(e,"data-initial-"+t,0)}),t=(o.events.stop.bind(()=>{r.get().each(o=>{l.each(r=>{e(o,"data-row").each(e=>{var t=a(o,"top");y(o,"data-initial-top"),m.trigger.adjustHeight(r,t,parseInt(e,10))}),e(o,"data-column").each(e=>{var t=a(o,"left");y(o,"data-initial-left"),m.trigger.adjustWidth(r,t,parseInt(e,10))}),Xd(n,r)})})}),(e,t)=>{m.trigger.startAdjust(),r.assign(e),B(e,"data-initial-"+t,cr(e,t)),dd(e,nu),D(e,"opacity","0.2"),o.go(n.parent())}),s=Rd(n.parent(),"mousedown",e=>{ru(e.target)&&t(e.target,"top"),ou(e.target)&&t(e.target,"left")}),i=e=>C(e,n.view()),c=Rd(n.view(),"mouseover",e=>{var t;t=e.target,R(t,"table",i).filter(ul).fold(()=>{At(e.target)&&Gd(n)},e=>{o.isActive()&&(l=A.some(e),Xd(n,e))})});const m=Ad({adjustHeight:Ed(["table","delta","row"]),adjustWidth:Ed(["table","delta","column"]),startAdjust:Ed([])});return{destroy:()=>{s.unbind(),c.unbind(),o.destroy(),Gd(n)},refresh:e=>{Xd(n,e)},on:o.on,off:o.off,hideBars:v(eu,n),showBars:v(tu,n),events:m.registry}};const au={create:(e,n,l)=>{const s=$o,a=Go;e=lu(e);const i=Ad({beforeResize:Ed(["table","type"]),afterResize:Ed(["table","type"]),startDrag:Ed([])});return e.events.adjustHeight.bind(e=>{var t,r,o,n,l=e.table,a=(i.trigger.beforeResize(l,"row"),s.delta(e.delta,l));t=l,r=a,o=e.row,a=s,e=W.fromTable(t),a=Tn(e,t,a),a=g(a,(e,t)=>o===t?Math.max(r+e,dr()):e),n=xs(e,a),e=Ts(e,a),N(e,e=>{on(e.element,e.height)}),N(n,e=>{on(e.element,e.height)}),e=Ss(a),on(t,e),i.trigger.afterResize(l,"row")}),e.events.startAdjust.bind(e=>{i.trigger.startDrag()}),e.events.adjustWidth.bind(e=>{var t=e.table,r=(i.trigger.beforeResize(t,"col"),a.delta(e.delta,t)),o=l(t);Os(t,r,e.column,n,o),i.trigger.afterResize(t,"col")}),{on:e.on,off:e.off,refreshBars:e.refresh,hideBars:e.hideBars,showBars:e.showBars,destroy:e.destroy,events:i.registry}}};const su={only:(e,t)=>{var r=je(e)?(r=e,_.fromDom(Je(r).dom.documentElement)):e;return{parent:f(r),view:f(e),origin:f(No(0,0)),isResizable:t}},detached:(e,t,r)=>{return{parent:f(t),view:f(e),origin:()=>Bo(t),isResizable:r}},body:(e,t,r)=>({parent:f(t),view:f(e),origin:f(No(0,0)),isResizable:r})},iu=()=>{var e=_.fromTag("div");return er(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),x(Nt(_.fromDom(document)),e),e},cu=e=>q(e)&&"TABLE"===e.nodeName,mu="bar-",du=e=>"false"!==Ie(e,"data-mce-resize"),uu=l=>{const a=Dm(),r=Dm(),o=Dm();let s,i;const c=e=>zi(l,e),m=()=>(Zn(l)?ca:ia)(),n=(e,t,r)=>{var o,n,t=Gt(t,"e");""===i&&Zi(e),r!==s&&""!==i?(D(e,"width",i),o=m(),n=c(e),t=Zn(l)||t?(t=e,ma(t).columns-1):0,Os(e,r-s,t,o,n)):/^(\d+(\.\d+)?)%$/.test(i)&&(t=r*parseFloat(i.replace("%",""))/s,D(e,"width",t+"%")),/^(\d+(\.\d+)?)px$/.test(i)&&(o=e,n=W.fromTable(o),W.hasColumns(n)||N(pr(o),e=>{var t=tr(e,"width");D(e,"width",t),y(e,"width")}))},e=()=>{r.on(e=>{e.destroy()}),o.on(e=>{e=e,l.inline&&T(e.parent())})};l.on("init",()=>{t=l,e=du;var e,t=t.inline?su.body(_.fromDom(t.getBody()),iu(),e):su.only(_.fromDom(t.getDoc()),e);o.set(t),(e=>{e=e.options.get("object_resizing");return u(e.split(","),"table")})(l)&&ll(l)&&(e=m(),(t=au.create(t,e,c)).on(),t.events.startDrag.bind(e=>{a.set(l.selection.getRng())}),t.events.beforeResize.bind(e=>{var t,r,o,n=e.table.dom;t=l,r=n,o=bl(n),n=wl(n),e=mu+e.type,t.dispatch("ObjectResizeStart",{target:r,width:o,height:n,origin:e})}),t.events.afterResize.bind(e=>{var t,r,o=e.table,n=o.dom;pl(o),a.on(e=>{l.selection.setRng(e),l.focus()}),o=l,t=n,r=bl(n),n=wl(n),e=mu+e.type,o.dispatch("ObjectResized",{target:t,width:r,height:n,origin:e}),l.undoManager.add()}),r.set(t))}),l.on("ObjectResizeStart",e=>{var t,r=e.target;cu(r)&&(t=_.fromDom(r),N(l.dom.select(".mce-clonedresizable"),e=>{l.dom.addClass(e,"mce-"+Xn(l)+"-columns")}),!Ji(t)&&ol(l)?ec(t):!Yi(t)&&rl(l)&&Zi(t),Qi(t)&&Ut(e.origin,mu)&&Zi(t),s=e.width,i=nl(l)?"":((e,t)=>{e=e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width");return A.from(e).filter(Jt)})(l,r).getOr(""))}),l.on("ObjectResized",e=>{var t,r=e.target;cu(r)&&(r=_.fromDom(r),t=e.origin,Ut(t,"corner-")&&n(r,t,e.width),pl(r),Ei(l,r.dom,Ai))}),l.on("SwitchMode",()=>{r.on(e=>{l.mode.isReadOnly()?e.hideBars():e.showBars()})}),l.on("dragstart dragend",t=>{r.on(e=>{"dragstart"===t.type?(e.hideBars(),e.off()):(e.on(),e.showBars())})}),l.on("remove",()=>{e()});return{refresh:t=>{r.on(e=>e.refreshBars(_.fromDom(t)))},hide:()=>{r.on(e=>e.hideBars())},show:()=>{r.on(e=>e.showBars())}}},fu=e=>{var t=e,t=((t=t.options.register)("table_clone_elements",{processor:"string[]"}),t("table_use_colgroups",{processor:"boolean",default:!0}),t("table_header_type",{processor:e=>{var t=u(["section","cells","sectionCells","auto"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),t("table_sizing_mode",{processor:"string",default:"auto"}),t("table_default_attributes",{processor:"object",default:{border:"1"}}),t("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),t("table_column_resizing",{processor:e=>{var t=u(["preservetable","resizetable"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),t("table_resize_bars",{processor:"boolean",default:!0}),t("table_style_by_css",{processor:"boolean",default:!0}),t("table_merge_content_on_paste",{processor:"boolean",default:!0}),uu(e)),r=kd(e,t),t=Bi(e,t,r);yc(e,t);{var n=e,o=t;const l=hl(n),a=o=>Kl(vl(n)).bind(r=>O(r,l).map(e=>{var t=Ul(Yl(n),e,r);return o(e,t)})).getOr("");b({mceTableRowType:()=>a(o.getTableRowType),mceTableCellType:()=>a(o.getTableCellType),mceTableColType:()=>a(o.getTableColType)},(e,t)=>n.addQueryValueHandler(t,e))}return Jl(e,t),{getSelectedCells:r.getSelectedCells,clearSelectedCells:r.clearSelectedCells}},gu=e=>{return{table:fu(e)}};l.add("dom",gu)}();
!function(){"use strict";var U=tinymce.util.Tools.resolve("tinymce.PluginManager");const B=(e,t,n)=>{return!!n(e,t.prototype)||(null==(n=e.constructor)?void 0:n.name)===t.name};var t,e=n=>e=>{return t=typeof(e=e),(null===e?"null":"object"==t&&Array.isArray(e)?"array":"object"==t&&B(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t)===n;var t},n=t=>e=>typeof e===t;const s=e("string"),u=e("object"),o=e("array"),I=(t=null,e=>t===e),c=n("boolean"),r=e=>{return!(null==e)},g=n("function"),d=(n,r)=>{if(o(n)){for(let e=0,t=n.length;e<t;++e)if(!r(n[e]))return!1;return!0}return!1},m=()=>{},j=e=>()=>e,K=(e,t)=>e===t;class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return r(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);const z=Array.prototype.indexOf,q=Array.prototype.push,V=(e,t)=>z.call(e,t),F=(t,n)=>{var r=t.length,o=new Array(r);for(let e=0;e<r;e++){var l=t[e];o[e]=n(l,e)}return o},p=n=>{var r=[];for(let e=0,t=n.length;e<t;++e){if(!o(n[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+n);q.apply(r,n[e])}return r},l=(t,n)=>{for(let e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return h.none()},v=(e,t,n=K)=>e.exists(e=>n(e,t)),f=(e,t)=>e?h.some(t):h.none();e=t=>e=>e.options.get(t);const k=e("link_assume_external_targets"),W=e("link_context_toolbar"),$=e("link_list"),y=e("link_default_target"),G=e("link_default_protocol"),a=e("link_target_list"),i=e("link_rel_list"),H=e("link_class_list"),J=e("link_title"),x=e("allow_unsafe_link_target"),Q=e("link_quicklink");var b=tinymce.util.Tools.resolve("tinymce.util.Tools");const _=e=>s(e.value)?e.value:"",X=(e,r)=>{const o=[];return b.each(e,e=>{n=e;var t,n=s(n.text)?n.text:s(n.title)?n.title:"";void 0!==e.menu?(t=X(e.menu,r),o.push({text:n,items:t})):(t=r(e),o.push({text:n,value:t}))}),o},Y=(t=_)=>e=>h.from(e).map(e=>X(e,t));const w={sanitize:e=>Y(_)(e),sanitizeWith:Y,createUi:(t,n)=>e=>({name:t,type:"listbox",label:n,items:e}),getValue:_},Z=Object.keys,ee=Object.hasOwnProperty,te=(e,n,r,o)=>{var l=e,a=(e,t)=>{(n(e,t)?r:o)(e,t)},i=Z(l);for(let e=0,t=i.length;e<t;e++){var s=i[e];a(l[s],s)}},C=(e,t)=>ee.call(e,t);var ne=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),re=tinymce.util.Tools.resolve("tinymce.util.URI");const oe=e=>r(e)&&"a"===e.nodeName.toLowerCase(),le=e=>oe(e)&&!!O(e),ae=(t,n)=>{if(t.collapsed)return[];{var t=t.cloneContents(),r=t.firstChild,o=new ne(r,t),l=[];let e=r;for(;n(e)&&l.push(e),e=o.next(););return l}},ie=e=>/^\w+:/i.test(e),O=e=>{var t;return null!=(t=null!=(t=e.getAttribute("data-mce-href"))?t:e.getAttribute("href"))?t:""},se=(e,t)=>{const n=["noopener"];e=e?e.split(/\s+/):[];const r=e=>e.filter(e=>-1===b.inArray(n,e));t=t?0<(t=r(t=e)).length?t.concat(n):n:r(e);return 0<t.length?b.trim(t.sort().join(" ")):""},A=(e,t)=>(t=t||S(e.selection.getRng())[0]||e.selection.getNode(),T(t)?h.from(e.dom.select("a[href]",t)[0]):h.from(e.dom.getParent(t,"a[href]"))),N=(e,t)=>A(e,t).isSome(),ue=(e,t)=>{return t.fold(()=>e.getContent({format:"text"}),e=>e.innerText||e.textContent||"").replace(/\uFEFF/g,"")},S=e=>ae(e,le),ce=e=>b.grep(e,le),ge=e=>0<ce(e).length,de=e=>{const t=e.schema.getTextInlineElements();return!(A(e).exists(e=>e.hasAttribute("data-mce-block"))||!(e=e.selection.getRng()).collapsed&&0!==ae(e,e=>1===e.nodeType&&!oe(e)&&!C(t,e.nodeName.toLowerCase())).length)},T=e=>r(e)&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className),me=(e,t)=>{var n,t={...t};return 0!==i(e).length||x(e)||(n=se(t.rel,"_blank"===t.target),t.rel=n||null),h.from(t.target).isNone()&&!1===a(e)&&(t.target=y(e)),t.href=(n=t.href,"http"!==(e=k(e))&&"https"!==e||ie(n)?n:e+"://"+n),t},he=(i,e,s)=>{const u=i.selection.getNode(),t=A(i,u),c=me(i,(e=>{var t=["title","rel","class","target"],n=(t,n)=>(e[n].each(e=>{t[n]=0<e.length?e:null}),t),r={href:e.href},o=t,l=(e,t)=>{r=n(r,e,t)};for(let e=0,t=o.length;e<t;e++)l(o[e],e);return r})(s));i.undoManager.transact(()=>{s.href===e.href&&e.attach(),t.fold(()=>{{var t=i,e=u,n=s.text,r=c,o,l;const a=t.dom;T(e)?(l=a,o=r,(e=l.select("img",e)[0])&&(l=l.create("a",o),null!=(o=e.parentNode)&&o.insertBefore(l,e),l.appendChild(e))):n.fold(()=>{t.execCommand("mceInsertLink",!1,r)},e=>{t.insertContent(a.createHTML("a",r,a.encode(e)))})}},e=>{var t,n,r;i.focus(),t=i,n=e,e=s.text,r=c,e.each(e=>{C(n,"innerText")?n.innerText=e:n.textContent=e}),t.dom.setAttribs(n,r),t.selection.select(n)})})},pe=a=>{a.undoManager.transact(()=>{var e,t,n,r=a.selection.getNode();if(T(r)){var o=a;var l=o.dom.select("img",r)[0];l&&(r=o.dom.getParents(l,"a[href]",r)[0])&&(null!=(e=r.parentNode)&&e.insertBefore(l,r),o.dom.remove(r))}else l=(e=a).dom,o=e.selection,r=o.getBookmark(),t=o.getRng().cloneRange(),n=l.getParent(t.startContainer,"a[href]",e.getBody()),l=l.getParent(t.endContainer,"a[href]",e.getBody()),n&&t.setStartBefore(n),l&&t.setEndAfter(l),o.setRng(t),e.execCommand("unlink"),o.moveToBookmark(r);a.focus()})},ve=e=>{var n,{class:e,href:t,rel:r,target:o,text:l,title:a}=e;return e={class:e.getOrNull(),href:t,rel:r.getOrNull(),target:o.getOrNull(),text:l.getOrNull(),title:a.getOrNull()},t=(e,t)=>!1===I(e),r={},te(e,t,(n=r,(e,t)=>{n[t]=e}),m),r},fe=(e,t,n)=>{n=n,r={allow_html_data_urls:(r=(r=e).options.get)("allow_html_data_urls"),allow_script_urls:r("allow_script_urls"),allow_svg_data_urls:r("allow_svg_data_urls")},o=n.href;var r,o,n={...n,href:re.isDomSafe(o,"a",r)?o:""};e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,ve(n)):he(e,t,n)},E=e=>{e.hasPlugin("rtc",!0)?e.execCommand("unlink"):pe(e)},ke=e=>{return e=e,t="items",C(e,t)&&void 0!==e[t]&&null!==e[t];var t},ye=(t,e)=>l(e,e=>ke(e)?ye(t,e.items):f(e.value===t,e)),xe=(t,e,n,r)=>{r=r[e];const o=0<t.length;return void 0!==r?ye(r,n).map(e=>({url:{value:e.value,meta:{text:o?t:e.text,attach:m}},text:o?t:e.text})):h.none()};const be={init:(e,o)=>{const l={text:e.text,title:e.title},a=e=>{return f(l.title.length<=0,h.from(null==(e=e.meta)?void 0:e.title).getOr(""))},i=e=>{var t;return f(l.text.length<=0,h.from(null==(t=e.meta)?void 0:t.text).getOr(e.value))},s=(e,t)=>{n=o;var n,r=("link"===(r=t)?n.link:"anchor"===r?n.anchor:h.none()).getOr([]);return xe(l.text,t,r,e)};return{onChange:(e,t)=>{var n,r,t=t.name;return"url"===t?(n=e(),r=i(n.url),n=a(n.url),r.isSome()||n.isSome()?h.some({...r.map(e=>({text:e})).getOr({}),...n.map(e=>({title:e})).getOr({})}):h.none()):(r=["anchor","link"],n=t,-1<V(r,n)?s(e(),t):(("text"===t||"title"===t)&&(l[t]=e()[t]),h.none()))}}},getDelta:xe};var _e=tinymce.util.Tools.resolve("tinymce.util.Delay");const we=e=>{const t=e.href;return 0<t.indexOf("@")&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?h.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):h.none()};const Ce={preprocess:(a,i)=>{return l([we,(n=k(a),r=G(a),e=>{const t=e.href;return 1===n&&!ie(t)||0===n&&/^\s*www(\.|\d\.)/i.test(t)?h.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${r}:// prefix?`,preprocess:e=>({...e,href:r+"://"+t})}):h.none()})],e=>e(i)).fold(()=>Promise.resolve(i),l=>new Promise(t=>{{var n=a,e=l.message,r=e=>{t(e?l.preprocess(i):i)};const o=n.selection.getRng();_e.setEditorTimeout(n,()=>{n.windowManager.confirm(e,e=>{n.selection.setRng(o),r(e)})})}}));var n,r}};const Oe={getAnchors:e=>{var t,e=e.dom.select("a:not([href])"),e=(e=e,t=e=>{e=e.name||e.id;return e?[{text:e,value:"#"+e}]:[]},p(F(e,t)));return 0<e.length?h.some([{text:"None",value:""}].concat(e)):h.none()}};const Ae={getClasses:e=>{e=H(e);return 0<e.length?w.sanitize(e):h.none()}},Ne=e=>{try{return h.some(JSON.parse(e))}catch(e){return h.none()}};const Se={getLinks:t=>{const n=e=>t.convertURL(e.value||e.url||"","href"),e=$(t);return new Promise(t=>{s(e)?fetch(e).then(e=>e.ok?e.text().then(Ne):Promise.reject()).then(t,()=>t(h.none())):g(e)?e(e=>t(h.some(e))):t(h.from(e))}).then(e=>e.bind(w.sanitizeWith(n)).map(e=>{return 0<e.length?[{text:"None",value:""}].concat(e):e}))}};const Te={getRels:(e,t)=>{var n=i(e);if(0<n.length){const r=v(t,"_blank");return(!1===x(e)?w.sanitizeWith(e=>se(w.getValue(e),r)):w.sanitize)(n)}return h.none()}},Ee=[{text:"Current window",value:""},{text:"New window",value:"_blank"}];const Re={getTargets:e=>{e=a(e);return o(e)?w.sanitize(e).orThunk(()=>h.some(Ee)):!1===e?h.none():h.some(Ee)}},R=(e,t,n)=>{e=e.getAttrib(t,n);return null!==e&&0<e.length?h.some(e):h.none()};const Le={collect:(n,r)=>Se.getLinks(n).then(e=>{var t=((e,t)=>{const n=e.dom;var e=de(e)?h.some(ue(e.selection,t)):h.none(),r=t.bind(e=>h.from(n.getAttrib(e,"href"))),o=t.bind(e=>h.from(n.getAttrib(e,"target"))),l=t.bind(e=>R(n,e,"rel")),a=t.bind(e=>R(n,e,"class"));return{url:r,text:e,title:t.bind(e=>R(n,e,"title")),target:o,rel:l,linkClass:a}})(n,r);return{anchor:t,catalogs:{targets:Re.getTargets(n),rels:Te.getRels(n,t.target),classes:Ae.getClasses(n),anchor:Oe.getAnchors(n),link:e},optNode:r,flags:{titleEnabled:J(n)}}})},Pe=c=>{var e,t;e=c,t=A(e),Le.collect(e,t).then(e=>{o=c,l=e;var o,l,t=e=>{const n=e.getData();if(n.url.value){var t=t=>h.from(n[t]).filter(e=>!v(l.anchor[t],e)),t={href:n.url.value,text:t("text"),target:t("target"),rel:t("rel"),class:t("linkClass"),title:t("title")};const r={href:n.url.value,attach:void 0!==n.url.meta&&n.url.meta.attach?n.url.meta.attach:m};Ce.preprocess(o,t).then(e=>{fe(o,r,e)})}else E(o);e.close()};{var n=c,r,a=e.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),i=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],n,s=(n=n=h.from(y(n)),r=(r=e).anchor,{url:{value:s=r.url.getOr(""),meta:{original:{value:s}}},text:r.text.getOr(""),title:r.title.getOr(""),anchor:s,link:s,rel:r.rel.getOr(""),target:r.target.or(n).getOr(""),linkClass:r.linkClass.getOr("")}),n=e.catalogs;const u=be.init(s,n);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:p([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],a,i,(t=>{const n=[];var r=e=>{n.push(e)};for(let e=0;e<t.length;e++)t[e].each(r);return n})([n.anchor.map(w.createUi("anchor","Anchors")),n.rels.map(w.createUi("rel","Rel")),n.targets.map(w.createUi("target","Open link in...")),n.link.map(w.createUi("link","Link list")),n.classes.map(w.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:s,onChange:(t,{name:e})=>{u.onChange(t.getData,{name:e}).each(e=>{t.setData(e)})},onSubmit:t}}}).then(e=>{c.windowManager.open(e)})};var Me=tinymce.util.Tools.resolve("tinymce.util.VK");const De=e=>{var t=document.createElement("a"),e=(t.target="_blank",t.href=e,t.rel="noreferrer noopener",document.createEvent("MouseEvents"));e.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t=t,e=e,document.body.appendChild(t),t.dispatchEvent(e),document.body.removeChild(t)},Ue=(e,t)=>e.dom.getParent(t,"a[href]"),Be=e=>Ue(e,e.selection.getStart()),Ie=e=>!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey,L=(e,t)=>{var n;t&&(n=O(t),/^#/.test(n)?(n=e.dom.select(n)).length&&e.selection.scrollIntoView(n[0],!0):De(t.href))},je=e=>()=>{e.execCommand("mceLink",!1,{dialog:!0})},P=e=>()=>{L(e,Be(e))},M=(e,t)=>(e.on("NodeChange",t),()=>e.off("NodeChange",t)),D=n=>e=>{var t=()=>{e.setActive(!n.mode.isReadOnly()&&N(n,n.selection.getNode())),e.setEnabled(n.selection.isEditable())};return t(),M(n,t)},Ke=n=>e=>{var t=()=>{e.setEnabled(n.selection.isEditable())};return t(),M(n,t)},ze=n=>t=>{var e=()=>{return t.setEnabled(1===((e=n).selection.isCollapsed()?ce(e.dom.getParents(e.selection.getStart())):S(e.selection.getRng())).length);var e};return e(),M(n,e)},qe=o=>t=>{const n=e=>{return ge(e)||(e=o.selection.getRng(),0<S(e).length)};var e=o.dom.getParents(o.selection.getStart());const r=e=>{t.setEnabled(n(e)&&o.selection.isEditable())};return r(e),M(o,e=>r(e.parents))},Ve=l=>{var e=e=>{var t=l.selection.getNode();return e.setEnabled(N(l,t)),m};l.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:D(l)},label:"Link",predicate:e=>W(l)&&N(l,e),initValue:()=>{return A(l).fold(j(""),O)},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:e=>{var t=l.selection.getNode();return e.setActive(N(l,t)),D(l)(e)},onAction:e=>{var t,n=e.getValue(),r=(t=n,r=A(l),o=de(l),r.isNone()&&o?(o=ue(l.selection,r),f(0===o.length,t)):h.none()),o={href:n,attach:m};fe(l,o,{href:n,text:r,title:h.none(),rel:h.none(),target:h.none(),class:h.none()}),l.selection.collapse(!1),e.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:e,onAction:e=>{E(l),e.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:e,onAction:e=>{P(l)(),e.hide()}}]})};U.add("link",e=>{var t,n,r,o,l,a,i=e;(i=i.options.register)("link_assume_external_targets",{processor:e=>{var t=s(e)||c(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),i("link_context_toolbar",{processor:"boolean",default:!1}),i("link_list",{processor:e=>s(e)||g(e)||d(e,u)}),i("link_default_target",{processor:"string"}),i("link_default_protocol",{processor:"string",default:"https"}),i("link_target_list",{processor:e=>c(e)||d(e,u),default:!0}),i("link_rel_list",{processor:"object[]",default:[]}),i("link_class_list",{processor:"object[]",default:[]}),i("link_title",{processor:"boolean",default:!0}),i("allow_unsafe_link_target",{processor:"boolean",default:!1}),i("link_quicklink",{processor:"boolean",default:!1}),(t=e).ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:je(t),onSetup:D(t)}),t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:P(t),onSetup:ze(t)}),t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>E(t),onSetup:qe(t)}),(n=e).ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:P(n),onSetup:ze(n)}),n.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Ke(n),onAction:je(n)}),n.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>E(n),onSetup:qe(n)}),(r=e).ui.registry.addContextMenu("link",{update:e=>{return r.dom.isEditable(e)?ge(r.dom.getParents(e,"a"))?"link unlink openlink":"link":""}}),Ve(e),(o=e).on("click",e=>{var t=Ue(o,e.target);t&&Me.metaKeyPressed(e)&&(e.preventDefault(),L(o,t))}),o.on("keydown",e=>{var t;!e.isDefaultPrevented()&&13===e.keyCode&&Ie(e)&&(t=Be(o))&&(e.preventDefault(),L(o,t))}),(l=e).addCommand("mceLink",(e,t)=>{!0!==(null==t?void 0:t.dialog)&&Q(l)?l.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):Pe(l)}),(a=e).addShortcut("Meta+K","",()=>{a.execCommand("mceLink")})})}();
!function(){"use strict";var o=tinymce.util.Tools.resolve("tinymce.PluginManager");const U=(e,t,r)=>{return!!r(e,t.prototype)||(null==(r=e.constructor)?void 0:r.name)===t.name};var e=r=>e=>{return t=typeof(e=e),(null===e?"null":"object"==t&&Array.isArray(e)?"array":"object"==t&&U(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t)===r;var t},t=t=>e=>typeof e===t;const $=e("string"),p=e("object"),H=e("array"),_=t("boolean"),d=e=>{return!(null==e)},i=t("function"),F=t("number"),V=()=>{};var j;const K=(e,t)=>e===t;const z=t=>e=>!t(e),Q=(j=!1,()=>j);class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return d(e)?m.some(e):m.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const W=Array.prototype.slice,q=Array.prototype.indexOf,Z=Array.prototype.push,G=(e,t)=>{return e=e,t=t,-1<q.call(e,t)},J=(r,n)=>{for(let e=0,t=r.length;e<t;e++)if(n(r[e],e))return!0;return!1},s=(t,r)=>{var n=t.length,o=new Array(n);for(let e=0;e<n;e++){var s=t[e];o[e]=r(s,e)}return o},l=(r,n)=>{for(let e=0,t=r.length;e<t;e++)n(r[e],e)},c=(r,n)=>{var o=[];for(let e=0,t=r.length;e<t;e++){var s=r[e];n(s,e)&&o.push(s)}return o},a=(e,r,n)=>(l(e,(e,t)=>{n=r(n,e,t)}),n),X=(r,n,o)=>{for(let e=0,t=r.length;e<t;e++){var s=r[e];if(n(s,e))return m.some(s);if(o(s,e))break}return m.none()},Y=(e,t)=>X(e,t,Q),ee=(e,t)=>{var r=s(e,t),n=[];for(let e=0,t=r.length;e<t;++e){if(!H(r[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+r);Z.apply(n,r[e])}return n},te=e=>{e=W.call(e,0);return e.reverse(),e},re=(e,t)=>0<=t&&t<e.length?m.some(e[t]):m.none(),ne=e=>re(e,0),oe=e=>re(e,e.length-1),se=(r,n)=>{const o=[];var s=i(n)?t=>J(o,e=>n(e,t)):e=>G(o,e);for(let e=0,t=r.length;e<t;e++){var a=r[e];s(a)||o.push(a)}return o},ae=(e,t,r=K)=>e.exists(e=>r(e,t)),ie=(e,t,r)=>e.isSome()&&t.isSome()?m.some(r(e.getOrDie(),t.getOrDie())):m.none();const n=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}};const u={fromHtml:(e,t)=>{var r,t=(t||document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw r="HTML does not have a single root node",console.error(r,e),new Error(r);return n(t.childNodes[0])},fromTag:(e,t)=>{t=(t||document).createElement(e);return n(t)},fromText:(e,t)=>{t=(t||document).createTextNode(e);return n(t)},fromDom:n,fromPoint:(e,t,r)=>m.from(e.dom.elementFromPoint(t,r)).map(n)};const le=(e,t)=>e.dom===t.dom,de=(e,t)=>{e=e.dom;if(1!==e.nodeType)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")};"undefined"==typeof window&&Function("return this;")();const g=e=>{return e.dom.nodeName.toLowerCase()},me=e=>e.dom.nodeType;var ce;ce=1;const ue=e=>me(e)===ce;e=t=>e=>ue(e)&&g(e)===t;const pe=e=>m.from(e.dom.parentNode).map(u.fromDom),h=e=>s(e.dom.childNodes,u.fromDom),ge=(e,t)=>{e=e.dom.childNodes;return m.from(e[t]).map(u.fromDom)},he=e=>ge(e,0),fe=e=>ge(e,e.dom.childNodes.length-1),ve=(e,t,r)=>{let n=e.dom;for(var o=i(r)?r:Q;n.parentNode;){n=n.parentNode;var s=u.fromDom(n);if(t(s))return m.some(s);if(o(s))break}return m.none()},ye=(e,t,r)=>{var n,o;return o=(e,t)=>t(e),n=ve,r=r,o(o=e,e=t)?m.some(o):i(r)&&r(o)?m.none():n(o,e,r)},Ce=(t,r)=>{pe(t).each(e=>{e.dom.insertBefore(r.dom,t.dom)})},be=(e,t)=>{var r;r=e,m.from(r.dom.nextSibling).map(u.fromDom).fold(()=>{pe(e).each(e=>{f(e,t)})},e=>{Ce(e,t)})},f=(e,t)=>{e.dom.appendChild(t.dom)},Se=(t,e)=>{l(e,e=>{f(t,e)})},Ne=e=>{e.dom.textContent="",l(h(e),e=>{Le(e)})},Le=e=>{e=e.dom;null!==e.parentNode&&e.parentNode.removeChild(e)};var De=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Te=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Oe=tinymce.util.Tools.resolve("tinymce.util.VK");const Ae=e=>s(e,u.fromDom),ke=Object.keys,xe=(r,n)=>{var o=ke(r);for(let e=0,t=o.length;e<t;e++){var s=o[e];n(r[s],s)}},Ee=(e,t)=>{var r,n,o,s,a={};return e=e,r=t,s=a,n=(e,t)=>{s[t]=e},o=V,xe(e,(e,t)=>{(r(e,t)?n:o)(e,t)}),a},v=(e,t)=>{const n=e.dom;xe(t,(e,t)=>{var r=n;if(!($(e)||_(e)||F(e)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",e,":: Element ",r),new Error("Attribute value was not simple");r.setAttribute(t,e+"")})},we=e=>a(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),Be=e=>{return e=e,t=!0,u.fromDom(e.dom.cloneNode(t));var t},Pe=(e,t)=>{var t=((e,t)=>{t=u.fromTag(t),e=we(e);return v(t,e),t})(e,t),r=(be(e,t),h(e));return Se(t,r),Le(e),t};var t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),y=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ie=t=>e=>d(e)&&e.nodeName.toLowerCase()===t,r=t=>e=>d(e)&&t.test(e.nodeName);const C=e=>d(e)&&3===e.nodeType,b=e=>d(e)&&1===e.nodeType,S=r(/^(OL|UL|DL)$/),Me=r(/^(OL|UL)$/),Re=Ie("ol"),Ue=r(/^(LI|DT|DD)$/),$e=r(/^(DT|DD)$/),He=r(/^(TH|TD)$/),N=Ie("br"),_e=(e,t)=>d(t)&&t.nodeName in e.schema.getTextBlockElements(),Fe=(e,t)=>d(e)&&e.nodeName in t,L=(e,t,r)=>{var n=e.isEmpty(t);return!(r&&0<e.select("span[data-mce-type=bookmark]",t).length)&&n},Ve=(e,t)=>e.isChildOf(t,e.getRoot());r=t=>e=>e.options.get(t);const je=r("lists_indent_on_tab"),Ke=r("forced_root_block"),ze=r("forced_root_block_attrs"),Qe=(e,t)=>{var r,n=e.dom,o=e.schema.getBlockElements(),s=n.createFragment(),a=Ke(e),i=ze(e);let l,d=!1;for(l=n.create(a,i),Fe(t.firstChild,o)||s.appendChild(l);r=t.firstChild;){var m=r.nodeName;d||"SPAN"===m&&"bookmark"===r.getAttribute("data-mce-type")||(d=!0),Fe(r,o)?(s.appendChild(r),l=null):(l||(l=n.create(a,i),s.appendChild(l)),l.appendChild(r))}return!d&&l&&l.appendChild(n.create("br",{"data-mce-bogus":"1"})),s},D=t.DOM,We=(t,e,r)=>{const n=D.select('span[data-mce-type="bookmark"]',e);var o=Qe(t,r),s=D.createRng(),s=(s.setStartAfter(r),s.setEndAfter(e),s.extractContents());for(let e=s.firstChild;e;e=e.firstChild)if("LI"===e.nodeName&&t.dom.isEmpty(e)){D.remove(e);break}t.dom.isEmpty(s)||D.insertAfter(s,e),D.insertAfter(o,e);s=r.parentElement;if(s&&L(t.dom,s)){o=s;const a=o.parentNode;a&&y.each(n,e=>{a.insertBefore(e,r.parentNode)}),D.remove(o)}D.remove(r),L(t.dom,e)&&D.remove(e)},qe=e("dd"),Ze=e("dt"),Ge=(t,r)=>{var e;qe(r)?Pe(r,"dt"):Ze(r)&&(e=r,m.from(e.dom.parentElement).map(u.fromDom).each(e=>We(t,e.dom,r.dom)))},Je=e=>{Ze(e)&&Pe(e,"dd")},Xe=(e,t)=>{var r;return C(e)?{container:e,offset:t}:(r=De.getNode(e,t),C(r)?{container:r,offset:t>=e.childNodes.length?r.data.length:0}:r.previousSibling&&C(r.previousSibling)?{container:r.previousSibling,offset:r.previousSibling.data.length}:r.nextSibling&&C(r.nextSibling)?{container:r.nextSibling,offset:0}:{container:e,offset:t})},Ye=e=>{var t=e.cloneRange(),r=Xe(e.startContainer,e.startOffset),r=(t.setStart(r.container,r.offset),Xe(e.endContainer,e.endOffset));return t.setEnd(r.container,r.offset),t},et=["OL","UL","DL"],tt=et.join(","),T=(e,t)=>{t=t||e.selection.getStart(!0);return e.dom.getParent(t,tt,O(e,t))},rt=e=>{const t=T(e);var r,n,e=e.selection.getSelectedBlocks();return r=t,n=e,d(r)&&1===n.length&&n[0]===r?(n=t,c(n.querySelectorAll(tt),S)):c(e,e=>S(e)&&t!==e)},nt=e=>{var t=e.selection.getSelectedBlocks();return c(((r,e)=>{e=y.map(e,e=>{var t=r.dom.getParent(e,"li,dd,dt",O(r,e));return t||e});return se(e)})(e,t),Ue)},ot=(e,t)=>{t=e.dom.getParents(t,"TD,TH");return 0<t.length?t[0]:e.getBody()},st=(t,r)=>!S(r)&&!Ue(r)&&J(et,e=>t.isValidChild(r.nodeName,e)),O=(t,e)=>{e=t.dom.getParents(e,t.dom.isBlock);return Y(e,e=>st(t.schema,e)).getOr(t.getBody())},at=(e,t)=>{e=e.dom.getParents(t,"ol,ul",O(e,t));return oe(e)},it=n=>{e=n,t=at(e,e.selection.getStart()),e=c(e.selection.getSelectedBlocks(),Me);const o=t.toArray().concat(e);e=(t=n).selection.getStart();var e,t=t.dom.getParents(e,"ol,ul",O(t,e));return Y(t,e=>{return e=u.fromDom(e),pe(e).exists(e=>Ue(e.dom)&&he(e).exists(e=>!S(e.dom))&&fe(e).exists(e=>!S(e.dom)))}).fold(()=>{{var t=n,e=o,r=s(e,e=>at(t,e).getOr(e));return se(r)}},e=>[e])},A=e=>/\btox\-/.test(e.className),lt=(e,t)=>X(e,S,He).exists(e=>e.nodeName===t&&!A(e)),dt=(e,t)=>null!==t&&!e.dom.isEditable(t),k=(e,t)=>{t=e.dom.getParent(t,"ol,ul,dl");return dt(e,t)},mt=(e,t)=>{var r=e.selection.getNode();return t({parents:e.dom.getParents(r),element:r}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},ct=(e,t)=>{const r=(t||document).createDocumentFragment();return l(e,e=>{r.appendChild(e.dom)}),u.fromDom(r)},x=(e,t,r)=>e.dispatch("ListMutation",{action:t,element:r});var ut;ut=/^\s+|\s+$/g;const pt=e=>e.replace(ut,""),gt=(e,t,r)=>{if(!$(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);var n;void 0!==(n=e).style&&i(n.style.getPropertyValue)&&e.style.setProperty(t,r)},E=e=>de(e,"OL,UL"),ht=e=>he(e).exists(E),w=e=>"listAttributes"in e,ft=e=>"isComment"in e,vt=e=>0<e.depth,yt=e=>e.isSelected,Ct=e=>{var t=h(e),e=(e=e,fe(e).exists(E)?t.slice(0,-1):t);return s(e,Be)},bt=(e,t)=>{f(e.item,t.list)},St=(t,r,n)=>{var o=[];for(let e=0;e<n;e++)o.push(((e,t)=>{t={list:u.fromTag(t,e),item:u.fromTag("li",e)};return f(t.list,t.item),t})(t,r.listType));return o},Nt=(t,r)=>{for(let e=0;e<t.length-1;e++){var n=t[e].item,o="list-style-type",s="none";n=n.dom,gt(n,o,s)}oe(t).each(e=>{v(e.list,r.listAttributes),v(e.item,r.itemAttributes),Se(e.item,r.content)})},Lt=(n,e,o)=>{e=e.slice(0,o.depth);return oe(e).each(e=>{var t,r;w(o)?(r=((e,t,r)=>{e=u.fromTag("li",e);return v(e,t),Se(e,r),e})(n,o.itemAttributes,o.content),t=e,r=r,f(t.list,r),t.item=r,t=e,r=o,g(t.list)!==r.listType&&(t.list=Pe(t.list,r.listType)),v(t.list,r.listAttributes)):"isInPreviousLi"in o?o.isInPreviousLi&&(t=((e,t,r,n)=>{n=u.fromTag(n,e);return v(n,t),Se(n,r),n})(n,o.attributes,o.content,o.type),f(e.item,t)):(r=u.fromHtml(`<!--${o.content}-->`),f(e.list,r))}),e},Dt=(e,t,r)=>{var n,e=St(e,r,r.depth-t.length),o=e;for(let e=1;e<o.length;e++)bt(o[e-1],o[e]);return Nt(e,r),r=t,n=e,ie(oe(r),ne(n),bt),t.concat(e)},Tt=(n,e)=>{let o=m.none();const t=a(e,(e,t,r)=>w(t)?(t.depth>e.length?Dt:Lt)(n,e,t):0===r&&ft(t)?(o=m.some(t),e):Lt(n,e,t),[]);return o.each(e=>{const n=u.fromHtml(`<!--${e.content}-->`);ne(t).each(e=>{var t,r;t=e.list,r=n,he(t).fold(()=>{f(t,r)},e=>{t.dom.insertBefore(r.dom,e.dom)})})}),ne(t).map(e=>e.list)},Ot=t=>(l(t,(r,e)=>{((e,t)=>{const r=e[t].depth,n=e=>e.depth===r&&!e.dirty,o=e=>e.depth<r;return X(te(e.slice(0,t)),n,o).orThunk(()=>X(e.slice(t+1),n,o))})(t,e).fold(()=>{var e;r.dirty&&w(r)&&((e=r).listAttributes=Ee(e.listAttributes,(e,t)=>"start"!==t))},e=>{var t;t=r,e=e,w(t)&&w(e)&&(t.listType=e.listType,t.listAttributes={...e.listAttributes})})}),t),At=(t,r,n,o)=>{if(e=o,8===me(e)||"#comment"===g(e))return[{depth:t+1,content:null!=(e=o.dom.nodeValue)?e:"",dirty:!1,isSelected:!1,isComment:!0}];r.each(e=>{le(e.start,o)&&n.set(!0)});s=o,a=t,i=n.get();var s,a,i,e=pe(s).filter(ue).map(e=>({depth:a,dirty:!1,isSelected:i,content:Ct(s),itemAttributes:we(s),listAttributes:we(e),listType:g(e),isInPreviousLi:!1})),l=(r.each(e=>{le(e.end,o)&&n.set(!1)}),fe(o).filter(E).map(e=>xt(t,r,n,e)).getOr([]));return e.toArray().concat(l)},kt=(r,o,s,n)=>he(n).filter(E).fold(()=>At(r,o,s,n),e=>{var t=a(h(n),(e,n,t)=>{return 0===t?e:(t=At(r,o,s,n).map(e=>{return e=e,t=n.dom.nodeName.toLowerCase(),r=!0,w(e)?{depth:e.depth,dirty:e.dirty,content:e.content,isSelected:e.isSelected,type:t,attributes:e.itemAttributes,isInPreviousLi:r}:e;var t,r}),e.concat(t))},[]);return xt(r,o,s,e).concat(t)}),xt=(t,r,n,e)=>ee(h(e),e=>{return(E(e)?xt:kt)(t+1,r,n,e)}),Et=(t,e)=>ee(((o,s)=>{if(0===o.length)return[];{let r=s(o[0]);var a=[];let n=[];for(let e=0,t=o.length;e<t;e++){var i=o[e],l=s(i);l!==r&&(a.push(n),n=[]),r=l,n.push(i)}return 0!==n.length&&a.push(n),a}})(e,vt),e=>{return(ne(e).exists(vt)?(e,t)=>{t=Ot(t);return Tt(e.contentDocument,t).toArray()}:(t,e)=>{e=Ot(e);return s(e,e=>{e=ft(e)?ct([u.fromHtml(`<!--${e.content}-->`)]):ct(e.content);return u.fromDom(Qe(t,e.dom))})})(t,e)}),wt=(e,r)=>{l(c(e,yt),e=>{var t=e;switch(r){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})},Bt=(n,e,o)=>{e=((e,t)=>{const r=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(!1);return s(e,e=>({sourceList:e,entries:xt(0,t,r,e)}))})(e,(e=>{e=s(nt(e),u.fromDom);return ie(Y(e,z(ht)),Y(te(e),z(ht)),(e,t)=>({start:e,end:t}))})(n));l(e,e=>{wt(e.entries,o);var t,r=Et(n,e.entries);l(r,e=>{x(n,"Indent"===o?"IndentList":"OutdentList",e.dom)}),t=e.sourceList,r=r,l(r,e=>{Ce(t,e)}),Le(e.sourceList)})},Pt=(e,t)=>{var r,n,o=Ae(it(e)),s=Ae((s=e,c(nt(s),$e)));let a=!1;return(o.length||s.length)&&(r=e.selection.getBookmark(),Bt(e,o,t),n=e,o=s,"Indent"===t?l(o,Je):l(o,e=>Ge(n,e)),e.selection.moveToBookmark(r),e.selection.setRng(Ye(e.selection.getRng())),e.nodeChanged(),a=!0),a},It=(e,t)=>{return r=e,n=T(r),!dt(r,n)&&Pt(e,t);var r,n},Mt=e=>It(e,"Indent"),Rt=e=>It(e,"Outdent"),Ut=e=>It(e,"Flatten"),$t=e=>"\ufeff"===e,Ht=(e,t)=>{return e=e,n=le,o=[t],t=(...e)=>{e=o.concat(e);return n.apply(null,e)},ve(e,t,r).isSome();var r,n,o};var _t=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const B=t.DOM,P=o=>{const s={};var e=e=>{let t=o[e?"startContainer":"endContainer"],r=o[e?"startOffset":"endOffset"];var n;b(t)&&(n=B.create("span",{"data-mce-type":"bookmark"}),t.hasChildNodes()?(r=Math.min(r,t.childNodes.length-1),e?t.insertBefore(n,t.childNodes[r]):B.insertAfter(n,t.childNodes[r])):t.appendChild(n),t=n,r=0),s[e?"startContainer":"endContainer"]=t,s[e?"startOffset":"endOffset"]=r};return e(!0),o.collapsed||e(),s},I=o=>{var e=e=>{var t;let r=o[e?"startContainer":"endContainer"],n=o[e?"startOffset":"endOffset"];r&&(b(r)&&r.parentNode&&(t=r,n=(e=>{var t;let r=null==(t=e.parentNode)?void 0:t.firstChild,n=0;for(;r;){if(r===e)return n;b(r)&&"bookmark"===r.getAttribute("data-mce-type")||n++,r=r.nextSibling}return-1})(r),r=r.parentNode,B.remove(t),!r.hasChildNodes())&&B.isBlock(r)&&r.appendChild(B.create("br")),o[e?"startContainer":"endContainer"]=r,o[e?"startOffset":"endOffset"]=n)},e=(e(!0),e(),B.createRng());return e.setStart(o.startContainer,o.startOffset),o.endContainer&&e.setEnd(o.endContainer,o.endOffset),Ye(e)},M=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ft=(r,e)=>{y.each(e,(e,t)=>{r.setAttribute(t,e)})},R=(e,t,r)=>{var n,o=e,s=t,a=r;a=a["list-style-type"]||null,o.setStyle(s,"list-style-type",a),o=e,s=t,n=r,Ft(s,n["list-attributes"]),y.each(o.select("li",s),e=>{Ft(e,n["list-item-attributes"])})},Vt=(e,t)=>d(t)&&!Fe(t,e.schema.getBlockElements()),jt=(i,e,t,l)=>{let r=e[t?"startContainer":"endContainer"];e=e[t?"startOffset":"endOffset"];b(r)&&(r=r.childNodes[Math.min(e,r.childNodes.length-1)]||r),!t&&N(r.nextSibling)&&(r=r.nextSibling);e=(e,t)=>{for(var r,n,o,s=new Te(e,(e=>{for(;!i.dom.isBlock(e)&&e.parentNode&&l!==e;)e=e.parentNode;return e})(e)),a=t?"next":"prev";r=s[a]();)if(n=i,o=r,!(d(o)&&o.nodeName in n.schema.getVoidElements()||$t(r.textContent)||0===(null==(o=r.textContent)?void 0:o.length)))return m.some(r);return m.none()};if(t&&C(r))if($t(r.textContent))r=e(r,!1).getOr(r);else for(null!==r.parentNode&&Vt(i,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(Vt(i,r.previousSibling)||C(r.previousSibling));)r=r.previousSibling;if(!t&&C(r))if($t(r.textContent))r=e(r,!0).getOr(r);else for(null!==r.parentNode&&Vt(i,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(Vt(i,r.nextSibling)||C(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==l;){var n=r.parentNode;if(_e(i,r))return r;if(/^(TD|TH)$/.test(n.nodeName))return r;r=n}return r},Kt=(a,i,l)=>{var e=a.selection.getRng();let d="LI";var t,r,n=O(a,(t=e,r=(n=a).selection.getStart(!0),n=jt(n,t,!0,n.getBody()),Ht(u.fromDom(n),u.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:r));const m=a.dom;"false"!==m.getContentEditable(a.selection.getNode())&&("DL"===(i=i.toUpperCase())&&(d="DT"),t=P(e),r=c(((r,e,n)=>{const o=[],s=r.dom;var t=jt(r,e,!0,n),a=jt(r,e,!1,n);let i;var l=[];for(let e=t;e&&(l.push(e),e!==a);e=e.nextSibling);return y.each(l,e=>{var t;_e(r,e)?(o.push(e),i=null):s.isBlock(e)||N(e)?(N(e)&&s.remove(e),i=null):(t=e.nextSibling,_t.isBookmarkNode(e)&&(S(t)||_e(r,t)||!t&&e.parentNode===n)?i=null:(i||(i=s.create("p"),null!=(t=e.parentNode)&&t.insertBefore(i,e),o.push(i)),i.appendChild(e)))}),o})(a,e,n),a.dom.isEditable),y.each(r,e=>{let t;var r,n,o=e.previousSibling,s=e.parentNode;Ue(s)||(o&&S(o)&&o.nodeName===i&&((e,t,r)=>{e=e.getStyle(t,"list-style-type"),t=r?r["list-style-type"]:"";return e===(null===t?"":t)})(m,o,l)?(t=o,e=m.rename(e,d),o.appendChild(e)):(t=m.create(i),s.insertBefore(t,e),t.appendChild(e),e=m.rename(e,d)),r=m,n=e,o=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],y.each(o,e=>r.setStyle(n,e,"")),R(m,t,l),Qt(a.dom,t))}),a.selection.setRng(I(t)))},zt=(e,t,r)=>{return n=t,o=r,S(n)&&n.nodeName===(null==o?void 0:o.nodeName)&&(n=r,(o=e).getStyle(t,"list-style-type",!0)===o.getStyle(n,"list-style-type",!0))&&t.className===r.className;var n,o},Qt=(e,t)=>{let r;var n=t.nextSibling;if(zt(e,t,n)){for(var o=n;r=o.firstChild;)t.appendChild(r);e.remove(o)}if(n=t.previousSibling,zt(e,t,n)){for(var s=n;r=s.lastChild;)t.insertBefore(r,t.firstChild);e.remove(s)}},Wt=(e,t,r,n)=>{var o;t.nodeName!==r?(o=e.dom.rename(t,r),R(e.dom,o,n),x(e,M(r),o)):(R(e.dom,t,n),x(e,M(r),t))},qt=(e,n,t,r)=>{var o;n.classList.forEach((e,t,r)=>{e.startsWith("tox-")&&(r.remove(e),0===r.length)&&n.removeAttribute("class")}),n.nodeName!==t?(o=e.dom.rename(n,t),R(e.dom,o,r),x(e,M(t),o)):(R(e.dom,n,r),x(e,M(t),n))},Zt=e=>"list-style-type"in e,Gt=(e,t,r)=>{var n=T(e);if(!k(e,n)){var o,s=rt(e),r=p(r)?r:{};if(0<s.length){var a=e,i=n,l=t,d=r,m=S(i);if(!m||i.nodeName!==l||Zt(d)||A(i)){Kt(a,l,d);var c=P(a.selection.getRng()),s=m?[i,...s]:s;const u=m&&A(i)?qt:Wt;y.each(s,e=>{u(a,e,l,d)}),a.selection.setRng(I(c))}else Ut(a)}else m=t,i=r,(o=n)!==(s=e).getBody()&&(o?o.nodeName!==m||Zt(i)||A(o)?(c=P(s.selection.getRng()),A(o)&&o.classList.forEach((e,t,r)=>{e.startsWith("tox-")&&(r.remove(e),0===r.length)&&o.removeAttribute("class")}),R(s.dom,o,i),t=s.dom.rename(o,m),Qt(s.dom,t),s.selection.setRng(I(c)),Kt(s,m,i),x(s,M(m),t)):Ut(s):(Kt(s,m,i),x(s,M(m),o)))}},Jt=t.DOM,Xt=(o,e)=>{e=y.grep(o.select("ol,ul",e));y.each(e,e=>{var t,r,n;t=o,(n=(e=e).parentElement)&&"LI"===n.nodeName&&n.firstChild===e&&((r=n.previousSibling)&&"LI"===r.nodeName?(r.appendChild(e),L(t,n)&&Jt.remove(n)):Jt.setStyle(n,"listStyleType","none")),S(n)&&(r=n.previousSibling)&&"LI"===r.nodeName&&r.appendChild(e)})},Yt=(e,t,r,n)=>{let o=t.startContainer;t=t.startOffset;if(C(o)&&(r?t<o.data.length:0<t))return o;for(var s=e.schema.getNonEmptyElements(),t=(b(o)&&(o=De.getNode(o,t)),new Te(o,n)),a=(r&&(n=e.dom,e=o,N(e))&&n.isBlock(e.nextSibling)&&!N(e.previousSibling)&&t.next(),(r?t.next:t.prev2).bind(t));o=a();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(s[o.nodeName])return o;if(C(o)&&0<o.data.length)return o}return null},er=(e,t)=>{t=t.childNodes;return 1===t.length&&!S(t[0])&&e.isBlock(t[0])},tr=(e,t,r)=>{var n,o,s=er(e,r)?r.firstChild:r;if(r=e,o=t,er(r,o)&&r.remove(o.firstChild,!0),!L(e,t,!0))for(;n=t.firstChild;)s.appendChild(n)},rr=(t,e,r)=>{let n;var o=e.parentNode;Ve(t,e)&&Ve(t,r)&&(S(r.lastChild)&&(n=r.lastChild),o===r.lastChild&&N(o.previousSibling)&&t.remove(o.previousSibling),(o=r.lastChild)&&N(o)&&e.hasChildNodes()&&t.remove(o),L(t,r,!0)&&Ne(u.fromDom(r)),tr(t,e,r),n&&r.appendChild(n),o=((e,t)=>{e=e.dom,t=t.dom;return e!==t&&e.contains(t)})(u.fromDom(r),u.fromDom(e))?t.getParents(e,S,r):[],t.remove(e),l(o,e=>{L(t,e)&&e!==t.getRoot()&&t.remove(e)}))},nr=(e,t,r,n)=>{var o,s,a,i=e.dom;i.isEmpty(n)?(o=e,s=r,a=n,Ne(u.fromDom(a)),rr(o.dom,s,a),o.selection.setCursorLocation(a,0)):(s=P(t),rr(i,r,n),e.selection.setRng(I(s)))},or=(o,s)=>{var e=o.dom,t=o.selection,r=t.getStart(),r=ot(o,r);const a=e.getParent(t.getStart(),"LI",r);if(a){var n=a.parentElement;if(n===o.getBody()&&L(e,n))return!0;const i=Ye(t.getRng()),l=e.getParent(Yt(o,i,s,r),"LI",r);if(l&&l!==a)return o.undoManager.transact(()=>{var e,t,r,n;s?nr(o,i,l,a):(r=a,(null==(n=r.parentNode)?void 0:n.firstChild)===r?Rt(o):(n=o,r=i,e=a,t=l,r=P(r),rr(n.dom,e,t),e=I(r),n.selection.setRng(e)))}),!0;if(!l&&!s&&0===i.startOffset&&0===i.endOffset)return o.undoManager.transact(()=>{Ut(o)}),!0}return!1},sr=(o,s)=>{const a=o.dom;var e=o.selection.getStart();const i=ot(o,e),l=a.getParent(e,a.isBlock,i);if(l&&a.isEmpty(l)){var t,r,n,e=Ye(o.selection.getRng());const d=a.getParent(Yt(o,e,s,i),"LI",i);if(d)return t=e=>G(["td","th","caption"],g(e)),r=e=>e.dom===i,n=ye(u.fromDom(d),t,r),e=ye(u.fromDom(e.startContainer),t,r),t=n,r=e,n=le,!!ie(t,r,n).getOr(t.isNone()&&r.isNone())&&(o.undoManager.transact(()=>{var e=d.parentNode,t=a,r=l,n=i;n=t.getParent(r.parentNode,t.isBlock,n),t.remove(r),n&&t.isEmpty(n)&&t.remove(n),Qt(a,e),o.selection.select(d,!0),o.selection.collapse(s)}),!0)}return!1},ar=e=>{var t=e.selection.getStart(),r=ot(e,t);return e.dom.getParent(t,"LI,DT,DD",r)||0<nt(e).length},ir=(e,t)=>{var r,n=e.selection;return!k(e,n.getNode())&&(n.isCollapsed()?(n=e,t=t,or(n,t)||sr(n,t)):(r=e,!!ar(r)&&(r.undoManager.transact(()=>{r.execCommand("Delete"),Xt(r.dom,r.getBody())}),!0)))},lr=t=>{t.on("ExecCommand",e=>{e=e.command.toLowerCase();"delete"!==e&&"forwarddelete"!==e||!ar(t)||Xt(t.dom,t.getBody())}),t.on("keydown",e=>{e.keyCode===Oe.BACKSPACE?ir(t,!1)&&e.preventDefault():e.keyCode===Oe.DELETE&&ir(t,!0)&&e.preventDefault()})},dr=(r,e)=>{const n=T(r);null===n||k(r,n)||r.undoManager.transact(()=>{p(e.styles)&&r.dom.setStyles(n,e.styles),p(e.attrs)&&xe(e.attrs,(e,t)=>r.dom.setAttrib(n,t,e))})},mr=e=>{e=te(pt(e).split("")),e=s(e,(e,t)=>{e=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*e});return a(e,(e,t)=>e+t,0)},cr=e=>{var t;return--e<0?"":(t=e%26,e=Math.floor(e/26),cr(e)+String.fromCharCode("A".charCodeAt(0)+t))},ur=t=>{var e,r=T(t);Re(r)&&!k(t,r)&&t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:(r={start:t.dom.getAttrib(r,"start","1"),listStyleType:m.from(t.dom.getStyle(r,"list-style-type"))},e=parseInt(r.start,10),ae(r.listStyleType,"upper-alpha")?cr(e):ae(r.listStyleType,"lower-alpha")?cr(e).toLowerCase():r.start)},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:e=>{(e=>{switch(/^[0-9]+$/.test(t=e)?2:/^[A-Z]+$/.test(t)?0:/^[a-z]+$/.test(t)?1:0<t.length?4:3){case 2:return m.some({listStyleType:m.none(),start:e});case 0:return m.some({listStyleType:m.some("upper-alpha"),start:mr(e).toString()});case 1:return m.some({listStyleType:m.some("lower-alpha"),start:mr(e).toString()});case 3:return m.some({listStyleType:m.none(),start:""});case 4:return m.none()}var t})(e.getData().start).each(e=>{t.execCommand("mceListUpdate",!1,{attrs:{start:"1"===e.start?"":e.start},styles:{"list-style-type":e.listStyleType.getOr("")}})}),e.close()}})},pr=(t,r)=>()=>{var e=T(t);return d(e)&&e.nodeName===r},gr=e=>{e.addCommand("mceListProps",()=>{ur(e)})};var hr=tinymce.util.Tools.resolve("tinymce.html.Node");const fr=e=>3===e.type,vr=e=>0===e.length,yr=n=>{const r=(e,t)=>{const r=hr.create("li");l(e,e=>r.append(e)),t?n.insert(r,t,!0):n.append(r)};var e=a(n.children(),(e,t)=>fr(t)?[...e,t]:vr(e)||fr(t)?e:(r(e,t),[]),[]);vr(e)||r(e)},Cr=t=>{t.on("keydown",e=>{e.keyCode!==Oe.TAB||Oe.metaKeyPressed(e)||t.undoManager.transact(()=>{(e.shiftKey?Rt:Mt)(t)&&e.preventDefault()})})},br=(r,n)=>t=>{return t.setEnabled(r.selection.isEditable()),mt(r,e=>{t.setActive(lt(e.parents,n)),t.setEnabled(!k(r,e.element)&&r.selection.isEditable())})},Sr=(r,n)=>t=>{return mt(r,e=>t.setEnabled(lt(e.parents,n)&&!k(r,e.element)))};o.add("lists",e=>{var t,r,n,o,s,a,i;return(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0}),(t=e).on("PreInit",()=>{var e=t["parser"];e.addNodeFilter("ul,ol",e=>l(e,yr))}),e.hasPlugin("rtc",!0)?gr(e):(o=e,je(o)&&Cr(o),lr(o),(r=e).on("BeforeExecCommand",e=>{e=e.command.toLowerCase();"indent"===e?Mt(r):"outdent"===e&&Rt(r)}),r.addCommand("InsertUnorderedList",(e,t)=>{Gt(r,"UL",t)}),r.addCommand("InsertOrderedList",(e,t)=>{Gt(r,"OL",t)}),r.addCommand("InsertDefinitionList",(e,t)=>{Gt(r,"DL",t)}),r.addCommand("RemoveList",()=>{Ut(r)}),gr(r),r.addCommand("mceListUpdate",(e,t)=>{p(t)&&dr(r,t)}),r.addQueryStateHandler("InsertUnorderedList",pr(r,"UL")),r.addQueryStateHandler("InsertOrderedList",pr(r,"OL")),r.addQueryStateHandler("InsertDefinitionList",pr(r,"DL"))),o=e=>()=>n.execCommand(e),(n=e).hasPlugin("advlist")||(n.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:o("InsertOrderedList"),onSetup:br(n,"OL")}),n.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:o("InsertUnorderedList"),onSetup:br(n,"UL")})),s=e,a={text:"List properties...",icon:"ordered-list",onAction:()=>s.execCommand("mceListProps"),onSetup:Sr(s,"OL")},s.ui.registry.addMenuItem("listprops",a),s.ui.registry.addContextMenu("lists",{update:e=>{e=T(s,e);return Re(e)?["listprops"]:[]}}),i=e,{backspaceDelete:e=>{ir(i,e)}}})}();
!function(){"use strict";const a=Object.getPrototypeOf,i=(e,t,o)=>{return!!o(e,t.prototype)||(null==(o=e.constructor)?void 0:o.name)===t.name};var l=o=>e=>{return t=typeof(e=e),(null===e?"null":"object"==t&&Array.isArray(e)?"array":"object"==t&&i(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t)===o;var t},c=t=>e=>typeof e===t,f=t=>e=>t===e;const v=(e,t)=>y(e)&&i(e,t,(e,t)=>a(e)===t),b=l("string"),y=l("object"),x=e=>v(e,Object),G=l("array"),$=f(null),q=c("boolean"),X=f(void 0),K=e=>null==e,Y=e=>!K(e),J=c("function"),Z=c("number"),Q=(o,n)=>{if(G(o)){for(let e=0,t=o.length;e<t;++e)if(!n(o[e]))return!1;return!0}return!1},k=()=>{},ee=(t,o)=>(...e)=>t(o.apply(null,e)),O=e=>()=>e,te=e=>e,oe=(e,t)=>e===t;function ne(t,...o){return(...e)=>{e=o.concat(e);return t.apply(null,e)}}const re=t=>e=>!t(e),ae=e=>()=>{throw new Error(e)},se=e=>e(),ie=O(!1),le=O(!0);class B{constructor(e,t){this.tag=e,this.value=t}static some(e){return new B(!0,e)}static none(){return B.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?B.some(e(this.value)):B.none()}bind(e){return this.tag?e(this.value):B.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:B.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return Y(e)?B.some(e):B.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}B.singletonNone=new B(!1);const ce=Array.prototype.slice,de=Array.prototype.indexOf,ue=Array.prototype.push,me=(e,t)=>de.call(e,t),ge=(e,t)=>{e=me(e,t);return-1===e?B.none():B.some(e)},pe=(e,t)=>-1<me(e,t),he=(o,n)=>{for(let e=0,t=o.length;e<t;e++)if(n(o[e],e))return!0;return!1},fe=(t,o)=>{var n=[];for(let e=0;e<t;e++)n.push(o(e));return n},ve=(t,o)=>{var n=[];for(let e=0;e<t.length;e+=o){var r=ce.call(t,e,e+o);n.push(r)}return n},C=(t,o)=>{var n=t.length,r=new Array(n);for(let e=0;e<n;e++){var a=t[e];r[e]=o(a,e)}return r},_=(o,n)=>{for(let e=0,t=o.length;e<t;e++)n(o[e],e)},be=(t,o)=>{for(let e=t.length-1;0<=e;e--)o(t[e],e)},ye=(o,n)=>{var r=[],a=[];for(let e=0,t=o.length;e<t;e++){var s=o[e];(n(s,e)?r:a).push(s)}return{pass:r,fail:a}},xe=(o,n)=>{var r=[];for(let e=0,t=o.length;e<t;e++){var a=o[e];n(a,e)&&r.push(a)}return r},we=(e,o,n)=>(be(e,(e,t)=>{n=o(n,e,t)}),n),Se=(e,o,n)=>(_(e,(e,t)=>{n=o(n,e,t)}),n),ke=(o,n,r)=>{for(let e=0,t=o.length;e<t;e++){var a=o[e];if(n(a,e))return B.some(a);if(r(a,e))break}return B.none()},Ce=(e,t)=>ke(e,t,ie),Oe=(o,n)=>{for(let e=0,t=o.length;e<t;e++)if(n(o[e],e))return B.some(e);return B.none()},_e=o=>{var n=[];for(let e=0,t=o.length;e<t;++e){if(!G(o[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+o);ue.apply(n,o[e])}return n},Te=(e,t)=>_e(C(e,t)),Ee=(o,n)=>{for(let e=0,t=o.length;e<t;++e)if(!0!==n(o[e],e))return!1;return!0},De=e=>{e=ce.call(e,0);return e.reverse(),e},Ae=(e,t)=>xe(e,e=>!pe(t,e)),Me=(o,n)=>{var r={};for(let e=0,t=o.length;e<t;e++){var a=o[e];r[String(a)]=n(a,e)}return r},Be=e=>[e],Fe=(e,t)=>{e=ce.call(e,0);return e.sort(t),e},Ie=(e,t)=>0<=t&&t<e.length?B.some(e[t]):B.none(),Re=e=>Ie(e,0),Ne=e=>Ie(e,e.length-1),Ve=J(Array.from)?Array.from:e=>ce.call(e),ze=(t,o)=>{for(let e=0;e<t.length;e++){var n=o(t[e],e);if(n.isSome())return n}return B.none()},He=Object.keys,Le=Object.hasOwnProperty,Pe=(o,n)=>{var r=He(o);for(let e=0,t=r.length;e<t;e++){var a=r[e];n(o[a],a)}},Ue=(e,o)=>We(e,(e,t)=>({k:t,v:o(e,t)})),We=(e,o)=>{const n={};return Pe(e,(e,t)=>{e=o(e,t);n[e.k]=e.v}),n},je=o=>(e,t)=>{o[t]=e},Ge=(e,o,n,r)=>{Pe(e,(e,t)=>{(o(e,t)?n:r)(e,t)})},$e=(e,t)=>{var o={};return Ge(e,t,je(o),k),o},qe=(e,o)=>{const n=[];return Pe(e,(e,t)=>{n.push(o(e,t))}),n},Xe=(o,n)=>{var r=He(o);for(let e=0,t=r.length;e<t;e++){var a=r[e],s=o[a];if(n(s,a,o))return B.some(s)}return B.none()},Ke=e=>qe(e,te),T=(e,t)=>Ye(e,t)?B.from(e[t]):B.none(),Ye=(e,t)=>Le.call(e,t),Je=(e,t)=>Ye(e,t)&&void 0!==e[t]&&null!==e[t],Ze=(e,t,o=oe)=>e.exists(e=>o(e,t)),Qe=t=>{const o=[];var n=e=>{o.push(e)};for(let e=0;e<t.length;e++)t[e].each(n);return o},et=(e,t,o)=>e.isSome()&&t.isSome()?B.some(o(e.getOrDie(),t.getOrDie())):B.none(),tt=(e,t)=>null!=e?B.some(t(e)):B.none(),ot=(e,t)=>e?B.some(t):B.none(),nt=(e,t)=>e.substring(t),rt=(e,t,o)=>""===t||e.length>=t.length&&e.substr(o,o+t.length)===t,at=(e,t)=>it(e,t)?nt(e,t.length):e,st=(e,t,o=0,n)=>{e=e.indexOf(t,o);return-1!==e&&(!!X(n)||e+t.length<=n)},it=(e,t)=>rt(e,t,0),lt=(e,t)=>rt(e,t,e.length-t.length);var ct;ct=/^\s+|\s+$/g;const dt=e=>e.replace(ct,""),ut=e=>0<e.length,mt=e=>void 0!==e.style&&J(e.style.getPropertyValue);const gt=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}};const w={fromHtml:(e,t)=>{var o,t=(t||document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw o="HTML does not have a single root node",console.error(o,e),new Error(o);return gt(t.childNodes[0])},fromTag:(e,t)=>{t=(t||document).createElement(e);return gt(t)},fromText:(e,t)=>{t=(t||document).createTextNode(e);return gt(t)},fromDom:gt,fromPoint:(e,t,o)=>B.from(e.dom.elementFromPoint(t,o)).map(gt)},pt="undefined"!=typeof window?window:Function("return this;")(),ht=(e,o)=>{e=e.split(".");{var n=e;let t=null!=(e=o)?e:pt;for(let e=0;e<n.length&&void 0!==t&&null!==t;++e)t=t[n[e]];return t}},ft=(e,t)=>{o=e,t=t;var o=ht(o,t);if(null==o)throw new Error(e+" not available on this browser");return o},vt=Object.getPrototypeOf,bt=e=>{var t=ht("ownerDocument.defaultView",e);return y(e)&&(t=t,ft("HTMLElement",t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(vt(e).constructor.name))},yt=1;const xt=e=>{return e.dom.nodeName.toLowerCase()};l=t=>e=>e.dom.nodeType===t;const wt=e=>St(e)&&bt(e.dom),St=l(yt),kt=l(3),Ct=l(9),Ot=l(11),_t=t=>e=>St(e)&&xt(e)===t,Tt=(e,t)=>{e=e.dom;if(e.nodeType!==yt)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Et=e=>e.nodeType!==yt&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Dt=(e,t)=>{t=void 0===t?document:t.dom;return Et(t)?[]:C(t.querySelectorAll(e),w.fromDom)},At=(e,t)=>{t=void 0===t?document:t.dom;return Et(t)?B.none():B.from(t.querySelector(e)).map(w.fromDom)},Mt=(e,t)=>e.dom===t.dom,Bt=(e,t)=>{e=e.dom,t=t.dom;return e!==t&&e.contains(t)},Ft=e=>w.fromDom(e.dom.ownerDocument),It=e=>Ct(e)?e:Ft(e),Rt=e=>w.fromDom(It(e).dom.documentElement),Nt=e=>w.fromDom(It(e).dom.defaultView),Vt=e=>B.from(e.dom.parentNode).map(w.fromDom),zt=e=>B.from(e.dom.parentElement).map(w.fromDom),Ht=e=>B.from(e.dom.offsetParent).map(w.fromDom),Lt=e=>C(e.dom.childNodes,w.fromDom),Pt=(e,t)=>{e=e.dom.childNodes;return B.from(e[t]).map(w.fromDom)},Ut=e=>Pt(e,0),Wt=(e,t)=>({element:e,offset:t}),jt=(e,t)=>{var o=Lt(e);return 0<o.length&&t<o.length?Wt(o[t],0):Wt(e,t)},Gt=e=>Ot(e)&&Y(e.dom.host);f=J(Element.prototype.attachShadow)&&J(Node.prototype.getRootNode);const $t=O(f),qt=f?e=>w.fromDom(e.dom.getRootNode()):It,Xt=e=>Gt(e)?e:w.fromDom(It(e).dom.body),Kt=e=>Yt(e).isSome(),Yt=e=>{e=qt(e);return Gt(e)?B.some(e):B.none()},Jt=e=>w.fromDom(e.dom.host),Zt=e=>Y(e.dom.shadowRoot),Qt=e=>{const t=kt(e)?e.dom.parentNode:e.dom;if(void 0===t||null===t||null===t.ownerDocument)return!1;const o=t.ownerDocument;return Yt(w.fromDom(t)).fold(()=>o.body.contains(t),(n=Qt,r=Jt,e=>n(r(e))));var n,r},eo=()=>{{var e,t=w.fromDom(document).dom.body;if(null!=t)return w.fromDom(t);throw new Error("Body is not available yet")}},to=(e,t,o)=>{if(!(b(o)||q(o)||Z(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")},E=(e,t,o)=>{to(e.dom,t,o)},oo=(e,t)=>{const o=e.dom;Pe(t,(e,t)=>{to(o,t,e)})},no=(e,t)=>{e=e.dom.getAttribute(t);return null===e?void 0:e},ro=(e,t)=>B.from(no(e,t)),ao=(e,t)=>{e=e.dom;return!(!e||!e.hasAttribute)&&e.hasAttribute(t)},so=(e,t)=>{e.dom.removeAttribute(t)},io=(e,t,o)=>{if(!b(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);mt(e)&&e.style.setProperty(t,o)},lo=(e,t)=>{mt(e)&&e.style.removeProperty(t)},F=(e,t,o)=>{e=e.dom;io(e,t,o)},co=(e,t)=>{const o=e.dom;Pe(t,(e,t)=>{io(o,t,e)})},uo=(e,t)=>{const o=e.dom;Pe(t,(e,t)=>{e.fold(()=>{lo(o,t)},e=>{io(o,t,e)})})},mo=(e,t)=>{var o=e.dom,n=window.getComputedStyle(o).getPropertyValue(t);return""!==n||Qt(e)?n:go(o,t)},go=(e,t)=>mt(e)?e.style.getPropertyValue(t):"",po=(e,t)=>{e=e.dom,e=go(e,t);return B.from(e).filter(e=>0<e.length)},ho=e=>{var t={},o=e.dom;if(mt(o))for(let e=0;e<o.style.length;e++){var n=o.style.item(e);t[n]=o.style[n]}return t},fo=(e,t,o)=>{e=w.fromTag(e);return F(e,t,o),po(e,t).isSome()},vo=(e,t)=>{var o=e.dom;lo(o,t),Ze(ro(e,"style").map(dt),"")&&so(e,"style")},bo=e=>e.dom.offsetWidth;c=(o,n)=>{var e=e=>{var t=n(e);return t<=0||null===t?(e=mo(e,o),parseFloat(e)||0):t};const r=(o,e)=>Se(e,(e,t)=>{t=mo(o,t),t=void 0===t?0:parseInt(t,10);return isNaN(t)?e:e+t},0);return{set:(e,t)=>{if(!Z(t)&&!t.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+t);e=e.dom;mt(e)&&(e.style[o]=t+"px")},get:e,getOuter:e,aggregate:r,max:(e,t,o)=>{e=r(e,o);return e<t?t-e:0}}};const yo=c("height",e=>{var t=e.dom;return Qt(e)?t.getBoundingClientRect().height:t.offsetHeight}),xo=e=>yo.get(e),wo=e=>yo.getOuter(e),So=(o,n)=>{return{left:o,top:n,translate:(e,t)=>So(o+e,n+t)}},ko=So,Co=(e,t)=>void 0!==e?e:void 0!==t?t:0,Oo=e=>{var t,o,n=e.dom.ownerDocument,r=n.body,a=n.defaultView,n=n.documentElement;return r===e.dom?ko(r.offsetLeft,r.offsetTop):(t=Co(null==a?void 0:a.pageYOffset,n.scrollTop),a=Co(null==a?void 0:a.pageXOffset,n.scrollLeft),o=Co(n.clientTop,r.clientTop),n=Co(n.clientLeft,r.clientLeft),_o(e).translate(a-n,t-o))},_o=e=>{var t=e.dom,o=t.ownerDocument.body;return o===t?ko(o.offsetLeft,o.offsetTop):Qt(e)?(o=(o=t).getBoundingClientRect(),ko(o.left,o.top)):ko(0,0)},To=c("width",e=>e.dom.offsetWidth),Eo=e=>To.get(e),Do=e=>To.getOuter(e),Ao=t=>{let o=!1,n;return(...e)=>(o||(o=!0,n=t.apply(null,e)),n)},Mo=(t,o)=>{for(let e=0;e<t.length;e++){var n=t[e];if(n.test(o))return n}};const Bo=()=>Fo(0,0),Fo=(e,t)=>({major:e,minor:t}),Io={nu:Fo,detect:(e,t)=>{t=String(t).toLowerCase();if(0===e.length)return Bo();{var o=t;const n=Mo(e,o);return n?(e=e=>Number(o.replace(n,"$"+e)),Fo(e(1),e(2))):{major:0,minor:0};return}},unknown:Bo},Ro=(e,t)=>{const o=String(t).toLowerCase();return Ce(e,e=>e.search(o))};l=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,f=t=>e=>st(e,t),c=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>st(e,"edge/")&&st(e,"chrome")&&st(e,"safari")&&st(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,l],search:e=>st(e,"chrome")&&!st(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>st(e,"msie")||st(e,"trident")},{name:"Opera",versionRegexes:[l,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:f("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:f("firefox")},{name:"Safari",versionRegexes:[l,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(st(e,"safari")||st(e,"mobile/"))&&st(e,"applewebkit")}],l=[{name:"Windows",search:f("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>st(e,"iphone")||st(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:f("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:f("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:f("linux"),versionRegexes:[]},{name:"Solaris",search:f("sunos"),versionRegexes:[]},{name:"FreeBSD",search:f("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:f("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}];const No={browsers:O(c),oses:O(l)},Vo="Edge",zo="Chromium",Ho="IE",Lo="Opera",Po="Firefox",Uo="Safari";const Wo=e=>{const t=e.current;var e=e.version,o=e=>()=>t===e;return{current:t,version:e,isEdge:o(Vo),isChromium:o(zo),isIE:o(Ho),isOpera:o(Lo),isFirefox:o(Po),isSafari:o(Uo)}},jo={unknown:()=>Wo({current:void 0,version:Io.unknown()}),nu:Wo,edge:O(Vo),chromium:O(zo),ie:O(Ho),opera:O(Lo),firefox:O(Po),safari:O(Uo)},Go="Windows",$o="iOS",qo="Android",Xo="Linux",Ko="macOS",Yo="Solaris",Jo="FreeBSD",Zo="ChromeOS";const Qo=e=>{const t=e.current;var e=e.version,o=e=>()=>t===e;return{current:t,version:e,isWindows:o(Go),isiOS:o($o),isAndroid:o(qo),isMacOS:o(Ko),isLinux:o(Xo),isSolaris:o(Yo),isFreeBSD:o(Jo),isChromeOS:o(Zo)}},en={unknown:()=>Qo({current:void 0,version:Io.unknown()}),nu:Qo,windows:O(Go),ios:O($o),android:O(qo),linux:O(Xo),macos:O(Ko),solaris:O(Yo),freebsd:O(Jo),chromeos:O(Zo)};const tn={detect:(t,e,o)=>{const r=No.browsers();var n,a,s,i,l,c,d,u=No.oses(),e=e.bind(e=>{return n=r,e=e,ze(e.brands,t=>{const o=t.brand.toLowerCase();return Ce(n,e=>{return o===(null==(e=e.brand)?void 0:e.toLowerCase())}).map(e=>({current:e.name,version:Io.nu(parseInt(t.version,10),0)}))});var n}).orThunk(()=>{return e=r,o=t,Ro(e,o).map(e=>{var t=Io.detect(e.versionRegexes,o);return{current:e.name,version:t}});var e,o}).fold(jo.unknown,jo.nu),u=(u=u,n=t,Ro(u,n).map(e=>{var t=Io.detect(e.versionRegexes,n);return{current:e.name,version:t}}).fold(en.unknown,en.nu)),m=(s=e,i=t,o=o,m=(a=u).isiOS()&&!0===/ipad/i.test(i),l=a.isiOS()&&!m,c=a.isiOS()||a.isAndroid(),d=c||o("(pointer:coarse)"),o=m||!l&&c&&o("(min-device-width:768px)"),c=l||c&&!o,s=s.isSafari()&&a.isiOS()&&!1===/safari/i.test(i),i=!c&&!o&&!s,{isiPad:O(m),isiPhone:O(l),isTablet:O(o),isPhone:O(c),isTouch:O(d),isAndroid:a.isAndroid,isiOS:a.isiOS,isWebView:O(s),isDesktop:O(i)});return{browser:e,os:u,deviceType:m}}},on=e=>window.matchMedia(e).matches;let nn=Ao(()=>tn.detect(navigator.userAgent,B.from(navigator.userAgentData),on));const rn=()=>nn(),an=e=>{var t=w.fromDom((e=>{if($t()&&Y(e.target)){var t=w.fromDom(e.target);if(St(t)&&Zt(t)&&e.composed&&e.composedPath){t=e.composedPath();if(t)return Re(t)}}return B.from(e.target)})(e).getOr(e.target)),o=()=>e.stopPropagation(),n=()=>e.preventDefault(),r=ee(n,o);return{target:t,x:e.clientX,y:e.clientY,stop:o,prevent:n,kill:r,raw:e}},sn=(e,t,o,n,r)=>{a=o,s=n;var a,s,o=e=>{a(e)&&s(an(e))};return e.dom.addEventListener(t,o,r),{unbind:ne(cn,e,t,o,r)}},ln=(e,t,o,n)=>sn(e,t,o,n,!1),cn=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)},dn=(t,o)=>{Vt(t).each(e=>{e.dom.insertBefore(o.dom,t.dom)})},un=(e,t)=>{var o;o=e,B.from(o.dom.nextSibling).map(w.fromDom).fold(()=>{Vt(e).each(e=>{gn(e,t)})},e=>{dn(e,t)})},mn=(t,o)=>{Ut(t).fold(()=>{gn(t,o)},e=>{t.dom.insertBefore(o.dom,e.dom)})},gn=(e,t)=>{e.dom.appendChild(t.dom)},pn=(e,t,o)=>{Pt(e,o).fold(()=>{gn(e,t)},e=>{dn(e,t)})},hn=(t,e)=>{_(e,e=>{gn(t,e)})},fn=e=>{e.dom.textContent="",_(Lt(e),e=>{vn(e)})},vn=e=>{e=e.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},bn=e=>{var e=void 0!==e?e.dom:document,t=e.body.scrollLeft||e.documentElement.scrollLeft,e=e.body.scrollTop||e.documentElement.scrollTop;return ko(t,e)},yn=(e,t,o)=>{o=(void 0!==o?o.dom:document).defaultView;o&&o.scrollTo(e,t)},xn=e=>{e=void 0===e?window:e;return rn().browser.isFirefox()?B.none():B.from(e.visualViewport)},wn=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n}),Sn=e=>{const o=void 0===e?window:e;e=o.document;const n=bn(w.fromDom(e));return xn(o).fold(()=>{var e=o.document.documentElement,t=e.clientWidth,e=e.clientHeight;return wn(n.left,n.top,t,e)},e=>wn(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height))},kn=()=>w.fromDom(document),Cn=(o,e)=>{return o.view(e).fold(O([]),e=>{var t=o.owner(e),t=Cn(o,t);return[e].concat(t)})};var On=Object.freeze({__proto__:null,view:e=>{return(e.dom===document?B.none():B.from(null==(e=e.dom.defaultView)?void 0:e.frameElement)).map(w.fromDom)},owner:e=>Ft(e)});const _n=o=>{var e=kn();const n=bn(e);return((e,t)=>{e=t.owner(e),t=Cn(t,e);return B.some(t)})(o,On).fold(ne(Oo,o),e=>{var t=_o(o),e=we(e,(e,t)=>{t=_o(t);return{left:e.left+t.left,top:e.top+t.top}},{left:0,top:0});return ko(e.left+t.left+n.left,e.top+t.top+n.top)})},Tn=(e,t,o)=>({point:e,width:t,height:o}),En=(e,t,o,n)=>({x:e,y:t,width:o,height:n}),Dn=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n}),An=e=>{var t=Oo(e),o=Do(e),e=wo(e);return Dn(t.left,t.top,o,e)},Mn=e=>{var t=_n(e),o=Do(e),e=wo(e);return Dn(t.left,t.top,o,e)},Bn=(e,t)=>{var o=Math.max(e.x,t.x),n=Math.max(e.y,t.y),r=Math.min(e.right,t.right)-o,e=Math.min(e.bottom,t.bottom)-n;return Dn(o,n,r,e)},Fn=(e,t)=>Se(t,(e,t)=>Bn(e,t),e),In=()=>Sn(window);f=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Rn=o=>{var e=e=>e(o),t=O(o),n=()=>r;const r={tag:!0,inner:o,fold:(e,t)=>t(o),isValue:le,isError:ie,map:e=>I.value(e(o)),mapError:n,bind:e,exists:e,forall:e,getOr:t,or:n,getOrThunk:t,orThunk:n,getOrDie:t,each:e=>{e(o)},toOptional:()=>B.some(o)};return r},Nn=o=>{var e=()=>t;const t={tag:!1,inner:o,fold:(e,t)=>e(o),isValue:ie,isError:le,map:e,mapError:e=>I.error(e(o)),bind:e,exists:ie,forall:le,getOr:te,or:te,getOrThunk:se,orThunk:se,getOrDie:ae(String(o)),each:k,toOptional:B.none};return t};var Vn;const I={value:Rn,error:Nn,fromOption:(e,t)=>e.fold(()=>Nn(t),Rn)},zn=((c=Vn=Vn||{})[c.Error=0]="Error",c[c.Value=1]="Value",(e,t,o)=>e.stype===Vn.Error?t(e.serror):o(e.svalue));const Hn=e=>({stype:Vn.Value,svalue:e}),Ln=e=>({stype:Vn.Error,serror:e});const Pn={fromResult:e=>e.fold(Ln,Hn),toResult:e=>zn(e,I.error,I.value),svalue:Hn,partition:e=>{const t=[],o=[];return _(e,e=>{zn(e,e=>o.push(e),e=>t.push(e))}),{values:t,errors:o}},serror:Ln,bind:(e,t)=>e.stype===Vn.Value?t(e.svalue):e,bindError:(e,t)=>e.stype===Vn.Error?t(e.serror):e,map:(e,t)=>e.stype===Vn.Value?{stype:Vn.Value,svalue:t(e.svalue)}:e,mapError:(e,t)=>e.stype===Vn.Error?{stype:Vn.Error,serror:t(e.serror)}:e,fold:zn},Un=(e,t,o,n)=>({tag:"field",key:e,newKey:t,presence:o,prop:n});const Wn=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}};l=a=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");var o={};for(let e=0;e<t.length;e++){var n=t[e];for(const r in n)Ye(n,r)&&(o[r]=a(o[r],n[r]))}return o};const jn=l((e,t)=>{return x(e)&&x(t)?jn(e,t):t}),Gn=l((e,t)=>t),$n=()=>({tag:"required",process:{}}),qn=e=>({tag:"defaultedThunk",process:e}),Xn=e=>qn(O(e)),Kn=()=>({tag:"option",process:{}}),Yn=e=>({tag:"mergeWithThunk",process:e});const Jn=e=>ee(Pn.serror,_e)(e);const Zn={consolidateObj:(e,t)=>{var e=Pn.partition(e);return 0<e.errors.length?Jn(e.errors):(e=e.values,t=t,0<e.length?Pn.svalue(jn(t,Gn.apply(void 0,e))):Pn.svalue(t))},consolidateArr:e=>{e=Pn.partition(e);return 0<e.errors.length?Jn(e.errors):Pn.svalue(e.values)}},Qn=e=>y(e)&&100<He(e).length?" removed due to size":JSON.stringify(e,null,2),er=e=>{e=10<e.length?e.slice(0,10).concat([{path:[],getErrorInfo:O("... (only showing first ten failures)")}]):e;return C(e,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo())},tr=(e,t)=>Pn.serror([{path:e,getErrorInfo:t}]),or=(e,t)=>tr(e,()=>'Choice schema did not contain choice key: "'+t+'"'),nr=t=>{return{extract:(o,e)=>Pn.bindError(t(e),e=>{return t=o,e=e,tr(t,O(e));var t}),toString:O("val")}},rr=nr(Pn.svalue),ar=(n,r,a,e)=>T(r,a).fold(()=>{return e=n,t=a,o=r,tr(e,()=>'Could not find valid *required* value for "'+t+'" in '+Qn(o));var e,t,o},e),sr=(e,t,o,n)=>{return n(T(e,t).getOrThunk(()=>o(e)))},ir=(t,o,n,r,a)=>{const s=e=>a.extract(o.concat([r]),e);var i,l,e,c,d=e=>e.fold(()=>Pn.svalue(B.none()),e=>{e=a.extract(o.concat([r]),e);return Pn.map(e,B.some)});switch(t.tag){case"required":return ar(o,n,r,s);case"defaultedThunk":return sr(n,r,t.process,s);case"option":return e=n,c=r,d(T(e,c));case"defaultedOptionThunk":return i=n,e=r,l=t.process,d(T(i,e).map(e=>!0===e?l(i):e));case"mergeWithThunk":return sr(n,r,O({}),e=>{e=jn(t.process(n),e);return s(e)})}};c=o=>{return{extract:(e,t)=>o().extract(e,t),toString:()=>o().toString()}};const lr=e=>{const a=u(e),s=we(e,(t,e)=>Wn(e,e=>jn(t,{[e]:!0}),O(t)),{});return{extract:(e,t)=>{var o,n=q(t)?[]:(n=t,He($e(n,Y))),r=xe(n,e=>!Je(s,e));return 0===r.length?a.extract(e,t):(t=e,o=r,tr(t,()=>"There are unsupported fields: ["+o.join(", ")+"] specified"))},toString:a.toString}},u=n=>{return{extract:(e,t)=>{{var r=e,a=t;const s={},i=[];for(const o of e=n)Wn(o,(e,t,o,n)=>{o=ir(o,r,a,e,n);Pn.fold(o,e=>{i.push(...e)},e=>{s[t]=e})},(e,t)=>{s[e]=t(a)});return 0<i.length?Pn.serror(i):Pn.svalue(s)}},toString:()=>{return"obj{\n"+C(n,e=>Wn(e,(e,t,o,n)=>e+" -> "+n.toString(),(e,t)=>"state("+e+")")).join("\n")+"}"}}},cr=n=>{return{extract:(o,e)=>{e=C(e,(e,t)=>n.extract(o.concat(["["+t+"]"]),e));return Zn.consolidateArr(e)},toString:()=>"array("+n.toString()+")"}};l=(a,e)=>{const s=void 0!==e?e:te;return{extract:(e,t)=>{var o=[];for(const r of a){var n=r.extract(e,t);if(n.stype===Vn.Value)return{stype:Vn.Value,svalue:s(n.svalue)};o.push(n)}return Zn.consolidateArr(o)},toString:()=>"oneOf("+C(a,e=>e.toString()).join(", ")+")"}};const dr=(r,a)=>{return{extract:(t,o)=>{var e=He(o),n=(n=t,e=e,cr(nr(r)).extract(n,e));return Pn.bind(n,e=>{e=C(e,e=>Un(e,e,$n(),a));return u(e).extract(t,o)})},toString:()=>"setOf("+a.toString()+")"}},ur=ee(cr,u),mr=O(rr);var gr=(o,n)=>nr(e=>{var t=typeof e;return o(e)?Pn.svalue(e):Pn.serror(`Expected type: ${n} but got: `+t)});const pr=gr(Z,"number"),hr=gr(b,"string"),fr=gr(q,"boolean"),vr=gr(J,"function"),br=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(e=>br(t[e]));default:return!1}},yr=nr(e=>br(e)?Pn.svalue(e):Pn.serror("Expected value to be acceptable for sending via postMessage")),xr=(n,t,r,a)=>{return T(r,a).fold(()=>{return e=n,t=r,o=a,tr(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+Qn(t));var e,t,o},e=>e.extract(n.concat(["branch: "+a]),t))},wr=(e,n)=>{return{extract:(t,o)=>{return T(o,e).fold(()=>or(t,e),e=>xr(t,o,n,e))},toString:()=>"chooseOn("+e+"). Possible values: "+He(n)}};const Sr=t=>nr(e=>t(e).fold(Pn.serror,Pn.svalue));gr=(t,e)=>dr(e=>Pn.fromResult(t(e)),e);const kr=(e,t,o)=>{t=t.extract([e],o);return Pn.mapError(t,e=>({input:o,errors:e}))},Cr=(e,t,o)=>Pn.toResult(kr(e,t,o)),Or=e=>e.fold(e=>{throw new Error(Tr(e))},te),_r=(e,t,o)=>Or(Cr(e,t,o)),Tr=e=>"Errors: \n"+er(e.errors).join("\n")+"\n\nInput object: "+Qn(e.input),Er=(e,t)=>wr(e,Ue(t,u));var Dr=(e,t)=>{{const o=Ao(t);return{extract:(e,t)=>o().extract(e,t),toString:()=>o().toString()}}};const Ar=Un,Mr=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),Br=t=>Sr(e=>pe(t,e)?I.value(e):I.error(`Unsupported value: "${e}", choose one of "${t.join(", ")}".`)),s=e=>Ar(e,e,$n(),mr()),Fr=(e,t)=>Ar(e,e,$n(),t);var Ir=e=>Fr(e,hr),Rr=(e,t)=>Ar(e,e,$n(),Br(t)),Nr=e=>Fr(e,vr);const Vr=(e,t)=>Ar(e,e,$n(),u(t));var zr=(e,t)=>Ar(e,e,$n(),ur(t)),Hr=(e,t)=>Ar(e,e,$n(),cr(t));const Lr=e=>Ar(e,e,Kn(),mr()),Pr=(e,t)=>Ar(e,e,Kn(),t);var Ur=e=>Pr(e,pr),Wr=e=>Pr(e,hr),jr=(e,t)=>Pr(e,Br(t)),Gr=e=>Pr(e,vr),$r=(e,t)=>Pr(e,cr(t));const qr=(e,t)=>Pr(e,u(t)),Xr=(e,t)=>Pr(e,lr(t)),m=(e,t)=>Ar(e,e,Xn(t),mr()),Kr=(e,t,o)=>Ar(e,e,Xn(t),o);var Yr=(e,t)=>Kr(e,t,pr);const Jr=(e,t)=>Kr(e,t,hr),Zr=(e,t,o)=>Kr(e,t,Br(o));var Qr=(e,t)=>Kr(e,t,fr),ea=(e,t)=>Kr(e,t,vr),ta=(e,t,o)=>Kr(e,t,cr(o));const oa=(e,t,o)=>Kr(e,t,u(o)),D=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};const na=a=>{if(!G(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");const s=[],i={};return _(a,(e,t)=>{var o=He(e);if(1!==o.length)throw new Error("one and only one name per case");const n=o[0],r=e[n];if(void 0!==i[n])throw new Error("duplicate key detected:"+n);if("cata"===n)throw new Error("cannot have a case named cata (sorry)");if(!G(r))throw new Error("case arguments must be an array");s.push(n),i[n]=(...o)=>{var e=o.length;if(e!==r.length)throw new Error("Wrong number of arguments to case "+n+". Expected "+r.length+" ("+r+"), got "+e);return{fold:(...e)=>{if(e.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+e.length);return e[t].apply(null,o)},match:e=>{const t=He(e);if(s.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+"\nActual: "+t.join(","));if(Ee(s,e=>pe(t,e)))return e[n].apply(null,o);throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+s.join(", "))},log:e=>{console.log(e,{constructors:s,constructor:n,params:o})}}}}),i},ra=(na([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),(e,t)=>({[e]:t})),aa=e=>{const t={};return _(e,e=>{t[e.key]=e.value}),t},sa=(e,t)=>{{var o=t;const n={};return Pe(e,(e,t)=>{pe(o,t)||(n[t]=e)}),n}},ia=(e,t)=>ra(e,t),la=e=>aa(e),ca=(e,t)=>{var o,e=(e=>{const t=[],o=[];return _(e,e=>{e.fold(e=>{t.push(e)},e=>{o.push(e)})}),{errors:t,values:o}})(e);return 0<e.errors.length?(o=e.errors,I.error(_e(o))):(o=e.values,e=t,0===o.length?I.value(e):I.value(jn(e,Gn.apply(void 0,o))))},da=e=>J(e)?e:ie,ua=(e,t,o)=>{let n=e.dom;for(var r=da(o);n.parentNode;){n=n.parentNode;var a=w.fromDom(n),s=t(a);if(s.isSome())return s;if(r(a))break}return B.none()},ma=(e,t,o)=>{var n=t(e);const r=da(o);return n.orThunk(()=>r(e)?B.none():ua(e,t,r))},ga=(e,t)=>Mt(e.element,t.event.target),pa={can:le,abort:ie,run:k},ha=e=>{if(Je(e,"can")||Je(e,"abort")||Je(e,"run"))return{...pa,...e};throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!")},fa=e=>{var t,n;n=e=>e.can,r=t=e,a=e=>e.abort;var r,a;return{can:(...o)=>Se(t,(e,t)=>e&&n(t).apply(void 0,o),!0),abort:(...o)=>Se(r,(e,t)=>e||a(t).apply(void 0,o),!1),run:(...t)=>{_(e,e=>{e.run.apply(void 0,t)})}}};var e=O;const va=e("touchstart"),ba=e("touchmove"),ya=e("touchend"),xa=e("touchcancel"),wa=e("mousedown"),Sa=e("mousemove"),ka=e("mouseout"),Ca=e("mouseup"),Oa=e("mouseover"),_a=e("focusin"),Ta=e("focusout"),Ea=e("keydown"),Da=e("keyup"),Aa=e("input"),Ma=e("change"),Ba=e("click"),Fa=e("transitioncancel"),Ia=e("transitionend"),Ra=e("transitionstart"),Na=e("selectstart");var e=e=>O("alloy."+e),Va={tap:e("tap")};const za=e("focus"),Ha=e("blur.post"),La=e("paste.post"),Pa=e("receive"),Ua=e("execute"),Wa=e("focus.item"),ja=Va.tap,Ga=e("longpress"),$a=e("sandbox.close"),qa=e("typeahead.cancel"),Xa=e("system.init"),Ka=e("system.touchmove"),Ya=e("system.touchend"),Ja=e("system.scroll"),Za=e("system.resize"),Qa=e("system.attached"),es=e("system.detached"),ts=e("system.dismissRequested");Va=e("system.repositionRequested");const os=e("focusmanager.shifted"),ns=e("slotcontainer.visibility"),rs=e("system.external.element.scroll"),as=e("change.tab"),ss=e("dismiss.tab"),is=e("highlight"),ls=e("dehighlight"),A=(e,t)=>{us(e,e.element,t,{})},M=(e,t,o)=>{us(e,e.element,t,o)},cs=e=>{A(e,Ua())},ds=(e,t,o)=>{us(e,t,o,{})},us=(e,t,o,n)=>{n={target:t,...n};e.getSystem().triggerEvent(o,t,n)},ms=(e,t,o,n)=>{e.getSystem().triggerEvent(o,t,n.event)},gs=e=>la(e),ps=(e,t)=>({key:e,value:ha({abort:t})});const hs=e=>({key:e,value:ha({run:(e,t)=>{t.event.prevent()}})}),R=(e,t)=>({key:e,value:ha({run:t})}),fs=(e,o,n)=>({key:e,value:ha({run:(e,t)=>{o.apply(void 0,[e,t].concat(n))}})});var vs;const bs=e=>o=>({key:e,value:ha({run:(e,t)=>{ga(e,t)&&o(e,t)}})}),ys=(e,t,o)=>{var n,r,t=t.partUids[o];return n=e,r=t,R(n,(e,t)=>{e.getSystem().getByUid(r).each(e=>{ms(e,e.element,n,t)})})},xs=(e,r)=>R(e,(t,e)=>{const o=e.event;var n=t.getSystem().getByDom(o.target).getOrThunk(()=>{return ma(o.target,e=>t.getSystem().getByDom(e).toOptional(),ie).getOr(t)});r(t,n,e)}),ws=e=>R(e,(e,t)=>{t.cut()}),Ss=(e,t)=>bs(e)(t),ks=bs(Qa()),Cs=bs(es()),Os=bs(Xa()),_s=(vs=Ua(),e=>R(vs,e)),Ts=(e,t)=>{t=(t||document).createElement("div");return t.innerHTML=e,Lt(w.fromDom(t))},Es=e=>e.dom.innerHTML,Ds=(e,t)=>{var o=Ft(e).dom,n=w.fromDom(o.createDocumentFragment()),t=Ts(t,o);hn(n,t),fn(e),gn(e,n)},As=e=>{var t=w.fromTag("div"),e=w.fromDom(e.dom.cloneNode(!0));return gn(t,e),Es(t)},Ms=e=>{return e=e,t=!1,w.fromDom(e.dom.cloneNode(t));var t},Bs=e=>{return e=e,Gt(e)?"#shadow-root":(e=Ms(e),As(e))};var e=gs([{key:za(),value:ha({can:(e,t)=>{var o,n,t=t.event,r=t.originator,t=t.target;return e=e,o=r,n=t,!(Mt(o,e.element)&&!Mt(o,n)&&(console.warn(za()+" did not get interpreted by the desired target. \nOriginator: "+Bs(r)+"\nTarget: "+Bs(t)+"\nCheck the "+za()+" event handlers"),1))}})}]),Fs=Object.freeze({__proto__:null,events:e});let Is=0;const N=e=>{var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Is+String(t)};var e=O("alloy-id-"),Rs=O("data-alloy-id");const Ns=e(),Vs=Rs(),zs=(e,t)=>{Object.defineProperty(e.dom,Vs,{value:t,writable:!0})},Hs=e=>{e=St(e)?e.dom[Vs]:null;return B.from(e)},Ls=e=>N(e),Ps=te,Us=t=>{const o=e=>"The component must be in a context to execute: "+e+(t?"\n"+Bs(t().element)+" is not in context.":"");var e=e=>()=>{throw new Error(o(e))},n=e=>()=>{console.warn(o(e))};return{debugInfo:O("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),broadcastEvent:n("broadcastEvent"),build:e("build"),buildOrPatch:e("buildOrPatch"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),isConnected:ie}},Ws=Us(),js=e=>C(e,e=>lt(e,"/*")?e.substring(0,e.length-"/*".length):e),Gs=(e,t)=>{var o=e.toString(),n=o.indexOf(")")+1,r=o.indexOf("(");const a=o.substring(r+1,n-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:js(a)}),e},$s=(e,t)=>{var t=t.toString(),o=t.indexOf(")")+1,n=t.indexOf("(");const r=t.substring(n+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:js(r.slice(1))}),e},qs=N("alloy-premade"),Xs=e=>(Object.defineProperty(e.element.dom,qs,{value:e.uid,writable:!0}),ia(qs,e)),Ks=e=>T(e,qs),Ys=o=>$s((e,...t)=>o(e.getApis(),e,...t),o),Js={init:()=>Zs({readState:O("No State required")})},Zs=e=>e,Qs=(e,r)=>{const a={};return Pe(e,(e,n)=>{Pe(e,(e,t)=>{var o=T(a,t).getOr([]);a[t]=o.concat([r(n,e)])})}),a},ei=e=>({classes:X(e.classes)?[]:e.classes,attributes:X(e.attributes)?{}:e.attributes,styles:X(e.styles)?{}:e.styles}),ti=(e,t)=>({handler:e,purpose:t}),oi=e=>e.cHandler,ni=(e,t)=>({name:e,handler:t}),ri=(e,t,o)=>{o={...o,...((e,t)=>{const o={};return _(e,e=>{o[e.name()]=e.handlers(t)}),o})(t,e)};return Qs(o,ni)},ai=(e,t,o,n)=>{e=ri(e,o,n);{o=e;var r=t,a=qe(o,(o,n)=>{return(1===o.length?I.value(o[0].handler):ii(o,r,n)).map(e=>{var e=si(e),t=1<o.length?xe(r[n],t=>he(o,e=>e.name===t)).join(" > "):o[0].name;return ia(n,ti(e,t))})});return ca(a,{})}},si=e=>{e=e;const n=J(e)?{can:le,abort:ie,run:e}:e;return(e,t,...o)=>{e=[e,t].concat(o);n.abort.apply(void 0,e)?t.stop():n.can.apply(void 0,e)&&n.run.apply(void 0,e)}},ii=(e,t,o)=>{var t=t[o];return t?((r,a,e,s)=>{try{var t=Fe(e,(e,t)=>{var e=e[a],t=t[a],o=s.indexOf(e),n=s.indexOf(t);if(-1===o)throw new Error("The ordering for "+r+" does not have an entry for "+e+".\nOrder specified: "+JSON.stringify(s,null,2));if(-1===n)throw new Error("The ordering for "+r+" does not have an entry for "+t+".\nOrder specified: "+JSON.stringify(s,null,2));return o<n?-1:n<o?1:0});return I.value(t)}catch(e){return I.error([e])}})("Event: "+o,"name",e,t).map(e=>{e=C(e,e=>e.handler);return fa(e)}):(t=o,o=e,I.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(C(o,e=>e.name),null,2)]))};e="alloy.base.behaviour";const li=u([Ar("dom","dom",$n(),u([s("tag"),m("styles",{}),m("classes",[]),m("attributes",{}),Lr("value"),Lr("innerHtml")])),s("components"),s("uid"),m("events",{}),m("apis",{}),Ar("eventOrder","eventOrder",(Rs={[Ua()]:["disabling",e,"toggling","typeaheadevents"],[za()]:[e,"focusing","keying"],[Xa()]:[e,"disabling","toggling","representing"],[Aa()]:[e,"representing","streaming","invalidating"],[es()]:[e,"representing","item-events","tooltipping"],[wa()]:["focusing",e,"item-type-events"],[va()]:["focusing",e,"item-type-events"],[Oa()]:["item-type-events","tooltipping"],[Pa()]:["receiving","reflecting","tooltipping"]},Yn(O(Rs))),mr()),Lr("domModification")]),ci=(e,t)=>{e=no(e,t);return void 0===e||""===e?[]:e.split(" ")},di=e=>void 0!==e.dom.classList,ui=e=>ci(e,"class"),mi=(e,t)=>{var o="class";return t=ci(e,o).concat([t]),E(e,o,t.join(" ")),!0},gi=(e,t)=>{return e=e,o="class",n=t,0<(t=xe(ci(e,o),e=>e!==n)).length?E(e,o,t.join(" ")):so(e,o),!1;var o,n},pi=(e,t)=>{di(e)?e.dom.classList.add(t):mi(e,t)},hi=e=>{0===(di(e)?e.dom.classList:ui(e)).length&&so(e,"class")},fi=(e,t)=>{di(e)?e.dom.classList.remove(t):gi(e,t),hi(e)},vi=(e,t)=>di(e)&&e.dom.classList.contains(t),bi=(t,e)=>{_(e,e=>{pi(t,e)})},yi=(t,e)=>{_(e,e=>{fi(t,e)})},xi=(t,e)=>Ee(e,e=>vi(t,e)),wi=e=>(di(e)?e=>{var t=e.dom.classList,o=new Array(t.length);for(let e=0;e<t.length;e++){var n=t.item(e);null!==n&&(o[e]=n)}return o}:ui)(e),Si=e=>e.dom.value,ki=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},Ci=(e,t,o)=>{o.fold(()=>gn(e,t),e=>{Mt(e,t)||(dn(e,t),vn(e))})},Oi=(e,t,o)=>{t=C(t,o),o=Lt(e);return _(o.slice(t.length),vn),t},_i=(e,t,o,n)=>{var r,a=Pt(e,t),n=n(o,a),a=(o=e,t=t,r=a,Pt(o,t).map(t=>{var e;return r.exists(e=>!Mt(e,t))?(e=r.map(xt).getOr("span"),e=w.fromTag(e),dn(t,e),e):t}));return Ci(e,n.element,a),n},Ti=(o,e,n)=>Oi(o,e,(e,t)=>_i(o,t,e,n)),Ei=(e,o)=>{var t,n,r=He(e),a=He(o),a=Ae(a,r);return r=e,e=(e,t)=>!Ye(o,t)||e!==o[t],t={},n={},Ge(r,e,je(t),je(n)),{toRemove:a,toSet:t}},Di=(t,n)=>{i=n;const{class:e,style:o,...r}=Se(i.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{});const{toSet:a,toRemove:s}=Ei(t.attributes,r);var i=ho(n);const{toSet:l,toRemove:c}=Ei(t.styles,i);i=wi(n);const d=Ae(i,t.classes),u=Ae(t.classes,i);var m;return _(s,e=>so(n,e)),oo(n,a),bi(n,u),yi(n,d),_(c,e=>vo(n,e)),co(n,l),t.innerHtml.fold(()=>{var o,e=t.domChildren;o=n,e=e,Oi(o,e,(e,t)=>{t=Pt(o,t);return Ci(o,e,t),e})},e=>{Ds(n,e)}),i=n,(m=t.value.getOrUndefined())!==Si(i)&&ki(i,null!=m?m:""),n},Ai=(n,e)=>{e=e.filter(e=>{return!(xt(e)!==n.tag||(t=n).innerHtml.isSome()&&0<t.domChildren.length||(t=e,Ye(t.dom,qs)));var t}).bind(e=>{var t=n;try{var o=Di(t,e);return B.some(o)}catch(e){return B.none()}}).getOrThunk(()=>{{var e=n;const o=w.fromTag(e.tag);oo(o,e.attributes),bi(o,e.classes),co(o,e.styles),e.innerHtml.each(e=>Ds(o,e));var t=e.domChildren;return hn(o,t),e.value.each(e=>{ki(o,e)}),o}});return zs(e,n.uid),e},Mi=(e,t)=>{return o=e,e=t,t=C(e,e=>qr(e.name(),[s("config"),m("state",Js)])),t=Cr("component.behaviours",u(t),o.behaviours).fold(e=>{throw new Error(Tr(e)+"\nComplete spec:\n"+JSON.stringify(o,null,2))},te),{list:e,data:Ue(t,e=>{e=e.map(e=>({config:e.config,state:e.state.init(e.config)}));return O(e)})};var o},Bi=e=>{var t=(e=>{const t=T(e,"behaviours").getOr({});return Te(He(t),e=>{e=t[e];return Y(e)?[e.me]:[]})})(e);return Mi(e,t)},Fi=(e,t,o)=>{var n={...(n=e).dom,uid:n.uid,domChildren:C(n.components,e=>e.element)},e=e.domModification.fold(()=>ei({}),ei),o=0<t.length?((t,e,o,n)=>{const r={...e};_(o,e=>{r[e.name()]=e.exhibit(t,n)});var e=Qs(r,(e,t)=>({name:e,modification:t})),o=e=>we(e,(e,t)=>({...t.modification,...e}),{}),a=we(e.classes,(e,t)=>t.modification.concat(e),[]),s=o(e.attributes),o=o(e.styles);return ei({classes:a,attributes:s,styles:o})})(o,{"alloy.base.modification":e},t,n):e;return t=o,{...e=n,attributes:{...e.attributes,...t.attributes},styles:{...e.styles,...t.styles},classes:e.classes.concat(t.classes)}},Ii=(o,e)=>{const t=()=>u,n=D(Ws),r=Or((a=o,Cr("custom.definition",li,a)));var a=Bi(o),s=a.list;const i=a.data;a=Fi(r,s,i);const l=Ai(a,e);a=r,e=s,s=i,c={"alloy.base.behaviour":a.events};var c,s=ai(s,a.eventOrder,e,c).getOrDie();const d=D(r.components);const u={uid:o.uid,getSystem:n.get,config:e=>{var t=i;return(J(t[e.name()])?t[e.name()]:()=>{throw new Error("Could not find "+e.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:e=>J(i[e.name()]),spec:o,readState:e=>i[e]().map(e=>e.state.readState()).getOr("not enabled"),getApis:()=>r.apis,connect:e=>{n.set(e)},disconnect:()=>{n.set(Us(t))},element:l,syncComponents:()=>{var e=Lt(l),e=Te(e,e=>n.get().getByDom(e).fold(()=>[],Be));d.set(e)},components:d.get,events:s};return u},Ri=(e,t)=>{const{events:o,...n}=Ps(e);e=((e,t)=>{const n=T(e,"components").getOr([]);return t.fold(()=>C(n,Pi),o=>C(n,(e,t)=>Li(e,Pt(o,t))))})(n,t),e={...n,events:{...Fs,...o},components:e};return I.value(Ii(e,t))},Ni=e=>{e=w.fromText(e);return Vi({element:e})},Vi=e=>{var t=_r("external.component",lr([s("element"),Lr("uid")]),e);const o=D(Us());var n=t.uid.getOrThunk(()=>Ls("external"));zs(t.element,n);const r={uid:n,getSystem:o.get,config:B.none,hasConfigured:ie,connect:e=>{o.set(e)},disconnect:()=>{o.set(Us(()=>r))},getApis:()=>({}),element:t.element,spec:e,readState:O("No state"),syncComponents:k,components:O([]),events:{}};return Xs(r)},zi=Ls,Hi=e=>Ye(e,"uid"),Li=(t,o)=>Ks(t).getOrThunk(()=>{var e=Hi(t)?t:{uid:zi(""),...t};return Ri(e,o).getOrDie()}),Pi=e=>Li(e,B.none()),Ui=Xs;var Wi,ji=(e,t,o,n,r)=>e(o,n)?B.some(o):J(r)&&r(o)?B.none():t(o,n,r);const Gi=(e,t,o)=>{let n=e.dom;for(var r=J(o)?o:ie;n.parentNode;){n=n.parentNode;var a=w.fromDom(n);if(t(a))return B.some(a);if(r(a))break}return B.none()},$i=(e,t,o)=>{return ji((e,t)=>t(e),Gi,e,t,o)},qi=(e,t,o)=>$i(e,t,o).isSome(),Xi=(e,t,o)=>Gi(e,e=>Tt(e,t),o),Ki=(e,t)=>{return e=e,o=e=>Tt(e,t),Ce(e.dom.childNodes,e=>o(w.fromDom(e))).map(w.fromDom);var o},Yi=(e,t)=>At(t,e),Ji=(e,t,o)=>{return ji((e,t)=>Tt(e,t),Xi,e,t,o)},Zi="aria-controls",Qi=()=>{const t=N(Zi);return{id:t,link:e=>{E(e,Zi,t)},unlink:e=>{so(e,Zi)}}},el=(t,e)=>{return e=e,$i(e,e=>{return!!St(e)&&void 0!==(e=no(e,"id"))&&-1<e.indexOf(Zi)}).bind(e=>{var t=no(e,"id"),e=qt(e);return Yi(e,`[${Zi}="${t}"]`)}).exists(e=>tl(t,e))},tl=(t,e)=>qi(e,e=>Mt(e,t.element),ie)||el(t,e),ol="unknown",nl=((e=Wi=Wi||{})[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING",D({})),rl=(t,e,o)=>{switch(T(nl.get(),t).orThunk(()=>{var e=He(nl.get());return ze(e,e=>-1<t.indexOf(e)?B.some(nl.get()[e]):B.none())}).getOr(Wi.NORMAL)){case Wi.NORMAL:return o(ll());case Wi.LOGGING:var n=((t,o)=>{const n=[],r=(new Date).getTime();return{logEventCut:(e,t,o)=>{n.push({outcome:"cut",target:t,purpose:o})},logEventStopped:(e,t,o)=>{n.push({outcome:"stopped",target:t,purpose:o})},logNoParent:(e,t,o)=>{n.push({outcome:"no-parent",target:t,purpose:o})},logEventNoHandlers:(e,t)=>{n.push({outcome:"no-handlers-left",target:t})},logEventResponse:(e,t,o)=>{n.push({outcome:"response",purpose:o,target:t})},write:()=>{var e=(new Date).getTime();pe(["mousemove","mouseover","mouseout",Xa()],t)||console.log(t,{event:t,time:e-r,target:o.dom,sequence:C(n,e=>pe(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Bs(e.target)+")":e.outcome)})}}})(t,e),r=o(n);return n.write(),r;case Wi.STOP:return!0}},al=["alloy/data/Fields","alloy/debugging/Debugging"],sl=()=>{var e=new Error;return void 0!==e.stack?(e=e.stack.split("\n"),Ce(e,t=>0<t.indexOf("alloy")&&!he(al,e=>-1<t.indexOf(e))).getOr(ol)):ol};Rs={logEventCut:k,logEventStopped:k,logNoParent:k,logEventNoHandlers:k,logEventResponse:k,write:k};const il=(e,t,o)=>rl(e,t,o),ll=O(Rs),cl=O([s("menu"),s("selectedMenu")]),dl=O([s("item"),s("selectedItem")]),ul=(O(u(dl().concat(cl()))),O(u(dl())));var e=Vr("initSize",[s("numColumns"),s("numRows")]),Rs=()=>Vr("markers",[s("backgroundMenu")].concat(cl()).concat(dl())),ml=e=>Vr("markers",C(e,s));const gl=(e,t,o)=>(sl(),Ar(t,t,o,Sr(t=>I.value((...e)=>t.apply(void 0,e)))));var t=e=>gl(0,e,Xn(k)),pl=e=>gl(0,e,Xn(B.none)),hl=e=>gl(0,e,$n()),fl=e=>gl(0,e,$n());const vl=(e,t)=>Mr(e,O(t)),bl=e=>Mr(e,te);e=O(e);const yl=(e,t,o,n,r,a,s,i=!1)=>({x:e,y:t,bubble:o,direction:n,placement:r,restriction:a,label:s+"-"+r,alwaysFit:i});var xl=na([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]);const wl=xl.southeast,Sl=xl.southwest,kl=xl.northeast,Cl=xl.northwest,Ol=xl.south,_l=xl.north,Tl=xl.east,El=xl.west,Dl=(e,t,o,n)=>{e+=t;return n<e?o:e<o?n:e},Al=(e,t,o)=>Math.min(Math.max(e,t),o),Ml=(e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},Bl=(t,o)=>Me(["left","right","top","bottom"],e=>T(o,e).map(e=>Ml(t,e))),Fl="layout",Il=(e,t)=>e.x+e.width/2-t.width/2,Rl=(e,t)=>e.x+e.width-t.width,Nl=(e,t)=>e.y-t.height,Vl=e=>e.y+e.height,zl=(e,t)=>e.y+e.height/2-t.height/2,Hl=(e,t,o)=>yl(e.x,Vl(e),o.southeast(),wl(),"southeast",Bl(e,{left:1,top:3}),Fl),Ll=(e,t,o)=>yl(Rl(e,t),Vl(e),o.southwest(),Sl(),"southwest",Bl(e,{right:0,top:3}),Fl),Pl=(e,t,o)=>yl(e.x,Nl(e,t),o.northeast(),kl(),"northeast",Bl(e,{left:1,bottom:2}),Fl),Ul=(e,t,o)=>yl(Rl(e,t),Nl(e,t),o.northwest(),Cl(),"northwest",Bl(e,{right:0,bottom:2}),Fl),Wl=(e,t,o)=>yl(Il(e,t),Nl(e,t),o.north(),_l(),"north",Bl(e,{bottom:2}),Fl),jl=(e,t,o)=>yl(Il(e,t),Vl(e),o.south(),Ol(),"south",Bl(e,{top:3}),Fl),Gl=(e,t,o)=>{return yl(e.x+e.width,zl(e,t),o.east(),Tl(),"east",Bl(e,{left:0}),Fl)},$l=(e,t,o)=>{return yl(e.x-t.width,zl(e,t),o.west(),El(),"west",Bl(e,{right:1}),Fl)},ql=()=>[Hl,Ll,Pl,Ul,jl,Wl,Gl,$l],Xl=()=>[Ll,Hl,Ul,Pl,jl,Wl,Gl,$l],Kl=()=>[Pl,Ul,Hl,Ll,Wl,jl],Yl=()=>[Ul,Pl,Ll,Hl,Wl,jl],Jl=()=>[Hl,Ll,Pl,Ul,jl,Wl],Zl=()=>[Ll,Hl,Ul,Pl,jl,Wl];var xl=Object.freeze({__proto__:null,events:s=>gs([R(Pa(),(n,e)=>{const r=s.channels;var t=He(r);const a=e;e=t;var o,t=(o=a).universal?e:xe(e,e=>pe(o.channels,e));_(t,e=>{var t=r[e],o=t.schema,e=_r("channel["+e+"] data\nReceiver: "+Bs(n.element),o,a.data);t.onReceive(n,e)})})])}),Ql=[Fr("channels",gr(I.value,lr([hl("onReceive"),m("schema",mr())])))];const ec=(o,n,r)=>Os((e,t)=>{r(e,o,n)}),tc=(t,r,a)=>{{var e=(o,...e)=>{const n=[o].concat(e);return o.config({name:O(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+a)},e=>{var t=Array.prototype.slice.call(n,1);return r.apply(void 0,[o,e.config,e.state].concat(t))})},o=a,n=r,n,s=(n=n.toString()).indexOf(")")+1,i=n.indexOf("(");const l=n.substring(i+1,s-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:o,parameters:js(l.slice(0,1).concat(l.slice(3)))}),e}},oc=e=>({key:e,value:void 0}),nc=(o,e,n,t,r,a,s)=>{const i=e=>Je(e,n)?e[n]():B.none();r=Ue(r,(e,t)=>tc(n,e,t));const l={...Ue(a,(e,t)=>Gs(e,t)),...r,revoke:ne(oc,n),config:e=>{var t=_r(n+"-config",o,e);return{key:n,value:{config:t,me:l,configAsRaw:Ao(()=>_r(n+"-config",o,e)),initialConfig:e,state:s}}},schema:O(e),exhibit:(e,o)=>et(i(e),T(t,"exhibit"),(e,t)=>t(o,e.config,e.state)).getOrThunk(()=>ei({})),name:O(n),handlers:e=>i(e).map(e=>{return T(t,"events").getOr(()=>({}))(e.config,e.state)}).getOr({})};return l},V=e=>la(e),rc=lr([s("fields"),s("name"),m("active",{}),m("apis",{}),m("state",Js),m("extra",{})]),ac=e=>{var t,o,n,r,a,s,e=_r("Creating behaviour: "+e.name,rc,e);return t=e.fields,o=e.name,n=e.active,r=e.apis,a=e.extra,e=e.state,s=lr(t),t=qr(o,[Xr("config",t)]),nc(s,t,o,n,r,a,e)},sc=lr([s("branchKey"),s("branches"),s("name"),m("active",{}),m("apis",{}),m("state",Js),m("extra",{})]);var ic=e=>{var t,o,n,r,a,s,e=_r("Creating behaviour: "+e.name,sc,e);return t=Er(e.branchKey,e.branches),o=e.name,n=e.active,r=e.apis,a=e.extra,e=e.state,s=t,t=qr(o,[Pr("config",t)]),nc(s,t,o,n,r,a,e)};const lc=O(void 0),cc=ac({fields:Ql,name:"receiving",active:xl});Ql=Object.freeze({__proto__:null,exhibit:(e,t)=>ei({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const dc=e=>e.dom.focus(),uc=e=>e.dom.blur(),mc=e=>{var t=qt(e).dom;return e.dom===t.activeElement},gc=(e=kn())=>B.from(e.dom.activeElement).map(w.fromDom),pc=t=>gc(qt(t)).filter(e=>t.dom.contains(e.dom)),hc=(e,a)=>{const o=qt(a);var t=gc(o).bind(t=>{var e=e=>Mt(t,e);if(e(a))return B.some(a);{var o=a,n=e;const r=t=>{for(let e=0;e<t.childNodes.length;e++){var o=w.fromDom(t.childNodes[e]);if(n(o))return B.some(o);o=r(t.childNodes[e]);if(o.isSome())return o}return B.none()};return r(o.dom)}}),e=e(a);return t.each(t=>{gc(o).filter(e=>Mt(e,t)).fold(()=>{dc(t)},k)}),e},fc=(e,t,o,n,r)=>{var a=e=>e+"px";return{position:e,left:t.map(a),top:o.map(a),right:n.map(a),bottom:r.map(a)}},vc=(e,t)=>{uo(e,{...e=t,position:B.some(e.position)})};var bc,xl=na([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]);const yc=(e,t,o,n,r,a)=>{var s,i,l,c=t.rect,o=c.x-o,n=c.y-n,r=r-(o+c.width),a=a-(n+c.height);const d=B.some(o),u=B.some(n),m=B.some(r),g=B.some(a),p=B.none();return c=t.direction,o=()=>fc(e,d,u,p,p),n=()=>fc(e,p,u,m,p),r=()=>fc(e,d,p,p,g),a=()=>fc(e,p,p,m,g),t=()=>fc(e,d,u,p,p),s=()=>fc(e,d,p,p,g),i=()=>fc(e,d,u,p,p),l=()=>fc(e,p,u,m,p),c.fold(o,n,r,a,t,s,i,l)},xc=(e,r)=>e.fold(()=>{var e=r.rect;return fc("absolute",B.some(e.x),B.some(e.y),B.none(),B.none())},(e,t,o,n)=>yc("absolute",r,e,t,o,n),(e,t,o,n)=>yc("fixed",r,e,t,o,n)),wc=(e,t)=>{var o=ne(_n,t),e=e.fold(o,o,()=>{var e=bn();return _n(t).translate(-e.left,-e.top)}),o=Do(t),n=wo(t);return Dn(e.left,e.top,o,n)},Sc=(e,t,o)=>{const n=ko(t,o);return e.fold(O(n),O(n),()=>{var e=bn();return n.translate(-e.left,-e.top)})},kc=(e,t,o,n)=>e.fold(t,o,n),Cc=(xl.none,xl.relative),Oc=xl.fixed,_c="data-alloy-placement",Tc=e=>ro(e,_c),Ec=na([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Dc=(e,t,o,n)=>{var a,s,i,r,l,c=e.bubble,d=c.offset,u=(a=n,s=e.restriction,i=d,m=(g=(n,r)=>s[n].map(e=>{var t="top"===n||"bottom"===n,o=t?i.top:i.left,e=("left"===n||"top"===n?Math.max:Math.min)(e,r)+o;return t?Al(e,a.y,a.bottom):Al(e,a.x,a.right)}).getOr(r))("left",a.x),p=g("top",a.y),u=g("right",a.right),g=g("bottom",a.bottom),Dn(m,p,u-m,g-p)),m=e.x+d.left,g=e.y+d.top,p=Dn(m,g,t,o),{originInBounds:d,sizeInBounds:m,visibleW:t,visibleH:o}=((e,t)=>{var{x:t,y:o,right:n,bottom:r}=t,{x:e,y:a,right:s,bottom:i,width:l,height:c}=e;return{originInBounds:t<=e&&e<=n&&(o<=a&&a<=r),sizeInBounds:s<=n&&t<=s&&(i<=r&&o<=i),visibleW:Math.min(l,t<=e?n-e:s-t),visibleH:Math.min(c,o<=a?r-a:i-o)}})(p,u),d=d&&m,m=d?p:((e,t)=>{var{x:t,y:o,right:n,bottom:r}=t,{x:e,y:a,width:s,height:i}=e,l=Math.max(t,n-s),c=Math.max(o,r-i),e=Al(e,t,l),t=Al(a,o,c),l=Math.min(e+s,n)-e,a=Math.min(t+i,r)-t;return Dn(e,t,l,a)})(p,u),p=0<m.width&&0<m.height,{maxWidth:u,maxHeight:n}=(u=e.direction,r=m,n=n,l=O(r.bottom-n.y),h=O(n.bottom-r.y),l=u.fold(h,h,l,l,h,l,h,h),h=O(r.right-n.x),n=O(n.right-r.x),{maxWidth:r=u.fold(n,h,n,h,n,n,n,h),maxHeight:l}),h={rect:m,maxHeight:n,maxWidth:u,direction:e.direction,placement:e.placement,classes:{on:c.classesOn,off:c.classesOff},layout:e.label,testY:g};return d||e.alwaysFit?Ec.fit(h):Ec.nofit(h,t,o,p)},Ac=e=>{const t=D(B.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(B.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{o(),t.set(B.some(e))}}},Mc=()=>Ac(e=>e.unbind()),Bc=()=>{const t=Ac(k);return{...t,on:e=>t.get().each(e)}},Fc=le,Ic=(e,t,o)=>ln(e,t,Fc,o),Rc=(e,t,o)=>{return e=e,t=t,n=Fc,o=o,sn(e,t,n,o,!0);var n},Nc=an,Vc=["top","bottom","right","left"],zc="data-alloy-transition-timer",Hc=(n,e)=>{const r=e=>parseFloat(e).toFixed(3);return Xe(e,(e,t)=>{var o,t=n[t].map(r),e=e.map(r);return t=t,e=e,o=oe,!et(t,e,o).getOr(t.isNone()&&e.isNone())}).isSome()},Lc=(o,t)=>{const n=Mc(),r=Mc();let a;const s=e=>{var t=null!=(t=e.raw.pseudoElement)?t:"";return Mt(e.target,o)&&(t=t,!ut(t))&&pe(Vc,e.raw.propertyName)},i=e=>{(K(e)||s(e))&&(n.clear(),r.clear(),e=null==e?void 0:e.raw.type,!K(e)&&e!==Ia()||(clearTimeout(a),so(o,zc),yi(o,t.classes)))},l=Ic(o,Ra(),e=>{s(e)&&(l.unbind(),n.set(Ic(o,Ia(),i)),r.set(Ic(o,Fa(),i)))}),e=(t=>{var e=e=>{e=mo(t,e).split(/\s*,\s*/);return xe(e,ut)};const n=e=>{var t;return b(e)&&/^[\d.]+/.test(e)?(t=parseFloat(e),lt(e,"ms")?t:1e3*t):0},r=e("transition-delay");e=e("transition-duration");return Se(e,(e,t,o)=>{o=n(r[o])+n(t);return Math.max(e,o)},0)})(o);requestAnimationFrame(()=>{a=setTimeout(i,e+17),E(o,zc,a)})},Pc=(e,t,o,n,r,a)=>{s=n,i=r;var s,i,l,a=a.exists(e=>{var t=s.mode;return"all"===t||e[t]!==i[t]});if(a||(c=e,d=n,xi(c,d.classes))){F(e,"position",o.position);var c=wc(t,e);const u=xc(t,{...r,rect:c});var d=Me(Vc,e=>u[e]);Hc(o,d)&&(uo(e,d),a&&(l=e,t=n,bi(l,t.classes),ro(l,zc).each(e=>{clearTimeout(parseInt(e,10)),so(l,zc)}),Lc(l,t)),bo(e))}else yi(e,n.classes)},Uc=(e,t,o,n)=>{vo(t,"max-height"),vo(t,"max-width");r=t;var r={width:Do(r),height:wo(r)};{var c=t,d=(t=n.preference,e),u=r,m=o,g=n.bounds;const p=u.width,h=u.height,a=(e,r,a,s,i)=>{e=e(d,u,m,c,g);const l=Dc(e,p,h,g);return l.fold(O(l),(e,t,o,n)=>{return(i===n?s<o||a<t:!i&&n)?l:Ec.nofit(r,a,s,i)})};return Se(t,(e,t)=>{t=ne(a,t);return e.fold(O(e),t)},Ec.nofit({rect:d,maxHeight:u.height,maxWidth:u.width,direction:wl(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:d.y},-1,-1,!1)).fold(te,te)}},Wc=(e,t)=>{t=t.classes;yi(e,t.off),bi(e,t.on)},jc=(e,t,o)=>{(0,o.maxHeightFunction)(e,t.maxHeight)},Gc=(e,t,o)=>{(0,o.maxWidthFunction)(e,t.maxWidth)},$c=(t,o,n)=>{const r=xc(n.origin,o);n.transition.each(e=>{Pc(t,n.origin,r,e,o,n.lastPlacement)}),vc(t,r)},qc=(e,t)=>{e=e,t=t.placement,E(e,_c,t)},Xc=(e,t)=>{t=Math.floor(t);t=yo.max(e,t,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]),F(e,"max-height",t+"px")},Kc=O((e,t)=>{Xc(e,t),co(e,{"overflow-x":"hidden","overflow-y":"auto"})}),Yc=O((e,t)=>{Xc(e,t)}),Jc=(e,t,o)=>void 0===e[t]?o:e[t],Zc=(e,t,o,n,r,a,s,i)=>{var l,c=Jc(s,"maxHeightFunction",Kc()),s=Jc(s,"maxWidthFunction",k),d=e.anchorBox,e=e.origin,a={bounds:(l=e,a.fold(()=>l.fold(In,In,Dn),t=>l.fold(O(t),O(t),()=>{var e=Sc(l,t.x,t.y);return Dn(e.left,e.top,t.width,t.height)}))),origin:e,preference:n,maxHeightFunction:c,maxWidthFunction:s,lastPlacement:r,transition:i};{e=d,n=t,c=o,s=a;var u=Uc(e,n,c,s);return $c(n,u,s),qc(n,u),Wc(n,u),jc(n,u,s),Gc(n,u,s),{layout:u.layout,placement:u.placement}}},Qc=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],ed=(e,t,o,n=1)=>{const r=e*n,a=t*n,s=e=>T(o,e).getOr([]),i=(e,t,o)=>{var n=Ae(Qc,o);return{offset:ko(e,t),classesOn:Te(o,s),classesOff:Te(n,s)}};return{southeast:()=>i(-e,t,["top","alignLeft"]),southwest:()=>i(e,t,["top","alignRight"]),south:()=>i(-e/2,t,["top","alignCentre"]),northeast:()=>i(-e,-t,["bottom","alignLeft"]),northwest:()=>i(e,-t,["bottom","alignRight"]),north:()=>i(-e/2,-t,["bottom","alignCentre"]),east:()=>i(e,-t/2,["valignCentre","left"]),west:()=>i(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>i(r,a,["top","alignLeft","inset"]),insetNorthwest:()=>i(-r,a,["top","alignRight","inset"]),insetNorth:()=>i(-r/2,a,["top","alignCentre","inset"]),insetSoutheast:()=>i(r,-a,["bottom","alignLeft","inset"]),insetSouthwest:()=>i(-r,-a,["bottom","alignRight","inset"]),insetSouth:()=>i(-r/2,-a,["bottom","alignCentre","inset"]),insetEast:()=>i(-r,-a/2,["valignCentre","right","inset"]),insetWest:()=>i(r,-a/2,["valignCentre","left","inset"])}},td=()=>ed(0,0,{}),od=te,nd=(t,o)=>e=>"rtl"===rd(e)?o:t,rd=e=>"rtl"===mo(e,"direction")?"rtl":"ltr",ad=((xl=bc=bc||{}).TopToBottom="toptobottom",xl.BottomToTop="bottomtotop","data-alloy-vertical-dir"),sd=e=>qi(e,e=>St(e)&&no(e,"data-alloy-vertical-dir")===bc.BottomToTop);xl=()=>qr("layouts",[s("onLtr"),s("onRtl"),Lr("onBottomLtr"),Lr("onBottomRtl")]);const id=(t,e,o,n,r,a,s)=>{var s=s.map(sd).getOr(!1),i=e.layouts.map(e=>e.onLtr(t)),l=e.layouts.map(e=>e.onRtl(t)),r=s?e.layouts.bind(e=>e.onBottomLtr.map(e=>e(t))).or(i).getOr(r):i.getOr(o),i=s?e.layouts.bind(e=>e.onBottomRtl.map(e=>e(t))).or(l).getOr(a):l.getOr(n);return nd(r,i)(t)};var ld=[s("hotspot"),Lr("bubble"),m("overrides",{}),xl(),vl("placement",(e,t,o)=>{var n=t.hotspot,o=wc(o,n.element),n=id(e.element,t,Jl(),Zl(),Kl(),Yl(),B.some(t.hotspot.element));return B.some(od({anchorBox:o,bubble:t.bubble.getOr(td()),overrides:t.overrides,layouts:n}))})],o=[s("x"),s("y"),m("height",0),m("width",0),m("bubble",td()),m("overrides",{}),xl(),vl("placement",(e,t,o)=>{o=Sc(o,t.x,t.y),o=Dn(o.left,o.top,t.width,t.height),e=id(e.element,t,ql(),Xl(),ql(),Xl(),B.none());return B.some(od({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:e}))})],cd=na([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]);const dd=e=>e.fold(te,(e,t,o)=>e.translate(-t,-o)),ud=e=>e.fold(te,te),md=e=>Se(e,(e,t)=>e.translate(t.left,t.top),ko(0,0)),gd=e=>{e=C(e,dd);return md(e)},pd=e=>{e=C(e,ud);return md(e)},hd=cd.screen,fd=cd.absolute,vd=(o,e,t)=>{t=Nt(t.root).dom;return B.from(t.frameElement).map(w.fromDom).filter(e=>{var e=Ft(e),t=Ft(o.element);return Mt(e,t)}).map(Oo)},bd=(e,t,o)=>{var n=Ft(e.element),n=bn(n),e=vd(e,t,o).getOr(n);return fd(e,n.left,n.top)},yd=(e,t,o,n)=>{e=hd(ko(e,t));return B.some(Tn(e,o,n))},xd=(e,r,a,s,i)=>e.map(e=>{const t=[r,e.point];var o=kc(s,()=>pd(t),()=>pd(t),()=>gd(t)),o=En(o.left,o.top,e.width,e.height),e=(a.showAbove?Kl:Jl)(),n=(a.showAbove?Yl:Zl)(),e=id(i,a,e,n,e,n,B.none());return od({anchorBox:o,bubble:a.bubble.getOr(td()),overrides:a.overrides,layouts:e})});cd=[s("node"),s("root"),Lr("bubble"),xl(),m("overrides",{}),m("showAbove",!1),vl("placement",(o,n,r)=>{const a=bd(o,r,n);return n.node.filter(Qt).bind(e=>{var e=e.dom.getBoundingClientRect(),e=yd(e.left,e.top,e.width,e.height),t=n.node.getOr(o.element);return xd(e,a,n,r,t)})})];const wd={create:(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n})};var Sd=na([{before:["element"]},{on:["element","offset"]},{after:["element"]}]);const kd={before:Sd.before,on:Sd.on,after:Sd.after,cata:(e,t,o,n)=>e.fold(t,o,n),getStart:e=>e.fold(te,te,te)},Cd=na([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]);const Od={domRange:Cd.domRange,relative:Cd.relative,exact:Cd.exact,exactFromRange:e=>Cd.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{e=e.match({domRange:e=>w.fromDom(e.startContainer),relative:(e,t)=>kd.getStart(e),exact:(e,t,o,n)=>e});return Nt(e)},range:wd.create},_d=(e,t,o)=>{var n,r,e=e.document.createRange();return n=e,t.fold(e=>{n.setStartBefore(e.dom)},(e,t)=>{n.setStart(e.dom,t)},e=>{n.setStartAfter(e.dom)}),r=e,o.fold(e=>{r.setEndBefore(e.dom)},(e,t)=>{r.setEnd(e.dom,t)},e=>{r.setEndAfter(e.dom)}),e},Td=(e,t,o,n,r)=>{e=e.document.createRange();return e.setStart(t.dom,o),e.setEnd(n.dom,r),e},Ed=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),Dd=e=>{var t=e.getClientRects(),t=0<t.length?t[0]:e.getBoundingClientRect();return 0<t.width||0<t.height?B.some(t).map(Ed):B.none()},Ad=e=>{e=e.getBoundingClientRect();return 0<e.width||0<e.height?B.some(e).map(Ed):B.none()},Md=na([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Bd=(e,t,o)=>t(w.fromDom(o.startContainer),o.startOffset,w.fromDom(o.endContainer),o.endOffset),Fd=(e,t)=>{r=e;var r,e=t.match({domRange:e=>({ltr:O(e),rtl:B.none}),relative:(e,t)=>({ltr:Ao(()=>_d(r,e,t)),rtl:Ao(()=>B.some(_d(r,t,e)))}),exact:(e,t,o,n)=>({ltr:Ao(()=>Td(r,e,t,o,n)),rtl:Ao(()=>B.some(Td(r,o,n,e,t)))})});{const o=(t=e).ltr();return o.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>Md.rtl(w.fromDom(e.endContainer),e.endOffset,w.fromDom(e.startContainer),e.startOffset)).getOrThunk(()=>Bd(0,Md.ltr,o)):Bd(0,Md.ltr,o)}},Id=(a,e)=>{return Fd(a,e).match({ltr:(e,t,o,n)=>{var r=a.document.createRange();return r.setStart(e.dom,t),r.setEnd(o.dom,n),r},rtl:(e,t,o,n)=>{var r=a.document.createRange();return r.setStart(o.dom,n),r.setEnd(e.dom,t),r}})},Rd=(Md.ltr,Md.rtl,(e,t,o)=>xe(((e,t)=>{var o=J(t)?t:ie;let n=e.dom;for(var r=[];null!==n.parentNode&&void 0!==n.parentNode;){var a=n.parentNode,s=w.fromDom(a);if(r.push(s),!0===o(s))break;n=a}return r})(e,o),t)),Nd=(e,t)=>Dt(t,e),Vd=(e,t,o,n)=>{i=e,l=t,r=o,a=n,(s=Ft(i).dom.createRange()).setStart(i.dom,l),s.setEnd(r.dom,a);var r,a,s,i=s,l=Mt(e,o)&&t===n;return i.collapsed&&!l},zd=e=>{var t;return 0<e.rangeCount?(t=e.getRangeAt(0),e=e.getRangeAt(e.rangeCount-1),B.some(wd.create(w.fromDom(t.startContainer),t.startOffset,w.fromDom(e.endContainer),e.endOffset))):B.none()},Hd=e=>{var t,o;return null!==e.anchorNode&&null!==e.focusNode&&(t=w.fromDom(e.anchorNode),o=w.fromDom(e.focusNode),Vd(t,e.anchorOffset,o,e.focusOffset))?B.some(wd.create(t,e.anchorOffset,o,e.focusOffset)):zd(e)},Ld=e=>{return e=e,B.from(e.getSelection()).filter(e=>0<e.rangeCount).bind(Hd)},Pd=(e,t)=>{e=Id(e,t);return Dd(e)};const Ud=((o,n)=>{const t=e=>o(e)?B.from(e.dom.nodeValue):B.none();return{get:e=>{if(o(e))return t(e).getOr("");throw new Error("Can only get "+n+" value of a "+n+" node")},getOption:t,set:(e,t)=>{if(!o(e))throw new Error("Can only set raw "+n+" value of a "+n+" node");e.dom.nodeValue=t}}})(kt,"text"),Wd=(e,t)=>({element:e,offset:t}),jd=(e,t)=>{var o=Lt(e);return 0===o.length?Wd(e,t):t<o.length?Wd(o[t],0):(e=o[o.length-1],o=(kt(e)?(t=e,Ud.get(t)):Lt(e)).length,Wd(e,o))},Gd=(e,t)=>(kt(e)?Wd:jd)(e,t),$d=e=>void 0!==e.foffset,qd=(e,t)=>{return t.getSelection.getOrThunk(()=>()=>Ld(e))().map(e=>{var t,o;return $d(e)?(t=Gd(e.start,e.soffset),o=Gd(e.finish,e.foffset),Od.range(t.element,t.offset,o.element,o.offset)):e})};Sd=[Lr("getSelection"),s("root"),Lr("bubble"),xl(),m("overrides",{}),m("showAbove",!1),vl("placement",(e,t,o)=>{const n=Nt(t.root).dom;var r=bd(e,o,t),a=qd(n,t).bind(o=>{var e;return $d(o)?((e,t)=>{e=Id(e,t);return Ad(e)})(n,Od.exactFromRange(o)).orThunk(()=>{var e=w.fromText("\ufeff"),t=(dn(o.start,e),Pd(n,Od.exact(e,0,e,1)));return vn(e),t}).bind(e=>yd(e.left,e.top,e.width,e.height)):(e=Ue(o,e=>e.dom.getBoundingClientRect()),e={left:Math.min(e.firstCell.left,e.lastCell.left),right:Math.max(e.firstCell.right,e.lastCell.right),top:Math.min(e.firstCell.top,e.lastCell.top),bottom:Math.max(e.firstCell.bottom,e.lastCell.bottom)},yd(e.left,e.top,e.right-e.left,e.bottom-e.top))}),e=qd(n,t).bind(e=>$d(e)?St(e.start)?B.some(e.start):zt(e.start):B.some(e.firstCell)).getOr(e.element);return xd(a,r,t,o,e)})];const Xd="link-layout",Kd=e=>e.x+e.width,Yd=(e,t)=>e.x-t.width,Jd=(e,t)=>e.y-t.height+e.height,Zd=(e,t,o)=>yl(Kd(e),e.y,o.southeast(),wl(),"southeast",Bl(e,{left:0,top:2}),Xd),Qd=(e,t,o)=>yl(Yd(e,t),e.y,o.southwest(),Sl(),"southwest",Bl(e,{right:1,top:2}),Xd),eu=(e,t,o)=>yl(Kd(e),Jd(e,t),o.northeast(),kl(),"northeast",Bl(e,{left:0,bottom:3}),Xd),tu=(e,t,o)=>yl(Yd(e,t),Jd(e,t),o.northwest(),Cl(),"northwest",Bl(e,{right:1,bottom:3}),Xd),ou=()=>[Zd,Qd,eu,tu],nu=()=>[Qd,Zd,tu,eu];var n=[s("item"),xl(),m("overrides",{}),vl("placement",(e,t,o)=>{o=wc(o,t.item.element),e=id(e.element,t,ou(),nu(),ou(),nu(),B.none());return B.some(od({anchorBox:o,bubble:td(),overrides:t.overrides,layouts:e}))})],Sd=Er("type",{selection:Sd,node:cd,hotspot:ld,submenu:n,makeshift:o}),cd=[Hr("classes",hr),Zr("mode","all",["all","layout","placement"])],ld=[m("useFixed",ie),Lr("getBounds")];const ru=[Fr("anchor",Sd),qr("transition",cd)],au=()=>{var e=document.documentElement;return Oc(0,0,e.clientWidth,e.clientHeight)},su=e=>{var t=Oo(e.element),e=e.element.dom.getBoundingClientRect();return Cc(t.left,t.top,e.width,e.height)},iu=(e,t,o,n,r,a)=>{e={anchorBox:t.anchorBox,origin:e};return Zc(e,n.element,t.bubble,t.layouts,r,o,t.overrides,a)};const lu=(t,n,r,a,e,s)=>{const i=_r("placement.info",u(ru),e),l=i.anchor,c=a.element,d=r.get(a.uid);hc(()=>{F(c,"position","fixed");var e=po(c,"visibility");F(c,"visibility","hidden");const o=n.useFixed()?au():su(t);l.placement(t,l,o).each(e=>{var t=s.orThunk(()=>n.getBounds.map(se)),e=iu(o,e,t,a,d,i.transition);r.set(a.uid,e)}),e.fold(()=>{vo(c,"visibility")},e=>{F(c,"visibility",e)}),po(c,"left").isNone()&&po(c,"top").isNone()&&po(c,"right").isNone()&&po(c,"bottom").isNone()&&Ze(po(c,"position"),"fixed")&&vo(c,"position")},c)};n=Object.freeze({__proto__:null,position:(e,t,o,n,r)=>{var a=B.none();lu(e,t,o,n,r,a)},positionWithinBounds:lu,getMode:(e,t,o)=>t.useFixed()?"fixed":"absolute",reset:(e,t,o,n)=>{const r=n.element;var a;_(["position","left","right","top","bottom"],e=>vo(r,e)),a=r,so(a,_c),o.clear(n.uid)}});const cu=ac({fields:ld,name:"positioning",active:Ql,apis:n,state:Object.freeze({__proto__:null,init:()=>{let o={};return Zs({readState:()=>o,clear:e=>{Y(e)?delete o[e]:o={}},set:(e,t)=>{o[e]=t},get:e=>T(o,e)})}})}),du=e=>e.getSystem().isConnected(),uu=e=>{A(e,es());e=e.components();_(e,uu)},mu=e=>{var t=e.components();_(t,mu),A(e,Qa())},gu=(e,t)=>{e.getSystem().addToWorld(t),Qt(e.element)&&mu(t)},pu=e=>{uu(e),e.getSystem().removeFromWorld(e)},hu=(e,t)=>{gn(e.element,t.element)},fu=(t,e,o)=>{var n=t.components(),r=(r=t,_(r.components(),e=>vn(e.element)),fn(r.element),r.syncComponents(),o(e)),o=Ae(n,r);_(o,e=>{uu(e),t.getSystem().removeFromWorld(e)}),_(r,e=>{du(e)?hu(t,e):(t.getSystem().addToWorld(e),hu(t,e),Qt(t.element)&&mu(e))}),t.syncComponents()},vu=(t,e,o)=>{var n=t.components();const r=Te(e,e=>Ks(e).toArray());_(n,e=>{pe(r,e)||pu(e)});o=o(e),e=Ae(n,o);_(e,e=>{du(e)&&pu(e)}),_(o,e=>{du(e)||gu(t,e)}),t.syncComponents()},bu=(e,t)=>{yu(e,t,gn)},yu=(e,t,o)=>{e.getSystem().addToWorld(t),o(e.element,t.element),Qt(e.element)&&mu(t),e.syncComponents()},xu=e=>{uu(e),vn(e.element),e.getSystem().removeFromWorld(e)},wu=t=>{var e=Vt(t.element).bind(e=>t.getSystem().getByDom(e).toOptional());xu(t),e.each(e=>{e.syncComponents()})},Su=e=>{var t=e.components();_(t,xu),fn(e.element),e.syncComponents()},ku=(e,t)=>{Ou(e,t,gn)},Cu=(e,t)=>{Ou(e,t,un)},Ou=(e,t,o)=>{o(e,t.element);o=Lt(t.element);_(o,e=>{t.getByDom(e).each(mu)})},_u=t=>{var e=Lt(t.element);_(e,e=>{t.getByDom(e).each(uu)}),vn(t.element)},Tu=(t,e,o,n)=>{o.get().each(e=>{Su(t)});e=e.getAttachPoint(t),bu(e,t),e=t.getSystem().build(n);return bu(t,e),o.set(e),e},Eu=(e,t,o,n)=>{o=Tu(e,t,o,n);return t.onOpen(e,o),o};const Du=(t,o,n)=>{n.get().each(e=>{Su(t),wu(t),o.onClose(t,e),n.clear()})},Au=(e,t,o)=>o.isOpen();const Mu=(e,t,o)=>{var n,r,a=t.getAttachPoint(e);F(e.element,"position",cu.getMode(a)),n=e,a="visibility",r=t.cloakVisibilityAttr,e="hidden",po(n.element,a).fold(()=>{so(n.element,r)},e=>{E(n.element,r,e)}),F(n.element,a,e)},Bu=(e,t,o)=>{var n,r,a;n=e.element,he(["top","left","right","bottom"],e=>po(n,e).isSome())||vo(e.element,"position"),r=e,a="visibility",e=t.cloakVisibilityAttr,ro(r.element,e).fold(()=>vo(r.element,a),e=>F(r.element,a,e))};o=Object.freeze({__proto__:null,cloak:Mu,decloak:Bu,open:Eu,openWhileCloaked:(e,t,o,n,r)=>{Mu(e,t),Eu(e,t,o,n),r(),Bu(e,t)},close:Du,isOpen:Au,isPartOf:(t,o,e,n)=>Au(0,0,e)&&e.get().exists(e=>o.isPartOf(t,e,n)),getState:(e,t,o)=>o.get(),setContent:(e,t,o,n)=>o.get().map(()=>Tu(e,t,o,n))}),Sd=Object.freeze({__proto__:null,events:(o,n)=>gs([R($a(),(e,t)=>{Du(e,o,n)})])}),cd=[t("onOpen"),t("onClose"),s("isPartOf"),s("getAttachPoint"),m("cloakVisibilityAttr","data-precloak-visibility")];const d=ac({fields:cd,name:"sandboxing",active:Sd,apis:o,state:Object.freeze({__proto__:null,init:()=>{var e=Bc(),t=O("not-implemented");return Zs({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}})}),Fu=O("dismiss.popups"),Iu=O("reposition.popups"),Ru=O("mouse.released"),Nu=lr([m("isExtraPart",ie),qr("fireEventInstead",[m("event",ts())])]),Vu=e=>{const o=_r("Dismissal",Nu,e);return{[Fu()]:{schema:lr([s("target")]),onReceive:(t,e)=>{!d.isOpen(t)||d.isPartOf(t,e.target)||o.isExtraPart(t,e.target)||o.fireEventInstead.fold(()=>d.close(t),e=>A(t,e.event))}}}},zu=lr([qr("fireEventInstead",[m("event",Va())]),Nr("doReposition")]),Hu=e=>{const o=_r("Reposition",zu,e);return{[Iu()]:{onReceive:t=>{d.isOpen(t)&&o.fireEventInstead.fold(()=>o.doReposition(t),e=>A(t,e.event))}}}},Lu=(e,t,o)=>{t.store.manager.onLoad(e,t,o)},Pu=(e,t,o)=>{t.store.manager.onUnload(e,t,o)};ld=Object.freeze({__proto__:null,onLoad:Lu,onUnload:Pu,setValue:(e,t,o,n)=>{t.store.manager.setValue(e,t,o,n)},getValue:(e,t,o)=>t.store.manager.getValue(e,t,o),getState:(e,t,o)=>o}),Ql=Object.freeze({__proto__:null,events:(o,n)=>{var e=o.resetOnDom?[ks((e,t)=>{Lu(e,o,n)}),Cs((e,t)=>{Pu(e,o,n)})]:[ec(o,n,Lu)];return gs(e)}}),n=()=>{const e=D(null);return Zs({set:e.set,get:e.get,isNotSet:()=>null===e.get(),clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},cd=()=>{const a=D({}),s=D({});return Zs({readState:()=>({mode:"dataset",dataByValue:a.get(),dataByText:s.get()}),lookup:e=>T(a.get(),e).orThunk(()=>T(s.get(),e)),update:e=>{var t=a.get(),o=s.get();const n={},r={};_(e,t=>{n[t.value]=t,T(t,"meta").each(e=>{T(e,"text").each(e=>{r[e]=t})})}),a.set({...t,...n}),s.set({...o,...r})},clear:()=>{a.set({}),s.set({})}})},Sd=Object.freeze({__proto__:null,memory:n,dataset:cd,manual:()=>{var e=k;return Zs({readState:e})},init:e=>e.store.manager.state(e)});const Uu=(e,t,o,n)=>{var r=t.store;o.update([n]),r.setValue(e,n),t.onSetValue(e,n)};o=[Lr("initialValue"),s("getFallbackEntry"),s("getDataKey"),s("setValue"),vl("manager",{setValue:Uu,getValue:(e,t,o)=>{const n=t.store,r=n.getDataKey(e);return o.lookup(r).getOrThunk(()=>n.getFallbackEntry(r))},onLoad:(t,o,n)=>{o.store.initialValue.each(e=>{Uu(t,o,n,e)})},onUnload:(e,t,o)=>{o.clear()},state:cd})],cd=[s("getValue"),m("setValue",k),Lr("initialValue"),vl("manager",{setValue:(e,t,o,n)=>{t.store.setValue(e,n),t.onSetValue(e,n)},getValue:(e,t,o)=>t.store.getValue(e),onLoad:(t,o,e)=>{o.store.initialValue.each(e=>{o.store.setValue(t,e)})},onUnload:k,state:Js.init})],n=[Lr("initialValue"),vl("manager",{setValue:(e,t,o,n)=>{o.set(n),t.onSetValue(e,n)},getValue:(e,t,o)=>o.get(),onLoad:(e,t,o)=>{t.store.initialValue.each(e=>{o.isNotSet()&&o.set(e)})},onUnload:(e,t,o)=>{o.clear()},state:n})],n=[Kr("store",{mode:"memory"},Er("mode",{memory:n,manual:cd,dataset:o})),t("onSetValue"),m("resetOnDom",!1)];const S=ac({fields:n,name:"representing",active:Ql,apis:ld,extra:{setValueFrom:(e,t)=>{t=S.getValue(t);S.setValue(e,t)}},state:Sd});cd=(n,e)=>oa(n,{},C(e,e=>{return t=e.name(),o="Cannot configure "+e.name()+" for "+n,Ar(t,t,Kn(),nr(e=>Pn.serror("The field: "+t+" is forbidden. "+o)));var t,o}).concat([Mr("dump",te)]));const Wu=e=>e.dump,ju=(e,t)=>({...V(t),...e.dump}),Gu={field:cd,augment:ju,get:Wu},$u="placeholder",qu=na([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Xu=e=>Ye(e,"uiType"),Ku=(e,t,o,n)=>{return Xu(o)&&o.uiType===$u?(a=o,s=n,(r=e).exists(e=>e!==a.owner)?qu.single(!0,O(a)):T(s,a.name).fold(()=>{throw new Error("Unknown placeholder component: "+a.name+"\nKnown: ["+He(s)+"]\nNamespace: "+r.getOr("none")+"\nSpec: "+JSON.stringify(a,null,2))},e=>e.replace())):qu.single(!1,O(o));var r,a,s},Yu=(n,r,a,s)=>{return Ku(n,0,a,s).fold((e,t)=>{var t=Xu(a)?t(r,a.config,a.validated):t(r),o=T(t,"components").getOr([]),o=Te(o,e=>Yu(n,r,e,s));return[{...t,components:o}]},(e,t)=>{var o;return Xu(a)?(o=t(r,a.config,a.validated),a.validated.preprocess.getOr(te)(o)):t(r)})},Ju=(t,o,e,n)=>Te(e,e=>Yu(t,o,e,n)),Zu=(e,t)=>{let o=!1;return{name:O(e),required:()=>t.fold((e,t)=>e,(e,t)=>e),used:()=>o,replace:()=>{if(o)throw new Error("Trying to use the same placeholder more than once: "+e);return o=!0,t}}},Qu=qu.single,em=qu.multiple,tm=O($u);var o=na([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),n=m("factory",{sketch:te}),Ql=m("schema",[]),ld=s("name"),Sd=Ar("pname","pname",qn(e=>"<alloy."+N(e.name)+">"),mr()),om=Mr("schema",()=>[Lr("preprocess")]),nm=m("defaults",O({})),rm=m("overrides",O({})),am=u([n,Ql,ld,Sd,nm,rm]),sm=u([n,Ql,ld,nm,rm]),Ql=u([n,Ql,ld,Sd,nm,rm]),n=u([n,om,ld,s("unit"),Sd,nm,rm]);const im=e=>e.fold(B.some,B.none,B.some,B.some),lm=e=>{var t=e=>e.name;return e.fold(t,t,t,t)};om=(t,o)=>e=>{e=_r("Converting part type",o,e);return t(e)};const cm=om(o.required,am);ld=om(o.external,sm);const dm=om(o.optional,Ql);Sd=om(o.group,n);const um=O("entirety");nm=Object.freeze({__proto__:null,required:cm,external:ld,optional:dm,group:Sd,asNamedPart:im,name:lm,asCommon:e=>e.fold(te,te,te,te),original:um});const mm=(e,t,o,n)=>jn(t.defaults(e,o,n),o,{uid:e.partUids[t.name]},t.overrides(e,o,n)),gm=(r,e)=>{const a={};return _(e,e=>{im(e).each(o=>{e=r,t=o.pname;const n={uiType:tm(),owner:e,name:t};var e,t;a[o.name]=e=>{var t=_r("Part: "+o.name+" in "+r,u(o.schema),e);return{...n,config:e,validated:t}}})}),a},pm=(e,t,o)=>({uiType:tm(),owner:e,name:t,config:o,validated:{}}),hm=e=>Te(e,e=>e.fold(B.none,B.some,B.none,B.none).map(e=>Vr(e.name,e.schema.concat([bl(um())]))).toArray()),fm=e=>C(e,lm),vm=(e,t,o)=>{{var n=t;t=o;const a={},r={};return _(t,e=>{e.fold(n=>{a[n.pname]=Qu(!0,(e,t,o)=>n.factory.sketch(mm(e,n,t,o)))},e=>{var t=n.parts[e.name];r[e.name]=O(e.factory.sketch(mm(n,e,t[um()]),t))},n=>{a[n.pname]=Qu(!1,(e,t,o)=>n.factory.sketch(mm(e,n,t,o)))},r=>{a[r.pname]=em(!0,(t,e,o)=>{var n=t[r.name];return C(n,e=>r.factory.sketch(jn(r.defaults(t,e,o),e,r.overrides(t,e))))})})}),{internals:O(a),externals:O(r)}}},bm=(e,t,o)=>{var n=B.some(e),r=t,e=t.components,t=o;return t=Ue(t,(e,t)=>Zu(t,e)),e=Ju(n,r,e,t),Pe(t,e=>{if(!1===e.used()&&e.required())throw new Error("Placeholder: "+e.name()+" was not found in components list\nNamespace: "+n.getOr("none")+"\nComponents: "+JSON.stringify(r.components,null,2))}),e},ym=(e,t,o)=>{t=t.partUids[o];return e.getSystem().getByUid(t).toOptional()},xm=(e,t,o)=>ym(e,t,o).getOrDie("Could not find part: "+o),wm=(e,t,o)=>{const n={},r=t.partUids,a=e.getSystem();return _(o,e=>{n[e]=O(a.getByUid(r[e]))}),n},Sm=(e,t)=>{const o=e.getSystem();return Ue(t.partUids,(e,t)=>O(o.getByUid(e)))},km=e=>He(e.partUids),Cm=(e,t,o)=>{const n={},r=t.partUids,a=e.getSystem();return _(o,e=>{n[e]=O(a.getByUid(r[e]).getOrDie())}),n},Om=(t,e)=>{e=fm(e);return la(C(e,e=>({key:e,value:t+"-"+e})))},_m=t=>Ar("partUids","partUids",Yn(e=>Om(e.uid,t)),mr());rm=Object.freeze({__proto__:null,generate:gm,generateOne:pm,schemas:hm,names:fm,substitutes:vm,components:bm,defaultUids:Om,defaultUidsSchema:_m,getAllParts:Sm,getAllPartNames:km,getPart:ym,getPartOrDie:xm,getParts:wm,getPartsOrDie:Cm});const Tm=(e,t,o,n,r)=>{r=r;n=(0<(n=n).length?[Vr("parts",n)]:[]).concat([s("uid"),m("dom",{}),m("components",[]),bl("originalSpec"),m("debug.sketcher",{})]).concat(r);return _r(e+" [SpecSchema]",lr(n.concat(t)),o)},Em=(e,t,o,n,r)=>{var r=Dm(r),a=hm(o),s=_m(o),t=Tm(e,t,r,a,[s]),a=vm(e,t,o);return n(t,bm(e,t,a.internals()),r,a.externals())},Dm=e=>{return t=e,Ye(t,"uid")?e:{...e,uid:Ls("uid")};var t},Am=e=>void 0!==e.uid,Mm=lr([s("name"),s("factory"),s("configFields"),m("apis",{}),m("extraApis",{})]),Bm=lr([s("name"),s("factory"),s("configFields"),s("partFields"),m("apis",{}),m("extraApis",{})]),Fm=e=>{const r=_r("Sketcher for "+e.name,Mm,e);var e=Ue(r.apis,Ys),t=Ue(r.extraApis,(e,t)=>Gs(e,t));return{name:r.name,configFields:r.configFields,sketch:e=>{var t=r.name,o=r.configFields,n=r.factory;return e=Dm(e),n(Tm(t,o,e,[],[]),e)},...e,...t}};am=e=>{const t=_r("Sketcher for "+e.name,Bm,e);var e=gm(t.name,t.partFields),o=Ue(t.apis,Ys),n=Ue(t.extraApis,(e,t)=>Gs(e,t));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:e=>Em(t.name,t.configFields,t.partFields,t.factory,e),parts:e,...o,...n}};const Im=e=>_t("input")(e)&&"radio"!==no(e,"type")||_t("textarea")(e);sm=Object.freeze({__proto__:null,getCurrent:(e,t,o)=>t.find(e)}),Ql=[s("find")];const z=ac({fields:Ql,name:"composing",apis:sm}),Rm=["input","button","textarea","select"],Nm=(e,t,o)=>{(t.disabled()?Um:Wm)(e,t)},Vm=(e,t)=>!0===t.useNative&&pe(Rm,xt(e.element)),zm=e=>{E(e.element,"disabled","disabled")},Hm=e=>{so(e.element,"disabled")},Lm=e=>{E(e.element,"aria-disabled","true")},Pm=e=>{E(e.element,"aria-disabled","false")},Um=(t,e,o)=>{e.disableClass.each(e=>{pi(t.element,e)}),(Vm(t,e)?zm:Lm)(t),e.onDisabled(t)},Wm=(t,e,o)=>{e.disableClass.each(e=>{fi(t.element,e)}),(Vm(t,e)?Hm:Pm)(t),e.onEnabled(t)},jm=(e,t)=>{return Vm(e,t)?(t=e,ao(t.element,"disabled")):(t=e,"true"===no(t.element,"aria-disabled"))};om=Object.freeze({__proto__:null,enable:Wm,disable:Um,isDisabled:jm,onLoad:Nm,set:(e,t,o,n)=>{(n?Um:Wm)(e,t)}}),o=Object.freeze({__proto__:null,exhibit:(e,t)=>ei({classes:t.disabled()?t.disableClass.toArray():[]}),events:(o,e)=>gs([ps(Ua(),(e,t)=>jm(e,o)),ec(o,e,Nm)])}),n=[ea("disabled",ie),m("useNative",!0),Lr("disableClass"),t("onDisabled"),t("onEnabled")];const H=ac({fields:n,name:"disabling",active:o,apis:om}),Gm=(o,n,e,r)=>{var t=Nd(o.element,"."+n.highlightClass);_(t,t=>{he(r,e=>Mt(e.element,t))||(fi(t,n.highlightClass),o.getSystem().getByDom(t).each(e=>{n.onDehighlight(o,e),A(e,ls())}))})};const $m=(e,t,o,n)=>{Gm(e,t,0,[n]),qm(0,t,0,n)||(pi(n.element,t.highlightClass),t.onHighlight(e,n),A(n,is()))};const qm=(e,t,o,n)=>vi(n.element,t.highlightClass);const Xm=(t,e,o)=>Yi(t.element,"."+e.itemClass).bind(e=>t.getSystem().getByDom(e).toOptional()),Km=(t,e,o)=>{e=Nd(t.element,"."+e.itemClass);return(0<e.length?B.some(e[e.length-1]):B.none()).bind(e=>t.getSystem().getByDom(e).toOptional())},Ym=(t,o,e,n)=>{const r=Nd(t.element,"."+o.itemClass);return Oe(r,e=>vi(e,o.highlightClass)).bind(e=>{e=Dl(e,n,0,r.length-1);return t.getSystem().getByDom(r[e]).toOptional()})};const Jm=(t,e,o)=>{e=Nd(t.element,"."+e.itemClass);return Qe(C(e,e=>t.getSystem().getByDom(e).toOptional()))};var Zm,Ql=Object.freeze({__proto__:null,dehighlightAll:(e,t,o)=>Gm(e,t,0,[]),dehighlight:(e,t,o,n)=>{qm(0,t,0,n)&&(fi(n.element,t.highlightClass),t.onDehighlight(e,n),A(n,ls()))},highlight:$m,highlightFirst:(t,o,e)=>{Xm(t,o).each(e=>{$m(t,o,0,e)})},highlightLast:(t,o,e)=>{Km(t,o).each(e=>{$m(t,o,0,e)})},highlightAt:(t,o,e,n)=>{((e,t,o)=>{const n=Nd(e.element,"."+t.itemClass);return B.from(n[o]).fold(()=>I.error(new Error("No element found with index "+o)),e.getSystem().getByDom)})(t,o,n).fold(e=>{throw e},e=>{$m(t,o,0,e)})},highlightBy:(t,o,e,n)=>{var r=Jm(t,o);Ce(r,n).each(e=>{$m(t,o,0,e)})},isHighlighted:qm,getHighlighted:(t,e,o)=>Yi(t.element,"."+e.highlightClass).bind(e=>t.getSystem().getByDom(e).toOptional()),getFirst:Xm,getLast:Km,getPrevious:(e,t,o)=>Ym(e,t,0,-1),getNext:(e,t,o)=>Ym(e,t,0,1),getCandidates:Jm}),sm=[s("highlightClass"),s("itemClass"),t("onHighlight"),t("onDehighlight")];const L=ac({fields:sm,name:"highlighting",apis:Ql}),Qm=[8],eg=[9],tg=[13],og=[27],ng=[32],rg=[37],ag=[38],sg=[39],ig=[40],lg=(e,t,o)=>{var n=De(e.slice(0,t)),e=De(e.slice(t+1));return Ce(n.concat(e),o)},cg=(e,t,o)=>{e=De(e.slice(0,t));return Ce(e,o)},dg=(e,t,o)=>{var n=e.slice(0,t),e=e.slice(t+1);return Ce(e.concat(n),o)},ug=(e,t,o)=>{e=e.slice(t+1);return Ce(e,o)},g=t=>e=>{e=e.raw;return pe(t,e.which)},mg=e=>t=>Ee(e,e=>e(t)),gg=e=>{return!0===e.raw.shiftKey},pg=e=>{return!0===e.raw.ctrlKey},hg=re(gg),p=(e,t)=>({matches:e,classification:t}),fg=(e,t)=>{return Ce(e,e=>e.matches(t)).map(e=>e.classification)},vg=(e,t,o)=>{t.exists(t=>o.exists(e=>Mt(e,t)))||M(e,os(),{prevFocus:t,newFocus:o})},bg=()=>{const n=e=>pc(e.element);return{get:n,set:(e,t)=>{var o=n(e),t=(e.getSystem().triggerFocus(t,e.element),n(e));vg(e,o,t)}}},yg=((n=Zm=Zm||{}).OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi",(e,t,o,n,i)=>{const l=(t,o,e,n,r)=>{e=e(t,o,n,r);return fg(e,o.event).bind(e=>e(t,o,n,r))};const r={schema:()=>e.concat([m("focusManager",bg()),Kr("focusInside","onFocus",Sr(e=>pe(["onFocus","onEnterOrSpace","onApi"],e)?I.value(e):I.error("Invalid value for focusInside"))),vl("handler",r),vl("state",t),vl("sendFocusIn",i)]),processKey:l,toEvents:(a,s)=>{var e=a.focusInside!==Zm.OnFocusMode?B.none():i(a).map(o=>R(za(),(e,t)=>{o(e,a,s),t.stop()}));var t=[R(Ea(),(n,r)=>{l(n,r,o,a,s).fold(()=>{var t,o,e;t=n,o=r,e=g(ng.concat(tg))(o.event),a.focusInside===Zm.OnEnterOrSpaceMode&&e&&ga(t,o)&&i(a).each(e=>{e(t,a,s),o.stop()})},e=>{r.stop()})}),R(Da(),(e,t)=>{l(e,t,n,a,s).each(e=>{t.stop()})})];return gs(e.toArray().concat(t))}};return r});o=e=>{e=[Lr("onEscape"),Lr("onEnter"),m("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),m("firstTabstop",0),m("useTabstopAt",le),Lr("visibilitySelector")].concat([e]);const a=(e,t)=>{e=e.visibilitySelector.bind(e=>Ji(t,e)).getOr(t);return 0<xo(e)},s=(e,t)=>t.focusManager.get(e).bind(e=>Ji(e,t.selector)),t=(t,o,e)=>{((e,t)=>{e=Nd(e.element,t.selector),e=xe(e,e=>a(t,e));return B.from(e[t.firstTabstop])})(t,o).each(e=>{o.focusManager.set(t,e)})},i=(t,e,o,n,r)=>r(e,o,e=>{return t=n,e=e,a(t,e)&&t.useTabstopAt(e);var t}).fold(()=>n.cyclic?B.some(!0):B.none(),e=>(n.focusManager.set(t,e),B.some(!0))),r=(t,e,o,n)=>{const r=Nd(t.element,o.selector);return s(t,o).bind(e=>{return Oe(r,ne(Mt,e)).bind(e=>i(t,r,e,o,n))})},l=(e,t,o)=>{var n=o.cyclic?lg:cg;return r(e,0,o,n)},c=(e,t,o)=>{var n=o.cyclic?dg:ug;return r(e,0,o,n)},d=t=>{return e=t,Vt(e).bind(Ut).exists(e=>Mt(e,t));var e};var o=O([p(mg([gg,g(eg)]),l),p(g(eg),c),p(mg([hg,g(tg)]),(t,o,e)=>e.onEnter.bind(e=>e(t,o)))]),n=O([p(g(og),(t,o,e)=>e.onEscape.bind(e=>e(t,o))),p(g(eg),(t,o,n)=>s(t,n).filter(e=>!n.useTabstopAt(e)).bind(e=>(d(e)?l:c)(t,o,n)))]);return yg(e,Js.init,o,n,()=>B.some(t))},om=o(Mr("cyclic",ie)),sm=o(Mr("cyclic",le));Ql=(e,t,o)=>{return Im(o)&&g(ng)(t.event)?B.none():(t=e,e=o,ds(t,e,Ua()),B.some(!0))};const xg=(e,t)=>B.some(!0);n=[m("execute",Ql),m("useSpace",!1),m("useEnter",!0),m("useControlEnter",!1),m("useDown",!1)];const wg=(e,t,o)=>o.execute(e,t,e.element);var o=yg(n,Js.init,(e,t,o,n)=>{var e=o.useSpace&&!Im(e.element)?ng:[],r=o.useEnter?tg:[],a=o.useDown?ig:[],e=e.concat(r).concat(a);return[p(g(e),wg)].concat(o.useControlEnter?[p(mg([pg,g(tg)]),wg)]:[])},(e,t,o,n)=>o.useSpace&&!Im(e.element)?[p(g(ng),xg)]:[],()=>B.none()),n=()=>{const o=Bc();return Zs({readState:()=>o.get().map(e=>({numRows:String(e.numRows),numColumns:String(e.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(e,t)=>{o.set({numRows:e,numColumns:t})},getNumRows:()=>o.get().map(e=>e.numRows),getNumColumns:()=>o.get().map(e=>e.numColumns)})},Sg=Object.freeze({__proto__:null,flatgrid:n,init:e=>e.state(e)});const kg=a=>(e,t,o,n)=>{var r=a(e.element);return Tg(r,e,t,o,n)},Cg=(e,t)=>{e=nd(e,t);return kg(e)},Og=(e,t)=>{t=nd(t,e);return kg(t)};var _g=r=>(e,t,o,n)=>Tg(r,e,t,o,n);const Tg=(t,o,e,n,r)=>{return n.focusManager.get(o).bind(e=>t(o.element,e,n,r)).map(e=>(n.focusManager.set(o,e),!0))};var r=_g,Eg=_g;const Dg=_g,Ag=e=>e.offsetWidth<=0&&e.offsetHeight<=0,Mg=e=>!Ag(e.dom),Bg=(t,e)=>Oe(t,e).map(e=>({index:e,candidates:t})),Fg=(e,t,o)=>{e=Nd(e,o),o=xe(e,Mg);return Bg(o,e=>Mt(e,t))},Ig=(e,t)=>Oe(e,e=>Mt(t,e)),Rg=(t,e,o,n)=>{return n(Math.floor(e/o),e%o).bind(e=>{e=e.row*o+e.column;return 0<=e&&e<t.length?B.some(t[e]):B.none()})},Ng=(n,e,r,a,s)=>Rg(n,e,a,(e,t)=>{var o=e===r-1?n.length-e*a:a,t=Dl(t,s,0,o-1);return B.some({row:e,column:t})}),Vg=(n,e,r,a,s)=>Rg(n,e,a,(e,t)=>{var e=Dl(e,s,0,r-1),o=e===r-1?n.length-e*a:a,t=Al(t,0,o-1);return B.some({row:e,column:t})});_g=[s("selector"),m("execute",Ql),pl("onEscape"),m("captureTab",!1),e()];const zg=(t,o,e)=>{Yi(t.element,o.selector).each(e=>{o.focusManager.set(t,e)})};var Hg=r=>(e,t,o,n)=>Fg(e,t,o.selector).bind(e=>r(e.candidates,e.index,n.getNumRows().getOr(o.initSize.numRows),n.getNumColumns().getOr(o.initSize.numColumns))),Lg=(e,t,o)=>o.captureTab?B.some(!0):B.none(),Pg=Hg((e,t,o,n)=>Ng(e,t,o,n,-1)),Ug=Hg((e,t,o,n)=>Ng(e,t,o,n,1)),Wg=Hg((e,t,o,n)=>Vg(e,t,o,n,-1)),Hg=Hg((e,t,o,n)=>Vg(e,t,o,n,1)),Pg=O([p(g(rg),Cg(Pg,Ug)),p(g(sg),Og(Pg,Ug)),p(g(ag),r(Wg)),p(g(ig),Eg(Hg)),p(mg([gg,g(eg)]),Lg),p(mg([hg,g(eg)]),Lg),p(g(ng.concat(tg)),(t,o,n,e)=>{return(r=n).focusManager.get(t).bind(e=>Ji(e,r.selector)).bind(e=>n.execute(t,o,e));var r})]),Ug=O([p(g(og),(e,t,o)=>o.onEscape(e,t)),p(g(ng),xg)]),Wg=yg(_g,n,Pg,Ug,()=>B.some(zg));const jg=(e,t,o,r,a)=>{const s=(o,e,n)=>a(o,e,r,0,n.length-1,n[e],e=>{return t=n[e],"button"===xt(t)&&"disabled"===no(t,"disabled")?s(o,e,n):B.from(n[e]);var t});return Fg(e,o,t).bind(e=>{var t=e.index,e=e.candidates;return s(t,t,e)})},Gg=(e,t,o,n)=>jg(e,t,o,n,(e,t,o,n,r,a,s)=>{t=Al(t+o,n,r);return t===e?B.from(a):s(t)}),$g=(e,t,o,n)=>jg(e,t,o,n,(e,t,o,n,r,a,s)=>{t=Dl(t,o,n,r);return t===e?B.none():s(t)});Hg=[s("selector"),m("getInitial",B.none),m("execute",Ql),pl("onEscape"),m("executeOnMove",!1),m("allowVertical",!0),m("allowHorizontal",!0),m("cycles",!0)];const qg=(e,t)=>t.focusManager.get(e).bind(e=>Ji(e,t.selector)),Xg=(t,o,n)=>qg(t,n).bind(e=>n.execute(t,o,e)),Kg=(t,o,e)=>{o.getInitial(t).orThunk(()=>Yi(t.element,o.selector)).each(e=>{o.focusManager.set(t,e)})},Yg=(e,t,o)=>(o.cycles?$g:Gg)(e,o.selector,t,-1),Jg=(e,t,o)=>(o.cycles?$g:Gg)(e,o.selector,t,1),Zg=r=>(e,t,o,n)=>r(e,t,o,n).bind(()=>o.executeOnMove?Xg(e,t,o):B.some(!0));Lg=O([p(g(ng),xg),p(g(og),(e,t,o)=>o.onEscape(e,t))]),_g=yg(Hg,Js.init,(e,t,o,n)=>{var r=[...o.allowHorizontal?rg:[]].concat(o.allowVertical?ag:[]),o=[...o.allowHorizontal?sg:[]].concat(o.allowVertical?ig:[]);return[p(g(r),Zg(Cg(Yg,Jg))),p(g(o),Zg(Og(Yg,Jg))),p(g(tg),Xg),p(g(ng),Xg)]},Lg,()=>B.some(Kg));const Qg=(e,t,o)=>B.from(e[t]).bind(e=>B.from(e[o]).map(e=>({rowIndex:t,columnIndex:o,cell:e}))),ep=(e,t,o,n)=>{var r=e[t].length,o=Dl(o,n,0,r-1);return Qg(e,t,o)},tp=(e,t,o,n)=>{o=Dl(o,n,0,e.length-1),n=e[o].length,t=Al(t,0,n-1);return Qg(e,o,t)},op=(e,t,o,n)=>{var r=e[t].length,o=Al(o+n,0,r-1);return Qg(e,t,o)},np=(e,t,o,n)=>{o=Al(o+n,0,e.length-1),n=e[o].length,t=Al(t,0,n-1);return Qg(e,o,t)};n=[Vr("selectors",[s("row"),s("cell")]),m("cycles",!0),m("previousSelector",B.none),m("execute",Ql)];const rp=(t,o,e)=>{o.previousSelector(t).orThunk(()=>{var e=o.selectors;return Yi(t.element,e.cell)}).each(e=>{o.focusManager.set(t,e)})};Pg=(e,t)=>(o,n,a)=>{const s=a.cycles?e:t;return Ji(n,a.selectors.row).bind(e=>{var t=Nd(e,a.selectors.cell);return Ig(t,n).bind(n=>{const r=Nd(o,a.selectors.row);return Ig(r,e).bind(e=>{o=r,t=a;var t,o=C(o,e=>Nd(e,t.selectors.cell));return s(o,e,n).map(e=>e.cell)})})})},Ug=Pg((e,t,o)=>ep(e,t,o,-1),(e,t,o)=>op(e,t,o,-1)),Hg=Pg((e,t,o)=>ep(e,t,o,1),(e,t,o)=>op(e,t,o,1)),Lg=Pg((e,t,o)=>tp(e,o,t,-1),(e,t,o)=>np(e,o,t,-1)),Pg=Pg((e,t,o)=>tp(e,o,t,1),(e,t,o)=>np(e,o,t,1)),Ug=O([p(g(rg),Cg(Ug,Hg)),p(g(sg),Og(Ug,Hg)),p(g(ag),r(Lg)),p(g(ig),Eg(Pg)),p(g(ng.concat(tg)),(t,o,n)=>pc(t.element).bind(e=>n.execute(t,o,e)))]),Hg=O([p(g(ng),xg)]),r=yg(n,Js.init,Ug,Hg,()=>B.some(rp)),Lg=[s("selector"),m("execute",Ql),m("moveOnTab",!1)],Eg=(t,o,n)=>n.focusManager.get(t).bind(e=>n.execute(t,o,e));const ap=(t,o,e)=>{Yi(t.element,o.selector).each(e=>{o.focusManager.set(t,e)})},sp=(e,t,o)=>$g(e,o.selector,t,-1),ip=(e,t,o)=>$g(e,o.selector,t,1);Pg=O([p(g(ag),Dg(sp)),p(g(ig),Dg(ip)),p(mg([gg,g(eg)]),(e,t,o,n)=>o.moveOnTab?Dg(sp)(e,t,o,n):B.none()),p(mg([hg,g(eg)]),(e,t,o,n)=>o.moveOnTab?Dg(ip)(e,t,o,n):B.none()),p(g(tg),Eg),p(g(ng),Eg)]),n=O([p(g(ng),xg)]),Ug=yg(Lg,Js.init,Pg,n,()=>B.some(ap)),Hg=[pl("onSpace"),pl("onEnter"),pl("onShiftEnter"),pl("onLeft"),pl("onRight"),pl("onTab"),pl("onShiftTab"),pl("onUp"),pl("onDown"),pl("onEscape"),m("stopSpaceKeyup",!1),Lr("focusIn")],Ql=yg(Hg,Js.init,(e,t,o)=>[p(g(ng),o.onSpace),p(mg([hg,g(tg)]),o.onEnter),p(mg([gg,g(tg)]),o.onShiftEnter),p(mg([gg,g(eg)]),o.onShiftTab),p(mg([hg,g(eg)]),o.onTab),p(g(ag),o.onUp),p(g(ig),o.onDown),p(g(rg),o.onLeft),p(g(sg),o.onRight),p(g(ng),o.onSpace)],(e,t,o)=>[...o.stopSpaceKeyup?[p(g(ng),xg)]:[],p(g(og),o.onEscape)],e=>e.focusIn),Eg=om.schema(),Lg=sm.schema(),Pg=_g.schema(),n=Wg.schema(),Hg=r.schema(),om=o.schema(),sm=Ug.schema(),_g=Ql.schema();const P=ic({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Eg,cyclic:Lg,flow:Pg,flatgrid:n,matrix:Hg,execution:om,menu:sm,special:_g}),name:"keying",active:{events:(e,t)=>{return e.handler.toEvents(e,t)}},apis:{focusIn:(t,o,n)=>{o.sendFocusIn(o).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},e=>{e(t,o,n)})},setGridSize:(e,t,o,n,r)=>{var a;a=o,Je(a,"setGridSize")?o.setGridSize(n,r):console.error("Layout does not support setGridSize")}},state:Sg}),lp=(e,t)=>{hc(()=>{fu(e,t,()=>C(t,e.getSystem().build))},e.element)},cp=(e,t)=>{hc(()=>{vu(e,t,()=>Ti(e.element,t,e.getSystem().buildOrPatch))},e.element)},dp=(e,t,o,n)=>{pu(t);t=_i(e.element,o,n,e.getSystem().buildOrPatch);gu(e,t),e.syncComponents()},up=(e,t,o)=>{o=e.getSystem().build(o);yu(e,o,t)},mp=(e,t,o,n)=>{wu(t),up(e,(e,t)=>pn(e,t,o),n)};const gp=(e,t)=>e.components(),pp=(o,n,e,r,a)=>{var t=gp(o);return B.from(t[r]).map(t=>(a.fold(()=>wu(t),e=>{(n.reuseDom?dp:mp)(o,t,r,e)}),t))};Wg=Object.freeze({__proto__:null,append:(e,t,o,n)=>{up(e,gn,n)},prepend:(e,t,o,n)=>{up(e,mn,n)},remove:(e,t,o,n)=>{e=gp(e);Ce(e,e=>Mt(n.element,e.element)).each(wu)},replaceAt:pp,replaceBy:(t,o,e,n,r)=>{var a=gp(t);return Oe(a,n).bind(e=>pp(t,o,0,e,r))},set:(e,t,o,n)=>{return(t.reuseDom?cp:lp)(e,n)},contents:gp});const U=ac({fields:[Qr("reuseDom",!0)],name:"replacing",apis:Wg}),hp=(e,t)=>{t=gs(t);return ac({fields:[s("enabled")],name:e,active:{events:O(t)}})},W=(e,t)=>{return{key:e,value:{config:{},me:hp(e,t),configAsRaw:O({}),initialConfig:{},state:Js}}},fp=(e,t)=>{t.ignore||(dc(e.element),t.onFocus(e))};r=Object.freeze({__proto__:null,focus:fp,blur:(e,t)=>{t.ignore||uc(e.element)},isFocused:e=>mc(e.element)}),o=Object.freeze({__proto__:null,exhibit:(e,t)=>{t=t.ignore?{}:{attributes:{tabindex:"-1"}};return ei(t)},events:o=>gs([R(za(),(e,t)=>{fp(e,o),t.stop()})].concat(o.stopMousedown?[R(wa(),(e,t)=>{t.event.prevent()})]:[]))}),Ug=[t("onFocus"),m("stopMousedown",!1),m("ignore",!1)];const j=ac({fields:Ug,name:"focusing",active:o,apis:r});const vp=(e,t,o)=>{t=t.aria;t.update(e,t,o.get())},bp=(t,e,o)=>{e.toggleClass.each(e=>{(o.get()?pi:fi)(t.element,e)})},yp=(e,t,o,n)=>{var r=o.get();o.set(n),bp(e,t,o),vp(e,t,o),r!==n&&t.onToggled(e,n)},xp=(e,t,o)=>{yp(e,t,o,!o.get())};const wp=(e,t,o)=>{yp(e,t,o,t.selected)};Ql=Object.freeze({__proto__:null,onLoad:wp,toggle:xp,isOn:(e,t,o)=>o.get(),on:(e,t,o)=>{yp(e,t,o,!0)},off:(e,t,o)=>{yp(e,t,o,!1)},set:yp}),Eg=Object.freeze({__proto__:null,exhibit:()=>ei({}),events:(e,t)=>{o=e,n=t,r=xp;var o,n,r,a=_s(e=>{r(e,o,n)}),t=ec(e,t,wp);return gs(_e([e.toggleOnExecute?[a]:[],[t]]))}});const Sp=(e,t,o)=>{E(e.element,"aria-expanded",o)};var kp,Lg=[m("selected",!1),Lr("toggleClass"),m("toggleOnExecute",!0),t("onToggled"),Kr("aria",{mode:"none"},Er("mode",{pressed:[m("syncWithExpanded",!1),vl("update",(e,t,o)=>{E(e.element,"aria-pressed",o),t.syncWithExpanded&&Sp(e,0,o)})],checked:[vl("update",(e,t,o)=>{E(e.element,"aria-checked",o)})],expanded:[vl("update",Sp)],selected:[vl("update",(e,t,o)=>{E(e.element,"aria-selected",o)})],none:[vl("update",k)]}))];const h=ac({fields:Lg,name:"toggling",active:Eg,apis:Ql,state:(kp=!1,{init:()=>{const t=D(kp);return{get:()=>t.get(),set:e=>t.set(e),clear:()=>t.set(kp),readState:()=>t.get()}}})}),Cp=()=>{var e=(e,t)=>{t.stop(),cs(e)};return[R(Ba(),e),R(ja(),e),ws(va()),ws(wa())]},Op=e=>{return gs(_e([e.map(o=>_s((e,t)=>{o(e),t.stop()})).toArray(),Cp()]))},_p="alloy.item-hover",Tp="alloy.item-focus",Ep="alloy.item-toggled",Dp=e=>{(pc(e.element).isNone()||j.isFocused(e))&&(j.isFocused(e)||j.focus(e),M(e,_p,{item:e}))},Ap=e=>{M(e,Tp,{item:e})},Mp=(e,t)=>{M(e,Ep,{item:e,state:t})},Bp=O(_p),Fp=O(Tp),Ip=O(Ep);Pg=[s("data"),s("components"),s("dom"),m("hasSubmenu",!1),Lr("toggling"),Gu.field("itemBehaviours",[h,j,P,S]),m("ignoreFocus",!1),m("domModification",{}),vl("builder",e=>{return{dom:e.dom,domModification:{...e.domModification,attributes:{role:e.toggling.map(e=>e.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Gu.augment(e.itemBehaviours,[e.toggling.fold(h.revoke,e=>{return h.config((o=e,{aria:{mode:"checked"},...$e(o,(e,t)=>"exclusive"!==t),onToggled:(e,t)=>{J(o.onToggled)&&o.onToggled(e,t),Mp(e,t)}}));var o}),j.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:e=>{Ap(e)}}),P.config({mode:"execution"}),S.config({store:{mode:"memory",initialValue:e.data}}),W("item-type-events",[...Cp(),R(Oa(),Dp),R(Wa(),j.focus)])]),components:e.components,eventOrder:e.eventOrder}}),m("eventOrder",{})],n=[s("dom"),s("components"),vl("builder",e=>{return{dom:e.dom,components:e.components,events:gs([(e=Wa(),R(e,(e,t)=>{t.stop()}))])}})];const Rp=O("item-widget"),Np=O([cm({name:"widget",overrides:t=>({behaviours:V([S.config({store:{mode:"manual",getValue:e=>t.data,setValue:k}})])})})]);Hg=[s("uid"),s("data"),s("components"),s("dom"),m("autofocus",!1),m("ignoreFocus",!1),Gu.field("widgetBehaviours",[S,j,P]),m("domModification",{}),_m(Np()),vl("builder",o=>{var e=vm(Rp(),o,Np()),e=bm(Rp(),o,e.internals());const n=e=>ym(e,o,"widget").map(e=>(P.focusIn(e),e));var t=(e,t)=>(Im(t.event.target)||o.autofocus&&t.setSource(e.element),B.none());return{dom:o.dom,components:e,domModification:o.domModification,events:gs([_s((e,t)=>{n(e).each(e=>{t.stop()})}),R(Oa(),Dp),R(Wa(),(e,t)=>{o.autofocus?n(e):j.focus(e)})]),behaviours:Gu.augment(o.widgetBehaviours,[S.config({store:{mode:"memory",initialValue:o.data}}),j.config({ignore:o.ignoreFocus,onFocus:e=>{Ap(e)}}),P.config({mode:"special",focusIn:o.autofocus?e=>{n(e)}:lc(),onLeft:t,onRight:t,onEscape:(e,t)=>j.isFocused(e)||o.autofocus?(o.autofocus&&t.setSource(e.element),B.none()):(j.focus(e),B.some(!0))})])}})];const Vp=Er("type",{widget:Hg,item:Pg,separator:n});om=O([Sd({factory:{sketch:e=>{e=_r("menu.spec item",Vp,e);return e.builder(e)}},name:"items",unit:"item",defaults:(e,t)=>Ye(t,"uid")?t:{...t,uid:Ls("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),sm=O([s("value"),s("items"),s("dom"),s("components"),m("eventOrder",{}),cd("menuBehaviours",[L,S,z,P]),Kr("movement",{mode:"menu",moveOnTab:!0},Er("mode",{grid:[e(),vl("config",(e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}))],matrix:[vl("config",(e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager})),s("rowSelector"),m("previousSelector",B.none)],menu:[m("moveOnTab",!0),vl("config",(e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}))]})),Fr("markers",ul()),m("fakeFocus",!1),m("focusManager",bg()),t("onHighlight"),t("onDehighlight")]);const zp=O("alloy.menu-focus");const Hp=am({name:"Menu",configFields:sm(),partFields:om(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:ju(e.menuBehaviours,[L.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),S.config({store:{mode:"memory",initialValue:e.value}}),z.config({find:B.some}),P.config(e.movement.config(e,e.movement))]),events:gs([R(Fp(),(t,o)=>{var e=o.event;t.getSystem().getByDom(e.target).each(e=>{L.highlight(t,e),o.stop(),M(t,zp(),{menu:t,item:e})})}),R(Bp(),(e,t)=>{t=t.event.item;L.highlight(e,t)}),R(Ip(),(e,t)=>{var o,n,{item:t,state:r}=t.event;r&&"menuitemradio"===no(t.element,"role")&&(o=e,n=t,r=Nd(o.element,'[role="menuitemradio"][aria-checked="true"]'),_(r,e=>{Mt(e,n.element)||o.getSystem().getByDom(e).each(e=>{h.off(e)})}))})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),Lp=e=>We(e,(e,t)=>({k:e,v:t})),Pp=(o,n,r,e)=>T(r,e).bind(e=>T(o,e).bind(e=>{var t=Pp(o,n,r,e);return B.some([e].concat(t))})).getOr([]);var Up;const Wp=e=>"prepared"===e.type?B.some(e.menu):B.none(),jp={init:()=>{const r=D({}),a=D({}),i=D({}),l=Bc(),s=D({});const c=o=>Xe(r.get(),(e,t)=>e===o);const d=e=>t(e).bind(Wp),t=e=>T(a.get(),e),o=e=>T(r.get(),e);return{setMenuBuilt:(e,t)=>{a.set({...a.get(),[e]:{type:"prepared",menu:t}})},setContents:(e,t,o,n)=>{l.set(e),r.set(o),a.set(t),s.set(n);e=((e,t)=>{const o={},n=(Pe(e,(e,t)=>{_(e,e=>{o[e]=t})}),t),r=Lp(t),a=Ue(r,(e,t)=>[t].concat(Pp(o,n,r,t)));return Ue(o,e=>T(a,e).getOr([e]))})(n,o);i.set(e)},expand:o=>T(r.get(),o).map(e=>{var t=T(i.get(),o).getOr([]);return[e].concat(t)}),refresh:e=>T(i.get(),e),collapse:e=>T(i.get(),e).bind(e=>1<e.length?B.some(e.slice(1)):B.none()),lookupMenu:t,lookupItem:o,otherMenus:e=>{var t=s.get();return Ae(He(t),e)},getPrimary:()=>l.get().bind(d),getMenus:()=>a.get(),clear:()=>{r.set({}),a.set({}),i.set({}),l.clear()},isClear:()=>l.get().isNone(),getTriggeringPath:(e,s)=>{const r=xe(o(e).toArray(),e=>d(e).isSome());return T(i.get(),e).bind(e=>{const a=De(r.concat(e));var t=Te(a,(e,t)=>{return o=e,n=s,r=a.slice(0,t+1),d(o).bind(t=>c(o).bind(e=>n(e).map(e=>({triggeredMenu:t,triggeringItem:e,triggeringPath:r})))).fold(()=>Ze(l.get(),e)?[]:[B.none()],e=>[B.some(e)]);var o,n,r}),o=[];for(let e=0;e<t.length;e++){var n=t[e];if(!n.isSome())return B.none();o.push(n.getOrDie())}return B.some(o)})}}},extractPreparedMenu:Wp},Gp=N("tiered-menu-item-highlight"),$p=N("tiered-menu-item-dehighlight");(_g=Up=Up||{})[_g.HighlightMenuAndItem=0]="HighlightMenuAndItem",_g[_g.HighlightJustMenu=1]="HighlightJustMenu",_g[_g.HighlightNone=2]="HighlightNone";const qp=O("collapse-item");const Xp=Fm({name:"TieredMenu",configFields:[fl("onExecute"),fl("onEscape"),hl("onOpenMenu"),hl("onOpenSubmenu"),t("onRepositionMenu"),t("onCollapseMenu"),m("highlightOnOpen",Up.HighlightMenuAndItem),Vr("data",[s("primary"),s("menus"),s("expansions")]),m("fakeFocus",!1),t("onHighlightItem"),t("onDehighlightItem"),t("onHover"),Rs(),s("dom"),m("navigateOnHover",!0),m("stayInDom",!1),cd("tmenuBehaviours",[P,L,z,U]),m("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:(l,e)=>{const n=Bc(),o=(n,r,e)=>Ue(e,(e,t)=>{var o=()=>Hp.sketch({...e,value:t,markers:l.markers,fakeFocus:l.fakeFocus,onHighlight:(e,t)=>{t={menuComp:e,itemComp:t};M(e,Gp,t)},onDehighlight:(e,t)=>{t={menuComp:e,itemComp:t};M(e,$p,t)},focusManager:(l.fakeFocus?()=>{const n=e=>L.getHighlighted(e).map(e=>e.element);return{get:n,set:(t,e)=>{var o=n(t),e=(t.getSystem().getByDom(e).fold(k,e=>{L.highlight(t,e)}),n(t));vg(t,o,e)}}}:bg)()});return t===r?{type:"prepared",menu:n.getSystem().build(o())}:{type:"notbuilt",nbMenu:o}}),c=jp.init(),r=e=>{var e=o(e,l.data.primary,l.data.menus),t=Ue(l.data.menus,(e,t)=>Te(e.items,e=>"separator"===e.type?[]:[e.data.value]));return c.setContents(l.data.primary,e,l.data.expansions,t),c.getPrimary()},d=e=>S.getValue(e).value,a=L.highlight,s=(t,o)=>{a(t,o),L.getHighlighted(o).orThunk(()=>L.getFirst(o)).each(e=>{l.fakeFocus?L.highlight(o,e):ds(t,e.element,Wa())})},i=(t,e)=>Qe(C(e,e=>t.lookupMenu(e).bind(e=>"prepared"===e.type?B.some(e.menu):B.none()))),u=(t,e,o)=>{e=i(e,e.otherMenus(o));_(e,e=>{yi(e.element,[l.markers.backgroundMenu]),l.stayInDom||U.remove(t,e)})},t=t=>n.get().getOrThunk(()=>{const o={};var e=Nd(t.element,"."+l.markers.item),e=xe(e,e=>"true"===no(e,"aria-haspopup"));return _(e,e=>{t.getSystem().getByDom(e).each(e=>{var t=d(e);o[t]=e})}),n.set(o),o}),m=(e,o)=>{e=t(e);Pe(e,(e,t)=>{t=pe(o,t);E(e.element,"aria-expanded",t)})},g=(o,n,r)=>B.from(r[0]).bind(e=>n.lookupMenu(e).bind(e=>{var t;return"notbuilt"===e.type?B.none():(e=e.menu,t=i(n,r.slice(1)),_(t,e=>{pi(e.element,l.markers.backgroundMenu)}),Qt(e.element)||U.append(o,Ui(e)),yi(e.element,[l.markers.backgroundMenu]),s(o,e),u(o,n,r),B.some(e))}));let p;(v=p=p||{})[v.HighlightSubmenu=0]="HighlightSubmenu",v[v.HighlightParent=1]="HighlightParent";const h=(a,s,i=p.HighlightSubmenu)=>{var e;return s.hasConfigured(H)&&H.isDisabled(s)?B.some(s):(e=d(s),c.expand(e).bind(r=>(m(a,r),B.from(r[0]).bind(n=>c.lookupMenu(n).bind(e=>{t=a,o=n;var t,o="notbuilt"===(e=e).type?(t=t.getSystem().build(e.nbMenu()),c.setMenuBuilt(o,t),t):e.menu;return Qt(o.element)||U.append(a,Ui(o)),l.onOpenSubmenu(a,s,o,De(r)),i===p.HighlightSubmenu?(L.highlightFirst(o),g(a,c,r)):(L.dehighlightAll(o),B.some(s))})))))},f=(t,o)=>{var e=d(o);return c.collapse(e).bind(e=>(m(t,e),g(t,c,e).map(e=>(l.onCollapseMenu(t,o,e),e))))};var v=o=>(t,e)=>Ji(e.getSource(),"."+l.markers.item).bind(e=>t.getSystem().getByDom(e).toOptional().bind(e=>o(t,e).map(le))),b=gs([R(zp(),(t,o)=>{var e=o.event.item;c.lookupItem(d(e)).each(()=>{var e=o.event.menu,e=(L.highlight(t,e),d(o.event.item));c.refresh(e).each(e=>u(t,c,e))})}),_s((t,e)=>{e=e.event.target;t.getSystem().getByDom(e).each(e=>{0===d(e).indexOf("collapse-item")&&f(t,e),h(t,e,p.HighlightSubmenu).fold(()=>{l.onExecute(t,e)},k)})}),ks((t,e)=>{r(t).each(e=>{U.append(t,Ui(e)),l.onOpenMenu(t,e),l.highlightOnOpen===Up.HighlightMenuAndItem?s(t,e):l.highlightOnOpen===Up.HighlightJustMenu&&a(t,e)})}),R(Gp,(e,t)=>{l.onHighlightItem(e,t.event.menuComp,t.event.itemComp)}),R($p,(e,t)=>{l.onDehighlightItem(e,t.event.menuComp,t.event.itemComp)}),...l.navigateOnHover?[R(Bp(),(e,t)=>{var t=t.event.item,o=e,n=t;n=d(n),c.refresh(n).bind(e=>(m(o,e),g(o,c,e))),h(e,t,p.HighlightParent),l.onHover(e,t)})]:[]]);const y=e=>L.getHighlighted(e).bind(L.getHighlighted);var x={collapseMenu:t=>{y(t).each(e=>{f(t,e)})},highlightPrimary:t=>{c.getPrimary().each(e=>{s(t,e)})},repositionMenus:o=>{c.getPrimary().bind(t=>y(o).bind(e=>{var e=d(e),t=Ke(c.getMenus());const n=Qe(C(t,jp.extractPreparedMenu));return c.getTriggeringPath(e,e=>{return t=n,o=e,ze(t,e=>{return e.getSystem().isConnected()?(e=L.getCandidates(e),Ce(e,e=>d(e)===o)):B.none()});var t,o})}).map(e=>({primary:t,triggeringPath:e}))).fold(()=>{var e;e=o,B.from(e.components()[0]).filter(e=>"menu"===no(e.element,"role")).each(e=>{l.onRepositionMenu(o,e,[])})},({primary:e,triggeringPath:t})=>{l.onRepositionMenu(o,e,t)})}};return{uid:l.uid,dom:l.dom,markers:l.markers,behaviours:ju(l.tmenuBehaviours,[P.config({mode:"special",onRight:v((e,t)=>Im(t.element)?B.none():h(e,t,p.HighlightSubmenu)),onLeft:v((e,t)=>Im(t.element)?B.none():f(e,t)),onEscape:v((e,t)=>f(e,t).orThunk(()=>l.onEscape(e,t).map(()=>e))),focusIn:(t,e)=>{c.getPrimary().each(e=>{ds(t,e.element,Wa())})}}),L.config({highlightClass:l.markers.selectedMenu,itemClass:l.markers.menu}),z.config({find:e=>L.getHighlighted(e)}),U.config({})]),eventOrder:l.eventOrder,apis:x,events:b}},extraApis:{tieredData:(e,t,o)=>({primary:e,menus:t,expansions:o}),singleData:(e,t)=>({primary:e,menus:ia(e,t),expansions:{}}),collapseItem:e=>({value:N(qp()),meta:{text:e}})}});const Kp=Fm({name:"InlineView",configFields:[s("lazySink"),t("onShow"),t("onHide"),Gr("onEscape"),cd("inlineBehaviours",[d,S,cc]),qr("fireDismissalEventInstead",[m("event",ts())]),qr("fireRepositionEventInstead",[m("event",Va())]),m("getRelated",B.none),m("isExtraPart",ie),m("eventOrder",B.none)],factory:(a,e)=>{const r=(e,t,o,n)=>{const r=a.lazySink(e).getOrDie();d.openWhileCloaked(e,t,()=>cu.positionWithinBounds(r,e,o,n())),S.setValue(e,B.some({mode:"position",config:o,getBounds:n}))};const n=(e,t,o,n)=>{t=((e,t,r,o,a)=>{const s=()=>e.lazySink(t),n="horizontal"===o.type?{layouts:{onLtr:()=>Jl(),onRtl:()=>Zl()}}:{},i=e=>2===e.length?n:{};return Xp.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightOnOpen:o.menu.highlightOnOpen,fakeFocus:o.menu.fakeFocus,onEscape:()=>(d.close(t),e.onEscape.map(e=>e(t)),B.some(!0)),onExecute:()=>B.some(!0),onOpenMenu:(e,t)=>{cu.positionWithinBounds(s().getOrDie(),t,r,a())},onOpenSubmenu:(e,t,o,n)=>{var r=s().getOrDie();cu.position(r,o,{anchor:{type:"submenu",item:t,...i(n)}})},onRepositionMenu:(e,t,o)=>{const n=s().getOrDie();cu.positionWithinBounds(n,t,r,a()),_(o,e=>{var t=i(e.triggeringPath);cu.position(n,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem,...t}})})}})})(a,e,t,o,n);d.open(e,t),S.setValue(e,B.some({mode:"menu",menu:t}))};var t=o=>{d.isOpen(o)&&S.getValue(o).each(e=>{switch(e.mode){case"menu":d.getState(o).each(Xp.repositionMenus);break;case"position":var t=a.lazySink(o).getOrDie();cu.positionWithinBounds(t,o,e.config,e.getBounds())}})},o={setContent:(e,t)=>{d.setContent(e,t)},showAt:(e,t,o)=>{var n=B.none;r(e,t,o,n)},showWithinBounds:r,showMenuAt:(e,t,o)=>{n(e,t,o,B.none)},showMenuWithinBounds:n,hide:e=>{d.isOpen(e)&&(S.setValue(e,B.none()),d.close(e))},getContent:e=>d.getState(e),reposition:t,isOpen:d.isOpen};return{uid:a.uid,dom:a.dom,behaviours:ju(a.inlineBehaviours,[d.config({isPartOf:(e,t,o)=>{return tl(t,o)||(n=o,a.getRelated(e).exists(e=>tl(e,n)));var n},getAttachPoint:e=>a.lazySink(e).getOrDie(),onOpen:e=>{a.onShow(e)},onClose:e=>{a.onHide(e)}}),S.config({store:{mode:"memory",initialValue:B.none()}}),cc.config({channels:{...Vu({isExtraPart:e.isExtraPart,...a.fireDismissalEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({})}),...Hu({...a.fireRepositionEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({}),doReposition:t})}})]),eventOrder:a.eventOrder,apis:o}},apis:{showAt:(e,t,o,n)=>{e.showAt(t,o,n)},showWithinBounds:(e,t,o,n,r)=>{e.showWithinBounds(t,o,n,r)},showMenuAt:(e,t,o,n)=>{e.showMenuAt(t,o,n)},showMenuWithinBounds:(e,t,o,n,r)=>{e.showMenuWithinBounds(t,o,n,r)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,o)=>{e.setContent(t,o)},reposition:(e,t)=>{e.reposition(t)}}});var Yp=tinymce.util.Tools.resolve("tinymce.util.Delay");const Jp=Fm({name:"Button",factory:e=>{var t=Op(e.action);const o=e.dom.tag,n=t=>T(e.dom,"attributes").bind(e=>T(e,t));return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:Gu.augment(e.buttonBehaviours,[j.config({}),P.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:"button"===o?{type:n("type").getOr("button"),...n("role").map(e=>({role:e})).getOr({})}:{role:e.role.getOr(n("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[m("uid",void 0),s("dom"),m("components",[]),Gu.field("buttonBehaviours",[j,P]),Lr("action"),Lr("role"),m("eventOrder",{})]}),Zp=e=>{e=void 0!==e.dom.attributes?e.dom.attributes:[];return Se(e,(e,t)=>"class"===t.name?e:{...e,[t.name]:t.value},{})},Qp=e=>Array.prototype.slice.call(e.dom.classList,0),eh=e=>{var e=w.fromHtml(e),t=Lt(e),o=Zp(e),n=Qp(e),t=0===t.length?{}:{innerHtml:Es(e)};return{tag:xt(e),classes:n,attributes:o,...t}},th=e=>{const t=Am(e)&&Je(e,"uid")?e.uid:Ls("memento");return{get:e=>e.getSystem().getByUid(t).getOrDie(),getOpt:e=>e.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};function oh(e){return(oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nh(e,t){return(nh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rh(e,t,o){return(rh=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(e){}}}()?Reflect.construct:function(e,t,o){var n=[null];n.push.apply(n,t);t=new(Function.bind.apply(e,n));return o&&nh(t,o.prototype),t}).apply(null,arguments)}function ah(e){return function(e){if(Array.isArray(e))return sh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var o;if(e)return"string"==typeof e?sh(e,t):"Map"===(o="Object"===(o=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:o)||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?sh(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sh(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var ih,lh=Object.hasOwnProperty,ch=Object.setPrototypeOf,dh=Object.isFrozen,uh=Object.getPrototypeOf,mh=Object.getOwnPropertyDescriptor,gh=Object.freeze,Sg=Object.seal,ph=Object.create,Wg="undefined"!=typeof Reflect&&Reflect,hh=(hh=Wg.apply)||function(e,t,o){return e.apply(t,o)},gh=gh||function(e){return e},Sg=Sg||function(e){return e},fh=(fh=Wg.construct)||function(e,t){return rh(e,ah(t))},vh=Th(Array.prototype.forEach),bh=Th(Array.prototype.pop),yh=Th(Array.prototype.push),xh=Th(String.prototype.toLowerCase),wh=Th(String.prototype.match),Sh=Th(String.prototype.replace),kh=Th(String.prototype.indexOf),Ch=Th(String.prototype.trim),Oh=Th(RegExp.prototype.test),_h=(ih=TypeError,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return fh(ih,t)});function Th(r){return function(e){for(var t=arguments.length,o=new Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return hh(r,e,o)}}function Eh(e,t){ch&&ch(e,null);for(var o=t.length;o--;){var n,r=t[o];"string"==typeof r&&(n=xh(r))!==r&&(dh(t)||(t[o]=n),r=n),e[r]=!0}return e}function Dh(e){var t,o=ph(null);for(t in e)hh(lh,e,[t])&&(o[t]=e[t]);return o}function Ah(e,t){for(;null!==e;){var o=mh(e,t);if(o){if(o.get)return Th(o.get);if("function"==typeof o.value)return Th(o.value)}e=uh(e)}return function(e){return console.warn("fallback value for",e),null}}var Mh=gh(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bh=gh(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Fh=gh(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ih=gh(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Rh=gh(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Nh=gh(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Vh=gh(["#text"]),zh=gh(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Hh=gh(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Lh=gh(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ph=gh(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Uh=Sg(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Wh=Sg(/<%[\w\W]*|[\w\W]*%>/gm),jh=Sg(/^data-[\-\w.\u00B7-\uFFFF]/),Gh=Sg(/^aria-[\-\w]+$/),$h=Sg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),qh=Sg(/^(?:\w+script|data):/i),Xh=Sg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Kh=Sg(/^html$/i);var Yh=function N(e){var i=0<arguments.length&&void 0!==e?e:"undefined"==typeof window?null:window,c=function(e){return N(e)};if(c.version="2.3.8",c.removed=[],i&&i.document&&9===i.document.nodeType){var l=i.document,r=i.document,V=i.DocumentFragment,e=i.HTMLTemplateElement,d=i.Node,z=i.Element,t=i.NodeFilter,H=void 0===(o=i.NamedNodeMap)?i.NamedNodeMap||i.MozNamedAttrMap:o,L=i.HTMLFormElement,P=i.DOMParser,o=i.trustedTypes,U=Ah(n=z.prototype,"cloneNode"),W=Ah(n,"nextSibling"),j=Ah(n,"childNodes"),u=Ah(n,"parentNode"),m=("function"==typeof e&&(n=r.createElement("template")).content&&n.content.ownerDocument&&(r=n.content.ownerDocument),function(e,t){if("object"!==oh(e)||"function"!=typeof e.createPolicy)return null;var o=null,n="data-tt-policy-suffix",t="dompurify"+((o=t.currentScript&&t.currentScript.hasAttribute(n)?t.currentScript.getAttribute(n):o)?"#"+o:"");try{return e.createPolicy(t,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+t+" could not be created."),null}}(o,l)),G=m?m.createHTML(""):"",e=r,a=e.implementation,$=e.createNodeIterator,q=e.createDocumentFragment,X=e.getElementsByTagName,K=l.importNode,n={};try{n=Dh(r).documentMode?r.documentMode:{}}catch(e){}var Y,s,g,p={},h=(c.isSupported="function"==typeof u&&a&&void 0!==a.createHTMLDocument&&9!==n,Uh),J=Wh,Z=jh,Q=Gh,ee=qh,te=Xh,oe=$h,f=null,ne=Eh({},[].concat(ah(Mh),ah(Bh),ah(Fh),ah(Rh),ah(Vh))),v=null,re=Eh({},[].concat(ah(zh),ah(Hh),ah(Lh),ah(Ph))),b=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),y=null,ae=null,se=!0,ie=!0,le=!1,x=!1,w=!1,ce=!1,de=!1,S=!1,k=!1,C=!1,ue=!0,me=!0,O=!1,_={},T=null,ge=Eh({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pe=null,he=Eh({},["audio","video","img","source","image","track"]),fe=null,ve=Eh({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),be="http://www.w3.org/1998/Math/MathML",ye="http://www.w3.org/2000/svg",E="http://www.w3.org/1999/xhtml",D=E,xe=["application/xhtml+xml","text/html"],A=null,we=r.createElement("form"),Se=function(e){return e instanceof RegExp||e instanceof Function},ke=function(e){A&&A===e||(e=Dh(e=e&&"object"===oh(e)?e:{}),f="ALLOWED_TAGS"in e?Eh({},e.ALLOWED_TAGS):ne,v="ALLOWED_ATTR"in e?Eh({},e.ALLOWED_ATTR):re,fe="ADD_URI_SAFE_ATTR"in e?Eh(Dh(ve),e.ADD_URI_SAFE_ATTR):ve,pe="ADD_DATA_URI_TAGS"in e?Eh(Dh(he),e.ADD_DATA_URI_TAGS):he,T="FORBID_CONTENTS"in e?Eh({},e.FORBID_CONTENTS):ge,y="FORBID_TAGS"in e?Eh({},e.FORBID_TAGS):{},ae="FORBID_ATTR"in e?Eh({},e.FORBID_ATTR):{},_="USE_PROFILES"in e&&e.USE_PROFILES,se=!1!==e.ALLOW_ARIA_ATTR,ie=!1!==e.ALLOW_DATA_ATTR,le=e.ALLOW_UNKNOWN_PROTOCOLS||!1,x=e.SAFE_FOR_TEMPLATES||!1,w=e.WHOLE_DOCUMENT||!1,S=e.RETURN_DOM||!1,k=e.RETURN_DOM_FRAGMENT||!1,C=e.RETURN_TRUSTED_TYPE||!1,de=e.FORCE_BODY||!1,ue=!1!==e.SANITIZE_DOM,me=!1!==e.KEEP_CONTENT,O=e.IN_PLACE||!1,oe=e.ALLOWED_URI_REGEXP||oe,D=e.NAMESPACE||E,e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(b.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Se(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(b.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(b.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),s=s=-1===xe.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,g="application/xhtml+xml"===s?function(e){return e}:xh,x&&(ie=!1),k&&(S=!0),_&&(f=Eh({},ah(Vh)),v=[],!0===_.html&&(Eh(f,Mh),Eh(v,zh)),!0===_.svg&&(Eh(f,Bh),Eh(v,Hh),Eh(v,Ph)),!0===_.svgFilters&&(Eh(f,Fh),Eh(v,Hh),Eh(v,Ph)),!0===_.mathMl)&&(Eh(f,Rh),Eh(v,Lh),Eh(v,Ph)),e.ADD_TAGS&&Eh(f=f===ne?Dh(f):f,e.ADD_TAGS),e.ADD_ATTR&&Eh(v=v===re?Dh(v):v,e.ADD_ATTR),e.ADD_URI_SAFE_ATTR&&Eh(fe,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&Eh(T=T===ge?Dh(T):T,e.FORBID_CONTENTS),me&&(f["#text"]=!0),w&&Eh(f,["html","head","body"]),f.table&&(Eh(f,["tbody"]),delete y.tbody),gh&&gh(e),A=e)},Ce=Eh({},["mi","mo","mn","ms","mtext"]),Oe=Eh({},["foreignobject","desc","title","annotation-xml"]),_e=Eh({},["title","style","font","a","script"]),M=Eh({},Bh),Te=(Eh(M,Fh),Eh(M,Ih),Eh({},Rh)),B=(Eh(Te,Nh),function(t){yh(c.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=G}catch(e){t.remove()}}}),F=function(e,t){try{yh(c.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){yh(c.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!v[e])if(S||k)try{B(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ee=function(e){de?e="<remove></remove>"+e:o=(o=wh(e,/^[\r\n\t ]+/))&&o[0],"application/xhtml+xml"===s&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var t,o,n=m?m.createHTML(e):e;if(D===E)try{t=(new P).parseFromString(n,s)}catch(e){}if(!t||!t.documentElement){t=a.createDocument(D,"template",null);try{t.documentElement.innerHTML=Y?"":n}catch(e){}}return n=t.body||t.documentElement,e&&o&&n.insertBefore(r.createTextNode(o),n.childNodes[0]||null),D===E?X.call(t,w?"html":"body")[0]:w?t.documentElement:n},De=function(e){return $.call(e.ownerDocument||e,e,t.SHOW_ELEMENT|t.SHOW_COMMENT|t.SHOW_TEXT,null,!1)},I=function(e){return"object"===oh(d)?e instanceof d:e&&"object"===oh(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},R=function(e,t,o){p[e]&&vh(p[e],function(e){e.call(c,t,o,A)})},Ae=function(e){if(R("beforeSanitizeElements",e,null),(!((a=e)instanceof L)||"string"==typeof a.nodeName&&"string"==typeof a.textContent&&"function"==typeof a.removeChild&&a.attributes instanceof H&&"function"==typeof a.removeAttribute&&"function"==typeof a.setAttribute&&"string"==typeof a.namespaceURI&&"function"==typeof a.insertBefore)&&!Oh(/[\u0080-\uFFFF]/,e.nodeName)){var t,o,n,r,a=g(e.nodeName);if(R("uponSanitizeElement",e,{tagName:a,allowedTags:f}),(!e.hasChildNodes()||I(e.firstElementChild)||I(e.content)&&I(e.content.firstElementChild)||!Oh(/<[/\w]/g,e.innerHTML)||!Oh(/<[/\w]/g,e.textContent))&&("select"!==a||!Oh(/<template/i,e.innerHTML))){if(f[a]&&!y[a])return e instanceof z&&((o=u(t=e))&&o.tagName||(o={namespaceURI:E,tagName:"template"}),n=xh(t.tagName),r=xh(o.tagName),t.namespaceURI===ye?o.namespaceURI===E?"svg"!==n:o.namespaceURI===be?"svg"!==n||"annotation-xml"!==r&&!Ce[r]:!Boolean(M[n]):t.namespaceURI===be?o.namespaceURI===E?"math"!==n:o.namespaceURI===ye?"math"!==n||!Oe[r]:!Boolean(Te[n]):t.namespaceURI!==E||o.namespaceURI===ye&&!Oe[r]||o.namespaceURI===be&&!Ce[r]||Te[n]||!_e[n]&&M[n])||("noscript"===a||"noembed"===a)&&Oh(/<\/no(script|embed)/i,e.innerHTML)?(B(e),!0):(x&&3===e.nodeType&&(t=e.textContent,t=Sh(t,h," "),t=Sh(t,J," "),e.textContent!==t)&&(yh(c.removed,{element:e.cloneNode()}),e.textContent=t),R("afterSanitizeElements",e,null),!1);if(!y[a]&&Be(a)){if(b.tagNameCheck instanceof RegExp&&Oh(b.tagNameCheck,a))return!1;if(b.tagNameCheck instanceof Function&&b.tagNameCheck(a))return!1}if(me&&!T[a]){var s=u(e)||e.parentNode,i=j(e)||e.childNodes;if(i&&s)for(var l=i.length-1;0<=l;--l)s.insertBefore(U(i[l],!0),W(e))}}}return B(e),!0},Me=function(e,t,o){if(ue&&("id"===t||"name"===t)&&(o in r||o in we))return!1;if((!ie||ae[t]||!Oh(Z,t))&&(!se||!Oh(Q,t)))if(!v[t]||ae[t]){if(!(Be(e)&&(b.tagNameCheck instanceof RegExp&&Oh(b.tagNameCheck,e)||b.tagNameCheck instanceof Function&&b.tagNameCheck(e))&&(b.attributeNameCheck instanceof RegExp&&Oh(b.attributeNameCheck,t)||b.attributeNameCheck instanceof Function&&b.attributeNameCheck(t))||"is"===t&&b.allowCustomizedBuiltInElements&&(b.tagNameCheck instanceof RegExp&&Oh(b.tagNameCheck,o)||b.tagNameCheck instanceof Function&&b.tagNameCheck(o))))return!1}else if(!fe[t]&&!Oh(oe,Sh(o,te,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==kh(o,"data:")||!pe[e])&&(!le||Oh(ee,Sh(o,te,"")))&&o)return!1;return!0},Be=function(e){return 0<e.indexOf("-")},Fe=function(t){R("beforeSanitizeAttributes",t,null);var e=t.attributes;if(e){for(var o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:v},n=e.length;n--;){var r=(s=e[n]).name,a=s.namespaceURI,s="value"===r?s.value:Ch(s.value),i=g(r),l=s;if(o.attrName=i,o.attrValue=s,o.keepAttr=!0,o.forceKeepAttr=void 0,R("uponSanitizeAttribute",t,o),s=o.attrValue,!o.forceKeepAttr)if(o.keepAttr)if(Oh(/\/>/i,s))F(r,t);else{x&&(s=Sh(s,h," "),s=Sh(s,J," "));var c=g(t.nodeName);if(Me(c,i,s)){if(s!==l)try{a?t.setAttributeNS(a,r,s):t.setAttribute(r,s)}catch(e){F(r,t)}}else F(r,t)}else F(r,t)}R("afterSanitizeAttributes",t,null)}},Ie=function e(t){var o,n=De(t);for(R("beforeSanitizeShadowDOM",t,null);o=n.nextNode();)R("uponSanitizeShadowNode",o,null),Ae(o)||(o.content instanceof V&&e(o.content),Fe(o));R("afterSanitizeShadowDOM",t,null)};c.sanitize=function(e,t){var o,n,r,a;if("string"!=typeof(e=(Y=!e)?"\x3c!--\x3e":e)&&!I(e)){if("function"!=typeof e.toString)throw _h("toString is not a function");if("string"!=typeof(e=e.toString()))throw _h("dirty is not a string, aborting")}if(!c.isSupported){if("object"===oh(i.toStaticHTML)||"function"==typeof i.toStaticHTML){if("string"==typeof e)return i.toStaticHTML(e);if(I(e))return i.toStaticHTML(e.outerHTML)}return e}if(ce||ke(t),c.removed=[],O="string"!=typeof e&&O){if(e.nodeName){t=g(e.nodeName);if(!f[t]||y[t])throw _h("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)1===(t=(o=Ee("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===t.nodeName||"HTML"===t.nodeName?o=t:o.appendChild(t);else{if(!S&&!x&&!w&&-1===e.indexOf("<"))return m&&C?m.createHTML(e):e;if(!(o=Ee(e)))return S?null:C?G:""}o&&de&&B(o.firstChild);for(var s=De(O?e:o);n=s.nextNode();)3===n.nodeType&&n===r||Ae(n)||(n.content instanceof V&&Ie(n.content),Fe(n),r=n);if(r=null,O)return e;if(S){if(k)for(a=q.call(o.ownerDocument);o.firstChild;)a.appendChild(o.firstChild);else a=o;return a=v.shadowroot?K.call(l,a,!0):a}return t=w?o.outerHTML:o.innerHTML,w&&f["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&Oh(Kh,o.ownerDocument.doctype.name)&&(t="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+t),x&&(t=Sh(t,h," "),t=Sh(t,J," ")),m&&C?m.createHTML(t):t},c.setConfig=function(e){ke(e),ce=!0},c.clearConfig=function(){A=null,ce=!1},c.isValidAttribute=function(e,t,o){return A||ke({}),e=g(e),t=g(t),Me(e,t,o)},c.addHook=function(e,t){"function"==typeof t&&(p[e]=p[e]||[],yh(p[e],t))},c.removeHook=function(e){if(p[e])return bh(p[e])},c.removeHooks=function(e){p[e]&&(p[e]=[])},c.removeAllHooks=function(){p={}}}else c.isSupported=!1;return c}();const Jh=e=>Yh().sanitize(e);var Zh=tinymce.util.Tools.resolve("tinymce.util.I18n");const Qh={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},ef="temporary-placeholder",tf=e=>()=>T(e,ef).getOr("!not found!"),of=(e,t)=>{var o,n,e=e.toLowerCase();return Zh.isRtl()&&(o=e,n="-rtl",o=lt(o,n)?o:o+n,Ye(t,o))?o:e},nf=(e,t)=>T(t,of(e,t)),rf=(e,t)=>{t=t();return nf(e,t).getOrThunk(tf(t))},af=()=>W("add-focusable",[ks(e=>{Ki(e.element,"svg").each(e=>E(e,"focusable","false"))})]),sf=(e,t,o,n)=>{r=t;var r=!!Zh.isRtl()&&Ye(Qh,r)?["tox-icon--flip"]:[],t=T(o,of(t,o)).or(n).getOrThunk(tf(o));return{dom:{tag:e.tag,attributes:null!=(n=e.attributes)?n:{},classes:e.classes.concat(r),innerHtml:t},behaviours:V([...null!=(o=e.behaviours)?o:[],af()])}},lf=(e,t,o,n=B.none())=>sf(t,e,o(),n),cf={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"};const df=Fm({name:"Notification",factory:t=>{const o=th({dom:eh(`<p>${Jh(t.translationProvider(t.text))}</p>`),behaviours:V([U.config({})])}),n=e=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:e+"%"}}}),r=e=>({dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}),a=th({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:V([U.config({})])});var e={updateProgress:(e,t)=>{e.getSystem().isConnected()&&a.getOpt(e).each(e=>{U.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])})},updateText:(e,t)=>{e.getSystem().isConnected()&&(e=o.get(e),U.set(e,[Ni(t)]))}},s=_e([t.icon.toArray(),t.level.toArray(),t.level.bind(e=>B.from(cf[e])).toArray()]);const i=th(Jp.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[lf("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:e=>{t.onAction(e)}}));s=[((e,t,o)=>{const n=o();o=Ce(e,e=>Ye(n,of(e,n)));return sf(t,o.getOr(ef),n,B.none())})(s,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),{dom:{tag:"div",classes:["tox-notification__body"]},components:[o.asSpec()],behaviours:V([U.config({})])}];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(e=>["tox-notification","tox-notification--in","tox-notification--"+e]).getOr(["tox-notification","tox-notification--in"])},behaviours:V([j.config({}),W("notification-events",[R(_a(),e=>{i.getOpt(e).each(j.focus)})])]),components:s.concat(t.progress?[a.asSpec()]:[]).concat(t.closeButton?[i.asSpec()]:[]),apis:e}},configFields:[Lr("level"),s("progress"),Lr("icon"),s("onAction"),s("text"),s("iconProvider"),s("translationProvider"),Qr("closeButton",!0)],apis:{updateProgress:(e,t,o)=>{e.updateProgress(t,o)},updateText:(e,t,o)=>{e.updateText(t,o)}}});var uf,mf,gf=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),pf=tinymce.util.Tools.resolve("tinymce.EditorManager"),hf=tinymce.util.Tools.resolve("tinymce.Env"),r=((Ug=uf=uf||{}).default="wrap",Ug.floating="floating",Ug.sliding="sliding",Ug.scrolling="scrolling",(o=mf=mf||{}).auto="auto",o.top="top",o.bottom="bottom",t=>e=>e.options.get(t)),Lg=t=>e=>B.from(t(e));const ff=e=>{var t=hf.deviceType.isPhone(),o=hf.deviceType.isTablet()||t;const n=e.options.register;var r=e=>b(e)||!1===e,a=e=>b(e)||Z(e);n("skin",{processor:e=>b(e)||!1===e,default:"oxide"}),n("skin_url",{processor:"string"}),n("height",{processor:a,default:Math.max(e.getElement().offsetHeight,400)}),n("width",{processor:a,default:gf.DOM.getStyle(e.getElement(),"width")}),n("min_height",{processor:"number",default:100}),n("min_width",{processor:"number"}),n("max_height",{processor:"number"}),n("max_width",{processor:"number"}),n("style_formats",{processor:"object[]"}),n("style_formats_merge",{processor:"boolean",default:!1}),n("style_formats_autohide",{processor:"boolean",default:!1}),n("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),n("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),n("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),n("font_size_input_default_unit",{processor:"string",default:"pt"}),n("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),n("content_langs",{processor:"object[]"}),n("removed_menuitems",{processor:"string",default:""}),n("menubar",{processor:e=>b(e)||q(e),default:!t}),n("menu",{processor:"object",default:{}}),n("toolbar",{processor:e=>q(e)||b(e)||G(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),fe(9,e=>{n("toolbar"+(e+1),{processor:"string"})}),n("toolbar_mode",{processor:"string",default:o?"scrolling":"floating"}),n("toolbar_groups",{processor:"object",default:{}}),n("toolbar_location",{processor:"string",default:mf.auto}),n("toolbar_persist",{processor:"boolean",default:!1}),n("toolbar_sticky",{processor:"boolean",default:e.inline}),n("toolbar_sticky_offset",{processor:"number",default:0}),n("fixed_toolbar_container",{processor:"string",default:""}),n("fixed_toolbar_container_target",{processor:"object"}),n("ui_mode",{processor:"string",default:"combined"}),n("file_picker_callback",{processor:"function"}),n("file_picker_validator_handler",{processor:"function"}),n("file_picker_types",{processor:"string"}),n("typeahead_urls",{processor:"boolean",default:!0}),n("anchor_top",{processor:r,default:"#top"}),n("anchor_bottom",{processor:r,default:"#bottom"}),n("draggable_modal",{processor:"boolean",default:!1}),n("statusbar",{processor:"boolean",default:!0}),n("elementpath",{processor:"boolean",default:!0}),n("branding",{processor:"boolean",default:!0}),n("promotion",{processor:"boolean",default:!0}),n("resize",{processor:e=>"both"===e||q(e),default:!hf.deviceType.isTouch()}),n("sidebar_show",{processor:"string"}),n("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")})},vf=r("readonly"),bf=r("height"),yf=r("width"),xf=Lg(r("min_width")),wf=Lg(r("min_height")),Sf=Lg(r("max_width")),kf=Lg(r("max_height")),Cf=Lg(r("style_formats")),Of=r("style_formats_merge"),_f=r("style_formats_autohide"),Tf=r("content_langs"),Ef=r("removed_menuitems"),Df=r("toolbar_mode"),Af=r("toolbar_groups"),Mf=r("toolbar_location"),Bf=r("fixed_toolbar_container"),Ff=r("fixed_toolbar_container_target"),If=r("toolbar_persist"),Rf=r("toolbar_sticky_offset"),Nf=r("menubar"),Vf=r("toolbar"),zf=r("file_picker_callback"),Hf=r("file_picker_validator_handler"),Lf=r("font_size_input_default_unit"),Pf=r("file_picker_types"),Uf=r("typeahead_urls"),Wf=r("anchor_top"),jf=r("anchor_bottom"),Gf=r("draggable_modal"),$f=r("statusbar"),qf=r("elementpath"),Xf=r("branding"),Kf=r("resize"),Yf=r("paste_as_text"),Jf=r("sidebar_show"),Zf=r("promotion"),Qf=r("help_accessibility"),ev=e=>!1===e.options.get("skin"),tv=e=>!1!==e.options.get("menubar"),ov=e=>{var t=e.options.get("skin_url");return ev(e)?t:t?e.documentBaseURI.toAbsolute(t):(t=e.options.get("skin"),pf.baseURL+"/skins/ui/"+t)},nv=e=>e.options.get("line_height_formats").split(" "),rv=e=>{var t=Vf(e),o=b(t),n=G(t)&&0<t.length;return!sv(e)&&(n||o||!0===t)},av=t=>{var e=fe(9,e=>t.options.get("toolbar"+(e+1))),e=xe(e,b);return ot(0<e.length,e)},sv=t=>av(t).fold(()=>{var e=Vf(t);return Q(e,b)&&0<e.length},le),iv=e=>Mf(e)===mf.bottom,lv=e=>{var t;return e.inline?0<(t=null!=(t=Bf(e))?t:"").length?Yi(eo(),t):(t=Ff(e),Y(t)?B.some(w.fromDom(t)):B.none()):B.none()},cv=e=>e.inline&&lv(e).isSome(),dv=e=>{return lv(e).getOrThunk(()=>Xt(qt(w.fromDom(e.getElement()))))},uv=e=>e.inline&&!tv(e)&&!rv(e)&&!sv(e),mv=e=>{return(e.options.get("toolbar_sticky")||e.inline)&&!cv(e)&&!uv(e)},gv=e=>!cv(e)&&"split"===e.options.get("ui_mode"),pv=e=>{e=e.options.get("menu");return Ue(e,e=>({...e,items:e.items}))};Eg=Object.freeze({__proto__:null,get ToolbarMode(){return uf},get ToolbarLocation(){return mf},register:ff,getSkinUrl:ov,isReadOnly:vf,isSkinDisabled:ev,getHeightOption:bf,getWidthOption:yf,getMinWidthOption:xf,getMinHeightOption:wf,getMaxWidthOption:Sf,getMaxHeightOption:kf,getUserStyleFormats:Cf,shouldMergeStyleFormats:Of,shouldAutoHideStyleFormats:_f,getLineHeightFormats:nv,getContentLanguages:Tf,getRemovedMenuItems:Ef,isMenubarEnabled:tv,isMultipleToolbars:sv,isToolbarEnabled:rv,isToolbarPersist:If,getMultipleToolbarsOption:av,getUiContainer:dv,useFixedContainer:cv,isSplitUiMode:gv,getToolbarMode:Df,isDraggableModal:Gf,isDistractionFree:uv,isStickyToolbar:mv,getStickyToolbarOffset:Rf,getToolbarLocation:Mf,isToolbarLocationBottom:iv,getToolbarGroups:Af,getMenus:pv,getMenubar:Nf,getToolbar:Vf,getFilePickerCallback:zf,getFilePickerTypes:Pf,useTypeaheadUrls:Uf,getAnchorTop:Wf,getAnchorBottom:jf,getFilePickerValidatorHandler:Hf,getFontSizeInputDefaultUnit:Lf,useStatusBar:$f,useElementPath:qf,promotionEnabled:Zf,useBranding:Xf,getResize:Kf,getPasteAsText:Yf,getSidebarShow:Jf,useHelpAccessibility:Qf});const hv="[data-mce-autocompleter]",fv=e=>Ji(e,hv);const vv={setup:(o,e)=>{const n=(e,t)=>{M(e,Ea(),{raw:t})},r=()=>o.getMenu().bind(L.getHighlighted);e.on("keydown",t=>{var e=t.which;o.isActive()&&(o.isMenuOpen()?13===e?(r().each(cs),t.preventDefault()):40===e?(r().fold(()=>{o.getMenu().each(L.highlightFirst)},e=>{n(e,t)}),t.preventDefault(),t.stopImmediatePropagation()):37!==e&&38!==e&&39!==e||r().each(e=>{n(e,t),t.preventDefault(),t.stopImmediatePropagation()}):13!==e&&38!==e&&40!==e||o.cancelIfNecessary())}),e.on("NodeChange",e=>{o.isActive()&&!o.isProcessingAction()&&fv(w.fromDom(e.element)).isNone()&&o.cancelIfNecessary()})}};(Ql=lb=lb||{})[Ql.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",Ql[Ql.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX";var bv=lb;const yv="tox-menu-nav__js",xv="tox-collection__item",wv="tox-swatch",Sv={normal:yv,color:wv},kv="tox-collection__item--enabled",Cv="tox-collection__item-icon",Ov="tox-collection__item-label",_v="tox-collection__item-caret",Tv="tox-collection__item-checkmark",Ev="tox-collection__item--active",Dv="tox-collection__item-container",Av="tox-collection__item-container--row",Mv=e=>T(Sv,e).getOr(yv),Bv=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:"color"===e?"tox-swatches":"tox-menu",tieredMenu:"tox-tiered-menu"}),Fv=e=>{var t=Bv(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Mv(e)}},Iv=(e,t,o)=>{o=Bv(o);return{tag:"div",classes:_e([[o.menu,`tox-menu-${t}-column`],e?[o.hasIcons]:[]])}},Rv=[Hp.parts.items({})],Nv=(e,t,o)=>{var n=Bv(o);return{dom:{tag:"div",classes:_e([[n.tieredMenu]])},markers:Fv(o)}};Hg=O([Lr("data"),m("inputAttributes",{}),m("inputStyles",{}),m("tag","input"),m("inputClasses",[]),t("onSetValue"),m("styles",{}),m("eventOrder",{}),cd("inputBehaviours",[S,j]),m("selectOnFocus",!0)]);const Vv=e=>V([j.config({onFocus:e.selectOnFocus?e=>{var e=e.element,t=Si(e);e.dom.setSelectionRange(0,t.length)}:k})]),zv=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses});const Hv=Fm({name:"Input",configFields:Hg(),factory:(e,t)=>{return{uid:e.uid,dom:zv(e),components:[],behaviours:(o=e,{...Vv(o),...ju(o.inputBehaviours,[S.config({store:{mode:"manual",...o.data.map(e=>({initialValue:e})).getOr({}),getValue:e=>Si(e.element),setValue:(e,t)=>{Si(e.element)!==t&&ki(e.element,t)}},onSetValue:o.onSetValue})])}),eventOrder:e.eventOrder};var o}}),Lv=N("refetch-trigger-event"),Pv=N("redirect-menu-item-interaction"),Uv="tox-menu__searcher",Wv=t=>Yi(t.element,"."+Uv).bind(e=>t.getSystem().getByDom(e).toOptional()),jv=Wv,Gv=e=>{return{fetchPattern:S.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}},$v="tox-collection--results__js",qv=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...null!=(t=e.dom.attributes)?t:{},id:N("aria-item-search-result-id"),"aria-selected":"false"}}}:e},Xv=(t,o)=>e=>{e=ve(e,o);return C(e,e=>({dom:t,components:e}))},Kv=e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Hp.parts.items({preprocess:"auto"!==e?Xv({tag:"div",classes:["tox-swatches__row"]},e):te})]}]}),Yv=e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Hp.parts.items({preprocess:Xv({tag:"div",classes:["tox-collection__group"]},e)})]}),Jv=(e,o)=>{const n=[];let r=[];return _(e,(e,t)=>{(!o(e,t)||(0<r.length&&n.push(r),r=[],Ye(e.dom,"innerHtml"))||e.components&&0<e.components.length)&&r.push(e)}),0<r.length&&n.push(r),C(n,e=>({dom:{tag:"div",classes:["tox-collection__group"]},components:e}))},Zv=(t,o,n)=>Hp.parts.items({preprocess:e=>{e=C(e,n);return"auto"!==t&&1<t?Xv({tag:"div",classes:["tox-collection__group"]},t)(e):Jv(e,(e,t)=>"separator"===o[t].type)}}),Qv=(e,t,o=0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Zv(e,t,te)]}),eb=(e,t,o=0)=>{var n=N("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",$v].concat(1===e?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[Zv(e,t,qv)]}},tb=(e,t,o)=>{var n,r,a,s=N("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[(n={i18n:Zh.translate,placeholder:o.placeholder},o=(e,t)=>(t.cut(),B.none()),r=(e,t)=>{t={interactionEvent:t.event,eventType:t.event.raw.type};return M(e,Pv,t),B.some(!0)},a="searcher-events",{dom:{tag:"div",classes:[xv]},components:[Hv.sketch({inputClasses:[Uv,"tox-textfield"],inputAttributes:{...n.placeholder.map(e=>({placeholder:n.i18n(e)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:V([W(a,[R(Aa(),e=>{A(e,Lv)}),R(Ea(),(e,t)=>{"Escape"===t.event.raw.key&&t.stop()})]),P.config({mode:"special",onLeft:o,onRight:o,onSpace:o,onEnter:r,onEscape:r,onUp:r,onDown:r})]),eventOrder:{keydown:[a,P.name()]}})]}),{dom:{tag:"div",classes:[...1===e?["tox-collection--list"]:["tox-collection--grid"],$v],attributes:{id:s}},components:[Zv(e,t,qv)]}]}},ob=e=>he(e,e=>"icon"in e&&void 0!==e.icon),nb=e=>(console.error(Tr(e)),console.log(e),B.none()),rb=(e,t,o,n,r)=>{a=o;var a,s={dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Hp.parts.items({preprocess:e=>Jv(e,(e,t)=>"separator"===a[t].type)})]};return{value:e,dom:s.dom,components:s.components,items:o}},ab=(e,t,o,n,r)=>{var a;return"color"===r.menuType?{value:e,dom:(a=Kv(n)).dom,components:a.components,items:o}:"normal"===r.menuType&&"auto"===n?{value:e,dom:(a=Qv(n,o)).dom,components:a.components,items:o}:"normal"===r.menuType||"searchable"===r.menuType?{value:e,dom:(a="searchable"!==r.menuType?Qv(n,o):"search-with-field"===r.searchMode.searchMode?tb(n,o,r.searchMode):eb(n,o)).dom,components:a.components,items:o}:"listpreview"===r.menuType&&"auto"!==n?{value:e,dom:(a=Yv(n)).dom,components:a.components,items:o}:{value:e,dom:Iv(t,n,r.menuType),components:Rv,items:o}},sb=Ir("type");Pg=Ir("name");const ib=Ir("label");var n=Ir("text"),e=Ir("title"),sm=Ir("icon"),om=Ir("value"),_g=Nr("fetch"),Va=Nr("getSubmenuItems"),Wg=Nr("onAction"),Sg=Nr("onItemAction"),Ug=ea("onSetup",()=>k),o=Wr("name"),Lg=Wr("text"),r=Wr("icon"),Ql=Wr("tooltip"),lb=Wr("label"),cb=Wr("shortcut"),db=Gr("select"),ub=Qr("active",!1),mb=Qr("borderless",!1),gb=Qr("enabled",!0),pb=Qr("primary",!1),hb=e=>m("columns",e),fb=m("meta",{}),vb=ea("onAction",k),bb=e=>Jr("type",e),yb=e=>Ar("name","name",qn(()=>N(e+"-name")),hr);const xb=u([sb,Lg]),wb=u([bb("autocompleteitem"),ub,gb,fb,om,Lg,r]),Sb=e=>Cr("Autocompleter.Separator",xb,e),kb=e=>Cr("Autocompleter.Item",wb,e);var Cb=[gb,Ql,r,Lg,Ug];const Ob=u([sb,Wg].concat(Cb)),_b=e=>Cr("toolbarbutton",Ob,e);var Tb=[ub].concat(Cb);const Eb=u(Tb.concat([sb,Wg])),Db=e=>Cr("ToggleButton",Eb,e);var Ab=[ea("predicate",ie),Zr("scope","node",["node","editor"]),Zr("position","selection",["node","selection","line"])],Mb=Cb.concat([bb("contextformbutton"),pb,Wg,Mr("original",te)]),Bb=Tb.concat([bb("contextformbutton"),pb,Wg,Mr("original",te)]),Fb=Cb.concat([bb("contextformbutton")]),Tb=Tb.concat([bb("contextformtogglebutton")]),Mb=Er("type",{contextformbutton:Mb,contextformtogglebutton:Bb});const Ib=u([bb("contextform"),ea("initValue",O("")),lb,Hr("commands",Mb),Pr("launch",Er("type",{contextformbutton:Fb,contextformtogglebutton:Tb}))].concat(Ab)),Rb=u([bb("contexttoolbar"),Ir("items")].concat(Ab));Bb=[sb,Ir("src"),Wr("alt"),ta("classes",[],hr)];const Nb=u(Bb);Mb=[sb,n,o,ta("classes",["tox-collection__item-label"],hr)];const Vb=u(Mb);Fb=c(()=>wr("type",{cardimage:Nb,cardtext:Vb,cardcontainer:zb}));const zb=u([sb,Jr("direction","horizontal"),Jr("align","left"),Jr("valign","middle"),Hr("items",Fb)]);var Hb,Tb=[gb,Lg,cb,(Hb="menuitem",Ar("value","value",qn(()=>N(Hb+"-value")),mr())),fb];const Lb=u([sb,lb,Hr("items",Fb),Ug,vb].concat(Tb)),Pb=e=>Cr("cardmenuitem",Lb,e),Ub=u([sb,ub,r].concat(Tb));bb=[sb,Ir("fancytype"),vb],Ab=[m("initData",{})].concat(bb),Bb=[Gr("select"),oa("initData",{},[Qr("allowCustomColors",!0),Jr("storageKey","default"),$r("colors",mr())])].concat(bb);const Wb=Er("fancytype",{inserttable:Ab,colorswatch:Bb}),jb=u([sb,Ug,vb,r].concat(Tb)),Gb=u([sb,Va,Ug,r].concat(Tb)),$b=u([sb,r,ub,Ug,Wg].concat(Tb)),qb=(e,o,t)=>{const n=Nd(e.element,"."+t);return 0<n.length?(e=Oe(n,e=>{var e=e.dom.getBoundingClientRect().top,t=n[0].dom.getBoundingClientRect().top;return Math.abs(e-t)>o}).getOr(n.length),B.some({numColumns:e,numRows:Math.ceil(n.length/e)})):B.none()},Xb=(e,t)=>V([W(e,t)]);const Kb={namedEvents:Xb,unnamedEvents:e=>Xb(N("unnamed-events"),e)},Yb=N("tooltip.exclusive"),Jb=N("tooltip.show"),Zb=N("tooltip.hide"),Qb=(e,t,o)=>{e.getSystem().broadcastOn([Yb],{})};o=Object.freeze({__proto__:null,hideAllExclusive:Qb,setComponents:(e,t,o,n)=>{o.getTooltip().each(e=>{e.getSystem().isConnected()&&U.set(e,n)})}}),Mb=Object.freeze({__proto__:null,events:(r,a)=>{const o=t=>{a.getTooltip().each(e=>{wu(e),r.onHide(t,e),a.clearTooltip()}),a.clearTimer()};return gs(_e([[R(Jb,n=>{a.resetTimer(()=>{var t,e,o;t=n,a.isShowing()||(Qb(t),e=r.lazySink(t).getOrDie(),o=t.getSystem().build({dom:r.tooltipDom,components:r.tooltipComponents,events:gs("normal"===r.mode?[R(Oa(),e=>{A(t,Jb)}),R(ka(),e=>{A(t,Zb)})]:[]),behaviours:V([U.config({})])}),a.setTooltip(o),bu(e,o),r.onShow(t,o),cu.position(e,o,{anchor:r.anchor(t)}))},r.delay)}),R(Zb,e=>{a.resetTimer(()=>{o(e)},r.delay)}),R(Pa(),(e,t)=>{t.universal||pe(t.channels,Yb)&&o(e)}),Cs(e=>{o(e)})],"normal"===r.mode?[R(_a(),e=>{A(e,Jb)}),R(Ha(),e=>{A(e,Zb)}),R(Oa(),e=>{A(e,Jb)}),R(ka(),e=>{A(e,Zb)})]:[R(is(),(e,t)=>{A(e,Jb)}),R(ls(),e=>{A(e,Zb)})]]))}}),cb=[s("lazySink"),s("tooltipDom"),m("exclusive",!0),m("tooltipComponents",[]),m("delay",300),Zr("mode","normal",["normal","follow-highlight"]),m("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:O([jl,Wl,Hl,Pl,Ll,Ul]),onRtl:O([jl,Wl,Hl,Pl,Ll,Ul])}})),t("onHide"),t("onShow")];const ey=ac({fields:cb,name:"tooltipping",active:Mb,state:Object.freeze({__proto__:null,init:()=>{const o=Bc();var e=Bc();const n=()=>{o.on(clearTimeout)};var t=O("not-implemented");return Zs({getTooltip:e.get,isShowing:e.isSet,setTooltip:e.set,clearTooltip:e.clear,clearTimer:n,resetTimer:(e,t)=>{n(),o.set(setTimeout(e,t))},readState:t})}}),apis:o}),ty=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),oy="silver.readonly",ny=u([Fr("readonly",fr)]),ry=(e,t)=>{const o=e.mainUi.outerContainer.element;e=[e.mainUi.mothership,...e.uiMotherships];t&&_(e,e=>{e.broadcastOn([Fu()],{target:o})}),_(e,e=>{e.broadcastOn([oy],{readonly:t})})},ay=(e,t)=>{e.on("init",()=>{e.mode.isReadOnly()&&ry(t,!0)}),e.on("SwitchMode",()=>ry(t,e.mode.isReadOnly())),vf(e)&&e.mode.set("readonly")},sy=()=>cc.config({channels:{[oy]:{schema:ny,onReceive:(e,t)=>{H.set(e,t.readonly)}}}});const iy={item:e=>H.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),button:e=>H.config({disabled:e}),splitButton:e=>H.config({disabled:e,disableClass:"tox-tbtn--disabled"}),toolbarButton:e=>H.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},ly=(e,t)=>{const o=e.getApi(t);return e=>{e(o)}},cy=(t,o)=>ks(e=>{ly(t,e)(e=>{e=t.onSetup(e);J(e)&&o.set(e)})}),dy=(t,o)=>Cs(e=>ly(t,e)(o.get())),uy=(o,n)=>_s((e,t)=>{ly(o,e)(o.onAction),o.triggersSubmenu||n!==bv.CLOSE_ON_EXECUTE||(e.getSystem().isConnected()&&A(e,$a()),t.stop())}),my={[Ua()]:["disabling","alloy.base.behaviour","toggling","item-events"]},gy=Qe,py=(e,t,o,n)=>{var r=D(k);return{type:"item",dom:t.dom,components:gy(t.optComponents),data:e.data,eventOrder:my,hasSubmenu:e.triggersSubmenu,itemBehaviours:V([W("item-events",[uy(e,o),cy(e,r),dy(e,r)]),iy.item(()=>!e.enabled||n.isDisabled()),sy(),U.config({})].concat(e.itemBehaviours))}},hy=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),fy=e=>{var t=hf.os.isMacOS()||hf.os.isiOS();const o=t?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"};e=e.split("+"),e=C(e,e=>{var t=e.toLowerCase().trim();return Ye(o,t)?o[t]:e});return t?e.join(""):e.join("+")},vy=(e,t,o=[Cv])=>lf(e,{tag:"div",classes:o},t),by=e=>({dom:{tag:"div",classes:[Ov]},components:[Ni(Zh.translate(e))]}),yy=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),xy=(e,t)=>({dom:{tag:"div",classes:[Ov]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Ni(Zh.translate(t))]}]}),wy=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Ni(fy(e))]}),Sy=e=>vy("checkmark",e,[Tv]),ky=(e,t)=>{var o="vertical"===e.direction?"tox-collection__item-container--column":Av,n="left"===e.align?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[Dv,o,n,(()=>{switch(e.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:t}},Cy=(e,t,o)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:o.getOr("")}}}),Oy=(e,n,r)=>{const t=e.ariaLabel,o=e.value,a=e.iconContent.map(e=>{var t=n.icons,o=r;return t=t(),nf(e,t).or(o).getOrThunk(tf(t))});var s;return{dom:(e=wv,s=a.getOr(""),e={tag:"div",attributes:t.map(e=>({title:n.translate(e)})).getOr({}),classes:[e]},"custom"===o?{...e,tag:"button",classes:[...e.classes,"tox-swatches__picker-btn"],innerHtml:s}:"remove"===o?{...e,classes:[...e.classes,"tox-swatch--remove"],innerHtml:s}:Y(o)?{...e,attributes:{...e.attributes,"data-mce-color":o},styles:{"background-color":o},innerHtml:s}:e),optComponents:[]}},_y=e=>{e=e.map(e=>({attributes:{title:Zh.translate(e),id:N("menu-item")}})).getOr({});return{tag:"div",classes:[yv,xv],...e}},Ty=(e,t,o,n)=>{const r={tag:"div",classes:[Cv]};var o=o?e.iconContent.map(e=>lf(e,r,t.icons,n)).orThunk(()=>B.some({dom:r})):B.none(),a=e.checkMark;const s=B.from(e.meta).fold(()=>by,e=>Ye(e,"style")?ne(xy,e.style):by);var i=e.htmlContent.fold(()=>e.textContent.map(s),e=>B.some(yy(e,[Ov])));return{dom:_y(e.ariaLabel),optComponents:[o,i,e.shortcutContent.map(wy),a,e.caret]}},Ey=(e,t,o,n=B.none())=>"color"===e.presets?Oy(e,t,n):Ty(e,t,o,n),Dy=(e,t)=>T(e,"tooltipWorker").map(o=>[ey.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:e=>({type:"submenu",item:e,overrides:{maxHeightFunction:Yc}}),mode:"follow-highlight",onShow:(t,e)=>{o(e=>{ey.setComponents(t,[Vi({element:w.fromDom(e)})])})}})]).getOr([]),Ay=e=>gf.DOM.encode(e),My=(e,t)=>{e=Zh.translate(e),e=Ay(e);return 0<t.length?(t=new RegExp(ty(t),"gi"),e.replace(t,e=>`<span class="tox-autocompleter-highlight">${e}</span>`)):e};const By=(e,o)=>C(e,e=>{switch(e.type){case"cardcontainer":return ky(e,By(e.items,o));case"cardimage":return Cy(e.src,e.classes,e.alt);case"cardtext":var t=e.name.exists(e=>pe(o.cardText.highlightOn,e))?B.from(o.cardText.matchText).getOr(""):"";return yy(My(e.text,t),e.classes)}});const Fy=gm(Rp(),Np()),Iy=e=>({value:zy(e)}),Ry=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Ny=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Vy=e=>Ry.test(e)||Ny.test(e),zy=e=>at(e,"#").toUpperCase(),Hy=e=>{e={value:e.value.replace(Ry,(e,t,o,n)=>t+t+o+o+n+n)},e=Ny.exec(e.value);return null===e?["FFFFFF","FF","FF","FF"]:e},Ly=e=>{e=e.toString(16);return(1===e.length?"0"+e:e).toUpperCase()},Py=e=>{e=Ly(e.red)+Ly(e.green)+Ly(e.blue);return Iy(e)},Uy=Math.min,Wy=Math.max,jy=Math.round,Gy=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,$y=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,qy=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n}),Xy=e=>{var t=parseInt(e,10);return t.toString()===e&&0<=t&&t<=255},Ky=e=>{let t,o,n;var r=(e.hue||0)%360,a=e.saturation/100,e=e.value/100,a=Wy(0,Uy(a,1)),e=Wy(0,Uy(e,1));if(0===a)t=o=n=jy(255*e);else{var r=r/60,s=e*a,i=s*(1-Math.abs(r%2-1)),a=e-s;switch(Math.floor(r)){case 0:t=s,o=i,n=0;break;case 1:t=i,o=s,n=0;break;case 2:t=0,o=s,n=i;break;case 3:t=0,o=i,n=s;break;case 4:t=i,o=0,n=s;break;case 5:t=s,o=0,n=i;break;default:t=o=n=0}t=jy(255*(t+a)),o=jy(255*(o+a)),n=jy(255*(n+a))}return qy(t,o,n,1)},Yy=e=>{var e=Hy(e),t=parseInt(e[1],16),o=parseInt(e[2],16),e=parseInt(e[3],16);return qy(t,o,e,1)},Jy=(e,t,o,n)=>{e=parseInt(e,10),t=parseInt(t,10),o=parseInt(o,10),n=parseFloat(n);return qy(e,t,o,n)},Zy=e=>{var t;return"transparent"===e?B.some(qy(0,0,0,0)):null!==(t=Gy.exec(e))?B.some(Jy(t[1],t[2],t[3],"1")):null!==(t=$y.exec(e))?B.some(Jy(t[1],t[2],t[3],t[4])):B.none()},Qy=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,ex=qy(255,0,0,1),tx=e=>{e.dispatch("SkinLoaded")},ox=(e,t)=>{e.dispatch("SkinLoadError",t)},nx=(e,t)=>{e.dispatch("ResizeContent",t)},rx=(e,t)=>{e.dispatch("ScrollContent",t)},ax=(e,t)=>{e.dispatch("TextColorChange",t)},sx=(e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})},ix=(e,t)=>()=>{e(),t()},lx=t=>dx(t,"NodeChange",e=>{e.setEnabled(t.selection.isEditable())}),cx=(a,s)=>e=>{const t=lx(a)(e),o=(n=a,r=s,(t=>{const o=Mc(),e=()=>{t.setActive(n.formatter.match(r));var e=n.formatter.formatChanged(r,t.setActive);o.set(e)};return n.initialized?e():n.once("init",e),()=>{n.off("init",e),o.clear()}})(e));var n,r;return()=>{t(),o()}},dx=(n,r,a)=>e=>{const t=()=>a(e),o=()=>{a(e),n.on(r,t)};return n.initialized?o():n.once("init",o),()=>{n.off("init",o),n.off(r,t)}},ux=t=>e=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,e.format)})},mx=(e,t)=>()=>e.execCommand(t);var gx=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const px={},hx=o=>T(px,o).getOrThunk(()=>{var e="tinymce-custom-colors-"+o,t=gx.getItem(e),t=(K(t)&&(t=gx.getItem("tinymce-custom-colors"),gx.setItem(e,Y(t)?t:"[]")),((t,o)=>{var e=gx.getItem(t),e=b(e)?JSON.parse(e):[];const n=o-(e=e).length<0?e.slice(0,o):e;const r=e=>{n.splice(e,1)};return{add:e=>{ge(n,e).each(r),n.unshift(e),n.length>o&&n.pop(),gx.setItem(t,JSON.stringify(n))},state:()=>n.slice(0)}})(e,10));return px[o]=t}),fx=(e,t)=>{hx(e).add(t)},vx=(e,t,o)=>({hue:e,saturation:t,value:o}),bx=e=>{let t=0;var o=e.red/255,n=e.green/255,e=e.blue/255,r=Math.min(o,Math.min(n,e)),a=Math.max(o,Math.max(n,e));return r===a?(t=r,vx(0,0,100*t)):(n=60*((o===r?3:e===r?1:5)-(o===r?n-e:e===r?o-n:e-o)/(a-r)),e=(a-r)/a,t=a,vx(Math.round(n),Math.round(100*e),Math.round(100*t)))},yx=e=>bx(Yy(e)),xx=e=>Py(Ky(e)),wx=r=>{return e=r,(Vy(e)?B.some({value:zy(e)}):B.none()).orThunk(()=>Zy(r).map(Py)).getOrThunk(()=>{var e=document.createElement("canvas"),t=(e.height=1,e.width=1,e.getContext("2d")),e=(t.clearRect(0,0,e.width,e.height),t.fillStyle="#FFFFFF",t.fillStyle=r,t.fillRect(0,0,1,1),t.getImageData(0,0,1,1).data),t=e[0],o=e[1],n=e[2],e=e[3];return Py(qy(t,o,n,e))});var e},Sx="forecolor",kx="hilitecolor",Cx=5,Ox=t=>e=>e.options.get(t),_x="#000000",Tx=e=>{var t=e.options.register,o=e=>Q(e,b)?{value:(t=>{var o=[];for(let e=0;e<t.length;e+=2)o.push({text:t[e+1],value:"#"+wx(t[e]).value,icon:"checkmark",type:"choiceitem"});return o})(e),valid:!0}:{valid:!1,message:"Must be an array of strings."},n=e=>Z(e)&&0<e?{value:e,valid:!0}:{valid:!1,message:"Must be a positive number."};t("color_map",{processor:o,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_background",{processor:o}),t("color_map_foreground",{processor:o}),t("color_cols",{processor:n,default:Dx(e)}),t("color_cols_foreground",{processor:n,default:Ax(e,Sx)}),t("color_cols_background",{processor:n,default:Ax(e,kx)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:_x}),t("color_default_background",{processor:"string",default:_x})},Ex=(e,t)=>(t===Sx&&e.options.isSet("color_map_foreground")?Ox("color_map_foreground"):t===kx&&e.options.isSet("color_map_background")?Ox("color_map_background"):Ox("color_map"))(e),Dx=(e,t="default")=>Math.max(Cx,Math.ceil(Math.sqrt(Ex(e,t).length))),Ax=(e,t)=>{var o=Ox("color_cols")(e),t=Dx(e,t);return o===Dx(e)?t:o},Mx=(e,t="default")=>{return Math.round((t===Sx?Ox("color_cols_foreground"):t===kx?Ox("color_cols_background"):Ox("color_cols"))(e))},Bx=Ox("custom_colors"),Fx=Ox("color_default_foreground"),Ix=Ox("color_default_background"),Rx=e=>ma(e,e=>{var t;return St(e)?(e=mo(e,"background-color"),ot((t=e,Zy(t).exists(e=>0!==e.alpha)),e)):B.none()}).getOr("rgba(0, 0, 0, 0)"),Nx=(e,t)=>{e=w.fromDom(e.selection.getStart()),t="hilitecolor"===t?Rx(e):mo(e,"color");return Zy(t).map(e=>"#"+Py(e).value)},Vx=a=>{a.addCommand("mceApplyTextcolor",(e,t)=>{var o,n,r;n=e,r=t,(o=a).undoManager.transact(()=>{o.focus(),o.formatter.apply(n,{value:r}),o.nodeChanged()})}),a.addCommand("mceRemoveTextcolor",e=>{var t,o;o=e,(t=a).undoManager.transact(()=>{t.focus(),t.formatter.remove(o,{value:null},void 0,!0),t.nodeChanged()})})},zx=e=>{var t="choiceitem",o={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[o,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[o]},Hx=(t,o,e,n)=>{"custom"===e?$x(t)(e=>{e.each(e=>{fx(o,e),t.execCommand("mceApplyTextcolor",o,e),n(e)})},Nx(t,o).getOr(_x)):"remove"===e?(n(""),t.execCommand("mceRemoveTextcolor",o)):(n(e),t.execCommand("mceApplyTextcolor",o,e))},Lx=(e,t,o)=>{return e.concat((e=t,C(hx(e).state(),e=>({type:"choiceitem",text:e,icon:"checkmark",value:e})).concat(zx(o))))},Px=(t,o,n)=>e=>{e(Lx(t,o,n))},Ux=(e,t,o)=>{e.setIconFill("forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",o)},Wx=(o,n)=>e=>{var t=Nx(o,n);return Ze(t,e.toUpperCase())},jx=(o,n,r,e,a)=>{o.ui.registry.addSplitButton(n,{tooltip:e,presets:"color",icon:"forecolor"===n?"text-color":"highlight-bg-color",select:Wx(o,r),columns:Mx(o,r),fetch:Px(Ex(o,r),r,Bx(o)),onAction:e=>{Hx(o,r,a.get(),k)},onItemAction:(e,t)=>{Hx(o,r,t,e=>{a.set(e),ax(o,{name:n,color:e})})},onSetup:t=>{Ux(t,n,a.get());const e=e=>{e.name===n&&Ux(t,e.name,e.color)};return o.on("TextColorChange",e),ix(lx(o)(t),()=>{o.off("TextColorChange",e)})}})},Gx=(t,o,n,e,r)=>{t.ui.registry.addNestedMenuItem(o,{text:e,icon:"forecolor"===o?"text-color":"highlight-bg-color",onSetup:e=>(Ux(e,o,r.get()),lx(t)(e)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:Wx(t,n),initData:{storageKey:n},onAction:e=>{Hx(t,n,e.value,e=>{r.set(e),ax(t,{name:o,color:e})})}}]})},$x=r=>(o,e)=>{let n=!1;r.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{colorpicker:e},onAction:(e,t)=>{"hex-valid"===t.name&&(n=t.value)},onSubmit:e=>{var t=e.getData().colorpicker;n?(o(B.from(t)),e.close()):r.windowManager.alert(r.translate(["Invalid hex color code: {0}",t]))},onClose:k,onCancel:()=>{o(B.none())}})},qx=(e,t,o,n,r,a,s,i)=>{var l=ob(t),c="color"!==r?"normal":"color",t=Xx(t,o,n,c,a,s,i),o={menuType:r};return ab(e,l,t,n,o)},Xx=(t,o,n,r,a,s,i)=>Qe(C(t,e=>{return"choiceitem"===e.type?(e=e,Cr("choicemenuitem",Ub,e).fold(nb,e=>B.some(((t,e,o,n,r,a,s,i=!0)=>{o=Ey({presets:o,textContent:e?t.text:B.none(),htmlContent:B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:B.none(),checkMark:e?B.some(Sy(s.icons)):B.none(),caret:B.none(),value:t.value},s,i);return jn(py({data:hy(t),enabled:t.enabled,getApi:t=>({setActive:e=>{h.set(t,e)},isActive:()=>h.isOn(t),isEnabled:()=>!H.isDisabled(t),setEnabled:e=>H.set(t,!e)}),onAction:e=>n(t.value),onSetup:e=>(e.setActive(r),k),triggersSubmenu:!1,itemBehaviours:[]},o,a,s),{toggling:{toggleClass:kv,toggleOnExecute:!1,selected:t.active,exclusive:!0}})})(e,1===n,r,o,s(e.value),a,i,ob(t))))):B.none()})),Kx=(e,t)=>{var o=Fv(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group"),previousSelector:e=>"color"===t?Yi(e.element,"[aria-checked=true]"):B.none()}};const Yx=N("cell-over"),Jx=N("cell-execute"),Zx=(t,o,e)=>{const n=e=>M(e,Jx,{row:t,col:o});var r=(e,t)=>{t.stop(),n(e)};return Pi({dom:{tag:"div",attributes:{role:"button","aria-label":e}},behaviours:V([W("insert-table-picker-cell",[R(Oa(),j.focus),R(Ua(),n),R(Ba(),r),R(ja(),r)]),h.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),j.config({onFocus:e=>M(e,Yx,{row:t,col:o})})])})},Qx=(e,t)=>Ni(t+"x"+e);const ew={inserttable:(r,e)=>{var o;o=e;const c=((o,e,n)=>{var r=[];for(let t=0;t<e;t++){var a=[];for(let e=0;e<n;e++){var s=o(t+1,e+1);a.push(Zx(t,e,s))}r.push(a)}return r})((e,t)=>o.shared.providers.translate(t+` columns, ${e} rows`),10,10),t=Qx(0,0),d=th({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[t],behaviours:V([U.config({})])});return{type:"widget",data:{value:N("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Fy.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:(e=c,Te(e,e=>C(e,Ui)).concat(d.asSpec())),behaviours:V([W("insert-table-picker",[ks(e=>{U.set(d.get(e),[t])}),xs(Yx,(e,t,o)=>{var{row:o,col:n}=o.event,r=c,a=o,s=n,i=10,l=10;for(let t=0;t<i;t++)for(let e=0;e<l;e++)h.set(r[t][e],t<=a&&e<=s);U.set(d.get(e),[Qx(o+1,n+1)])}),xs(Jx,(e,t,o)=>{var{row:o,col:n}=o.event;r.onAction({numRows:o+1,numColumns:n+1}),A(e,$a())})]),P.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(t,e)=>{var o=((e,t)=>{const o=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold(()=>Lx(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,o),e=>e.concat(zx(o)))})(t,e),n=e.colorinput.getColorCols(t.initData.storageKey),o={...qx(N("menu-value"),o,e=>{t.onAction({value:e})},n,"color",bv.CLOSE_ON_EXECUTE,t.select.getOr(ie),e.shared.providers),markers:Fv("color"),movement:Kx(n,"color")};return{type:"widget",data:{value:N("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Fy.widget(Hp.sketch(o))]}}};const tw=(t,o,e,n,r,a,s,i=!0)=>{n=Ey({presets:n,textContent:B.none(),htmlContent:e?t.text.map(e=>My(e,o)):B.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:B.none(),checkMark:B.none(),caret:B.none(),value:t.value},s.providers,i,t.icon);return py({data:hy(t),enabled:t.enabled,getApi:O({}),onAction:e=>r(t.value,t.meta),onSetup:O(k),triggersSubmenu:!1,itemBehaviours:Dy(t.meta,s)},n,a,s.providers)},ow=e=>({type:"separator",dom:{tag:"div",classes:[xv,"tox-collection__group-heading"]},components:e.text.map(Ni).toArray()}),nw=(e,t,o,n=!0)=>{n=Ey({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:B.none(),ariaLabel:e.text,caret:B.none(),checkMark:B.none(),shortcutContent:e.shortcut},o,n);return py({data:hy(e),getApi:t=>({isEnabled:()=>!H.isDisabled(t),setEnabled:e=>H.set(t,!e)}),enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},n,t,o)},rw=(e,t,o,n=!0,r=!1)=>{r=r?(r=o.icons,vy("chevron-down",r,[_v])):(r=o.icons,vy("chevron-right",r,[_v])),r=Ey({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:B.none(),ariaLabel:e.text,caret:B.some(r),checkMark:B.none(),shortcutContent:e.shortcut},o,n);return py({data:hy(e),getApi:o=>({isEnabled:()=>!H.isDisabled(o),setEnabled:e=>H.set(o,!e),setIconFill:(e,t)=>{Yi(o.element,`svg path[class="${e}"], rect[class="${e}"]`).each(e=>{E(e,"fill",t)})}}),enabled:e.enabled,onAction:k,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},r,t,o)},aw=(e,t,o,n=!0)=>{n=Ey({iconContent:e.icon,textContent:e.text,htmlContent:B.none(),ariaLabel:e.text,checkMark:B.some(Sy(o.icons)),caret:B.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},o,n);return jn(py({data:hy(e),enabled:e.enabled,getApi:t=>({setActive:e=>{h.set(t,e)},isActive:()=>h.isOn(t),isEnabled:()=>!H.isDisabled(t),setEnabled:e=>H.set(t,!e)}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},n,t,o),{toggling:{toggleClass:kv,toggleOnExecute:!1,selected:e.active}})},sw=(t,o)=>T(ew,t.fancytype).map(e=>e(t,o)),iw=(e,t,o,n)=>{var r={dom:_y(e.label),optComponents:[B.some({dom:{tag:"div",classes:[Dv,Av]},components:By(e.items,n)})]};return py({data:hy({text:B.none(),...e}),enabled:e.enabled,getApi:o=>({isEnabled:()=>!H.isDisabled(o),setEnabled:t=>{H.set(o,!t),_(Nd(o.element,"*"),e=>{o.getSystem().getByDom(e).each(e=>{e.hasConfigured(H)&&H.set(e,!t)})})}}),onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:B.from(n.itemBehaviours).getOr([])},r,t,o.providers)};Fb=Object.freeze({__proto__:null,getCoupled:(e,t,o,n)=>o.getOrCreate(e,t,n),getExistingCoupled:(e,t,o,n)=>o.getExisting(e,t,n)}),bb=[Fr("others",gr(I.value,mr()))];const lw=ac({fields:bb,name:"coupling",apis:Fb,state:Object.freeze({__proto__:null,init:()=>{const r={},a=(e,t)=>{if(0===He(e.others).length)throw new Error("Cannot find any known coupled components");return T(r,t)};var e=O({});return Zs({readState:e,getExisting:(e,t,o)=>a(t,o).orThunk(()=>(T(t.others,o).getOrDie("No information found for coupled component: "+o),B.none())),getOrCreate:(t,o,n)=>a(o,n).getOrThunk(()=>{var e=T(o.others,n).getOrDie("No information found for coupled component: "+n)(t),e=t.getSystem().build(e);return r[n]=e})})}})}),cw=e=>{let o=B.none(),t=[];const n=e=>{r()?a(e):t.push(e)};const r=()=>o.isSome(),a=t=>{o.each(e=>{setTimeout(()=>{t(e)},0)})};return e(e=>{r()||(o=B.some(e),e=t,_(e,a),t=[])}),{get:n,map:o=>cw(t=>{n(e=>{t(o(e))})}),isReady:r}};const dw={nu:cw,pure:t=>cw(e=>{e(t)})},uw=e=>{setTimeout(()=>{throw e},0)},mw=o=>{const e=e=>{o().then(e,uw)};return{map:e=>mw(()=>o().then(e)),bind:t=>mw(()=>o().then(e=>t(e).toPromise())),anonBind:e=>mw(()=>o().then(()=>e.toPromise())),toLazy:()=>dw.nu(e),toCached:()=>{let e=null;return mw(()=>e=null===e?o():e)},toPromise:o,get:e}};const gw={nu:e=>mw(()=>new Promise(e)),pure:e=>mw(()=>Promise.resolve(e))},pw=O("sink");Ab=O(dm({name:pw(),overrides:O({dom:{tag:"div"},behaviours:V([cu.config({useFixed:le})]),events:gs([ws(Ea()),ws(wa()),ws(Ba())])})}));const hw=(e,t)=>{const o=e.getHotspot(t).getOr(t),n=e.getAnchorOverrides();return e.layouts.fold(()=>({type:"hotspot",hotspot:o,overrides:n}),e=>({type:"hotspot",hotspot:o,overrides:n,layouts:e}))},fw=(e,t,r,o,a,n,s)=>{t=t;t=(0,e.fetch)(o).map(t);const i=ww(o,e);return t.map(e=>e.bind(e=>B.from(Xp.sketch({...n.menu(),uid:Ls(""),data:e,highlightOnOpen:s,onOpenMenu:(e,t)=>{var o=i().getOrDie();cu.position(o,t,{anchor:r}),d.decloak(a)},onOpenSubmenu:(e,t,o)=>{var n=i().getOrDie();cu.position(n,o,{anchor:{type:"submenu",item:t}}),d.decloak(a)},onRepositionMenu:(e,t,o)=>{const n=i().getOrDie();cu.position(n,t,{anchor:r}),_(o,e=>{cu.position(n,e.triggeredMenu,{anchor:{type:"submenu",item:e.triggeringItem}})})},onEscape:()=>(j.focus(o),d.close(a),B.some(!0))}))))},vw=(e,t,o,n,r,a,s)=>{var i=hw(e,o);return fw(e,t,i,o,n,r,s).map(e=>(e.fold(()=>{d.isOpen(n)&&d.close(n)},e=>{d.cloak(n),d.open(n,e),a(n)}),n))},bw=(e,t,o,n,r,a,s)=>(d.close(n),gw.pure(n)),yw=(e,t,o,n,r,a)=>{var s=lw.getCoupled(o,"sandbox");return(d.isOpen(s)?bw:vw)(e,t,o,s,n,r,a)},xw=(e,t,o)=>{var t=z.getCurrent(t).getOr(t),e=Eo(e.element);o?F(t.element,"min-width",e+"px"):(o=t.element,t=e,To.set(o,t))},ww=(t,e)=>t.getSystem().getByUid(e.uid+"-"+pw()).map(e=>()=>I.value(e)).getOrThunk(()=>e.lazySink.fold(()=>()=>I.error(new Error("No internal sink is specified, nor could an external sink be found")),e=>()=>e(t))),Sw=e=>{d.getState(e).each(e=>{Xp.repositionMenus(e)})},kw=(n,r,a)=>{const s=Qi();const e=ww(r,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:Gu.augment(n.sandboxBehaviours,[S.config({store:{mode:"memory",initialValue:r}}),d.config({onOpen:(e,t)=>{var o=hw(n,r);s.link(r.element),n.matchWidth&&xw(o.hotspot,t,n.useMinWidth),n.onOpen(o,e,t),void 0!==a&&void 0!==a.onOpen&&a.onOpen(e,t)},onClose:(e,t)=>{s.unlink(r.element),void 0!==a&&void 0!==a.onClose&&a.onClose(e,t)},isPartOf:(e,t,o)=>tl(t,o)||tl(r,o),getAttachPoint:()=>e().getOrDie()}),z.config({find:e=>d.getState(e).bind(e=>z.getCurrent(e))}),cc.config({channels:{...Vu({isExtraPart:ie}),...Hu({doReposition:Sw})}})])}},Cw=e=>{e=lw.getCoupled(e,"sandbox");Sw(e)};var Ow,Bb=()=>[m("sandboxClasses",[]),Gu.field("sandboxBehaviours",[z,cc,d,S])],vb=O([s("dom"),s("fetch"),t("onOpen"),pl("onExecute"),m("getHotspot",B.some),m("getAnchorOverrides",O({})),xl(),cd("dropdownBehaviours",[h,lw,P,j]),s("toggleClass"),m("eventOrder",{}),Lr("lazySink"),m("matchWidth",!1),m("useMinWidth",!1),Lr("role")].concat(Bb())),Va=O([ld({schema:[Rs(),m("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),Ab()]);const _w=am({name:"Dropdown",configFields:vb(),partFields:Va(),factory:(n,e,t,r)=>{const a=e=>{d.getState(e).each(e=>{Xp.highlightPrimary(e)})},o=(e,t,o)=>yw(n,te,e,r,t,o);var s,i={expand:e=>{h.isOn(e)||o(e,k,Up.HighlightNone).get(k)},open:e=>{h.isOn(e)||o(e,k,Up.HighlightMenuAndItem).get(k)},refetch:t=>{return lw.getExistingCoupled(t,"sandbox").fold(()=>o(t,k,Up.HighlightMenuAndItem).map(k),e=>vw(n,te,t,e,r,k,Up.HighlightMenuAndItem).map(k))},isOpen:h.isOn,close:e=>{h.isOn(e)&&o(e,k,Up.HighlightMenuAndItem).get(k)},repositionMenus:e=>{h.isOn(e)&&Cw(e)}},l=(e,t)=>(cs(e),B.some(!0));return{uid:n.uid,dom:n.dom,components:e,behaviours:ju(n.dropdownBehaviours,[h.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),lw.config({others:{sandbox:e=>kw(n,e,{onOpen:()=>h.on(e),onClose:()=>h.off(e)})}}),P.config({mode:"special",onSpace:l,onEnter:l,onDown:(e,t)=>{var o;return _w.isOpen(e)?(o=lw.getCoupled(e,"sandbox"),a(o)):_w.open(e),B.some(!0)},onEscape:(e,t)=>_w.isOpen(e)?(_w.close(e),B.some(!0)):B.none()}),j.config({})]),events:Op(B.some(e=>{var t=a;o(e,t,Up.HighlightMenuAndItem).get(k)})),eventOrder:{...n.eventOrder,[Ua()]:["disabling","toggling","alloy.base.behaviour"]},apis:i,domModification:{attributes:{"aria-haspopup":"true",...n.role.fold(()=>({}),e=>({role:e})),..."button"===n.dom.tag?{type:(s="type",T(n.dom,"attributes").bind(e=>T(e,s)).getOr("button"))}:{}}}}},apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),Tw=e=>{const t=S.getValue(e),o=Wv(e).map(Gv);_w.refetch(t).get(()=>{const e=lw.getCoupled(t,"sandbox");o.each(o=>Wv(e).each(e=>{return e=e,t=o,S.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,void(e.element.dom.selectionEnd=t.selectionEnd);var t}))})},Ew=(r,a)=>{var e;e=r,d.getState(e).bind(L.getHighlighted).bind(L.getHighlighted).each(e=>{var t=r,e=e.element,o=a.event.eventType,n=a.event.interactionEvent;n={...n,target:e},t.getSystem().triggerEvent(o,e,n)})},Dw=(e,n,r)=>{jv(e).each(t=>{var o,e;o=t,e=r,ro(e.element,"id").each(e=>E(o.element,"aria-activedescendant",e)),e=n,(vi(e.element,$v)?B.some(e.element):Yi(e.element,"."+$v)).each(e=>{ro(e,"id").each(e=>E(t.element,"aria-controls",e))})}),E(r.element,"aria-selected","true")},Aw=(e,t,o)=>{E(o.element,"aria-selected","false")},Mw=e=>{jv(e).each(e=>j.focus(e))},Bw=e=>{return lw.getExistingCoupled(e,"sandbox").bind(Wv).map(Gv).map(e=>e.fetchPattern).getOr("")},Fw=((ub=Ow=Ow||{})[ub.ContentFocus=0]="ContentFocus",ub[ub.UiFocus=1]="UiFocus",(e,t,o,n,r)=>{const a=o.shared.providers,s=e=>r?{...e,shortcut:B.none(),icon:e.text.isSome()?B.none():e.icon}:e;switch(e.type){case"menuitem":return c=e,Cr("menuitem",jb,c).fold(nb,e=>B.some(nw(s(e),t,a,n)));case"nestedmenuitem":return c=e,Cr("nestedmenuitem",Gb,c).fold(nb,e=>B.some(rw(s(e),t,a,n,r)));case"togglemenuitem":return l=e,Cr("togglemenuitem",$b,l).fold(nb,e=>B.some(aw(s(e),t,a,n)));case"separator":return l=e,Cr("separatormenuitem",xb,l).fold(nb,e=>B.some(ow(e)));case"fancymenuitem":return i=e,Cr("fancymenuitem",Wb,i).fold(nb,e=>sw(e,o));default:return console.error("Unknown item in general menu",e),B.none()}var i,l,c}),Iw=(e,t,n,r,a,o)=>{const s=ob(t);t=Qe(C(t,e=>{const t=e=>a?!Ye(e,"text"):s;var o=e=>Fw(e,n,r,t(e),a);return"nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?o({...e,enabled:!1}):o(e)})),o="no-search"!==(o=o).searchMode?{menuType:"searchable",searchMode:o}:{menuType:"normal"};return(a?rb:ab)(e,s,t,1,o)},Rw=e=>Xp.singleData(e.value,e);const Nw={register:(u,m)=>{const g=D(!1),t=D(!1),r=Pi(Kp.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:V([W("dismissAutocompleter",[R(ts(),()=>h())])]),lazySink:m.getSink})),e=()=>Kp.isOpen(r);var o=t.get;const p=()=>{e()&&Kp.hide(r)},a=()=>Kp.getContent(r).bind(e=>Ie(e.components(),0)),h=()=>u.execCommand("mceAutocompleterClose"),n=e=>{const d=ze(e,e=>B.from(e.columns)).getOr(1);return Te(e,a=>{var e=a.items;{var o=a.matchText,n=(o,n)=>{var r,e=u.selection.getRng();r=u.dom,e=e,fv(w.fromDom(e.startContainer)).map(e=>{var t=r.createRng();return t.selectNode(e.dom),t}).each(e=>{var t={hide:()=>h(),reload:e=>{p(),u.execCommand("mceAutocompleterReload",!1,{fetchOptions:e})}};g.set(!0),a.onAction(t,e,o,n),g.set(!1)})},t=d,r=bv.BUBBLE_TO_SANDBOX,s=m,i=a.highlightOn;const l=1===t,c=!l||ob(e);return Qe(C(e,e=>{switch(e.type){case"separator":return Sb(e).fold(nb,e=>B.some(ow(e)));case"cardmenuitem":return Pb(e).fold(nb,t=>B.some(iw({...t,onAction:e=>{t.onAction(e),n(t.value,t.meta)}},r,s,{itemBehaviours:Dy(t.meta,s),cardText:{matchText:o,highlightOn:i}})));default:return kb(e).fold(nb,e=>B.some(tw(e,o,l,"normal",n,r,s,c)))}}))}})},s=(o,n)=>{var e;e=w.fromDom(u.getBody()),Yi(e,hv).each(e=>{var t=ze(o,e=>B.from(e.columns)).getOr(1);Kp.showMenuAt(r,{anchor:{type:"node",root:w.fromDom(u.getBody()),node:B.from(e)}},((e,t,o,n)=>{var r=Kx(t,n);const a=Fv(n);return{data:Rw({...e,movement:r,menuBehaviours:Kb.unnamedEvents("auto"!==t?[]:[ks((o,e)=>{qb(o,4,a.item).each(({numColumns:e,numRows:t})=>{P.setGridSize(o,t,e)})})])}),menu:{markers:Fv(n),fakeFocus:o===Ow.ContentFocus}}})(ab("autocompleter-value",!0,n,t,{menuType:"normal"}),t,Ow.ContentFocus,"normal"))}),a().each(L.highlightFirst)},i=e=>{var t=n(e);0<t.length?s(e,t):p()};u.on("AutocompleterStart",({lookupData:e})=>{t.set(!0),g.set(!1),i(e)}),u.on("AutocompleterUpdate",({lookupData:e})=>i(e)),u.on("AutocompleterEnd",()=>{p(),t.set(!1),g.set(!1)});o={cancelIfNecessary:h,isMenuOpen:e,isActive:o,isProcessingAction:g.get,getMenu:a};vv.setup(o,u)}},Vw=["visible","hidden","clip"],zw=e=>0<dt(e).length&&!pe(Vw,e),Hw=e=>{var t;return!!wt(e)&&(t=mo(e,"overflow-x"),e=mo(e,"overflow-y"),zw(t)||zw(e))},Lw=e=>{var t=Rd(e,Hw);const o=0===t.length?Yt(e).map(Jt).map(e=>Rd(e,Hw)).getOr([]):t;return Re(o).map(e=>({element:e,others:o.slice(1)}))},Pw=(e,t)=>gv(e)?Lw(t):B.none(),Uw=e=>{var t=[...C(e.others,An),In()];return Fn(An(e.element),t)},Ww=(e,t,o)=>Ji(e,t,o).isSome(),jw=(t,o)=>{let n=null;return{cancel:()=>{null!==n&&(clearTimeout(n),n=null)},schedule:(...e)=>{n=setTimeout(()=>{t.apply(null,e),n=null},o)}}},Gw=e=>{e=e.raw;return void 0===e.touches||1!==e.touches.length?B.none():B.some(e.touches[0])},$w=o=>{const r=Bc(),n=D(!1),a=jw(e=>{o.triggerEvent(Ga(),e),n.set(!0)},400);const s=la([{key:va(),value:t=>(Gw(t).each(e=>{a.cancel();e={x:e.clientX,y:e.clientY,target:t.target};a.schedule(t),n.set(!1),r.set(e)}),B.none())},{key:ba(),value:e=>(a.cancel(),Gw(e).each(n=>{r.on(e=>{var t,o;t=n,e=e,o=Math.abs(t.clientX-e.x),t=Math.abs(t.clientY-e.y),(5<o||5<t)&&r.clear()})}),B.none())},{key:ya(),value:t=>{a.cancel();return r.get().filter(e=>Mt(e.target,t.target)).map(e=>n.get()?(t.prevent(),!1):o.triggerEvent(ja(),t))}}]);return{fireIfReady:(t,e)=>T(s,e).bind(e=>e(t))}},qw=(t,e)=>{const o={stopBackspace:!0,...e};const n=$w(o),r=C(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),e=>Ic(t,e,t=>{n.fireIfReady(t,e).each(e=>{e&&t.kill()}),o.triggerEvent(e,t)&&t.kill()})),a=Bc(),s=Ic(t,"paste",t=>{n.fireIfReady(t,"paste").each(e=>{e&&t.kill()}),o.triggerEvent("paste",t)&&t.kill(),a.set(setTimeout(()=>{o.triggerEvent(La(),t)},0))}),i=Ic(t,"keydown",e=>{var t;o.triggerEvent("keydown",e)?e.kill():!o.stopBackspace||(t=e).raw.which!==Qm[0]||pe(["input","textarea"],xt(t.target))||Ww(t.target,'[contenteditable="true"]')||e.prevent()}),l=Ic(t,"focusin",e=>{o.triggerEvent("focusin",e)&&e.kill()}),c=Bc(),d=Ic(t,"focusout",e=>{o.triggerEvent("focusout",e)&&e.kill(),c.set(setTimeout(()=>{o.triggerEvent(Ha(),e)},0))});return{unbind:()=>{_(r,e=>{e.unbind()}),i.unbind(),l.unbind(),d.unbind(),s.unbind(),a.on(clearTimeout),c.on(clearTimeout)}}},Xw=(e,t)=>{e=T(e,"target").getOr(t);return D(e)},Kw=na([{stopped:[]},{resume:["element"]},{complete:[]}]),Yw=(e,n,t,o,r,a)=>{e=e(n,o);const s=((e,t)=>{const o=D(!1),n=D(!1);return{stop:()=>{o.set(!0)},cut:()=>{n.set(!0)},isStopped:o.get,isCut:n.get,event:e,setSource:t.set,getSource:t.get}})(t,r);return e.fold(()=>(a.logEventNoHandlers(n,o),Kw.complete()),t=>{const o=t.descHandler;return oi(o)(s),s.isStopped()?(a.logEventStopped(n,t.element,o.purpose),Kw.stopped()):s.isCut()?(a.logEventCut(n,t.element,o.purpose),Kw.complete()):Vt(t.element).fold(()=>(a.logNoParent(n,t.element,o.purpose),Kw.complete()),e=>(a.logEventResponse(n,t.element,o.purpose),Kw.resume(e)))})},Jw=(t,o,n,e,r,a)=>Yw(t,o,n,e,r,a).fold(le,e=>Jw(t,o,n,e,r,a),ie),Zw=(e,t,o)=>{const n=(e=>{const t=D(!1);return{stop:()=>{t.set(!0)},cut:k,isStopped:t.get,isCut:ie,event:e,setSource:ae("Cannot set source of a broadcasted event"),getSource:ae("Cannot get source of a broadcasted event")}})(t);return _(e,e=>{e=e.descHandler;oi(e)(n)}),n.isStopped()},Qw=(e,t,o,n,r)=>{var a=Xw(o,n);return Jw(e,t,o,n,a,r)},e0=()=>{const a={};return{registerId:(n,r,e)=>{Pe(e,(e,t)=>{var o=void 0!==a[t]?a[t]:{};o[r]={cHandler:ne.apply(void 0,[(e=e).handler].concat(n)),purpose:e.purpose},a[t]=o})},unregisterId:o=>{Pe(a,(e,t)=>{Ye(e,o)&&delete e[o]})},filterByType:e=>T(a,e).map(e=>qe(e,(e,t)=>({id:t,descHandler:e}))).getOr([]),find:(e,t,o)=>T(a,t).bind(n=>ma(o,e=>{return t=n,o=e,Hs(o).bind(e=>T(t,e)).map(e=>({element:o,descHandler:e}));var t,o},e))}},t0=()=>{const a=e0(),s={},i=o=>{var e=o.element;return Hs(e).getOrThunk(()=>{var e="uid-",t=o.element;return e=N(Ns+e),zs(t,e),e})};const l=e=>{Hs(e.element).each(e=>{delete s[e],a.unregisterId(e)})};return{find:(e,t,o)=>a.find(e,t,o),filter:e=>a.filterByType(e),register:e=>{var t=i(e);if(Je(s,t)){var o=e,n=t,r=s[n];if(r!==o)throw new Error('The tagId "'+n+'" is already used by: '+Bs(r.element)+"\nCannot use it for: "+Bs(o.element)+"\nThe conflicting element is"+(Qt(r.element)?" ":" not ")+"already in the DOM");l(o)}n=[e];a.registerId(n,t,e.events),s[t]=e},unregister:l,getById:e=>T(s,e)}};const o0=Fm({name:"Container",factory:e=>{const{attributes:t,...o}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...o},components:e.components,behaviours:Wu(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[m("components",[]),cd("containerBehaviours",[]),m("events",{}),m("domModification",{}),m("eventOrder",{})]}),n0=o=>{const n=t=>Vt(o.element).fold(le,e=>Mt(t,e)),r=t0(),l=(e,t)=>r.find(n,e,t),e=qw(o.element,{triggerEvent:(r,a)=>il(r,a.target,e=>{return t=l,o=r,n=a,e=e,Qw(t,o,n,n.target,e);var t,o,n})}),a={debugInfo:O("real"),triggerEvent:(t,o,n)=>{il(t,o,e=>Qw(l,t,n,o,e))},triggerFocus:(s,i)=>{Hs(s).fold(()=>{dc(s)},e=>{il(za(),s,e=>{var t,o,n,r,a;return t=l,o=za(),n={originator:i,kill:k,prevent:k,target:s},r=s,e=e,a=Xw(n,r),Yw(t,o,n,r,a,e),!1})})},triggerEscape:(e,t)=>{a.triggerEvent("keydown",e.element,t.event)},getByUid:e=>p(e),getByDom:e=>h(e),build:Pi,buildOrPatch:Li,addToGui:e=>{i(e)},removeFromGui:e=>{c(e)},addToWorld:e=>{t(e)},removeFromWorld:e=>{s(e)},broadcast:e=>{u(e)},broadcastOn:(e,t)=>{m(e,t)},broadcastEvent:(e,t)=>{g(e,t)},isConnected:le},t=e=>{e.connect(a),kt(e.element)||(r.register(e),_(e.components(),t),a.triggerEvent(Xa(),e.element,{target:e.element}))},s=e=>{kt(e.element)||(_(e.components(),s),r.unregister(e)),e.disconnect()},i=e=>{bu(o,e)},c=e=>{wu(e)};const d=t=>{var e=r.filter(Pa());_(e,e=>{e=e.descHandler;oi(e)(t)})},u=e=>{d({universal:!0,data:e})},m=(e,t)=>{d({universal:!1,channels:e,data:t})},g=(e,t)=>{e=r.filter(e);return Zw(e,t)},p=e=>r.getById(e).fold(()=>I.error(new Error('Could not find component with uid: "'+e+'" in system.')),I.value),h=e=>{e=Hs(e).getOr("not found");return p(e)};return t(o),{root:o,element:o.element,destroy:()=>{e.unbind(),vn(o.element)},add:i,remove:c,getByUid:p,getByDom:h,addToWorld:t,removeFromWorld:s,broadcast:u,broadcastOn:m,broadcastEvent:g}};cb=O([m("prefix","form-field"),cd("fieldBehaviours",[z,S])]),Mb=O([dm({schema:[s("dom")],name:"label"}),dm({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[s("text")],name:"aria-descriptor"}),cm({factory:{sketch:e=>{var t=sa(e,["factory"]);return e.factory.sketch(t)}},schema:[s("factory")],name:"field"})]);const r0=am({name:"FormField",configFields:cb(),partFields:Mb(),factory:(r,e,t,o)=>{var n=ju(r.fieldBehaviours,[z.config({find:e=>ym(e,r,"field")}),S.config({store:{mode:"manual",getValue:e=>z.getCurrent(e).bind(S.getValue),setValue:(e,t)=>{z.getCurrent(e).each(e=>{S.setValue(e,t)})}}})]),a=gs([ks((e,t)=>{const n=wm(e,r,["label","field","aria-descriptor"]);n.field().each(o=>{const t=N(r.prefix);n.label().each(e=>{E(e.element,"for",t),E(o.element,"id",t)}),n["aria-descriptor"]().each(e=>{var t=N(r.prefix);E(e.element,"id",t),E(o.element,"aria-describedby",t)})})})]);return{uid:r.uid,dom:r.dom,components:e,behaviours:n,events:a,apis:{getField:e=>ym(e,r,"field"),getLabel:e=>ym(e,r,"label")}}},apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});o=Object.freeze({__proto__:null,exhibit:(e,t)=>ei({attributes:la([{key:t.tabAttr,value:"true"}])})}),gr=[m("tabAttr","data-alloy-tabstop")];const a0=ac({fields:gr,name:"tabstopping",active:o});var s0=tinymce.util.Tools.resolve("tinymce.html.Entities");const i0=(e,t,o,n)=>{e=l0(e,t,o,n);return r0.sketch(e)},l0=(e,t,o,n)=>({dom:c0(o),components:e.toArray().concat([t]),fieldBehaviours:V(n)}),c0=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),d0=(e,t)=>r0.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ni(t.translate(e))]}),u0=N("form-component-change"),m0=N("form-close"),g0=N("form-cancel"),p0=N("form-action"),h0=N("form-submit"),f0=N("form-block"),v0=N("form-unblock"),b0=N("form-tabchange"),y0=N("form-resize"),x0=(a,s,e)=>{var t=a.label.map(e=>d0(e,s)),o=n=>(t,o)=>{Ji(o.event.target,"[data-collection-item-value]").each(e=>{n(t,o,e,no(e,"data-collection-item-value"))})};var n=o((e,t,o,n)=>{t.stop(),s.isDisabled()||M(e,p0,{name:a.name,value:n})}),n=[R(Oa(),o((e,t,o)=>{dc(o)})),R(Ba(),n),R(ja(),n),R(_a(),o((e,t,o)=>{Yi(e.element,"."+Ev).each(e=>{fi(e,Ev)}),pi(o,Ev)})),R(Ta(),o(e=>{Yi(e.element,"."+Ev).each(e=>{fi(e,Ev)})})),_s(o((e,t,o,n)=>{M(e,p0,{name:a.name,value:n})}))];const r=(e,t)=>C(Nd(e.element,".tox-collection__item"),t);o=r0.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(1!==a.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:te},behaviours:V([H.config({disabled:s.isDisabled,onDisabled:e=>{r(e,e=>{pi(e,"tox-collection__item--state-disabled"),E(e,"aria-disabled",!0)})},onEnabled:e=>{r(e,e=>{fi(e,"tox-collection__item--state-disabled"),so(e,"aria-disabled")})}}),sy(),U.config({}),S.config({store:{mode:"memory",initialValue:e.getOr([])},onSetValue:(o,e)=>{var t=o;e=C(e,e=>{var t=Zh.translate(e.text),o=1===a.columns?`<div class="tox-collection__item-label">${t}</div>`:"",n=`<div class="tox-collection__item-icon">${e.icon}</div>`;const r={_:" "," - ":" ","-":" "};t=t.replace(/\_| \- |\-/g,e=>r[e]);return`<div class="tox-collection__item${s.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${s0.encodeAllRaw(e.value)}" title="${t}" aria-label="${t}">${n}${o}</div>`}),e="auto"!==a.columns&&1<a.columns?ve(e,a.columns):[e],e=C(e,e=>`<div class="tox-collection__group">${e.join("")}</div>`),Ds(t.element,e.join("")),"auto"===a.columns&&qb(o,5,"tox-collection__item").each(({numRows:e,numColumns:t})=>{P.setGridSize(o,e,t)}),A(o,y0)}}),a0.config({}),P.config((o=a.columns,e="normal",1===o?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===o?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===e?".tox-swatches__row":".tox-collection__group",cell:"color"===e?"."+wv:"."+xv}})),W("collection-events",n)]),eventOrder:{[Ua()]:["disabling","alloy.base.behaviour","collection-events"]}});return i0(t,o,["tox-form__group--collection"],[])},w0=["input","textarea"],S0=e=>{e=xt(e);return pe(w0,e)},k0=(e,t)=>{var o=t.getRoot(e).getOr(e.element);fi(o,t.invalidClass),t.notify.each(t=>{S0(e.element)&&E(e.element,"aria-invalid",!1),t.getContainer(e).each(e=>{Ds(e,t.validHtml)}),t.onValid(e)})},C0=(t,e,o,n)=>{var r=e.getRoot(t).getOr(t.element);pi(r,e.invalidClass),e.notify.each(e=>{S0(t.element)&&E(t.element,"aria-invalid",!0),e.getContainer(t).each(e=>{Ds(e,n)}),e.onInvalid(t,n)})},O0=(t,e,o)=>e.validator.fold(()=>gw.pure(I.value(!0)),e=>e.validate(t)),_0=(t,o,e)=>(o.notify.each(e=>{e.onValidate(t)}),O0(t,o).map(e=>t.getSystem().isConnected()?e.fold(e=>(C0(t,o,0,e),I.error(e)),e=>(k0(t,o),I.value(e))):I.error("No longer in system")));bb=Object.freeze({__proto__:null,markValid:k0,markInvalid:C0,query:O0,run:_0,isInvalid:(e,t)=>{e=t.getRoot(e).getOr(e.element);return vi(e,t.invalidClass)}}),Fb=Object.freeze({__proto__:null,events:(t,e)=>t.validator.map(e=>gs([R(e.onEvent,e=>{_0(e,t).get(te)})].concat(e.validateOnLoad?[ks(e=>{_0(e,t).get(k)})]:[]))).getOr({})}),vb=[s("invalidClass"),m("getRoot",B.none),qr("notify",[m("aria","alert"),m("getContainer",B.none),m("validHtml",""),t("onValid"),t("onInvalid"),t("onValidate")]),qr("validator",[s("validate"),m("onEvent","input"),m("validateOnLoad",!0)])];const T0=ac({fields:vb,name:"invalidating",active:Fb,apis:bb,extra:{validation:t=>e=>{e=S.getValue(e);return gw.pure(t(e))}}});const E0=ac({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>gs([ps(Na(),le)]),exhibit:()=>ei({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),D0=N("color-input-change"),A0=N("color-swatch-change"),M0=N("color-picker-cancel"),B0=(n,t,r,e)=>{var e=r0.parts.field({factory:Hv,inputClasses:["tox-textfield"],data:e,onSetValue:e=>T0.run(e).get(k),inputBehaviours:V([H.config({disabled:t.providers.isDisabled}),sy(),a0.config({}),T0.config({invalidClass:"tox-textbox-field-invalid",getRoot:e=>zt(e.element),notify:{onValid:e=>{var t=S.getValue(e);M(e,D0,{color:t})}},validator:{validateOnLoad:!1,validate:e=>{const t=S.getValue(e);return 0===t.length?gw.pure(I.value(!0)):(e=w.fromTag("span"),F(e,"background-color",t),e=po(e,"background-color").fold(()=>I.error("blah"),e=>I.value(t)),gw.pure(e))}}})]),selectOnFocus:!1}),o=n.label.map(e=>d0(e,t.providers));const a=(e,t)=>{M(e,A0,{value:t})};var s,i;const l=th((s={dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ll,Hl,jl],onLtr:()=>[Hl,Ll,jl]},components:[],fetch:Px(r.getColors(n.storageKey),n.storageKey,r.hasCustomColors()),columns:r.getColorCols(n.storageKey),presets:"color",onItemAction:(e,o)=>{l.getOpt(e).each(t=>{"custom"===o?r.colorPicker(e=>{e.fold(()=>A(t,M0),e=>{a(t,e),fx(n.storageKey,e)})},"#ffffff"):"remove"===o?a(t,""):a(t,o)})}},i=t,_w.sketch({dom:s.dom,components:s.components,toggleClass:"mce-active",dropdownBehaviours:V([iy.button(i.providers.isDisabled),sy(),E0.config({}),a0.config({})]),layouts:s.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:i.getSink,fetch:t=>gw.nu(e=>s.fetch(e)).map(e=>B.from(Rw(jn(qx(N("menu-value"),e,e=>{s.onItemAction(t,e)},s.columns,s.presets,bv.CLOSE_ON_EXECUTE,ie,i.providers),{movement:Kx(s.columns,s.presets)})))),parts:{menu:Nv(!1,1,s.presets)}})));return r0.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[e,l.asSpec()]}]),fieldBehaviours:V([W("form-field-events",[R(D0,(e,t)=>{l.getOpt(e).each(e=>{F(e.element,"background-color",t.event.color)}),M(e,u0,{name:n.name})}),R(A0,(t,o)=>{r0.getField(t).each(e=>{S.setValue(e,o.event.value),z.getCurrent(t).each(j.focus)})}),R(M0,(t,e)=>{r0.getField(t).each(e=>{z.getCurrent(t).each(j.focus)})})])])})};Va=dm({schema:[s("dom")],name:"label"}),ub=t=>dm({name:t+"-edge",overrides:e=>{return e.model.manager.edgeActions[t].fold(()=>({}),n=>({events:gs([fs(va(),(e,t,o)=>n(e,o),[e]),fs(wa(),(e,t,o)=>n(e,o),[e]),fs(Sa(),(e,t,o)=>{o.mouseIsDown.get()&&n(e,o)},[e])])}))}}),cb=ub("top-left"),Mb=ub("top"),gr=ub("top-right"),o=ub("right"),vb=ub("bottom-right"),Fb=ub("bottom"),bb=ub("bottom-left"),Va=[Va,ub("left"),o,Mb,Fb,cb,gr,bb,vb,cm({name:"thumb",defaults:O({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:gs([ys(va(),e,"spectrum"),ys(ba(),e,"spectrum"),ys(ya(),e,"spectrum"),ys(wa(),e,"spectrum"),ys(Sa(),e,"spectrum"),ys(Ca(),e,"spectrum")])})}),cm({schema:[Mr("mouseIsDown",()=>D(!1))],name:"spectrum",overrides:o=>{const n=o.model.manager,r=(t,e)=>n.getValueFromEvent(e).map(e=>n.setValueFrom(t,o,e));return{behaviours:V([P.config({mode:"special",onLeft:e=>n.onLeft(e,o),onRight:e=>n.onRight(e,o),onUp:e=>n.onUp(e,o),onDown:e=>n.onDown(e,o)}),j.config({})]),events:gs([R(va(),r),R(ba(),r),R(wa(),r),R(Sa(),(e,t)=>{o.mouseIsDown.get()&&r(e,t)})])}}})];const F0=O("slider.change.value"),I0=e=>-1!==e.type.indexOf("touch"),R0=e=>{var t,e=e.event.raw;return I0(e)?void 0!==(t=e).touches&&1===t.touches.length?B.some(t.touches[0]).map(e=>ko(e.clientX,e.clientY)):B.none():void 0!==(t=e).clientX?B.some(t).map(e=>ko(e.clientX,e.clientY)):B.none()},N0=e=>e.model.minX,V0=e=>e.model.minY,z0=e=>e.model.minX-1,H0=e=>e.model.minY-1,L0=e=>e.model.maxX,P0=e=>e.model.maxY,U0=e=>e.model.maxX+1,W0=e=>e.model.maxY+1,j0=(e,t,o)=>t(e)-o(e),G0=e=>j0(e,L0,N0),$0=e=>j0(e,P0,V0),q0=e=>G0(e)/2,X0=e=>$0(e)/2,K0=e=>e.stepSize,Y0=e=>e.snapToGrid,J0=e=>e.snapStart,Z0=e=>e.rounded,Q0=(e,t)=>void 0!==e[t+"-edge"],eS=e=>Q0(e,"left"),tS=e=>Q0(e,"right"),oS=e=>Q0(e,"top"),nS=e=>Q0(e,"bottom"),rS=e=>e.model.value.get(),aS=(e,t)=>({x:e,y:t}),sS=(e,t)=>{M(e,F0(),{value:t})};const iS=(e,t,o,n)=>e<t?e:o<e?o:e===t?t-1:Math.max(t,e-n),lS=(e,t,o,n)=>o<e?e:e<t?t:e===o?o+1:Math.min(o,e+n),cS=(e,t,o)=>Math.max(t,Math.min(o,e)),dS=e=>{var r,t,a,s,{min:e,max:o,range:n,value:i,step:l,snap:c,snapStart:d,rounded:u,hasMinEdge:m,hasMaxEdge:g,minBound:p,maxBound:h,screenRange:f}=e,m=m?e-1:e,g=g?o+1:o;return i<p?m:h<i?g:(p=p,h=Math.min(h,Math.max(i,p))-p,i=cS(h/f*n+e,m,g),c&&e<=i&&i<=o?(r=i,t=e,a=o,s=l,d.fold(()=>{var e=Math.round((r-t)/s)*s;return cS(t+e,t-1,a+1)},e=>{var t=Math.round((r-e)%s/s),o=Math.floor((r-e)/s),n=Math.floor((a-e)/s),n=Math.min(n,o+t);return Math.max(e,e+n*s)})):u?Math.round(i):i)},uS=e=>{var{min:e,max:t,range:o,value:n,hasMinEdge:r,hasMaxEdge:a,maxBound:s,maxOffset:i,centerMinEdge:l,centerMaxEdge:c}=e;return n<e?r?0:l:t<n?a?s:c:(n-e)/o*i},mS="top",gS="left",pS=e=>e.element.dom.getBoundingClientRect(),hS=(e,t)=>e[t],fS=e=>{e=pS(e);return hS(e,gS)},vS=e=>{e=pS(e);return hS(e,"right")},bS=e=>{e=pS(e);return hS(e,mS)},yS=e=>{e=pS(e);return hS(e,"bottom")},xS=e=>{e=pS(e);return hS(e,"width")},wS=e=>{e=pS(e);return hS(e,"height")},SS=(e,t)=>{e=pS(e),t=pS(t);return(hS(e,gS)+hS(e,"right"))/2-hS(t,gS)},kS=(e,t)=>{e=pS(e),t=pS(t);return(hS(e,mS)+hS(e,"bottom"))/2-hS(t,mS)},CS=(e,t)=>{M(e,F0(),{value:t})},OS=(e,t,o)=>{o={min:N0(t),max:L0(t),range:G0(t),value:o,step:K0(t),snap:Y0(t),snapStart:J0(t),rounded:Z0(t),hasMinEdge:eS(t),hasMaxEdge:tS(t),minBound:fS(e),maxBound:vS(e),screenRange:xS(e)};return dS(o)};ub=o=>(e,t)=>((e,t,o)=>{e=(0<e?lS:iS)(rS(o),N0(o),L0(o),K0(o));return CS(t,e),B.some(e)})(o,e,t).map(le);const _S=(e,t,o,n,r,a)=>{s=t,a=a,o=o,n=n,r=r,i=xS(s),n=n.bind(e=>B.some(SS(e,s))).getOr(0),r=r.bind(e=>B.some(SS(e,s))).getOr(i),o={min:N0(a),max:L0(a),range:G0(a),value:o,hasMinEdge:eS(a),hasMaxEdge:tS(a),minBound:fS(s),minOffset:0,maxBound:vS(s),maxOffset:i,centerMinEdge:n,centerMaxEdge:r};var s,i,a=uS(o);return fS(t)-fS(e)+a};o=ub(-1),Mb=ub(1),Fb=B.none,cb=B.none,gr={"top-left":B.none(),top:B.none(),"top-right":B.none(),right:B.some((e,t)=>{sS(e,U0(t))}),"bottom-right":B.none(),bottom:B.none(),"bottom-left":B.none(),left:B.some((e,t)=>{sS(e,z0(t))})},bb=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{t=OS(e,t,o),o=t;return CS(e,o),t},setToMin:(e,t)=>{t=N0(t);CS(e,t)},setToMax:(e,t)=>{t=L0(t);CS(e,t)},findValueOfOffset:OS,getValueFromEvent:e=>{return R0(e).map(e=>e.left)},findPositionOfValue:_S,setPositionFromValue:(e,t,o,n)=>{var r=rS(o),r=_S(e,n.getSpectrum(e),r,n.getLeftEdge(e),n.getRightEdge(e),o),n=Eo(t.element)/2;F(t.element,"left",r-n+"px")},onLeft:o,onRight:Mb,onUp:Fb,onDown:cb,edgeActions:gr});const TS=(e,t)=>{M(e,F0(),{value:t})},ES=(e,t,o)=>{o={min:V0(t),max:P0(t),range:$0(t),value:o,step:K0(t),snap:Y0(t),snapStart:J0(t),rounded:Z0(t),hasMinEdge:oS(t),hasMaxEdge:nS(t),minBound:bS(e),maxBound:yS(e),screenRange:wS(e)};return dS(o)};vb=o=>(e,t)=>((e,t,o)=>{e=(0<e?lS:iS)(rS(o),V0(o),P0(o),K0(o));return TS(t,e),B.some(e)})(o,e,t).map(le);const DS=(e,t,o,n,r,a)=>{s=t,a=a,o=o,n=n,r=r,i=wS(s),n=n.bind(e=>B.some(kS(e,s))).getOr(0),r=r.bind(e=>B.some(kS(e,s))).getOr(i),o={min:V0(a),max:P0(a),range:$0(a),value:o,hasMinEdge:oS(a),hasMaxEdge:nS(a),minBound:bS(s),minOffset:0,maxBound:yS(s),maxOffset:i,centerMinEdge:n,centerMaxEdge:r};var s,i,a=uS(o);return bS(t)-bS(e)+a};ub=B.none,o=B.none,Mb=vb(-1),Fb=vb(1),cb={"top-left":B.none(),top:B.some((e,t)=>{sS(e,H0(t))}),"top-right":B.none(),right:B.none(),"bottom-right":B.none(),bottom:B.some((e,t)=>{sS(e,W0(t))}),"bottom-left":B.none(),left:B.none()},gr=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{t=ES(e,t,o),o=t;return TS(e,o),t},setToMin:(e,t)=>{t=V0(t);TS(e,t)},setToMax:(e,t)=>{t=P0(t);TS(e,t)},findValueOfOffset:ES,getValueFromEvent:e=>{return R0(e).map(e=>e.top)},findPositionOfValue:DS,setPositionFromValue:(e,t,o,n)=>{var r=rS(o),r=DS(e,n.getSpectrum(e),r,n.getTopEdge(e),n.getBottomEdge(e),o),n=xo(t.element)/2;F(t.element,"top",r-n+"px")},onLeft:ub,onRight:o,onUp:Mb,onDown:Fb,edgeActions:cb});const AS=(e,t)=>{M(e,F0(),{value:t})},MS=(e,t)=>({x:e,y:t});vb=(a,s)=>(e,t)=>{return n=s,e=e,t=t,o=0<(o=a)?lS:iS,r=n?rS(t).x:o(rS(t).x,N0(t),L0(t),K0(t)),n=n?o(rS(t).y,V0(t),P0(t),K0(t)):rS(t).y,AS(e,MS(r,n)),B.some(r).map(le);var o,n,r},ub=vb(-1,!1),o=vb(1,!1),Mb=vb(-1,!0),Fb=vb(1,!0),cb={"top-left":B.some((e,t)=>{sS(e,aS(z0(t),H0(t)))}),top:B.some((e,t)=>{sS(e,aS(q0(t),H0(t)))}),"top-right":B.some((e,t)=>{sS(e,aS(U0(t),H0(t)))}),right:B.some((e,t)=>{sS(e,aS(U0(t),X0(t)))}),"bottom-right":B.some((e,t)=>{sS(e,aS(U0(t),W0(t)))}),bottom:B.some((e,t)=>{sS(e,aS(q0(t),W0(t)))}),"bottom-left":B.some((e,t)=>{sS(e,aS(z0(t),W0(t)))}),left:B.some((e,t)=>{sS(e,aS(z0(t),X0(t)))})},vb=Object.freeze({__proto__:null,setValueFrom:(e,t,o)=>{var n=OS(e,t,o.left),t=ES(e,t,o.top),o=MS(n,t);return AS(e,o),o},setToMin:(e,t)=>{var o=N0(t),t=V0(t);AS(e,MS(o,t))},setToMax:(e,t)=>{var o=L0(t),t=P0(t);AS(e,MS(o,t))},getValueFromEvent:e=>R0(e),setPositionFromValue:(e,t,o,n)=>{var r=rS(o),a=_S(e,n.getSpectrum(e),r.x,n.getLeftEdge(e),n.getRightEdge(e),o),r=DS(e,n.getSpectrum(e),r.y,n.getTopEdge(e),n.getBottomEdge(e),o),n=Eo(t.element)/2,e=xo(t.element)/2;F(t.element,"left",a-n+"px"),F(t.element,"top",r-e+"px")},onLeft:ub,onRight:o,onUp:Mb,onDown:Fb,edgeActions:cb});const BS=am({name:"Slider",configFields:[m("stepSize",1),m("onChange",k),m("onChoose",k),m("onInit",k),m("onDragStart",k),m("onDragEnd",k),m("snapToGrid",!1),m("rounded",!0),Lr("snapStart"),Fr("model",Er("mode",{x:[m("minX",0),m("maxX",100),Mr("value",e=>D(e.mode.minX)),s("getInitialValue"),vl("manager",bb)],y:[m("minY",0),m("maxY",100),Mr("value",e=>D(e.mode.minY)),s("getInitialValue"),vl("manager",gr)],xy:[m("minX",0),m("maxX",100),m("minY",0),m("maxY",100),Mr("value",e=>D({x:e.mode.minX,y:e.mode.minY})),s("getInitialValue"),vl("manager",vb)]})),cd("sliderBehaviours",[P,S]),Mr("mouseIsDown",()=>D(!1))],partFields:Va,factory:(r,e,t,o)=>{const a=e=>xm(e,r,"thumb"),s=e=>xm(e,r,"spectrum"),n=e=>ym(e,r,"left-edge"),i=e=>ym(e,r,"right-edge"),l=e=>ym(e,r,"top-edge"),c=e=>ym(e,r,"bottom-edge"),d=r.model,u=d.manager,m=(e,t)=>{u.setPositionFromValue(e,t,r,{getLeftEdge:n,getRightEdge:i,getTopEdge:l,getBottomEdge:c,getSpectrum:s})},g=(e,t)=>{d.value.set(t);t=a(e);m(e,t)};const p=o=>{var e=r.mouseIsDown.get();r.mouseIsDown.set(!1),e&&ym(o,r,"thumb").each(e=>{var t=d.value.get();r.onChoose(o,e,t)})};var h=(e,t)=>{t.stop(),r.mouseIsDown.set(!0),r.onDragStart(e,a(e))},f=(e,t)=>{t.stop(),r.onDragEnd(e,a(e)),p(e)};return{uid:r.uid,dom:r.dom,components:e,behaviours:ju(r.sliderBehaviours,[P.config({mode:"special",focusIn:e=>ym(e,r,"spectrum").map(P.focusIn).map(le)}),S.config({store:{mode:"manual",getValue:e=>d.value.get(),setValue:g}}),cc.config({channels:{[Ru()]:{onReceive:p}}})]),events:gs([R(F0(),(e,t)=>{var o;e=e,t=t.event.value,g(e,t),o=a(e),r.onChange(e,o,t),B.some(!0)}),ks((e,t)=>{var o=d.getInitialValue(),o=(d.value.set(o),a(e)),n=(m(e,o),s(e));r.onInit(e,o,n,d.value.get())}),R(va(),h),R(ya(),f),R(wa(),h),R(Ca(),f)]),apis:{resetToMin:e=>{u.setToMin(e,r)},resetToMax:e=>{u.setToMax(e,r)},setValue:g,refresh:m},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,o)=>{e.setValue(t,o)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),FS=N("rgb-hex-update"),IS=N("slider-update"),RS=N("palette-update"),NS=(e,t)=>{var o=BS.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),n=BS.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return BS.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:O(0)},components:[o,n],sliderBehaviours:V([j.config({})]),onChange:(e,t,o)=>{M(e,IS,{value:o})}})},VS=[cd("formBehaviours",[S])],zS=e=>"<alloy.field."+e+">";const HS=(e,t)=>e.fold(()=>I.error(t),I.value),LS=(n,e)=>({uid:n.uid,dom:n.dom,components:e,behaviours:ju(n.formBehaviours,[S.config({store:{mode:"manual",getValue:e=>{e=Sm(e,n);return Ue(e,(e,o)=>e().bind(e=>{var t=z.getCurrent(e);return HS(t,new Error(`Cannot find a current component to extract the value from for form part '${o}': `+Bs(e.element)))}).map(S.getValue))},setValue:(o,e)=>{Pe(e,(t,e)=>{ym(o,n,e).each(e=>{z.getCurrent(e).each(e=>{S.setValue(e,t)})})})}}})]),apis:{getField:(e,t)=>ym(e,n,t).bind(z.getCurrent)}}),PS={getField:Ys((e,t,o)=>e.getField(t,o)),sketch:e=>{var t=(()=>{const o=[];return{field:(e,t)=>(o.push(e),pm("form",zS(e),t)),record:O(o)}})(),e=e(t),t=t.record(),t=C(t,e=>cm({name:e,pname:zS(e)}));return Em("form",VS,t,LS,e)}},US=N("valid-input"),WS=N("invalid-input"),jS=N("validating-input"),GS="colorcustom.rgb.",$S=(g,p,h,f)=>{const s=(t,o)=>T0.config({invalidClass:p("invalid"),notify:{onValidate:e=>{M(e,jS,{type:t})},onValid:e=>{M(e,US,{type:t,value:S.getValue(e)})},onInvalid:e=>{M(e,WS,{type:t,value:S.getValue(e)})}},validator:{validate:e=>{e=S.getValue(e),e=o(e)?I.value(!0):I.error(g("aria.input.invalid"));return gw.pure(e)},validateOnLoad:!1}}),v=(e,t,o,n,r)=>{var a=g(GS+"range"),n=[r0.parts.label({dom:{tag:"label",attributes:{"aria-label":n}},components:[Ni(o)]}),r0.parts.field({data:r,factory:Hv,inputAttributes:{type:"text",..."hex"===t?{"aria-live":"polite"}:{}},inputClasses:[p("textfield")],inputBehaviours:V([s(t,e),a0.config({})]),onSetValue:e=>{T0.isInvalid(e)&&T0.run(e).get(k)}})],o="hex"!==t?[r0.parts["aria-descriptor"]({text:a})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:n.concat(o)}},b=(e,t)=>{var o=t.red,n=t.green,t=t.blue;S.setValue(e,{red:o,green:n,blue:t})},y=th({dom:{tag:"div",classes:[p("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),x=(e,t)=>{y.getOpt(e).each(e=>{F(e.element,"background-color","#"+t.value)})};return Fm({factory:()=>{const o={red:D(B.some(255)),green:D(B.some(255)),blue:D(B.some(255)),hex:D(B.some("ffffff"))},e=e=>o[e].get(),a=(e,t)=>{o[e].set(t)},n=()=>e("red").bind(o=>e("green").bind(t=>e("blue").map(e=>qy(o,t,e,1)))),s=e=>{var t=e.red,o=e.green,e=e.blue;a("red",B.some(t)),a("green",B.some(o)),a("blue",B.some(e))},t=(e,t)=>{t=t.event;"hex"!==t.type?a(t.type,B.none()):f(e)},i=(t,e,o)=>{o=parseInt(o,10);a(e,B.some(o)),n().each(e=>{e=((t,e)=>{const o=Py(e);return PS.getField(t,"hex").each(e=>{j.isFocused(e)||S.setValue(t,{hex:o.value})}),o})(t,e);M(t,FS,{hex:e}),x(t,e)})},r=(e,t)=>{var o,n,r,t=t.event;"hex"===t.type?(o=e,n=t.value,h(o),n=Iy(n),a("hex",B.some(n.value)),r=Yy(n),b(o,r),s(r),M(o,FS,{hex:n}),x(o,n)):i(e,t.type,t.value)};var l=e=>({label:g(GS+e+".label"),description:g(GS+e+".description")});const c=l("red"),d=l("green"),u=l("blue"),m=l("hex");return jn(PS.sketch(e=>({dom:{tag:"form",classes:[p("rgb-form")],attributes:{"aria-label":g("aria.color.picker")}},components:[e.field("red",r0.sketch(v(Xy,"red",c.label,c.description,255))),e.field("green",r0.sketch(v(Xy,"green",d.label,d.description,255))),e.field("blue",r0.sketch(v(Xy,"blue",u.label,u.description,255))),e.field("hex",r0.sketch(v(Vy,"hex",m.label,m.description,"ffffff"))),y.asSpec()],formBehaviours:V([T0.config({invalidClass:p("form-invalid")}),W("rgb-form-events",[R(US,r),R(WS,t),R(jS,t)])])})),{apis:{updateHex:(e,t)=>{S.setValue(e,{hex:t.value});var o=e,n=t;n=Yy(n),b(o,n),s(n),x(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(e,t,o)=>{e.updateHex(t,o)}},extraApis:{}})},qS=(e,n)=>{const r=BS.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[n("sv-palette-spectrum")]}}),a=BS.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette-thumb")],innerHtml:`<div class=${n("sv-palette-inner-thumb")} role="presentation"></div>`}}),s=(e,t)=>{var{width:o,height:n}=e,e=e.getContext("2d");null!==e&&(e.fillStyle=t,e.fillRect(0,0,o,n),(t=e.createLinearGradient(0,0,o,0)).addColorStop(0,"rgba(255,255,255,1)"),t.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=t,e.fillRect(0,0,o,n),(t=e.createLinearGradient(0,0,0,n)).addColorStop(0,"rgba(0,0,0,0)"),t.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=t,e.fillRect(0,0,o,n))};return Fm({factory:e=>{var t=O({x:0,y:0}),o=V([z.config({find:B.some}),j.config({})]);return BS.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette")]},model:{mode:"xy",getInitialValue:t},rounded:!1,components:[r,a],onChange:(e,t,o)=>{M(e,RS,{value:o})},onInit:(e,t,o,n)=>{s(o.element.dom,Qy(ex))},sliderBehaviours:o})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(e,t,o)=>{var n=t;n=t.components()[0].element.dom,o=vx(o,100,100),o=Ky(o),s(n,Qy(o))},setThumb:(e,t,o)=>{o=bx(Yy(o)),BS.setValue(t,{x:o.saturation,y:100-o.value})}},extraApis:{}})};const XS={self:()=>z.config({find:B.some}),memento:e=>z.config({find:e.getOpt}),childAt:e=>z.config({find:t=>Pt(t.element,e).bind(e=>t.getSystem().getByDom(e).toOptional())})},KS=u([m("preprocess",te),m("postprocess",te)]),YS=(e,t,o)=>S.config({store:{mode:"manual",...e.map(e=>({initialValue:e})).getOr({}),getValue:t,setValue:o}}),JS=(e,t,o)=>YS(e,e=>t(e.element),(e,t)=>o(e.element,t)),ZS=e=>S.config({store:{mode:"memory",initialValue:e}}),QS={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},ek=(e,t,o)=>{var p,h,n,r=e=>"tox-"+e,t=(n=t,p=e=>n.translate(QS[e]),h=r,Fm({name:"ColourPicker",configFields:[s("dom"),m("onValidHex",k),m("onInvalidHex",k)],factory:e=>{const o=$S(p,h,e.onValidHex,e.onInvalidHex),n=qS(p,h),r=e=>100-e/360*100,a={paletteRgba:D(ex),paletteHue:D(0)},s=th(NS(p,h)),i=th(n.sketch({})),l=th(o.sketch({})),t=(e,t,o)=>{i.getOpt(e).each(e=>{n.setHue(e,o)})},c=(e,t)=>{l.getOpt(e).each(e=>{o.updateHex(e,t)})},d=(e,t,o)=>{s.getOpt(e).each(e=>{BS.setValue(e,r(o))})},u=(e,t)=>{i.getOpt(e).each(e=>{n.setThumb(e,t)})},m=(e,t)=>{e=Yy(e);a.paletteRgba.set(e),a.paletteHue.set(t)},g=(t,o,n,e)=>{m(o,n),_(e,e=>{e(t,o,n)})};return{uid:e.uid,dom:e.dom,components:[i.asSpec(),s.asSpec(),l.asSpec()],behaviours:V([W("colour-picker-events",[R(FS,(()=>{const n=[t,d,u];return(e,t)=>{var t=t.event.hex,o=yx(t);g(e,t,o.hue,n)}})()),R(RS,(()=>{const n=[c];return(e,t)=>{var t=t.event.value,o=a.paletteHue.get(),t=vx(o,t.x,100-t.y),t=xx(t);g(e,t,o,n)}})()),R(IS,(()=>{const n=[t,c];return(e,t)=>{var t=(100-t.event.value)/100*360,o=a.paletteRgba.get(),o=bx(o),o=vx(t,o.saturation,o.value),o=xx(o);g(e,o,t,n)}})())]),z.config({find:e=>l.getOpt(e)}),P.config({mode:"acyclic"})])}}}));const a=th(t.sketch({dom:{tag:"div",classes:["tox-color-picker-container"],attributes:{role:"presentation"}},onValidHex:e=>{M(e,p0,{name:"hex-valid",value:!0})},onInvalidHex:e=>{M(e,p0,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:V([YS(o,e=>{e=a.get(e);return z.getCurrent(e).bind(e=>{return S.getValue(e).hex}).map(e=>"#"+at(e,"#")).getOr("")},(e,t)=>{const o=B.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(t)).bind(e=>Ie(e,1));t=a.get(e);z.getCurrent(t).fold(()=>{console.log("Can not find form")},e=>{S.setValue(e,{hex:o.getOr("")}),PS.getField(e,"hex").each(e=>{A(e,Aa())})})}),XS.self()])}};var tk=tinymce.util.Tools.resolve("tinymce.Resource");var ok=tinymce.util.Tools.resolve("tinymce.util.Tools");const nk=(o,n,t)=>{const r=(e,t)=>{t.stop()},a=e=>(t,o)=>{_(e,e=>{e(t,o)})},s=(e,t)=>{H.isDisabled(e)||(t=t.event.raw,l(e,null==(e=t.dataTransfer)?void 0:e.files))},i=(e,t)=>{t=t.event.raw.target;l(e,t.files)},l=(e,t)=>{t&&(S.setValue(e,((e,t)=>{const o=ok.explode(t.getOption("images_file_types"));return xe(Ve(e),t=>he(o,e=>lt(t.name.toLowerCase(),"."+e.toLowerCase())))})(t,n)),M(e,u0,{name:o.name}))},c=th({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:V([W("input-file-events",[ws(Ba()),ws(ja())])])});var e=o.label.map(e=>d0(e,n)),d=r0.parts.field({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:V([ZS(t.getOr([])),XS.self(),H.config({}),h.config({toggleClass:"dragenter",toggleOnExecute:!1}),W("dropzone-events",[R("dragenter",a([r,h.toggle])),R("dragleave",a([r,h.toggle])),R("dragover",r),R("drop",a([r,s])),R(Ma(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ni(n.translate("Drop an image here"))]},Jp.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ni(n.translate("Browse for an image")),c.asSpec()],action:e=>{c.get(e).element.dom.click()},buttonBehaviours:V([a0.config({}),iy.button(n.isDisabled),sy()])})]}]})}});return i0(e,d,["tox-form__group--stretched"],[])},rk=(t,o)=>{let n=null;const r=()=>{$(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...e)=>{r(),n=setTimeout(()=>{n=null,t.apply(null,e)},o)}}},ak=N("alloy-fake-before-tabstop"),sk=N("alloy-fake-after-tabstop"),ik=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:V([j.config({ignore:!0}),a0.config({})])}),lk=(e,t)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[ik([ak]),t,ik([sk])],behaviours:V([XS.childAt(1)])}),ck=(e,t)=>{M(e,Ea(),{raw:{which:9,shiftKey:t}})},dk=(e,t)=>{t=t.element;vi(t,ak)?ck(e,!0):vi(t,sk)&&ck(e,!1)},uk=e=>Ww(e,["."+ak,"."+sk].join(","),ie),mk=N("update-dialog"),gk=N("update-title"),pk=N("update-body"),hk=N("update-footer"),fk=N("body-send-message"),vk=N("dialog-focus-shifted");ub=rn().browser;const bk=ub.isSafari();o=ub.isFirefox();const yk=bk||o,xk=ub.isChromium(),wk=({scrollTop:e,scrollHeight:t,clientHeight:o})=>Math.ceil(e)+o>=t,Sk=(e,t)=>e.scrollTo(0,"bottom"===t?99999999:t),kk=(e,s,t)=>{const i=e.dom;B.from(i.contentDocument).fold(t,e=>{let t=0;a=s,r=(n=e).body;const o=B.from(!/^<!DOCTYPE (html|HTML)/.test(a)&&(!xk&&!bk||Y(r)&&(0!==r.scrollTop||1<Math.abs(r.scrollHeight-r.clientHeight)))?r:n.documentElement).map(e=>(t=e.scrollTop,e)).forall(wk);var n,r,a=()=>{var e=i.contentWindow;Y(e)&&(o?Sk(e,"bottom"):!o&&yk&&0!==t&&Sk(e,t))};bk&&i.addEventListener("load",a,{once:!0}),e.open(),e.write(s),e.close(),bk||a()})},Ck=ot(yk,bk?500:200).map(e=>{{var n=kk,r=e;let t=null,o=null;return{cancel:()=>{$(t)||(clearTimeout(t),t=null,o=null)},throttle:(...e)=>{o=e,$(t)&&(t=setTimeout(()=>{var e=o;t=null,o=null,n.apply(null,e)},r))}}}}),Ok=(e,t,o)=>{const n="tox-dialog__iframe",r=e.transparent?[]:[n+"--opaque"],a=e.border?["tox-navobj-bordered"]:[],s={...e.label.map(e=>({title:e})).getOr({}),...o.map(e=>({srcdoc:e})).getOr({}),...e.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},i=((e,n)=>{const r=D(e.getOr(""));return{getValue:e=>r.get(),setValue:(e,t)=>{if(r.get()!==t){const o=e.element;e=()=>E(o,"srcdoc",t);n?Ck.fold(O(kk),e=>e.throttle)(o,t,e):e()}r.set(t)}}})(o,e.streamContent);var e=e.label.map(e=>d0(e,t)),l=r0.parts.field({factory:{sketch:e=>lk(B.from(a),{uid:e.uid,dom:{tag:"iframe",attributes:s,classes:[n,...r]},behaviours:V([a0.config({}),j.config({}),YS(o,i.getValue,i.setValue),cc.config({channels:{[vk]:{onReceive:(o,e)=>{e.newFocus.each(t=>{zt(o.element).each(e=>{(Mt(o.element,t)?pi:fi)(e,"tox-navobj-bordered-focus")})})}}}})])})}});return i0(e,l,["tox-form__group--stretched"],[])},_k=(e,t)=>{const n=D(t.getOr({url:""})),r=th({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map(e=>({src:e.url})).getOr({})}}),c=th({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[r.asSpec()]});const o={};e.height.each(e=>o.height=e);e=t.map(e=>({url:e.url,zoom:B.from(e.zoom),cachedWidth:B.from(e.cachedWidth),cachedHeight:B.from(e.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:o,attributes:{role:"presentation"}},components:[c.asSpec()],behaviours:V([XS.self(),YS(e,()=>n.get(),(i,t)=>{const l={url:t.url},o=(t.zoom.each(e=>l.zoom=e),t.cachedWidth.each(e=>l.cachedWidth=e),t.cachedHeight.each(e=>l.cachedHeight=e),n.set(l),()=>{var e,t,o,{cachedWidth:n,cachedHeight:r,zoom:a}=l;if(!X(n)&&!X(r)){X(a)&&(a=i.element,e=n,t=r,o=Eo(a),a=xo(a),o=Math.min(o/e,a/t,1),l.zoom=o);const s=((e,t,o,n,r)=>{o*=r,n*=r,r=Math.max(0,e/2-o/2),e=Math.max(0,t/2-n/2);return{left:r.toString()+"px",top:e.toString()+"px",width:o.toString()+"px",height:n.toString()+"px"}})(Eo(i.element),xo(i.element),n,r,l.zoom);c.getOpt(i).each(e=>{co(e.element,s)})}});r.getOpt(i).each(e=>{var a,e=e.element;t.url!==no(e,"src")&&(E(e,"src",t.url),fi(i.element,"tox-imagepreview__loaded")),o(),a=e,new Promise((e,t)=>{var o=()=>{r(),e(a)};const n=[Ic(a,"load",o),Ic(a,"error",()=>{r(),t("Unable to load data from image: "+a.dom.src)})],r=()=>_(n,e=>e.unbind());a.dom.complete&&o()}).then(e=>{i.getSystem().isConnected()&&(pi(i.element,"tox-imagepreview__loaded"),l.cachedWidth=e.dom.naturalWidth,l.cachedHeight=e.dom.naturalHeight,o())})})})])}},Tk=(e,t)=>{var o="tox-label",n="center"===e.align?[o+"--center"]:[],r="end"===e.align?[o+"--end"]:[];return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:[o,...n,...r]},components:[Ni(t.providers.translate(e.label))]},...C(e.items,t.interpreter)],behaviours:V([XS.self(),U.config({}),(o=B.none(),JS(o,Es,Ds)),P.config({mode:"acyclic"})])}},Ek=N("toolbar.button.execute"),Dk=N("common-button-display-events"),Ak={[Ua()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Qa()]:["toolbar-button-events",Dk],[wa()]:["focusing","alloy.base.behaviour",Dk]},Mk=e=>F(e.element,"width",mo(e.element,"width")),Bk=(e,t,o)=>lf(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},t),Fk=(e,t)=>Bk(e,t,[]),Ik=(e,t)=>Bk(e,t,[U.config({})]),Rk=(e,t,o)=>({dom:{tag:"span",classes:[t+"__select-label"]},components:[Ni(o.translate(e))],behaviours:V([U.config({})])}),Nk=N("update-menu-text"),Vk=N("update-menu-icon"),zk=(n,t,r)=>{var e=D(k);const a=n.text.map(e=>th(Rk(e,t,r.providers))),s=n.icon.map(e=>th(Ik(e,r.providers.icons)));var o=(e,t)=>{e=S.getValue(e);return j.focus(e),M(e,"keydown",{raw:t.event.raw}),_w.close(e),B.some(!0)},i=n.role.fold(()=>({}),e=>({role:e})),l=n.tooltip.fold(()=>({}),e=>{e=r.providers.translate(e);return{title:e,"aria-label":e}}),c=lf("chevron-down",{tag:"div",classes:[t+"__select-chevron"]},r.providers.icons),d=N("common-button-display-events");return th(_w.sketch({...n.uid?{uid:n.uid}:{},...i,dom:{tag:"button",classes:[t,t+"--select"].concat(C(n.classes,e=>t+"--"+e)),attributes:{...l}},components:gy([s.map(e=>e.asSpec()),a.map(e=>e.asSpec()),B.some(c)]),matchWidth:!0,useMinWidth:!0,onOpen:(e,t,o)=>{n.searchable&&Mw(o)},dropdownBehaviours:V([...n.dropdownBehaviours,iy.button(()=>n.disabled||r.providers.isDisabled()),sy(),E0.config({}),U.config({}),W("dropdown-events",[cy(n,e),dy(n,e)]),W(d,[ks((e,t)=>Mk(e))]),W("menubutton-update-display-text",[R(Nk,(t,o)=>{a.bind(e=>e.getOpt(t)).each(e=>{U.set(e,[Ni(r.providers.translate(o.event.text))])})}),R(Vk,(t,o)=>{s.bind(e=>e.getOpt(t)).each(e=>{U.set(e,[Ik(o.event.icon,r.providers.icons)])})})])]),eventOrder:jn(Ak,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Qa()]:["toolbar-button-events","dropdown-events",d]}),sandboxBehaviours:V([P.config({mode:"special",onLeft:o,onRight:o}),W("dropdown-sandbox-events",[R(Lv,(e,t)=>{Tw(e),t.stop()}),R(Pv,(e,t)=>{Ew(e,t),t.stop()})])]),lazySink:r.getSink,toggleClass:t+"--active",parts:{menu:{...Nv(!1,n.columns,n.presets),fakeFocus:n.searchable,onHighlightItem:Dw,onCollapseMenu:(t,e,o)=>{L.getHighlighted(o).each(e=>{Dw(t,o,e)})},onDehighlightItem:Aw}},getAnchorOverrides:()=>({maxHeightFunction:(e,t)=>{Kc()(e,t-10)}}),fetch:e=>gw.nu(ne(n.fetch,e))})).asSpec()},Hk=e=>"separator"===e.type,Lk=e=>Ye(e,"getSubmenuItems"),Pk={type:"separator"},Uk=(e,n)=>{e=Se(e,(e,t)=>{return o=t,b(o)?""===t?e:"|"===t?0<e.length&&!Hk(e[e.length-1])?e.concat([Pk]):e:Ye(n,t.toLowerCase())?e.concat([n[t.toLowerCase()]]):e:e.concat([t]);var o},[]);return 0<e.length&&Hk(e[e.length-1])&&e.pop(),e},Wk=(e,t)=>{var o=e.getSubmenuItems(),o=Gk(o,t);return{item:e,menus:jn(o.menus,{[e.value]:o.items}),expansions:jn(o.expansions,{[e.value]:e.value})}},jk=e=>{var t=T(e,"value").getOrThunk(()=>N("generated-menu-item"));return jn({value:t},e)},Gk=(e,n)=>{e=Uk(b(e)?e.split(" "):e,n);return we(e,(e,t)=>{var o;return Lk(t)?(o=jk(t),o=Wk(o,n),{menus:jn(e.menus,o.menus),items:[o.item,...e.items],expansions:jn(e.expansions,o.expansions)}):{...e,items:[t,...e.items]}},{menus:{},expansions:{},items:[]})},$k=e=>e.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-field",placeholder:e.placeholder})),qk=e=>e.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-results"})),Xk=(e,o,n,t)=>{var r=N("primary-menu"),e=Gk(e,n.shared.providers.menuItems());if(0===e.items.length)return B.none();var a=$k(t),a=Iw(r,e.items,o,n,t.isHorizontalMenu,a);const s=qk(t);t=Ue(e.menus,(e,t)=>Iw(t,e,o,n,!1,s)),t=jn(t,ia(r,a));return B.from(Xp.tieredData(r,t,e.expansions))},Kk=e=>!Ye(e,"items"),Yk="data-value",Jk=(t,o,e,n)=>C(e,e=>Kk(e)?{type:"togglemenuitem",text:e.text,value:e.value,active:e.value===n,onAction:()=>{S.setValue(t,e.value),M(t,u0,{name:o}),j.focus(t)}}:{type:"nestedmenuitem",text:e.text,getSubmenuItems:()=>Jk(t,o,e.items,n)}),Zk=(e,t)=>ze(e,e=>Kk(e)?ot(e.value===t,e):Zk(e.items,t));const Qk=Fm({name:"HtmlSelect",configFields:[s("options"),cd("selectBehaviours",[j,S]),m("selectClasses",[]),m("selectAttributes",{}),Lr("data")],factory:(n,e)=>{var t=C(n.options,e=>({dom:{tag:"option",value:e.value,innerHtml:e.text}})),o=n.data.map(e=>ia("initialValue",e)).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:t,behaviours:ju(n.selectBehaviours,[j.config({}),S.config({store:{mode:"manual",getValue:e=>Si(e.element),setValue:(t,o)=>{var e=Re(n.options);Ce(n.options,e=>e.value===o).isSome()?ki(t.element,o):-1===t.element.dom.selectedIndex&&""===o&&e.each(e=>ki(t.element,e.value))},...o}})])}}});Mb=O([m("field1Name","field1"),m("field2Name","field2"),hl("onLockedChange"),ml(["lockClass"]),m("locked",!1),Gu.field("coupledFieldBehaviours",[z,S])]);Fb=(e,a)=>cm({factory:r0,name:e,overrides:r=>({fieldBehaviours:V([W("coupled-input-behaviour",[R(Aa(),o=>{var e,t,n;e=o,t=r,n=a,ym(e,t,n).bind(z.getCurrent).each(t=>{ym(o,r,"lock").each(e=>{h.isOn(e)&&r.onLockedChange(o,t,e)})})})])])})}),cb=O([Fb("field1","field2"),Fb("field2","field1"),cm({factory:Jp,schema:[s("dom")],name:"lock",overrides:e=>({buttonBehaviours:V([h.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]);const eC=am({name:"FormCoupledInputs",configFields:Mb(),partFields:cb(),factory:(o,e,t,n)=>({uid:o.uid,dom:o.dom,components:e,behaviours:Gu.augment(o.coupledFieldBehaviours,[z.config({find:B.some}),S.config({store:{mode:"manual",getValue:e=>{e=Cm(e,o,["field1","field2"]);return{[o.field1Name]:S.getValue(e.field1()),[o.field2Name]:S.getValue(e.field2())}},setValue:(e,t)=>{e=Cm(e,o,["field1","field2"]);Je(t,o.field1Name)&&S.setValue(e.field1(),t[o.field1Name]),Je(t,o.field2Name)&&S.setValue(e.field2(),t[o.field2Name])}}})]),apis:{getField1:e=>ym(e,o,"field1"),getField2:e=>ym(e,o,"field2"),getLock:e=>ym(e,o,"lock")}}),apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),tC=e=>{var t,o=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);return null!==o?(t=parseFloat(o[1]),o=o[2],I.value({value:t,unit:o})):I.error(e)},oC=(e,t)=>{const o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1};var n=e=>Ye(o,e);return e.unit===t?B.some(e.value):n(e.unit)&&n(t)?o[e.unit]===o[t]?B.some(e.value):B.some(e.value/o[e.unit]*o[t]):B.none()},nC=e=>B.none(),rC=(t,o)=>e=>oC(e,o).map(e=>({value:e*t,unit:o})),aC=(n,t)=>{let r=nC;const a=N("ratio-event");var e=e=>lf(e,{tag:"span",classes:["tox-icon","tox-lock-icon__"+e]},t.icons),e=eC.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(n.label.getOr("Constrain proportions"))}},components:[e("lock"),e("unlock")],buttonBehaviours:V([H.config({disabled:()=>!n.enabled||t.isDisabled()}),sy(),a0.config({})])}),o=e=>({dom:{tag:"div",classes:["tox-form__group"]},components:e}),s=o=>r0.parts.field({factory:Hv,inputClasses:["tox-textfield"],inputBehaviours:V([H.config({disabled:()=>!n.enabled||t.isDisabled()}),sy(),a0.config({}),W("size-input-events",[R(_a(),(e,t)=>{M(e,a,{isField1:o})}),R(Ma(),(e,t)=>{M(e,u0,{name:n.name})})])]),selectOnFocus:!1}),i=e=>({dom:{tag:"label",classes:["tox-label"]},components:[Ni(t.translate(e))]}),l=eC.parts.field1(o([r0.parts.label(i("Width")),s(!0)])),s=eC.parts.field2(o([r0.parts.label(i("Height")),s(!1)]));return eC.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[l,s,o([i(" "),e])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(e,t,o)=>{tC(S.getValue(e)).each(e=>{r(e).each(e=>{S.setValue(t,(e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};var o;let n=e.value.toFixed((o=e.unit)in t?t[o]:1);return(n=-1!==n.indexOf(".")?n.replace(/\.?0*$/,""):n)+e.unit})(e))})})},coupledFieldBehaviours:V([H.config({disabled:()=>!n.enabled||t.isDisabled(),onDisabled:e=>{eC.getField1(e).bind(r0.getField).each(H.disable),eC.getField2(e).bind(r0.getField).each(H.disable),eC.getLock(e).each(H.disable)},onEnabled:e=>{eC.getField1(e).bind(r0.getField).each(H.enable),eC.getField2(e).bind(r0.getField).each(H.enable),eC.getLock(e).each(H.enable)}}),sy(),W("size-input-events2",[R(a,(e,t)=>{var t=t.event.isField1,o=t?eC.getField1(e):eC.getField2(e),t=t?eC.getField2(e):eC.getField1(e),e=o.map(S.getValue).getOr(""),o=t.map(S.getValue).getOr("");r=((e,t)=>{e=tC(e).toOptional(),t=tC(t).toOptional();return et(e,t,(e,t)=>oC(e,t.unit).map(e=>t.value/e).map(e=>rC(e,t.unit)).getOr(nC)).getOr(nC)})(e,o)})])])})},sC=(o,t)=>{var e=o.label.map(e=>d0(e,t)),n=[H.config({disabled:()=>o.disabled||t.isDisabled()}),sy(),P.config({mode:"execution",useEnter:!0!==o.multiline,useControlEnter:!0===o.multiline,execute:e=>(A(e,h0),B.some(!0))}),W("textfield-change",[R(Aa(),(e,t)=>{M(e,u0,{name:o.name})}),R(La(),(e,t)=>{M(e,u0,{name:o.name})})]),a0.config({})],r=o.validation.map(o=>T0.config({getRoot:e=>zt(e.element),invalidClass:"tox-invalid",validator:{validate:e=>{var e=S.getValue(e),t=o.validator(e);return gw.pure(!0===t?I.value(e):I.error(t))},validateOnLoad:o.validateOnLoad}})).toArray(),a=o.placeholder.fold(O({}),e=>({placeholder:t.translate(e)})),s=o.inputMode.fold(O({}),e=>({inputmode:e})),a={...a,...s},s=r0.parts.field({tag:!0===o.multiline?"textarea":"input",...o.data.map(e=>({data:e})).getOr({}),inputAttributes:a,inputClasses:[o.classname],inputBehaviours:V(_e([n,r])),selectOnFocus:!1,factory:Hv}),a=o.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[s]}:s,n=(o.flex?["tox-form__group--stretched"]:[]).concat(o.maximized?["tox-form-group--maximize"]:[]),r=[H.config({disabled:()=>o.disabled||t.isDisabled(),onDisabled:e=>{r0.getField(e).each(H.disable)},onEnabled:e=>{r0.getField(e).each(H.enable)}}),sy()];return i0(e,a,n,r)},iC=(t,e)=>e.getAnimationRoot.fold(()=>t.element,e=>e(t)),lC=e=>e.dimension.property,cC=(e,t)=>e.dimension.getDimension(t),dC=(e,t)=>{e=iC(e,t);yi(e,[t.shrinkingClass,t.growingClass])},uC=(e,t)=>{fi(e.element,t.openClass),pi(e.element,t.closedClass),F(e.element,lC(t),"0px"),bo(e.element)},mC=(e,t)=>{fi(e.element,t.closedClass),pi(e.element,t.openClass),vo(e.element,lC(t))},gC=(e,t,o,n)=>{o.setCollapsed(),F(e.element,lC(t),cC(t,e.element)),dC(e,t),uC(e,t),t.onStartShrink(e),t.onShrunk(e)},pC=(e,t,o,n)=>{n=n.getOrThunk(()=>cC(t,e.element)),o.setCollapsed(),F(e.element,lC(t),n),bo(e.element),o=iC(e,t);fi(o,t.growingClass),pi(o,t.shrinkingClass),uC(e,t),t.onStartShrink(e)},hC=(e,t,o)=>{var n=cC(t,e.element);("0px"===n?gC:pC)(e,t,o,B.some(n))},fC=(e,t,o)=>{var n=iC(e,t),r=vi(n,t.shrinkingClass);const a=cC(t,e.element);mC(e,t);var s=cC(t,e.element);(r?()=>{F(e.element,lC(t),a),bo(e.element)}:()=>{uC(e,t)})(),fi(n,t.shrinkingClass),pi(n,t.growingClass),mC(e,t),F(e.element,lC(t),s),o.setExpanded(),t.onStartGrow(e)};const vC=(e,t,o)=>{e=iC(e,t);return!0===vi(e,t.growingClass)},bC=(e,t,o)=>{e=iC(e,t);return!0===vi(e,t.shrinkingClass)};bb=Object.freeze({__proto__:null,refresh:(e,t,o)=>{o.isExpanded()&&(vo(e.element,lC(t)),o=cC(t,e.element),F(e.element,lC(t),o))},grow:(e,t,o)=>{o.isExpanded()||fC(e,t,o)},shrink:(e,t,o)=>{o.isExpanded()&&hC(e,t,o)},immediateShrink:(e,t,o)=>{o.isExpanded()&&gC(e,t,o)},hasGrown:(e,t,o)=>o.isExpanded(),hasShrunk:(e,t,o)=>o.isCollapsed(),isGrowing:vC,isShrinking:bC,isTransitioning:(e,t,o)=>vC(e,t)||bC(e,t),toggleGrow:(e,t,o)=>{(o.isExpanded()?hC:fC)(e,t,o)},disableTransitions:dC,immediateGrow:(e,t,o)=>{o.isExpanded()||(mC(e,t),F(e.element,lC(t),cC(t,e.element)),dC(e,t),o.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),gr=Object.freeze({__proto__:null,exhibit:(e,t,o)=>{return t.expanded?ei({classes:[t.openClass],styles:{}}):ei({classes:[t.closedClass],styles:ia(t.dimension.property,"0px")})},events:(o,n)=>gs([Ss(Ia(),(e,t)=>{t.event.raw.propertyName===o.dimension.property&&(dC(e,o),n.isExpanded()&&vo(e.element,o.dimension.property),(n.isExpanded()?o.onGrown:o.onShrunk)(e))})])}),vb=[s("closedClass"),s("openClass"),s("shrinkingClass"),s("growingClass"),Lr("getAnimationRoot"),t("onShrunk"),t("onStartShrink"),t("onGrown"),t("onStartGrow"),m("expanded",!1),Fr("dimension",Er("property",{width:[vl("property","width"),vl("getDimension",e=>Eo(e)+"px")],height:[vl("property","height"),vl("getDimension",e=>xo(e)+"px")]}))];const yC=ac({fields:vb,name:"sliding",active:gr,apis:bb,state:Object.freeze({__proto__:null,init:e=>{const t=D(e.expanded);return Zs({isExpanded:()=>!0===t.get(),isCollapsed:()=>!1===t.get(),setCollapsed:ne(t.set,!1),setExpanded:ne(t.set,!0),readState:()=>"expanded: "+t.get()})}})}),xC=o=>({isEnabled:()=>!H.isDisabled(o),setEnabled:e=>H.set(o,!e),setActive:e=>{var t=o.element;e?(pi(t,"tox-tbtn--enabled"),E(t,"aria-pressed",!0)):(fi(t,"tox-tbtn--enabled"),so(t,"aria-pressed"))},isActive:()=>vi(o.element,"tox-tbtn--enabled"),setText:e=>{M(o,Nk,{text:e})},setIcon:e=>M(o,Vk,{icon:e})}),wC=(n,e,r,t,o=!0)=>zk({text:n.text,icon:n.icon,tooltip:n.tooltip,searchable:n.search.isSome(),role:t,fetch:(e,t)=>{var o={pattern:n.search.isSome()?Bw(e):""};n.fetch(e=>{t(Xk(e,bv.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:n.search}))},o,xC(e))},onSetup:n.onSetup,getApi:xC,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...o?[a0.config({})]:[]]},e,r.shared),SC=(t,r,a)=>{return e=>{e(C(t,e=>{var t,o,n=e.text.fold(()=>({}),e=>({text:e}));return{type:e.type,active:!1,...n,onAction:e=>{var t=!e.isActive();e.setActive(t),o.storage.set(t),a.shared.getSink().each(e=>{r().getOpt(e).each(e=>{dc(e.element),M(e,p0,{name:o.name,value:o.storage.get()})})})},onSetup:(t=o=e,e=>{e.setActive(t.storage.get())})}}))}},kC=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[Ni(e)]}),CC=N("leaf-label-event-id"),OC=({leaf:o,onLeafAction:t,visible:n,treeId:r,selectedId:a,backstage:s})=>{var e=o.menu.map(e=>wC(e,"tox-mbtn",s,B.none(),n));const i=[kC(o.title)];return e.each(e=>i.push(e)),Jp.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(n?["tox-tree--leaf__label--visible"]:[])},components:i,role:"treeitem",action:e=>{t(o.id),e.getSystem().broadcastOn(["update-active-item-"+r],{value:o.id})},eventOrder:{[Ea()]:[CC,"keying"]},buttonBehaviours:V([...n?[a0.config({})]:[],h.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),cc.config({channels:{["update-active-item-"+r]:{onReceive:(e,t)=>{(t.value===o.id?h.on:h.off)(e)}}}}),W(CC,[ks((t,e)=>{a.each(e=>{(e===o.id?h.on:h.off)(t)})}),R(Ea(),(t,e)=>{var o="ArrowLeft"===e.event.raw.code,n="ArrowRight"===e.event.raw.code;o?(Xi(t.element,".tox-tree--directory").each(e=>{t.getSystem().getByDom(e).each(t=>{Ki(e,".tox-tree--directory__label").each(e=>{t.getSystem().getByDom(e).each(j.focus)})})}),e.stop()):n&&e.stop()})])])})},_C=(e,t)=>{return e=e,t=t,o=[],lf(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:o},t);var o},TC=N("directory-label-event-id"),EC=({directory:n,visible:e,noChildren:t,backstage:o})=>{var r=n.menu.map(e=>wC(e,"tox-mbtn",o,B.none()));const a=[{dom:{tag:"div",classes:["tox-chevron"]},components:[_C("chevron-right",o.shared.providers.icons)]},kC(n.title)],s=(r.each(e=>{a.push(e)}),o=>{Xi(o.element,".tox-tree--directory").each(e=>{o.getSystem().getByDom(e).each(e=>{var t=!h.isOn(e);h.toggle(e),M(o,"expand-tree-node",{expanded:t,node:n.id})})})});return Jp.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(e?["tox-tree--directory__label--visible"]:[])},components:a,action:s,eventOrder:{[Ea()]:[TC,"keying"]},buttonBehaviours:V([...e?[a0.config({})]:[],W(TC,[R(Ea(),(o,n)=>{const r="ArrowRight"===n.event.raw.code,a="ArrowLeft"===n.event.raw.code;r&&t&&n.stop(),(r||a)&&Xi(o.element,".tox-tree--directory").each(e=>{o.getSystem().getByDom(e).each(t=>{!h.isOn(t)&&r||h.isOn(t)&&a?(s(o),n.stop()):a&&!h.isOn(t)&&(Xi(t.element,".tox-tree--directory").each(e=>{Ki(e,".tox-tree--directory__label").each(e=>{t.getSystem().getByDom(e).each(j.focus)})}),n.stop())})})})])])})},DC=({children:e,onLeafAction:t,visible:o,treeId:n,expandedIds:r,selectedId:a,backstage:s})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(e=>"leaf"===e.type?OC({leaf:e,selectedId:a,onLeafAction:t,visible:o,treeId:n,backstage:s}):MC({directory:e,expandedIds:r,selectedId:a,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:s})),behaviours:V([yC.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:o}),U.config({})])}),AC=N("directory-event-id"),MC=({directory:e,onLeafAction:r,labelTabstopping:t,treeId:a,backstage:s,expandedIds:o,selectedId:i})=>{const l=e["children"],c=D(o),n=o.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[EC({directory:e,visible:t,noChildren:0===e.children.length,backstage:s}),DC({children:l,expandedIds:o,selectedId:i,onLeafAction:r,visible:n,treeId:a,backstage:s})],behaviours:V([W(AC,[ks((e,t)=>{h.set(e,n)}),R("expand-tree-node",(e,t)=>{const{expanded:o,node:n}=t.event;c.set(o?[...c.get(),n]:c.get().filter(e=>e!==n))})]),h.config({...0<e.children.length?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(e,t)=>{var o,e=e.components()[1],n=(o=t,l.map(e=>"leaf"===e.type?OC({leaf:e,selectedId:i,onLeafAction:r,visible:o,treeId:a,backstage:s}):MC({directory:e,expandedIds:c.get(),selectedId:i,onLeafAction:r,labelTabstopping:o,treeId:a,backstage:s})));t?yC.grow(e):yC.shrink(e),U.set(e,n)}})])}},BC=N("tree-event-id");Va=Object.freeze({__proto__:null,events:(e,t)=>{var o=e.stream.streams.setup(e,t);return gs([R(e.event,o),Cs(()=>t.cancel())].concat(e.cancelEvent.map(e=>[R(e,()=>t.cancel())]).getOr([])))}}),o=e=>{const t=D(null);return Zs({readState:()=>({timer:null!==t.get()?"set":"unset"}),setTimer:e=>{t.set(e)},cancel:()=>{var e=t.get();null!==e&&e.cancel()}})},ub=Object.freeze({__proto__:null,throttle:o,init:e=>e.stream.streams.state(e)}),Fb=[Fr("stream",Er("mode",{throttle:[s("delay"),m("stopEvent",!0),vl("streams",{setup:(e,t)=>{const o=e.stream,n=rk(e.onStream,o.delay);return t.setTimer(n),(e,t)=>{n.throttle(e,t),o.stopEvent&&t.stop()}},state:o})]})),m("event","input"),Lr("cancelEvent"),hl("onStream")];const FC=ac({fields:Fb,name:"streaming",active:Va,state:ub}),IC=(e,t,o)=>{o=S.getValue(o);S.setValue(t,o),NC(t)},RC=(e,t)=>{var e=e.element,o=Si(e),n=e.dom;"number"!==no(e,"type")&&t(n,o)},NC=e=>{RC(e,(e,t)=>e.setSelectionRange(t.length,t.length))},VC=(e,t,n)=>{if(e.selectsOver){var o=S.getValue(t);const r=e.getDisplayText(o);o=S.getValue(n);return 0===e.getDisplayText(o).indexOf(r)?B.some(()=>{var e,o;IC(0,t,n),e=t,o=r.length,RC(e,(e,t)=>e.setSelectionRange(o,t.length))}):B.none()}return B.none()},zC=O("alloy.typeahead.itemexecute");Mb=O([Lr("lazySink"),s("fetch"),m("minChars",5),m("responseTime",1e3),t("onOpen"),m("getHotspot",B.some),m("getAnchorOverrides",O({})),m("layouts",B.none()),m("eventOrder",{}),oa("model",{},[m("getDisplayText",e=>void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value),m("selectsOver",!0),m("populateFromBrowse",!0)]),t("onSetValue"),pl("onExecute"),t("onItemExecute"),m("inputClasses",[]),m("inputAttributes",{}),m("inputStyles",{}),m("matchWidth",!0),m("useMinWidth",!1),m("dismissOnBlur",!0),ml(["openClass"]),Lr("initialData"),cd("typeaheadBehaviours",[j,S,FC,P,h,lw]),Mr("lazyTypeaheadComp",()=>D(B.none)),Mr("previewing",()=>D(!0))].concat(Hg()).concat(Bb())),cb=O([ld({schema:[Rs()],name:"menu",overrides:n=>({fakeFocus:!0,onHighlightItem:(e,t,o)=>{n.previewing.get()?n.lazyTypeaheadComp.get().each(e=>{VC(n.model,e,o).fold(()=>{n.model.selectsOver?(L.dehighlight(t,o),n.previewing.set(!0)):n.previewing.set(!1)},e=>{e(),n.previewing.set(!1)})}):n.lazyTypeaheadComp.get().each(t=>{n.model.populateFromBrowse&&IC(n.model,t,o),ro(o.element,"id").each(e=>E(t.element,"aria-activedescendant",e))})},onExecute:(e,t)=>n.lazyTypeaheadComp.get().map(e=>(M(e,zC(),{item:t}),!0)),onHover:(e,t)=>{n.previewing.set(!1),n.lazyTypeaheadComp.get().each(e=>{n.model.populateFromBrowse&&IC(n.model,e,t)})}})})]);const HC=am({name:"Typeahead",configFields:Mb(),partFields:cb(),factory:(a,e,t,s)=>{const o=(e,t,o)=>{a.previewing.set(!1);const n=lw.getCoupled(e,"sandbox");d.isOpen(n)?z.getCurrent(n).each(e=>{L.getHighlighted(e).fold(()=>{o(e)},()=>{ms(n,e.element,"keydown",t)})}):vw(a,i(e),e,n,s,e=>{z.getCurrent(e).each(o)},Up.HighlightMenuAndItem).get(k)};var n=Vv(a);const i=o=>e=>e.map(e=>{var t=Ke(e.menus),t=Te(t,e=>xe(e.items,e=>"item"===e.type));return S.getState(o).update(C(t,e=>e.data)),e}),l=e=>z.getCurrent(e);var r="typeaheadevents",c=[j.config({}),S.config({onSetValue:a.onSetValue,store:{mode:"dataset",getDataKey:e=>Si(e.element),getFallbackEntry:e=>({value:e,meta:{}}),setValue:(e,t)=>{ki(e.element,a.model.getDisplayText(t))},...a.initialData.map(e=>ia("initialValue",e)).getOr({})}}),FC.config({stream:{mode:"throttle",delay:a.responseTime,stopEvent:!1},onStream:(e,t)=>{const o=lw.getCoupled(e,"sandbox");var n=j.isFocused(e);if(n&&Si(e.element).length>=a.minChars){const r=l(o).bind(e=>L.getHighlighted(e).map(S.getValue));a.previewing.set(!0);vw(a,i(e),e,o,s,e=>{l(o).each(e=>{r.fold(()=>{a.model.selectsOver&&L.highlightFirst(e)},t=>{L.highlightBy(e,e=>{return S.getValue(e).value===t.value}),L.getHighlighted(e).orThunk(()=>(L.highlightFirst(e),B.none()))})})},Up.HighlightJustMenu).get(k)}},cancelEvent:qa()}),P.config({mode:"special",onDown:(e,t)=>(o(e,t,L.highlightFirst),B.some(!0)),onEscape:e=>{e=lw.getCoupled(e,"sandbox");return d.isOpen(e)?(d.close(e),B.some(!0)):B.none()},onUp:(e,t)=>(o(e,t,L.highlightLast),B.some(!0)),onEnter:t=>{var e,o=lw.getCoupled(t,"sandbox"),n=d.isOpen(o);return n&&!a.previewing.get()?l(o).bind(e=>L.getHighlighted(e)).map(e=>(M(t,zC(),{item:e}),!0)):(e=S.getValue(t),A(t,qa()),a.onExecute(o,t,e),n&&d.close(o),B.some(!0))}}),h.config({toggleClass:a.markers.openClass,aria:{mode:"expanded"}}),lw.config({others:{sandbox:e=>kw(a,e,{onOpen:()=>h.on(e),onClose:()=>{a.lazyTypeaheadComp.get().each(e=>so(e.element,"aria-activedescendant")),h.off(e)}})}}),W(r,[ks(e=>{a.lazyTypeaheadComp.set(B.some(e))}),Cs(e=>{a.lazyTypeaheadComp.set(B.none())}),_s(e=>{var t=k;yw(a,i(e),e,s,t,Up.HighlightMenuAndItem).get(k)}),R(zC(),(e,t)=>{var o=lw.getCoupled(e,"sandbox");IC(a.model,e,t.event.item),A(e,qa()),a.onItemExecute(e,o,t.event.item,S.getValue(e)),d.close(o),NC(e)})].concat(a.dismissOnBlur?[R(Ha(),e=>{e=lw.getCoupled(e,"sandbox");pc(e.element).isNone()&&d.close(e)})]:[]))],r={[es()]:[S.name(),FC.name(),r],...a.eventOrder};return{uid:a.uid,dom:zv(jn(a,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...n,...ju(a.typeaheadBehaviours,c)},eventOrder:r}}}),LC=a=>{return{...a,toCached:()=>LC(a.toCached()),bindFuture:t=>LC(a.bind(e=>e.fold(e=>gw.pure(I.error(e)),e=>t(e)))),bindResult:t=>LC(a.map(e=>e.bind(t))),mapResult:t=>LC(a.map(e=>e.map(t))),mapError:t=>LC(a.map(e=>e.mapError(t))),foldResult:(t,o)=>a.map(e=>e.fold(t,o)),withTimeout:(e,r)=>LC(gw.nu(t=>{let o=!1;const n=setTimeout(()=>{o=!0,t(I.error(r()))},e);a.get(e=>{o||(clearTimeout(n),t(e))})}))}},PC=e=>LC(gw.nu(e));vb=e=>LC(gw.pure(I.value(e)));const UC={nu:PC,wrap:LC,pure:vb,value:vb,error:e=>LC(gw.pure(I.error(e))),fromResult:e=>LC(gw.pure(e)),fromFuture:e=>LC(e.map(I.value)),fromPromise:e=>PC(t=>{e.then(e=>{t(I.value(e))},e=>{t(I.error(e))})})},WC=(e,t,o=[],n,r,a)=>{t=t.fold(()=>({}),e=>({action:e})),o={buttonBehaviours:V([iy.button(()=>!e.enabled||a.isDisabled()),sy(),a0.config({}),W("button press",[hs("click"),hs("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...t},t=jn(o,{dom:n});return jn(t,{components:r})},jC=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},GC=(e,t,o,n=[],r=[])=>{const a=o.translate(e.text);var s=e.icon.map(e=>Fk(e,o.icons)),i=[s.getOrThunk(()=>Ni(a))],l=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),l={tag:"button",classes:[...jC(l),...s.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...r],attributes:{title:a}};return WC(e,t,n,l,i,o)},$C=(e,t,o,n=[],r=[])=>{e=GC(e,B.some(t),o,n,r);return Jp.sketch(e)},qC=(t,o)=>e=>{"custom"===o?M(e,p0,{name:t,value:{}}):"submit"===o?A(e,h0):"cancel"===o?A(e,g0):console.error("Unknown button type: ",o)},XC=(t,e,o)=>{if("menu"===e){var n=t,n={...t,type:"menubutton",search:B.none(),onSetup:e=>(e.setEnabled(t.enabled),k),fetch:SC(n.items,()=>l,o)};const l=th(wC(n,"tox-tbtn",o,B.none()));return l.asSpec()}if("custom"===(n=e)||"cancel"===n||"submit"===n)return i=qC(t.name,e),s={...t,borderless:!1},$C(s,i,o.shared.providers,[]);if("togglebutton"!==e)throw console.error("Unknown footer button type: ",e),new Error("Unknown footer button type");{var r=t;var a=o.shared.providers;const c=r.icon.map(e=>Ik(e,a.icons)).map(th);var s=r.buttonType.getOr(r.primary?"primary":"secondary"),i={...r,name:null!=(i=r.name)?i:"",primary:"primary"===s,tooltip:B.from(r.tooltip),enabled:null!=(i=r.enabled)&&i,borderless:!1},e=i.tooltip.map(e=>({"aria-label":a.translate(e),title:a.translate(e)})).getOr({}),s=jC(null!=s?s:"secondary"),o=r.icon.isSome()&&r.text.isSome(),s={tag:"button",classes:[...s.concat(r.icon.isSome()?["tox-button--icon"]:[]),...r.active?["tox-button--enabled"]:[],...o?["tox-button--icon-and-text"]:[]],attributes:e},o=a.translate(r.text.getOr("")),e=Ni(o),o=[...gy([c.map(e=>e.asSpec())]),...r.text.isSome()?[e]:[]],e=WC(i,B.some(o=>{M(o,p0,{name:r.name,value:{setIcon:t=>{c.map(e=>e.getOpt(o).each(e=>{U.set(e,[Ik(t,a.icons)])}))}}})}),[],s,o,a);return Jp.sketch(e)}},KC=(e,t)=>{var o,n=qC(e.name,"custom");return o=B.none(),e=r0.parts.field({factory:Jp,...GC(e,B.some(n),t,[ZS(""),XS.self()])}),i0(o,e,[],[])},YC={type:"separator"},JC=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:k}),ZC=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:k}),QC=(e,t)=>{return o=e,e=t,t=xe(e,e=>e.type===o),C(t,JC);var o},eO=e=>QC("header",e.targets),tO=e=>QC("anchor",e.targets),oO=e=>B.from(e.anchorTop).map(e=>ZC("<top>",e)).toArray(),nO=e=>B.from(e.anchorBottom).map(e=>ZC("<bottom>",e)).toArray(),rO=e=>C(e,e=>ZC(e,e)),aO=e=>Se(e,(e,t)=>{return 0===e.length||0===t.length?e.concat(t):e.concat(YC,t)},[]),sO=(e,t)=>{const o=e.toLowerCase();return xe(t,e=>{var t=(void 0!==e.meta&&void 0!==e.meta.text?e.meta:e).text,e=null!=(e=e.value)?e:"";return st(t.toLowerCase(),o)||st(e.toLowerCase(),o)})},iO=N("aria-invalid"),lO=(r,t,o,e)=>{const a=t.shared.providers,s=e=>{e=S.getValue(e);o.addToHistory(e.value,r.filetype)};var e={...e.map(e=>({initialData:e})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":iO,type:"url"},minChars:0,responseTime:0,fetch:e=>{e=((o,e,n)=>{var t,e=S.getValue(e);const r=null!=(t=null==(t=null==e?void 0:e.meta)?void 0:t.text)?t:e.value;return n.getLinkInformation().fold(()=>[],e=>{var t=sO(r,rO(n.getHistory(o)));return"file"===o?aO([t,sO(r,eO(e)),sO(r,_e([oO(e),tO(e),nO(e)]))]):t})})(r.filetype,e,o),e=Xk(e,bv.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:B.none()});return gw.pure(e)},getHotspot:e=>u.getOpt(e),onSetValue:(e,t)=>{e.hasConfigured(T0)&&T0.run(e).get(k)},typeaheadBehaviours:V([...o.getValidationHandler().map(n=>T0.config({getRoot:e=>zt(e.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(e,t)=>{i.getOpt(e).each(e=>{E(e.element,"title",a.translate(t))})}},validator:{validate:e=>{const t=S.getValue(e);return UC.nu(o=>{n({type:r.filetype,url:t.value},e=>{var t;"invalid"===e.status?(t=I.error(e.message),o(t)):(t=I.value(e.message),o(t))})})},validateOnLoad:!1}})).toArray(),H.config({disabled:()=>!r.enabled||a.isDisabled()}),a0.config({}),W("urlinput-events",[R(Aa(),e=>{var t=Si(e.element),o=t.trim();o!==t&&ki(e.element,o),"file"===r.filetype&&M(e,u0,{name:r.name})}),R(Ma(),e=>{M(e,u0,{name:r.name}),s(e)}),R(La(),e=>{M(e,u0,{name:r.name}),s(e)})])]),eventOrder:{[Aa()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:e=>e.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:Nv(!1,1,"normal")},onExecute:(e,t,o)=>{M(t,h0,{})},onItemExecute:(e,t,o,n)=>{s(e),M(e,u0,{name:r.name})}},e=r0.parts.field({...e,factory:HC}),n=r.label.map(e=>d0(e,a));const i=th(((e,t,o,n=e)=>lf(o,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],attributes:{title:a.translate(n),"aria-live":"polite",...t.fold(()=>({}),e=>({id:e}))}},a.icons))("invalid",B.some(iO),"warning"));var l=th({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[i.asSpec()]});const c=o.getUrlPicker(r.filetype),d=N("browser.url.event"),u=th({dom:{tag:"div",classes:["tox-control-wrap"]},components:[e,l.asSpec()],behaviours:V([H.config({disabled:()=>!r.enabled||a.isDisabled()})])}),m=th($C({name:r.name,icon:B.some("browse"),text:r.label.getOr(""),enabled:r.enabled,primary:!1,buttonType:B.none(),borderless:!0},e=>A(e,d),a,[],["tox-browse-url"]));return r0.sketch({dom:c0([]),components:n.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:_e([[u.asSpec()],c.map(()=>m.asSpec()).toArray()])}]),fieldBehaviours:V([H.config({disabled:()=>!r.enabled||a.isDisabled(),onDisabled:e=>{r0.getField(e).each(H.disable),m.getOpt(e).each(H.disable)},onEnabled:e=>{r0.getField(e).each(H.enable),m.getOpt(e).each(H.enable)}}),sy(),W("url-input-events",[R(d,n=>{z.getCurrent(n).each(t=>{var e=S.getValue(t);const o={fieldname:r.name,...e};c.each(e=>{e(o).get(e=>{S.setValue(t,e),M(n,u0,{name:r.name})})})})})])])})},cO=(e,t)=>{e.dom.checked=t},dO=e=>e.dom.checked;const uO=a=>(t,o,n,r)=>T(o,"name").fold(()=>a(o,r,B.none()),e=>t.field(e,a(o,r,T(n,e))));var mO;const gO={bar:uO((e,t)=>{return e=e,t=t.shared,{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:C(e.items,t.interpreter)}}),collection:uO((e,t,o)=>x0(e,t.shared.providers,o)),alertbanner:uO((e,t)=>{return o=e,e=t.shared.providers,t=rf(o.icon,e.icons),o0.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+o.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:o.url?void 0:t},components:o.url?[Jp.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:t,attributes:{title:e.translate(o.iconTooltip)}},action:e=>M(e,p0,{name:"alert-banner",value:o.url}),buttonBehaviours:V([af()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(o.text)}}]});var o}),input:uO((e,t,o)=>{return e=e,t=t.shared.providers,o=o,sC({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:B.none(),maximized:e.maximized,data:o},t)}),textarea:uO((e,t,o)=>{return e=e,t=t.shared.providers,o=o,sC({name:e.name,multiline:!0,label:e.label,inputMode:B.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:B.none(),maximized:e.maximized,data:o},t)}),label:uO((e,t)=>Tk(e,t.shared)),iframe:(mO=(e,t,o)=>Ok(e,t.shared.providers,o),(e,t,o,n)=>{t=jn(t,{source:"dynamic"});return uO(mO)(e,t,o,n)}),button:uO((e,t)=>KC(e,t.shared.providers)),checkbox:uO((e,t,o)=>{return n=e,r=t.shared.providers,e=o,t=e=>(e.element.dom.click(),B.some(!0)),e=r0.parts.field({factory:{sketch:te},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:V([XS.self(),H.config({disabled:()=>!n.enabled||r.isDisabled(),onDisabled:e=>{zt(e.element).each(e=>pi(e,"tox-checkbox--disabled"))},onEnabled:e=>{zt(e.element).each(e=>fi(e,"tox-checkbox--disabled"))}}),a0.config({}),j.config({}),JS(e,dO,cO),P.config({mode:"special",onEnter:t,onSpace:t,stopSpaceKeyup:!0}),W("checkbox-events",[R(Ma(),(e,t)=>{M(e,u0,{name:n.name})})])])}),t=r0.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ni(r.translate(n.label))],behaviours:V([E0.config({})])}),o=e=>{var t="checked"===e?"selected":"unselected";return lf(t,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e]},r.icons)},o=th({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[o("checked"),o("unchecked")]}),r0.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[e,o.asSpec(),t],fieldBehaviours:V([H.config({disabled:()=>!n.enabled||r.isDisabled()}),sy()])});var n,r}),colorinput:uO((e,t,o)=>B0(e,t.shared,t.colorinput,o)),colorpicker:uO((e,t,o)=>ek(0,t.shared.providers,o)),dropzone:uO((e,t,o)=>nk(e,t.shared.providers,o)),grid:uO((e,t)=>{return e=e,t=t.shared,{dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:C(e.items,t.interpreter)}}),listbox:uO((e,t,o)=>{{var n=e,r=t;e=o;const a=r.shared.providers,s=e.bind(e=>Zk(n.items,e)).orThunk(()=>Re(n.items).filter(Kk));return e=n.label.map(e=>d0(e,a)),t={dom:{tag:"div",classes:["tox-listboxfield"]},components:[r0.parts.field({dom:{},factory:{sketch:e=>zk({uid:e.uid,text:s.map(e=>e.text),icon:B.none(),tooltip:n.label,role:B.none(),fetch:(e,t)=>{e=Jk(e,n.name,n.items,S.getValue(e));t(Xk(e,bv.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!1,search:B.none()}))},onSetup:O(k),getApi:O({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[a0.config({}),YS(s.map(e=>e.value),e=>no(e.element,Yk),(t,e)=>{Zk(n.items,e).each(e=>{E(t.element,Yk,e.value),M(t,Nk,{text:e.text})})})]},"tox-listbox",r.shared)}})]},r0.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:_e([e.toArray(),[t]]),fieldBehaviours:V([H.config({disabled:O(!n.enabled),onDisabled:e=>{r0.getField(e).each(H.disable)},onEnabled:e=>{r0.getField(e).each(H.enable)}})])})}}),selectbox:uO((e,t,o)=>{return n=e,r=t.shared.providers,e=o,t=C(n.items,e=>({text:r.translate(e.text),value:e.value})),o=n.label.map(e=>d0(e,r)),e=r0.parts.field({dom:{},...e.map(e=>({data:e})).getOr({}),selectAttributes:{size:n.size},options:t,factory:Qk,selectBehaviours:V([H.config({disabled:()=>!n.enabled||r.isDisabled()}),a0.config({}),W("selectbox-change",[R(Ma(),(e,t)=>{M(e,u0,{name:n.name})})])])}),t=1<n.size?B.none():B.some(lf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),e={dom:{tag:"div",classes:["tox-selectfield"]},components:_e([[e],t.toArray()])},r0.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:_e([o.toArray(),[e]]),fieldBehaviours:V([H.config({disabled:()=>!n.enabled||r.isDisabled(),onDisabled:e=>{r0.getField(e).each(H.disable)},onEnabled:e=>{r0.getField(e).each(H.enable)}}),sy()])});var n,r}),sizeinput:uO((e,t)=>aC(e,t.shared.providers)),slider:uO((e,t,o)=>{return n=e,e=t.shared.providers,t=o,e=BS.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ni(e.translate(n.label))]}),o=BS.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),r=BS.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}}),BS.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:n.min,maxX:n.max,getInitialValue:O(t.getOrThunk(()=>(Math.abs(n.max)-Math.abs(n.min))/2))},components:[e,o,r],sliderBehaviours:V([XS.self(),j.config({})]),onChoose:(e,t,o)=>{M(e,u0,{name:n.name,value:o})}});var n,r}),urlinput:uO((e,t,o)=>lO(e,t,t.urlinput,o)),customeditor:uO(o=>{const n=Bc(),t=th({dom:{tag:o.tag}}),r=Bc();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:V([W("custom-editor-events",[ks(e=>{t.getOpt(e).each(t=>{var e;e=o,(Ye(e,"init")?o.init(t.element.dom):tk.load(o.scriptId,o.scriptUrl).then(e=>e(t.element.dom,o.settings))).then(t=>{r.on(e=>{t.setValue(e)}),r.clear(),n.set(t)})})})]),YS(B.none(),()=>n.get().fold(()=>r.get().getOr(""),e=>e.getValue()),(e,t)=>{n.get().fold(()=>r.set(t),e=>e.setValue(t))}),XS.self()]),components:[t.asSpec()]}}),htmlpanel:uO(e=>"presentation"===e.presets?o0.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):o0.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:V([a0.config({}),j.config({})])})),imagepreview:uO((e,t,o)=>_k(e,o)),table:uO((e,t)=>{{var o=t.shared.providers;const n=e=>({dom:{tag:"th",innerHtml:o.translate(e)}}),r=e=>({dom:{tag:"td",innerHtml:o.translate(e)}}),a=e=>({dom:{tag:"tr"},components:C(e,r)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(t=e.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:C(t,n)}]}),(t=e.cells,{dom:{tag:"tbody"},components:C(t,a)})],behaviours:V([a0.config({}),j.config({})])}}}),tree:uO((e,t)=>{{var n=e,r=t;const a=n.onLeafAction.getOr(k),s=n.onToggleExpand.getOr(k),i=(e=n.defaultExpandedIds,D(e)),o=D(n.defaultSelectedId),l=N("tree-id"),c=(t,o)=>n.items.map(e=>"leaf"===e.type?OC({leaf:e,selectedId:t,onLeafAction:a,visible:!0,treeId:l,backstage:r}):MC({directory:e,selectedId:t,onLeafAction:a,expandedIds:o,labelTabstopping:!0,treeId:l,backstage:r}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:c(o.get(),i.get()),behaviours:V([P.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),W(BC,[R("expand-tree-node",(e,t)=>{const{expanded:o,node:n}=t.event;i.set(o?[...i.get(),n]:i.get().filter(e=>e!==n)),s(i.get(),{expanded:o,node:n})})]),cc.config({channels:{["update-active-item-"+l]:{onReceive:(e,t)=>{o.set(B.some(t.value)),U.set(e,c(B.some(t.value),i.get()))}}}}),U.config({})])}}}),panel:uO((e,t)=>{return t=t,{dom:{tag:"div",classes:(e=e).classes},components:C(e.items,t.shared.interpreter)}})},pO={field:(e,t)=>t,record:O([])},hO=(t,e,o,n)=>{const r=jn(n,{shared:{interpreter:e=>fO(t,e,o,r)}});return fO(t,e,o,r)},fO=(t,o,n,r)=>T(gO,o.type).fold(()=>(console.error(`Unknown factory type "${o.type}", defaulting to container: `,o),o),e=>e(t,o,n,r)),vO=(e,t,o)=>fO(pO,e,t,o),bO="layout-inset",yO=(e,t)=>e.x+e.width/2-t.width/2,xO=(e,t)=>e.x+e.width-t.width,wO=(e,t)=>e.y+e.height-t.height,SO=(e,t)=>e.y+e.height/2-t.height/2,kO=(e,t,o)=>yl(xO(e,t),wO(e,t),o.insetSouthwest(),Cl(),"southwest",Bl(e,{right:0,bottom:3}),bO),CO=(e,t,o)=>yl(e.x,wO(e,t),o.insetSoutheast(),kl(),"southeast",Bl(e,{left:1,bottom:3}),bO),OO=(e,t,o)=>yl(xO(e,t),e.y,o.insetNorthwest(),Sl(),"northwest",Bl(e,{right:0,top:2}),bO),_O=(e,t,o)=>yl(e.x,e.y,o.insetNortheast(),wl(),"northeast",Bl(e,{left:1,top:2}),bO),TO=(e,t,o)=>yl(yO(e,t),e.y,o.insetNorth(),Ol(),"north",Bl(e,{top:2}),bO),EO=(e,t,o)=>yl(yO(e,t),wO(e,t),o.insetSouth(),_l(),"south",Bl(e,{bottom:3}),bO),DO=(e,t,o)=>yl(xO(e,t),SO(e,t),o.insetEast(),El(),"east",Bl(e,{right:0}),bO),AO=(e,t,o)=>yl(e.x,SO(e,t),o.insetWest(),Tl(),"west",Bl(e,{left:1}),bO),MO=e=>{switch(e){case"north":return TO;case"northeast":return _O;case"northwest":return OO;case"south":return EO;case"southeast":return CO;case"southwest":return kO;case"east":return DO;case"west":return AO}},BO=(e,t,o,n,r)=>{return Tc(n).map(MO).getOr(TO)(e,t,o,n,r)},FO=e=>{switch(e){case"north":return EO;case"northeast":return CO;case"northwest":return kO;case"south":return TO;case"southeast":return _O;case"southwest":return OO;case"east":return AO;case"west":return DO}},IO=(e,t,o,n,r)=>{return Tc(n).map(FO).getOr(TO)(e,t,o,n,r)},RO={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},NO=(e,t,o)=>{const n={maxHeightFunction:Yc()};return()=>o()?{type:"node",root:Xt(qt(e())),node:B.from(e()),bubble:ed(12,12,RO),layouts:{onRtl:()=>[_O],onLtr:()=>[OO]},overrides:n}:{type:"hotspot",hotspot:t(),bubble:ed(-12,12,RO),layouts:{onRtl:()=>[Hl,Ll,jl],onLtr:()=>[Ll,Hl,jl]},overrides:n}},VO=(e,t,o,n)=>{const r={maxHeightFunction:Yc()};return()=>n()?{type:"node",root:Xt(qt(t())),node:B.from(t()),bubble:ed(12,12,RO),layouts:{onRtl:()=>[TO],onLtr:()=>[TO]},overrides:r}:e?{type:"node",root:Xt(qt(t())),node:B.from(t()),bubble:ed(0,-wo(t()),RO),layouts:{onRtl:()=>[Wl],onLtr:()=>[Wl]},overrides:r}:{type:"hotspot",hotspot:o(),bubble:ed(0,0,RO),layouts:{onRtl:()=>[Wl],onLtr:()=>[Wl]},overrides:r}},zO=(e,t,o)=>{return()=>o()?{type:"node",root:Xt(qt(e())),node:B.from(e()),layouts:{onRtl:()=>[TO],onLtr:()=>[TO]}}:{type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[jl],onLtr:()=>[jl]}}},HO=(e,t,o,n)=>{const r=cv(e);var a,s,i,l=()=>w.fromDom(e.getBody()),c=()=>w.fromDom(e.getContentAreaContainer()),d=()=>r||!n();return{inlineDialog:NO(c,t,d),inlineBottomDialog:VO(e.inline,c,o,d),banner:zO(c,t,d),cursor:(s=e,()=>({type:"selection",root:i(),getSelection:()=>{var e,t=s.selection.getRng(),o=s.model.table.getSelectedCells();return 1<o.length?(e=o[0],o=o[o.length-1],e={firstCell:w.fromDom(e),lastCell:w.fromDom(o)},B.some(e)):B.some(Od.range(w.fromDom(t.startContainer),t.startOffset,w.fromDom(t.endContainer),t.endOffset))}})),node:(a=i=l,e=>({type:"node",root:a(),node:e}))}},LO=e=>{return{colorPicker:(e,t)=>{$x(r)(e,t)},hasCustomColors:()=>Bx(n),getColors:e=>Ex(o,e),getColorCols:(t=o=n=r=e,e=>Mx(t,e))};var t,o,n,r},PO=e=>{return{isDraggableModal:(t=e,()=>Gf(t))};var t},UO=e=>Je(e,"items"),WO=e=>Je(e,"format"),jO=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],GO=e=>Se(e,(e,t)=>{var o;return o=t,Ye(o,"items")?(o=GO(t.items),{customFormats:e.customFormats.concat(o.customFormats),formats:e.formats.concat([{title:t.title,items:o.formats}])}):(o=t,Ye(o,"inline")||(o=t,Ye(o,"block"))||(o=t,Ye(o,"selector"))?(o="custom-"+(b(t.name)?t.name:t.title.toLowerCase()),{customFormats:e.customFormats.concat([{name:o,format:t}]),formats:e.formats.concat([{title:t.title,format:o,icon:t.icon}])}):{...e,formats:e.formats.concat(t)})},{customFormats:[],formats:[]}),$O=t=>Cf(t).map(e=>{e=((t,e)=>{const o=GO(e),n=e=>{_(e,e=>{t.formatter.has(e.name)||t.formatter.register(e.name,e.format)})};return t.formatter?n(o.customFormats):t.on("init",()=>{n(o.customFormats)}),o.formats})(t,e);return Of(t)?jO.concat(e):e}).getOr(jO),qO=(e,t,o)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:o(e.format)}),XO=(r,e,a,s)=>{const i=e=>C(e,e=>{return UO(e)?(o=e,n=i(o.items),{...o,type:"submenu",getStyleItems:O(n)}):WO(e)?(o=e,qO(o,a,s)):(e=>{e=He(e);return 1===e.length&&pe(e,"title")})(e)?{...e,type:"separator"}:(n=e,e=b(n.name)?n.name:N(n.title),t="custom-"+e,n={...n,type:"formatter",format:t,isSelected:a(t),getStylePreview:s(t)},r.formatter.register(e,n),n);var t,o,n});return i(e)},KO=ok.trim;gr=o=>e=>{if(t=e,Y(t)&&1===t.nodeType){if(e.contentEditable===o)return!0;if(e.getAttribute("data-mce-contenteditable")===o)return!0}var t;return!1};const YO=gr("true"),JO=gr("false"),ZO=(e,t,o,n,r)=>({type:e,title:t,url:o,level:n,attach:r}),QO=e=>{let t=e;for(;t=t.parentNode;){var o=t.contentEditable;if(o&&"inherit"!==o)return YO(t)}return!1},e_=(e,t)=>C(Nd(w.fromDom(t),e),e=>e.dom),t_=e=>e.innerText||e.textContent,o_=e=>{return(t=e)&&"A"===t.nodeName&&void 0!==(t.id||t.name)&&r_(e);var t},n_=e=>e&&/^(H[1-6])$/.test(e.nodeName),r_=e=>QO(e)&&!JO(e),a_=e=>n_(e)&&r_(e),s_=e=>{const t=e.id||N("h");var o;return ZO("header",null!=(o=t_(e))?o:"","#"+t,(o=e,n_(o)?parseInt(o.nodeName.substr(1),10):0),()=>{e.id=t})},i_=e=>{var t=e.id||e.name,e=t_(e);return ZO("anchor",e||"#"+t,"#"+t,0,k)},l_=e=>0<KO(e.title).length;const c_={find:e=>{e=e;var t,e=e_("h1,h2,h3,h4,h5,h6,a:not([href])",e);return xe((t=e,C(xe(t,a_),s_).concat((t=e,C(xe(t,o_),i_)))),l_)}},d_="tinymce-url-history",u_=e=>b(e)&&/^https?/.test(e),m_=e=>y(e)&&Xe(e,e=>{return e=e,!(G(e)&&e.length<=5&&Ee(e,u_))}).isNone(),g_=()=>{var e=gx.getItem(d_);if(null===e)return{};let t;try{t=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return console.log("Local storage "+d_+" was not valid JSON",e),{};throw e}return m_(t)?t:(console.log("Local storage "+d_+" was not valid format",t),{})},p_=(t,e)=>{if(u_(t)){var o=g_(),n=T(o,e).getOr([]),n=xe(n,e=>e!==t),e=(o[e]=[t].concat(n).slice(0,5),o);if(!m_(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));gx.setItem(d_,JSON.stringify(e))}},h_=e=>!!e,f_=e=>Ue(ok.makeMap(e,/[, ]/),h_),v_=e=>B.from(zf(e)),b_=(e,t)=>{var o=(e=>{const t=B.from(Pf(e)).filter(h_).map(f_);return v_(e).fold(ie,e=>t.fold(le,e=>0<He(e).length&&e))})(e);return q(o)?o?v_(e):B.none():o[t]?v_(e):B.none()},y_=e=>B.from(e).filter(b).getOrUndefined(),x_=t=>({getHistory:e=>{var t=g_();return T(t,e).getOr([])},addToHistory:p_,getLinkInformation:()=>{return e=t,Uf(e)?B.some({targets:c_.find(e.getBody()),anchorTop:y_(Wf(e)),anchorBottom:y_(jf(e))}):B.none();var e},getValidationHandler:()=>{return e=t,B.from(Hf(e));var e},getUrlPicker:e=>{return r=t,a=e,b_(r,a).map(n=>t=>gw.nu(o=>{var e={filetype:a,fieldname:t.fieldname,...B.from(t.meta).getOr({})};n.call(r,(e,t)=>{if(!b(e))throw new Error("Expected value to be string");if(void 0!==t&&!y(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})},t.value,e)}));var r,a}}),w_=(e,t,o,n)=>{const r=D(!1);var a=(e=>{const t=D(iv(e)?"bottom":"top");return{isPositionedAtTop:()=>"top"===t.get(),getDockingMode:t.get,setDockingMode:t.set}})(t),s={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Zh.translate,isDisabled:()=>t.mode.isReadOnly()||!t.ui.isEnabled(),getOption:t.options.get},i=x_(t),l=(o=>{const n=e=>()=>o.formatter.match(e),r=t=>()=>{var e=o.formatter.get(t);return void 0!==e?B.some({tag:0<e.length&&(e[0].inline||e[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(t))}):B.none()},a=D([]),s=D([]),i=D(!1);o.on("PreInit",e=>{var t=$O(o),t=XO(o,t,n,r);a.set(t)}),o.on("addStyleModifications",e=>{var t=XO(o,e.items,n,r);s.set(t),i.set(e.replace)});return{getData:()=>{var e=i.get()?[]:a.get(),t=s.get();return e.concat(t)}}})(t),c=LO(t),d=PO(t),s={shared:{providers:s,anchors:HO(t,o,n,a.isPositionedAtTop),header:a},urlinput:i,styles:l,colorinput:c,dialog:d,isContextMenuOpen:()=>r.get(),setContextMenuState:e=>r.set(e)};const u={...s,shared:{...s.shared,interpreter:e=>vO(e,{},u),getSink:e.popup}},m={...s,shared:{...s.shared,interpreter:e=>vO(e,{},m),getSink:e.dialog}};return{popup:u,dialog:m}},S_=(o,n,e)=>{const r=(t,o)=>{_([n,...e],e=>{e.broadcastEvent(t,o)})},t=(t,o)=>{_([n,...e],e=>{e.broadcastOn([t],o)})};var a=e=>t(Fu(),{target:e.target}),s=kn();const i=Ic(s,"touchstart",a),l=Ic(s,"touchmove",e=>r(Ka(),e)),c=Ic(s,"touchend",e=>r(Ya(),e)),d=Ic(s,"mousedown",a),u=Ic(s,"mouseup",e=>{0===e.raw.button&&t(Ru(),{target:e.target})}),m=e=>t(Fu(),{target:w.fromDom(e.target)}),g=e=>{0===e.button&&t(Ru(),{target:w.fromDom(e.target)})},p=()=>{_(o.editorManager.get(),e=>{o!==e&&e.dispatch("DismissPopups",{relatedTarget:o})})},h=e=>r(Ja(),Nc(e)),f=e=>{t(Iu(),{}),r(Za(),Nc(e))};a=qt(w.fromDom(o.getElement()));const v=Rc(a,"scroll",t=>{requestAnimationFrame(()=>{var e=o.getContainer();null!=e&&(e=Pw(o,n.element).map(e=>[e.element,...e.others]).getOr([]),he(e,e=>Mt(e,t.target)))&&(o.dispatch("ElementScroll",{target:t.target.dom}),r(rs(),t))})}),b=()=>t(Iu(),{}),y=e=>{e.state&&t(Fu(),{target:w.fromDom(o.getContainer())})},x=e=>{t(Fu(),{target:w.fromDom(e.relatedTarget.getContainer())})};o.on("PostRender",()=>{o.on("click",m),o.on("tap",m),o.on("mouseup",g),o.on("mousedown",p),o.on("ScrollWindow",h),o.on("ResizeWindow",f),o.on("ResizeEditor",b),o.on("AfterProgressState",y),o.on("DismissPopups",x)}),o.on("remove",()=>{o.off("click",m),o.off("tap",m),o.off("mouseup",g),o.off("mousedown",p),o.off("ScrollWindow",h),o.off("ResizeWindow",f),o.off("ResizeEditor",b),o.off("AfterProgressState",y),o.off("DismissPopups",x),d.unbind(),i.unbind(),l.unbind(),c.unbind(),u.unbind(),v.unbind()}),o.on("detach",()=>{_([n,...e],_u),_([n,...e],e=>e.destroy())})},k_=rm;bb=nm,o=O([m("shell",!1),s("makeItem"),m("setupItem",k),Gu.field("listBehaviours",[U])]),Fb=dm({name:"items",overrides:()=>({behaviours:V([U.config({})])})}),Va=O([Fb]);const C_=am({name:O("CustomList")(),configFields:o(),partFields:Va(),factory:(s,e,t,o)=>{e=s.shell?{behaviours:[U.config({})],components:[]}:{behaviours:[],components:e};return{uid:s.uid,dom:s.dom,components:e.components,behaviours:ju(s.listBehaviours,e.behaviours),apis:{setItems:(r,a)=>{var e;e=r,(s.shell?B.some(e):ym(e,s,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},t=>{var e=U.contents(t),o=a.length,n=o-e.length,n=0<n?fe(n,()=>s.makeItem()):[],e=e.slice(o),o=(_(e,e=>U.remove(t,e)),_(n,e=>U.append(t,e)),U.contents(t));_(o,(e,t)=>{s.setupItem(r,e,a[t],t)})})}}}},apis:{setItems:(e,t,o)=>{e.setItems(t,o)}}});ub=O([s("dom"),m("shell",!0),cd("toolbarBehaviours",[U])]),Hg=O([dm({name:"groups",overrides:()=>({behaviours:V([U.config({})])})})]);const O_=am({name:"Toolbar",configFields:ub(),partFields:Hg(),factory:(o,e,t,n)=>{e=o.shell?{behaviours:[U.config({})],components:[]}:{behaviours:[],components:e};return{uid:o.uid,dom:o.dom,components:e.components,behaviours:ju(o.toolbarBehaviours,e.behaviours),apis:{setGroups:(e,t)=>{e=e,(o.shell?B.some(e):ym(e,o,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},e=>{U.set(e,t)})},refresh:k},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)}}});Mb=k,cb=ie;const __=O([]);var T_=Object.freeze({__proto__:null,setup:Mb,isDocked:cb,getBehaviours:__});const E_=e=>{return(Ze(po(e,"position"),"fixed")?B.none():Ht(e)).orThunk(()=>{const t=w.fromTag("span");return Vt(e).bind(e=>{gn(e,t);e=Ht(t);return vn(t),e})})},D_=e=>E_(e).map(Oo).getOrThunk(()=>ko(0,0)),A_=(e,t)=>{var o=e.element;pi(o,t.transitionClass),fi(o,t.fadeOutClass),pi(o,t.fadeInClass),t.onShow(e)},M_=(e,t)=>{var o=e.element;pi(o,t.transitionClass),fi(o,t.fadeInClass),pi(o,t.fadeOutClass),t.onHide(e)},B_=(e,t)=>e.y>=t.y,F_=(e,t)=>e.bottom<=t.bottom,I_=(e,t,o)=>({location:"top",leftX:t,topY:o.bounds.y-e.y}),R_=(e,t,o)=>({location:"bottom",leftX:t,bottomY:e.bottom-o.bounds.bottom}),N_=e=>e.box.x-e.win.x,V_=(o,n,e)=>e.getInitialPos().map(e=>{var t=((t,e)=>{e=e.optScrollEnv.fold(O(t.bounds.y),e=>e.scrollElmTop+(t.bounds.y-e.currentScrollTop));return ko(t.bounds.x,e)})(e,n);return{box:Dn(t.left,t.top,Eo(o),xo(o)),location:e.location}}),z_=(e,t,o,n,r)=>{o=((t,e)=>{e=e.optScrollEnv.fold(O(t.y),e=>t.y+e.currentScrollTop-e.scrollElmTop);return ko(t.x,e)})(t,o),o=Dn(o.left,o.top,t.width,t.height);n.setInitialPos({style:ho(e),position:mo(e,"position")||"static",bounds:o,location:r.location})},H_=(e,t,o,n,r)=>{n.getInitialPos().fold(()=>z_(e,t,o,n,r),()=>k)},L_=(r,a,s)=>s.getInitialPos().bind(e=>{switch(s.clearInitialPos(),e.position){case"static":return B.some({morph:"static"});case"absolute":var t=E_(r).getOr(eo());const o=An(t),n=null!=(t=t.dom.scrollTop)?t:0;return B.some({morph:"absolute",positionCss:fc("absolute",T(e.style,"left").map(e=>a.x-o.x),T(e.style,"top").map(e=>a.y-o.y+n),T(e.style,"right").map(e=>o.right-a.right),T(e.style,"bottom").map(e=>o.bottom-a.bottom))});default:return B.none()}}),P_=(t,r,a)=>V_(t,r,a).filter(({box:e})=>{return t=a.getModes(),o=e,n=r,Ee(t,e=>{switch(e){case"bottom":return F_(o,n.bounds);case"top":return B_(o,n.bounds)}});var t,o,n}).bind(({box:e})=>L_(t,e,a)),U_=e=>{switch(e.location){case"top":return B.some({morph:"fixed",positionCss:fc("fixed",B.some(e.leftX),B.some(e.topY),B.none(),B.none())});case"bottom":return B.some({morph:"fixed",positionCss:fc("fixed",B.some(e.leftX),B.none(),B.none(),B.some(e.bottomY))});default:return B.none()}},W_=(e,t,o)=>{var n=An(e),r=In(),r=((e,t,o)=>{const n=t.win,r=t.box,a=N_(t);return ze(e,e=>{switch(e){case"bottom":return F_(r,o.bounds)?B.none():B.some(R_(n,a,o));case"top":return B_(r,o.bounds)?B.none():B.some(I_(n,a,o));default:return B.none()}}).getOr({location:"no-dock"})})(o.getModes(),{win:r,box:n},t);return"top"===r.location||"bottom"===r.location?(z_(e,n,t,o,r),U_(r)):B.none()},j_=(e,t,o)=>{var n,r,a,e=e.element;return Ze(po(e,"position"),"fixed")?(n=e,r=t,a=o,P_(n,r,a).orThunk(()=>r.optScrollEnv.bind(e=>V_(n,r,a)).bind(({box:e,location:t})=>{var o=In(),e=N_({win:o,box:e}),t=("top"===t?I_:R_)(o,e,r);return U_(t)}))):W_(e,t,o)},G_=(e,t,o)=>{const n=e.element;return V_(n,t,o).bind(({box:e})=>L_(n,e,o))},$_=(t,e,o)=>{o.setDocked(!1),_(["left","right","top","bottom","position"],e=>vo(t.element,e)),e.onUndocked(t)},q_=(e,t,o,n)=>{var r="fixed"===n.position;o.setDocked(r),vc(e.element,n),(r?t.onDocked:t.onUndocked)(e)},X_=(n,e,r,a,s=!1)=>{e.contextual.each(o=>{o.lazyContext(n).each(e=>{e=e,t=a.bounds;var t,e=e.y<t.bottom&&e.bottom>t.y;e!==r.isVisible()&&(r.setVisible(e),s&&!e?(bi(n.element,[o.fadeOutClass]),o.onHide(n)):(e?A_:M_)(n,o))})})},K_=(e,t,o,n,r)=>{X_(e,t,o,n,!0),q_(e,t,o,r.positionCss)},Y_=(e,t,o,n,r)=>{switch(r.morph){case"static":return $_(e,t,o);case"absolute":return q_(e,t,o,r.positionCss);case"fixed":return K_(e,t,o,n,r)}},J_=(e,t,o)=>{if(e.getSystem().isConnected()){var n=e;var r=t;var a=o;const s=r.lazyViewport(n);X_(n,r,a,s),j_(n,s,a).each(e=>{Y_(n,r,a,s,e)})}},Z_=(e,t,o)=>{if(o.isDocked()){var n=e;var r=t;var a=o;const s=n.element;a.setDocked(!1);e=r.lazyViewport(n);G_(n,e,a).each(e=>{switch(e.morph){case"static":$_(n,r,a);break;case"absolute":q_(n,r,a,e.positionCss)}}),a.setVisible(!0),r.contextual.each(e=>{yi(s,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(n)}),J_(n,r,a)}};vb=d=>(t,o,n)=>{const r=o.lazyViewport(t);var e,a,s,i,l,c;e=t.element,a=r,s=n,i=d,l=An(e),c=In(),("bottom"===(i=i(c,N_({win:c,box:l}),a)).location||"top"===i.location?(H_(e,l,a,s,i),U_(i)):B.none()).each(e=>{K_(t,o,n,r,e)})},gr=vb(I_),rm=vb(R_),nm=Object.freeze({__proto__:null,refresh:J_,reset:Z_,isDocked:(e,t,o)=>o.isDocked(),getModes:(e,t,o)=>o.getModes(),setModes:(e,t,o,n)=>o.setModes(n),forceDockToTop:gr,forceDockToBottom:rm}),Fb=Object.freeze({__proto__:null,events:(n,r)=>gs([Ss(Ia(),(t,o)=>{n.contextual.each(e=>{vi(t.element,e.transitionClass)&&(yi(t.element,[e.transitionClass,e.fadeInClass]),(r.isVisible()?e.onShown:e.onHidden)(t)),o.stop()})}),R(Ja(),(e,t)=>{J_(e,n,r)}),R(rs(),(e,t)=>{J_(e,n,r)}),R(Za(),(e,t)=>{Z_(e,n,r)})])}),o=[qr("contextual",[Ir("fadeInClass"),Ir("fadeOutClass"),Ir("transitionClass"),Nr("lazyContext"),t("onShow"),t("onShown"),t("onHide"),t("onHidden")]),ea("lazyViewport",()=>({bounds:In(),optScrollEnv:B.none()})),ta("modes",["top","bottom"],hr),t("onDocked"),t("onUndocked")];const Q_=ac({fields:o,name:"docking",active:Fb,apis:nm,state:Object.freeze({__proto__:null,init:e=>{const t=D(!1),o=D(!0);var n=Bc();const r=D(e.modes);return Zs({isDocked:t.get,setDocked:t.set,getInitialPos:n.get,setInitialPos:n.set,clearInitialPos:n.clear,isVisible:o.get,setVisible:o.set,getModes:r.get,setModes:r.set,readState:()=>`docked:  ${t.get()}, visible: ${o.get()}, modes: `+r.get().join(",")})}})}),eT=O(N("toolbar-height-change")),tT={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},oT="tox-tinymce--toolbar-sticky-on",nT="tox-tinymce--toolbar-sticky-off",rT=(e,t)=>pe(Q_.getModes(e),t),aT=n=>{const r=n.element;zt(r).each(e=>{var t,o="padding-"+Q_.getModes(n)[0];Q_.isDocked(n)?(t=Eo(e),F(r,"width",t+"px"),F(e,o,(t=r,wo(t)+(parseInt(mo(t,"margin-top"),10)||0)+(parseInt(mo(t,"margin-bottom"),10)||0)+"px"))):(vo(r,"width"),vo(e,o))})},sT=(e,t)=>{t?(fi(e,tT.fadeOutClass),bi(e,[tT.transitionClass,tT.fadeInClass])):(fi(e,tT.fadeInClass),bi(e,[tT.fadeOutClass,tT.transitionClass]))},iT=(e,t)=>{e=w.fromDom(e.getContainer());t?(pi(e,oT),fi(e,nT)):(pi(e,nT),fi(e,oT))};const lT=(a,e)=>{const s=Bc(),o=e.getSink,n=t=>{o().each(e=>t(e.element))};var t=e=>{a.inline||aT(e),iT(a,Q_.isDocked(e)),e.getSystem().broadcastOn([Iu()],{}),o().each(e=>e.getSystem().broadcastOn([Iu()],{}))},r=a.inline?[]:[cc.config({channels:{[eT()]:{onReceive:aT}}})];return[j.config({}),Q_.config({contextual:{lazyContext:n=>{const r=wo(n.element);var e=a.inline?a.getContentAreaContainer():a.getContainer();return B.from(e).map(e=>{const o=An(w.fromDom(e));return Pw(a,n.element).fold(()=>{var e=o.height-r,t=o.y+(rT(n,"top")?0:r);return Dn(o.x,t,o.width,e)},e=>{var e=Bn(o,Uw(e)),t=rT(n,"top")?e.y:e.y+r;return Dn(e.x,t,e.width,e.height-r)})})},onShow:()=>{n(e=>sT(e,!0))},onShown:r=>{n(e=>yi(e,[tT.transitionClass,tT.fadeInClass])),s.get().each(e=>{{var t=r.element,o=e;const n=Ft(o);gc(n).filter(e=>!Mt(o,e)).filter(e=>Mt(e,w.fromDom(n.dom.body))||Bt(t,e)).each(()=>dc(o))}s.clear()})},onHide:e=>{var t;e=e.element,t=o,pc(e).orThunk(()=>t().toOptional().bind(e=>pc(e.element))).fold(s.clear,s.set),n(e=>sT(e,!1))},onHidden:()=>{n(e=>yi(e,[tT.transitionClass]))},...tT},lazyViewport:n=>{return Pw(a,n.element).fold(()=>{var e=In(),t=Rf(a),o=e.y+(rT(n,"top")?t:0),t=e.height-(rT(n,"bottom")?t:0);return{bounds:Dn(e.x,o,e.width,t),optScrollEnv:B.none()}},e=>{return{bounds:Uw(e),optScrollEnv:B.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Oo(e.element).top})}})},modes:[e.header.getDockingMode()],onDocked:t,onUndocked:t}),...r]};var cT=Object.freeze({__proto__:null,setup:(e,t,o)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{o().each(Q_.reset)}),e.on("ResizeWindow ResizeEditor",()=>{o().each(aT)}),e.on("SkinLoaded",()=>{o().each(e=>{Q_.isDocked(e)?Q_.reset(e):Q_.refresh(e)})}),e.on("FullscreenStateChanged",()=>{o().each(Q_.reset)})),e.on("AfterScrollIntoView",u=>{o().each(e=>{Q_.refresh(e);var t,o,n,r,a,s,i,l,c,d,e=e.element;Mg(e)&&(t=u,e=e,o=Ft(e),n=Nt(e).dom.innerHeight,r=bn(o),t=w.fromDom(t.elm),a=Mn(t),t=xo(t),a=a.y,s=a+t,i=Oo(e),e=xo(e),i=i.top,l=i+e,c=Math.abs(i-r.top)<2,d=Math.abs(l-(r.top+n))<2,c&&a<l?yn(r.left,a-e,o):d&&i<s&&(c=a-n+t+e,yn(r.left,c,o)))})}),e.on("PostRender",()=>{iT(e,!1)})},isDocked:e=>e().map(Q_.isDocked).getOr(!1),getBehaviours:lT});const dT=u([sb,Fr("items",l([ur([Pg,Hr("items",hr)]),hr]))].concat(Cb));Va=[Wr("text"),Wr("tooltip"),Wr("icon"),Kr("search",!1,l([fr,u([Wr("placeholder")])],e=>q(e)?e?B.some({placeholder:B.none()}):B.none():B.some(e))),Nr("fetch"),ea("onSetup",()=>k)];const uT=u([sb,...Va]),mT=e=>Cr("menubutton",uT,e),gT=u([sb,Ql,r,Lg,db,_g,Ug,Zr("presets","normal",["normal","color","listpreview"]),hb(1),Wg,Sg]);var pT=Fm({factory:(t,o)=>{var e={focus:P.focusIn,setMenus:(e,t)=>{t=C(t,t=>{var e={type:"menubutton",text:t.text,fetch:e=>{e(t.getItems())}},e=mT(e).mapError(e=>Tr(e)).getOrDie();return wC(e,"tox-mbtn",o.backstage,B.some("menuitem"))});U.set(e,t)}};return{uid:t.uid,dom:t.dom,components:[],behaviours:V([U.config({}),W("menubar-events",[ks(e=>{t.onSetup(e)}),R(Oa(),(o,e)=>{Yi(o.element,".tox-mbtn--active").each(t=>{Ji(e.event.target,".tox-mbtn").each(e=>{Mt(t,e)||o.getSystem().getByDom(t).each(t=>{o.getSystem().getByDom(e).each(e=>{_w.expand(e),_w.close(t),j.focus(e)})})})})}),R(os(),(o,e)=>{e.event.prevFocus.bind(e=>o.getSystem().getByDom(e).toOptional()).each(t=>{e.event.newFocus.bind(e=>o.getSystem().getByDom(e).toOptional()).each(e=>{_w.isOpen(t)&&(_w.expand(e),_w.close(t))})})})]),P.config({mode:"flow",selector:".tox-mbtn",onEscape:e=>(t.onEscape(e),B.some(!0))}),a0.config({})]),apis:e,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[s("dom"),s("uid"),s("onEscape"),s("backstage"),m("onSetup",k)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,o)=>{e.setMenus(t,o)}}});const hT="container",fT=[cd("slotBehaviours",[])],vT=e=>"<alloy.field."+e+">";const bT=(r,e)=>{const t=e=>km(r);var o=(o,n)=>(e,t)=>ym(e,r,t).map(e=>o(e,t)).getOr(n);const n=(e,t)=>"true"!==no(e.element,"aria-hidden");var a,s=o(n,!1),i=o((e,t)=>{var o;n(e)&&(o=e.element,F(o,"display","none"),E(o,"aria-hidden","true"),M(e,ns(),{name:t,visible:!1}))});const l=(t,e)=>{_(e,e=>a(t,e))};o=o((e,t)=>{var o;n(e)||(o=e.element,vo(o,"display"),so(o,"aria-hidden"),M(e,ns(),{name:t,visible:!0}))}),s={getSlotNames:t,getSlot:(e,t)=>ym(e,r,t),isShowing:s,hideSlot:a=i,hideAllSlots:e=>l(e,t()),showSlot:o};return{uid:r.uid,dom:r.dom,components:e,behaviours:Wu(r.slotBehaviours),apis:s}},yT={...Ue({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,o)=>e.getSlot(t,o),isShowing:(e,t,o)=>e.isShowing(t,o),hideSlot:(e,t,o)=>e.hideSlot(t,o),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,o)=>e.showSlot(t,o)},e=>Ys(e)),sketch:e=>{var t=(()=>{const o=[];return{slot:(e,t)=>(o.push(e),pm(hT,vT(e),t)),record:O(o)}})(),e=e(t),t=t.record(),t=C(t,e=>cm({name:e,pname:vT(e)}));return Em(hT,fT,t,bT,e)}},xT=u([r,Ql,ea("onShow",k),ea("onHide",k),Ug]),wT=n=>{const r=n.ui.registry.getAll()["sidebars"];_(He(r),t=>{var e=r[t];const o=()=>Ze(B.from(n.queryCommandValue("ToggleSidebar")),t);n.ui.registry.addToggleButton(t,{icon:e.icon,tooltip:e.tooltip,onAction:e=>{n.execCommand("ToggleSidebar",!1,t),e.setActive(o())},onSetup:e=>{e.setActive(o());const t=()=>e.setActive(o());return n.on("ToggleSidebar",t),()=>{n.off("ToggleSidebar",t)}}})})},ST=e=>({element:()=>e.element.dom}),kT=(o,n)=>{const r=C(He(n),e=>{var t=n[e],t=Or((t=t,Cr("sidebar",xT,t)));return{name:e,getApi:ST,onSetup:t.onSetup,onShow:t.onShow,onHide:t.onHide}});return C(r,e=>{var t=D(k);return o.slot(e.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Kb.unnamedEvents([cy(e,t),dy(e,t),R(ns(),(t,e)=>{const o=e.event;Ce(r,e=>e.name===o.name).each(e=>{(o.visible?e.onShow:e.onHide)(e.getApi(t))})})])})})},CT=t=>yT.sketch(e=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:kT(e,t),slotBehaviours:Kb.unnamedEvents([ks(e=>yT.hideAllSlots(e))])})),OT=(e,t)=>{E(e,"role",t)},_T=e=>{return z.getCurrent(e).bind(e=>{return yC.isGrowing(e)||yC.hasGrown(e)?z.getCurrent(e).bind(t=>Ce(yT.getSlotNames(t),e=>yT.isShowing(t,e))):B.none()})},TT=N("FixSizeEvent"),ET=N("AutoSizeEvent");Hg=Object.freeze({__proto__:null,block:(e,t,o,n)=>{E(e.element,"aria-busy",!0);const r=t.getRoot(e).getOr(e);var a=V([P.config({mode:"special",onTab:()=>B.some(!0),onShiftTab:()=>B.some(!0)}),j.config({})]),n=n(r,a);const s=r.getSystem().build(n);U.append(r,Ui(s)),s.hasConfigured(P)&&t.focus&&P.focusIn(s),o.isBlocked()||t.onBlock(e),o.blockWith(()=>U.remove(r,s))},unblock:(e,t,o)=>{so(e.element,"aria-busy"),o.isBlocked()&&t.onUnblock(e),o.clear()},isBlocked:(e,t,o)=>o.isBlocked()}),Mb=[ea("getRoot",B.none),Qr("focus",!0),t("onBlock"),t("onUnblock")];const DT=ac({fields:Mb,name:"blocking",apis:Hg,state:Object.freeze({__proto__:null,init:()=>{const t=Ac(e=>e.destroy());return Zs({readState:t.isSet,blockWith:e=>{t.set({destroy:e})},clear:t.clear,isBlocked:t.isSet})}})}),AT=e=>z.getCurrent(e).each(e=>dc(e.element)),MT=(e,t,o,n)=>{var r,a=t.element;{var s=e,i=o;const l="tabindex",c="data-mce-"+l;B.from(s.iframeElement).map(w.fromDom).each(t=>{i?(ro(t,l).each(e=>E(t,c,e)),E(t,l,-1)):(so(t,l),ro(t,c).each(e=>{E(t,l,e),so(t,c)}))})}o?(DT.block(t,(r=n,(e,t)=>({dom:{tag:"div",attributes:{"aria-label":r.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:eh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))),vo(a,"display"),so(a,"aria-hidden"),e.hasFocus()&&AT(t)):(s=z.getCurrent(t).exists(e=>mc(e.element)),DT.unblock(t),F(a,"display","none"),E(a,"aria-hidden","true"),s&&e.focus())};const BT=(o,n,t)=>{const r=D(!1),a=Bc(),s=e=>{var t;!r.get()||"focusin"===(t=e).type&&(t.composed?Re(t.composedPath()):B.from(t.target)).map(w.fromDom).filter(St).exists(e=>vi(e,"mce-pastebin"))||(e.preventDefault(),AT(n()),o.editorManager.setActive(o))},i=(o.inline||o.on("PreInit",()=>{o.dom.bind(o.getWin(),"focusin",s),o.on("BeforeExecCommand",e=>{"mcefocus"===e.command.toLowerCase()&&!0!==e.value&&s(e)})}),e=>{e!==r.get()&&(r.set(e),MT(o,n(),e,t.providers),o.dispatch("AfterProgressState",{state:e}))});o.on("ProgressState",e=>{var t;a.on(clearTimeout),Z(e.time)?(t=Yp.setEditorTimeout(o,()=>i(e.state),e.time),a.set(t)):(i(e.state),a.clear())})},FT=(e,t,o)=>({within:e,extra:t,withinWidth:o}),IT=(e,t,n)=>{e=e,o=(e,t)=>{var o=n(e);return B.some({element:e,start:t,finish:t+o,width:o})};var o,e=Se(e,(t,e)=>{return o(e,t.len).fold(O(t),e=>({len:e.finish,list:t.list.concat([e])}))},{len:0,list:[]}).list,r=xe(e,e=>e.finish<=t),a=we(r,(e,t)=>e+t.width,0);return{within:r,extra:e.slice(r.length),withinWidth:a}},RT=e=>C(e,e=>e.element),NT=(e,t,o,n)=>{var r,a,s,i=((e,t,o)=>{t=IT(t,e,o);return 0===t.extra.length?B.some(t):B.none()})(e,t,o).getOrThunk(()=>IT(t,e-o(n),o)),l=i.within,c=i.extra,i=i.withinWidth;return 1===c.length&&c[0].width<=o(n)?(a=l,r=c,s=i,a=RT(a.concat(r)),FT(a,[],s)):1<=c.length?(r=l,a=c,s=n,c=i,r=RT(r).concat([s]),FT(r,RT(a),c)):(c=l,l=i,FT(RT(c),[],l))},VT=(e,t)=>{t=C(t,e=>Ui(e));O_.setGroups(e,t)},zT=(e,t,o)=>{var n,r,a=t.builtGroups.get();0!==a.length&&(n=xm(e,t,"primary"),e=lw.getCoupled(e,"overflowGroup"),F(n.element,"visibility","hidden"),a=a.concat([e]),r=a,r=ze(r,t=>pc(t.element).bind(e=>t.getSystem().getByDom(e).toOptional())),o([]),VT(n,a),a=Eo(n.element),0===(a=NT(a,t.builtGroups.get(),e=>Eo(e.element),e)).extra.length?(U.remove(n,e),o([])):(VT(n,a.within),o(a.extra)),vo(n.element,"visibility"),bo(n.element),r.each(j.focus))};cb=O([cd("splitToolbarBehaviours",[lw]),Mr("builtGroups",()=>D([]))]),vb=O([ml(["overflowToggledClass"]),Gr("getOverflowBounds"),s("lazySink"),Mr("overflowGroups",()=>D([])),t("onOpened"),t("onClosed")].concat(cb())),gr=O([cm({factory:O_,schema:ub(),name:"primary"}),ld({schema:ub(),name:"overflow"}),ld({name:"overflow-button"}),ld({name:"overflow-group"})]);const HT=O((e,t)=>{t=Math.floor(t);t=To.max(e,t,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]),F(e,"max-width",t+"px")});rm=O([ml(["toggledClass"]),s("lazySink"),Nr("fetch"),Gr("getBounds"),qr("fireDismissalEventInstead",[m("event",ts())]),xl(),t("onToggled")]),o=O([ld({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:V([h.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),ld({factory:O_,schema:ub(),name:"toolbar",overrides:t=>({toolbarBehaviours:V([P.config({mode:"cyclic",onEscape:e=>(ym(e,t,"button").each(j.focus),B.none())})])})})]);const LT=Bc(),PT=(e,t)=>{e=lw.getCoupled(e,"toolbarSandbox");d.isOpen(e)?d.close(e):d.open(e,t.toolbar())},UT=(e,t,o,n)=>{var r=o.getBounds.map(e=>e()),o=o.lazySink(e).getOrDie();cu.positionWithinBounds(o,t,{anchor:{type:"hotspot",hotspot:e,layouts:n,overrides:{maxWidthFunction:HT()}}},r)},WT=(e,t,o,n,r)=>{O_.setGroups(t,r),UT(e,t,o,n),h.on(e)};const jT=am({name:"FloatingToolbarButton",factory:(i,e,l,o)=>({...Jp.sketch({...o.button(),action:e=>{PT(e,o)},buttonBehaviours:Gu.augment({dump:o.button().buttonBehaviours},[lw.config({others:{toolbarSandbox:e=>{{var n=e,r=l,a=i;const s=Qi();return{dom:{tag:"div",attributes:{id:s.id}},behaviours:V([P.config({mode:"special",onEscape:e=>(d.close(e),B.some(!0))}),d.config({onOpen:(e,t)=>{const o=LT.get().getOr(!1);a.fetch().get(e=>{WT(n,t,a,r.layouts,e),s.link(n.element),o||P.focusIn(t)})},onClose:()=>{h.off(n),LT.get().getOr(!1)||j.focus(n),s.unlink(n.element)},isPartOf:(e,t,o)=>tl(t,o)||tl(n,o),getAttachPoint:()=>a.lazySink(n).getOrDie()}),cc.config({channels:{...Vu({isExtraPart:ie,...a.fireDismissalEventInstead.map(e=>({fireEventInstead:{event:e.event}})).getOr({})}),...Hu({doReposition:()=>{d.getState(lw.getCoupled(n,"toolbarSandbox")).each(e=>{UT(n,e,a,r.layouts)})}})}})])}}}}})])}),apis:{setGroups:(t,o)=>{d.getState(lw.getCoupled(t,"toolbarSandbox")).each(e=>{WT(t,e,i,l.layouts,o)})},reposition:t=>{d.getState(lw.getCoupled(t,"toolbarSandbox")).each(e=>{UT(t,e,i,l.layouts)})},toggle:e=>{PT(e,o)},toggleWithoutFocusing:e=>{var t;e=e,t=o,LT.set(!0),PT(e,t),LT.clear()},getToolbar:e=>d.getState(lw.getCoupled(e,"toolbarSandbox")),isOpen:e=>d.isOpen(lw.getCoupled(e,"toolbarSandbox"))}}),configFields:rm(),partFields:o(),apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}});Fb=O([s("items"),ml(["itemSelector"]),cd("tgroupBehaviours",[P])]),nm=O([Sd({name:"items",unit:"item"})]);const GT=am({name:"ToolbarGroup",configFields:Fb(),partFields:nm(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:ju(e.tgroupBehaviours,[P.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),$T=e=>C(e,e=>Ui(e)),qT=(e,o,n)=>{zT(e,n,t=>{n.overflowGroups.set(t),o.getOpt(e).each(e=>{jT.setGroups(e,$T(t))})})};const XT=am({name:"SplitFloatingToolbar",configFields:vb(),partFields:gr(),factory:(o,e,t,n)=>{const r=th(jT.sketch({fetch:()=>gw.nu(e=>{e($T(o.overflowGroups.get()))}),layouts:{onLtr:()=>[Ll,Hl],onRtl:()=>[Hl,Ll],onBottomLtr:()=>[Ul,Pl],onBottomRtl:()=>[Pl,Ul]},getBounds:t.getOverflowBounds,lazySink:o.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:o.markers.overflowToggledClass},parts:{button:n["overflow-button"](),toolbar:n.overflow()},onToggled:(e,t)=>o[t?"onOpened":"onClosed"](e)}));return{uid:o.uid,dom:o.dom,components:e,behaviours:ju(o.splitToolbarBehaviours,[lw.config({others:{overflowGroup:()=>GT.sketch({...n["overflow-group"](),items:[r.asSpec()]})}})]),apis:{setGroups:(e,t)=>{o.builtGroups.set(C(t,e.getSystem().build)),qT(e,r,o)},refresh:e=>qT(e,r,o),toggle:e=>{r.getOpt(e).each(e=>{jT.toggle(e)})},toggleWithoutFocusing:e=>{r.getOpt(e).each(jT.toggleWithoutFocusing)},isOpen:e=>r.getOpt(e).map(jT.isOpen).getOr(!1),reposition:e=>{r.getOpt(e).each(e=>{jT.reposition(e)})},getOverflow:e=>r.getOpt(e).bind(jT.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}});Cb=O([ml(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),t("onOpened"),t("onClosed")].concat(cb())),Va=O([cm({factory:O_,schema:ub(),name:"primary"}),cm({factory:O_,schema:ub(),name:"overflow",overrides:t=>({toolbarBehaviours:V([yC.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:e=>{ym(e,t,"overflow-button").each(e=>{h.off(e),j.focus(e)}),t.onClosed(e)},onGrown:e=>{P.focusIn(e),t.onOpened(e)},onStartGrow:e=>{ym(e,t,"overflow-button").each(h.on)}}),P.config({mode:"acyclic",onEscape:e=>(ym(e,t,"overflow-button").each(j.focus),B.some(!0))})])})}),ld({name:"overflow-button",overrides:e=>({buttonBehaviours:V([h.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),ld({name:"overflow-group"})]);const KT=(t,o)=>{ym(t,o,"overflow-button").bind(()=>ym(t,o,"overflow")).each(e=>{YT(t,o),yC.toggleGrow(e)})},YT=(e,o)=>{ym(e,o,"overflow").each(t=>{zT(e,o,e=>{e=C(e,e=>Ui(e));O_.setGroups(t,e)}),ym(e,o,"overflow-button").each(e=>{yC.hasGrown(t)&&h.on(e)}),yC.refresh(t)})};const JT=am({name:"SplitSlidingToolbar",configFields:Cb(),partFields:Va(),factory:(n,e,t,o)=>{const r="alloy.toolbar.toggle";return{uid:n.uid,dom:n.dom,components:e,behaviours:ju(n.splitToolbarBehaviours,[lw.config({others:{overflowGroup:t=>GT.sketch({...o["overflow-group"](),items:[Jp.sketch({...o["overflow-button"](),action:e=>{A(t,r)}})]})}}),W("toolbar-toggle-events",[R(r,e=>{KT(e,n)})])]),apis:{setGroups:(e,t)=>{var o=e;t=C(t,o.getSystem().build),n.builtGroups.set(t),YT(e,n)},refresh:e=>YT(e,n),toggle:e=>KT(e,n),isOpen:e=>{return e=e,t=n,ym(e,t,"overflow").map(yC.hasGrown).getOr(!1);var t}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),ZT=e=>{return{dom:{tag:"div",classes:["tox-toolbar__group"],...e.title.fold(()=>({}),e=>({attributes:{title:e}}))},components:[GT.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:V([a0.config({}),j.config({})])}},QT=e=>GT.sketch(ZT(e)),e1=(o,e)=>{var t=ks(e=>{var t=C(o.initGroups,QT);O_.setGroups(e,t)});return V([iy.toolbarButton(o.providers.isDisabled),sy(),P.config({mode:e,onEscape:o.onEscape,selector:".tox-toolbar__group"}),W("toolbar-events",[t])])},t1=e=>{var t,o,n,r,a,s,i=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":ZT({title:B.none(),items:[]}),"overflow-button":(t={name:"more",icon:B.some("more-drawer"),enabled:!0,tooltip:B.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:B.none(),borderless:!1},o=B.none(),n=e.providers,r=[],a={tag:"button",classes:["tox-tbtn"],attributes:t.tooltip.map(e=>({"aria-label":n.translate(e),title:n.translate(e)})).getOr({})},s=t.icon.map(e=>Fk(e,n.icons)),s=gy([s]),WC(t,o,r,a,s,n))},splitToolbarBehaviours:e1(e,i)}},o1=n=>{var e=t1(n);var t=XT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return XT.sketch({...e,lazySink:n.getSink,getOverflowBounds:()=>{var e=n.moreDrawerData.lazyHeader().element,t=Mn(e),e=Rt(e),o=Mn(e),e=Math.max(e.dom.scrollHeight,o.height);return Dn(t.x+4,o.y,t.width-8,e)},parts:{...e.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}},components:[t],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:e=>n.onToggled(e,!0),onClosed:e=>n.onToggled(e,!1)})},n1=t=>{var e=JT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=JT.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),n=t1(t);return JT.sketch({...n,components:[e,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:e=>{e.getSystem().broadcastOn([eT()],{type:"opened"}),t.onToggled(e,!0)},onClosed:e=>{e.getSystem().broadcastOn([eT()],{type:"closed"}),t.onToggled(e,!1)}})},r1=e=>{var t=e.cyclicKeying?"cyclic":"acyclic";return O_.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===uf.scrolling?["tox-toolbar--scrolling"]:[])},components:[O_.parts.groups({})],toolbarBehaviours:e1(e,t)})};db=[Lg,r,Wr("tooltip"),Zr("buttonType","secondary",["primary","secondary"]),Qr("borderless",!1),Nr("onAction")],_g={button:[...db,n,Rr("type",["button"])],togglebutton:[...db,Qr("active",!1),Rr("type",["togglebutton"])]},Wg=[Rr("type",["group"]),ta("buttons",[],Er("type",_g))],Sg=Er("type",{..._g,group:Wg});const a1=u([ta("buttons",[],Sg),Nr("onShow"),Nr("onHide")]),s1=(t,n)=>{const r="togglebutton"===t.type,a=t.icon.map(e=>Ik(e,n.icons)).map(th);var e=o=>{var e=t=>{a.map(e=>e.getOpt(o).each(e=>{U.set(e,[Ik(t,n.icons)])}))};return r?t.onAction({setIcon:e,setActive:e=>{var t=o.element;e?(pi(t,"tox-button--enabled"),E(t,"aria-pressed",!0)):(fi(t,"tox-button--enabled"),so(t,"aria-pressed"))},isActive:()=>vi(o.element,"tox-button--enabled")}):"button"===t.type?t.onAction({setIcon:e}):void 0},o={...t,name:r?t.text.getOr(t.icon.getOr("")):null!=(o=t.text)?o:t.icon.getOr(""),primary:"primary"===t.buttonType,buttonType:B.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},s=jC(null!=(s=t.buttonType)?s:"secondary"),i=r?t.text.map(n.translate):B.some(n.translate(t.text)),l=i.map(Ni),i=o.tooltip.or(i).map(e=>({"aria-label":n.translate(e),title:n.translate(e)})).getOr({}),c=a.map(e=>e.asSpec()),c=gy([c,l]),l=t.icon.isSome()&&l.isSome(),s={tag:"button",classes:s.concat(...t.icon.isSome()&&!l?["tox-button--icon"]:[]).concat(...l?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(..."togglebutton"===t.type&&t.active?["tox-button--enabled"]:[]),attributes:i},l=WC(o,B.some(e),[],s,c,n);return Jp.sketch(l)},i1=(e,t)=>s1(e,t);Ug=rn().deviceType;const l1=Ug.isPhone(),c1=Ug.isTablet();var d1=am({name:"silver.View",configFields:[s("viewConfig")],partFields:[dm({factory:{sketch:n=>{let r=!1;var e=C(n.buttons,e=>{return"group"===e.type?(r=!0,t=e,o=n.providers,{dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:C(t.buttons,e=>i1(e,o))}):i1(e,n.providers);var t,o});return{uid:n.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...l1||c1?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:V([j.config({}),P.config({mode:"flow",selector:"button, .tox-button",focusInside:Zm.OnEnterOrSpaceMode})]),components:r?e:[o0.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),o0.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:e})]}}},schema:[s("buttons"),s("providers")],name:"header"}),dm({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(t,e,o,n)=>{return{uid:t.uid,dom:t.dom,components:e,apis:{getPane:e=>k_.getPart(e,t,"pane"),getOnShow:e=>t.viewConfig.onShow,getOnHide:e=>t.viewConfig.onHide}}},apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const u1=(o,e,n)=>qe(e,(e,t)=>{e=Or((e=e,Cr("view",a1,e)));return o.slot(t,d1.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:e,components:[...0<e.buttons.length?[d1.parts.header({buttons:e.buttons,providers:n})]:[],d1.parts.pane({})]}))}),m1=t=>Ce(yT.getSlotNames(t),e=>yT.isShowing(t,e)),g1=(e,t,o)=>{yT.getSlot(e,t).each(t=>{d1.getPane(t).each(e=>{o(t)((e=e.element.dom,{getContainer:O(e)}))})})};var p1=Fm({factory:(e,r)=>{var t={setViews:(e,t)=>{var o,n;U.set(e,[(o=t,n=r.backstage.shared.providers,yT.sketch(e=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:u1(e,o,n),slotBehaviours:Kb.unnamedEvents([ks(e=>yT.hideAllSlots(e))])})))])},whichView:e=>z.getCurrent(e).bind(m1),toggleView:(a,s,i,l)=>z.getCurrent(a).exists(o=>{var e,t=m1(o),n=t.exists(e=>l===e),r=yT.getSlot(o,l).isSome();return r&&(yT.hideAllSlots(o),n?(n=(n=a).element,F(n,"display","none"),E(n,"aria-hidden","true"),s()):(i(),n=(n=a).element,vo(n,"display"),so(n,"aria-hidden"),yT.showSlot(o,l),n=o,e=l,g1(n,e,d1.getOnShow)),t.each(e=>{return t=o,e=e,g1(t,e,d1.getOnHide);var t})),r})};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:V([U.config({}),z.config({find:e=>{e=U.contents(e);return Re(e)}})]),apis:t}},name:"silver.ViewWrapper",configFields:[s("backstage")],apis:{setViews:(e,t,o)=>e.setViews(t,o),toggleView:(e,t,o,n,r)=>e.toggleView(t,o,n,r),whichView:(e,t)=>e.whichView(t)}}),Mb=bb.optional({factory:pT,name:"menubar",schema:[s("backstage")]});var Hg=bb.optional({factory:{sketch:e=>C_.sketch({uid:e.uid,dom:e.dom,listBehaviours:V([P.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>r1({type:e.type,uid:N("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),B.some(!0))}),setupItem:(e,t,o,n)=>{O_.setGroups(t,o)},shell:!0})},name:"multiple-toolbar",schema:[s("dom"),s("onEscape")]}),rm=bb.optional({factory:{sketch:o=>{var e;return((e=o).type===uf.sliding?n1:e.type===uf.floating?o1:r1)({type:o.type,uid:o.uid,onEscape:()=>(o.onEscape(),B.some(!0)),onToggled:(e,t)=>o.onToolbarToggled(t),cyclicKeying:!1,initGroups:[],getSink:o.getSink,providers:o.providers,moreDrawerData:{lazyToolbar:o.lazyToolbar,lazyMoreButton:o.lazyMoreButton,lazyHeader:o.lazyHeader},attributes:o.attributes})}},name:"toolbar",schema:[s("dom"),s("onEscape"),s("getSink")]}),o=bb.optional({factory:{sketch:e=>{var t=e.editor,o=e.sticky?lT:__;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:V(o(t,e.sharedBackstage))}}},name:"header",schema:[s("dom")]}),Fb=bb.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"⚡️Upgrade"}}]})},name:"promotion",schema:[s("dom")]}),nm=bb.optional({name:"socket",schema:[s("dom")]}),vb=bb.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:V([a0.config({}),j.config({}),yC.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{z.getCurrent(e).each(yT.hideAllSlots),A(e,ET)},onGrown:e=>{A(e,ET)},onStartGrow:e=>{M(e,TT,{width:po(e.element,"width").getOr("")})},onStartShrink:e=>{M(e,TT,{width:Eo(e.element)+"px"})}}),U.config({}),z.config({find:e=>{e=U.contents(e);return Re(e)}})])}],behaviours:V([XS.childAt(0),W("sidebar-sliding-events",[R(TT,(e,t)=>{F(e.element,"width",t.event.width)}),R(ET,(e,t)=>{vo(e.element,"width")})])])})},name:"sidebar",schema:[s("dom")]}),gr=bb.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:V([U.config({}),DT.config({focus:!1}),z.config({find:e=>Re(e.components())})]),components:[]})},name:"throbber",schema:[s("dom")]}),cb=bb.optional({factory:p1,name:"viewWrapper",schema:[s("backstage")]}),ub=bb.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]}),h1=am({name:"OuterContainer",factory:(n,e,t)=>{let o=!1;const r={getSocket:e=>k_.getPart(e,n,"socket"),setSidebar:(e,t,o)=>{k_.getPart(e,n,"sidebar").each(e=>{var n,r,a;n=e,r=t,a=o,z.getCurrent(n).each(t=>{U.set(t,[CT(r)]);const o=null==a?void 0:a.toLowerCase();b(o)&&Ye(r,o)&&z.getCurrent(t).each(e=>{yT.showSlot(e,o),yC.immediateGrow(t),vo(t.element,"width"),OT(n.element,"region")})})})},toggleSidebar:(e,t)=>{k_.getPart(e,n,"sidebar").each(e=>{var o,n;o=e,n=t,z.getCurrent(o).each(t=>{z.getCurrent(t).each(e=>{yC.hasGrown(t)?yT.isShowing(e,n)?(yC.shrink(t),OT(o.element,"presentation")):(yT.hideAllSlots(e),yT.showSlot(e,n),OT(o.element,"region")):(yT.hideAllSlots(e),yT.showSlot(e,n),yC.grow(t),OT(o.element,"region"))})})})},whichSidebar:e=>k_.getPart(e,n,"sidebar").bind(_T).getOrNull(),getHeader:e=>k_.getPart(e,n,"header"),getToolbar:e=>k_.getPart(e,n,"toolbar"),setToolbar:(e,o)=>{k_.getPart(e,n,"toolbar").each(e=>{var t=C(o,QT);e.getApis().setGroups(e,t)})},setToolbars:(e,o)=>{k_.getPart(e,n,"multiple-toolbar").each(e=>{var t=C(o,e=>C(e,QT));C_.setItems(e,t)})},refreshToolbar:e=>{k_.getPart(e,n,"toolbar").each(e=>e.getApis().refresh(e))},toggleToolbarDrawer:e=>{k_.getPart(e,n,"toolbar").each(t=>{tt(t.getApis().toggle,e=>e(t))})},toggleToolbarDrawerWithoutFocusing:e=>{k_.getPart(e,n,"toolbar").each(t=>{tt(t.getApis().toggleWithoutFocusing,e=>e(t))})},isToolbarDrawerToggled:e=>k_.getPart(e,n,"toolbar").bind(t=>B.from(t.getApis().isOpen).map(e=>e(t))).getOr(!1),getThrobber:e=>k_.getPart(e,n,"throbber"),focusToolbar:e=>{k_.getPart(e,n,"toolbar").orThunk(()=>k_.getPart(e,n,"multiple-toolbar")).each(e=>{P.focusIn(e)})},setMenubar:(e,t)=>{k_.getPart(e,n,"menubar").each(e=>{pT.setMenus(e,t)})},focusMenubar:e=>{k_.getPart(e,n,"menubar").each(e=>{pT.focus(e)})},setViews:(e,t)=>{k_.getPart(e,n,"viewWrapper").each(e=>{p1.setViews(e,t)})},toggleView:(t,o)=>k_.getPart(t,n,"viewWrapper").exists(e=>p1.toggleView(e,()=>r.showMainView(t),()=>r.hideMainView(t),o)),whichView:e=>k_.getPart(e,n,"viewWrapper").bind(p1.whichView).getOrNull(),hideMainView:e=>{(o=r.isToolbarDrawerToggled(e))&&r.toggleToolbarDrawer(e),k_.getPart(e,n,"editorContainer").each(e=>{e=e.element;F(e,"display","none"),E(e,"aria-hidden","true")})},showMainView:e=>{o&&r.toggleToolbarDrawer(e),k_.getPart(e,n,"editorContainer").each(e=>{e=e.element;vo(e,"display"),so(e,"aria-hidden")})}};return{uid:n.uid,dom:n.dom,components:e,apis:r,behaviours:n.behaviours}},configFields:[s("dom"),s("behaviours")],partFields:[o,Mb,rm,Hg,nm,vb,Fb,gr,cb,ub],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,o,n)=>{e.setSidebar(t,o,n)},toggleSidebar:(e,t,o)=>{e.toggleSidebar(t,o)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,o)=>{e.setToolbar(t,o)},setToolbars:(e,t,o)=>{e.setToolbars(t,o)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,o)=>{e.setMenubar(t,o)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,o)=>{e.setViews(t,o)},toggleView:(e,t,o)=>e.toggleView(t,o),whichView:(e,t)=>e.whichView(t)}});const f1="file edit view insert format tools table help",v1={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},b1=(e,o,t)=>{const n=Ef(t).split(/[ ,]/);return{text:e.title,getItems:()=>Te(e.items,e=>{const t=e.toLowerCase();return 0===t.trim().length||he(n,e=>e===t)?[]:"separator"===t||"|"===t?[{type:"separator"}]:o.menuItems[t]?[o.menuItems[t]]:[]})}},y1=e=>e.split(" "),x1=(t,o)=>{const n={...v1,...o.menus},r=0<He(o.menus).length;var e=void 0===o.menubar||!0===o.menubar?y1(f1):y1(!1===o.menubar?"":o.menubar),e=xe(e,e=>{var t=Ye(v1,e);return r?t||T(o.menus,e).exists(e=>Ye(e,"items")):t}),e=C(e,e=>{e=n[e];return b1({title:e.title,items:y1(e.items)},o,t)});return xe(e,e=>{return 0<e.getItems().length&&he(e.getItems(),e=>b(e)||"separator"!==e.type)})},w1=e=>{const t=()=>{e._skinLoaded=!0,tx(e)};return()=>{e.initialized?t():e.on("init",t)}},S1=(e,t,o)=>(e.on("remove",()=>o.unload(t)),o.load(t));var k1,Cb=(e,t)=>{var o,n,r,a=ov(t);return!ev(t)&&b(a)?Promise.all([!1,(r=t,a=a,Kt(w.fromDom(r.getElement()))?(a=a+"/skin.shadowdom.min.css",S1(r,a,gf.DOM.styleSheetLoader)):Promise.resolve())]).then(w1(t),(o=t,n="Skin could not be loaded",()=>ox(o,{message:n}))):Promise.resolve(w1(t)())};const C1=ne(Cb,!1),O1=ne(Cb,!0),_1=(e,t,o)=>{const n=o.dataset;var r="basic"===n.type?()=>C(n.data,e=>qO(e,o.isSelectedFor,o.getPreviewFor)):n.getData;return{items:((s,i)=>{const r=(e,t,o,n)=>{var r,a=s.shared.providers.translate(e.title);return"separator"===e.type?B.some({type:"separator",text:a}):"submenu"===e.type?(r=Te(e.getStyleItems(),e=>l(e,t,n)),0===t&&r.length<=0?B.none():B.some({type:"nestedmenuitem",text:a,enabled:0<r.length,getSubmenuItems:()=>Te(e.getStyleItems(),e=>l(e,t,n))})):B.some({type:"togglemenuitem",text:a,icon:e.icon,active:e.isSelected(n),enabled:!o,onAction:i.onAction(e),...e.getStylePreview().fold(()=>({}),e=>({meta:{style:e}}))})},l=(e,t,o)=>{var n="formatter"===e.type&&i.isInvalid(e);return 0===t?n?[]:r(e,t,!1,o).toArray():r(e,t,n,o).toArray()},a=e=>{const t=i.getCurrentValue(),o=i.shouldHide?0:1;return Te(e,e=>l(e,o,t))};return{validateItems:a,getFetch:(n,r)=>(e,t)=>{var o=r(),o=a(o);t(Xk(o,bv.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:B.none()}))}}})(t,o),getStyleItems:r}},T1=(o,e,n)=>{var{items:t,getStyleItems:r}=_1(o,e,n),a=dx(o,"NodeChange",e=>{var t=e.getComponent();n.updateText(t),H.set(e.getComponent(),!o.selection.isEditable())});return zk({text:n.icon.isSome()?B.none():n.text,icon:n.icon,tooltip:B.from(n.tooltip),role:B.none(),fetch:t.getFetch(e,r),onSetup:a,getApi:e=>({getComponent:O(e)}),columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",e.shared)},E1=e=>({type:"basic",data:e}),D1=((Va=k1=k1||{})[Va.SemiColon=0]="SemiColon",Va[Va.Space=1]="Space",(e,t,o)=>{var e=e.options.get(t);return t=e,e=o===k1.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),{type:"basic",data:C(e,e=>{let t=e,o=e;e=e.split("=");return 1<e.length&&(t=e[0],o=e[1]),{title:t,format:o}})}}),A1=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],M1=o=>{var e=E1(A1);return{tooltip:"Align",text:B.none(),icon:B.some("align-left"),isSelectedFor:e=>()=>o.formatter.match(e),getCurrentValue:B.none,getPreviewFor:e=>B.none,onAction:t=>()=>Ce(A1,e=>e.format===t.format).each(e=>o.execCommand(e.command)),updateText:e=>{var t=Ce(A1,e=>o.formatter.match(e.format)).fold(O("left"),e=>e.title.toLowerCase());M(e,Vk,{icon:"align-"+t})},dataset:e,shouldHide:!1,isInvalid:e=>!o.formatter.canApply(e.format)}};const B1=(e,t)=>{const o=t();t=C(o,e=>e.format);return B.from(e.formatter.closest(t)).bind(t=>Ce(o,e=>e.format===t)).orThunk(()=>ot(e.formatter.match("p"),{title:"Paragraph",format:"p"}))},F1=o=>{const n=D1(o,"block_formats",k1.SemiColon);return{tooltip:"Blocks",text:B.some("Paragraph"),icon:B.none(),isSelectedFor:e=>()=>o.formatter.match(e),getCurrentValue:B.none,getPreviewFor:t=>()=>{var e=o.formatter.get(t);return e?B.some({tag:0<e.length&&(e[0].inline||e[0].block)||"div",styles:o.dom.parseStyle(o.formatter.getCssText(t))}):B.none()},onAction:ux(o),updateText:e=>{var t=B1(o,()=>n.data).fold(O("Paragraph"),e=>e.title);M(e,Nk,{text:t})},dataset:n,shouldHide:!1,isInvalid:e=>!o.formatter.canApply(e.format)}};const I1=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],R1=e=>{e=e.split(/\s*,\s*/);return C(e,e=>e.replace(/^['"]+|['"]+$/g,""))},N1=e=>{return 0===e.indexOf("-apple-system")&&(()=>{const t=R1(e.toLowerCase());return Ee(I1,e=>-1<t.indexOf(e.toLowerCase()))})()},V1=r=>{const a="System Font",n=()=>{const t=e=>e?R1(e)[0]:"";var e=r.queryCommandValue("FontName"),o=s.data;const n=e?e.toLowerCase():"";return{matchOpt:Ce(o,e=>{e=e.format;return e.toLowerCase()===n||t(e).toLowerCase()===t(n).toLowerCase()}).orThunk(()=>ot(N1(n),{title:a,format:n})),font:e}};const s=D1(r,"font_family_formats",k1.SemiColon);return{tooltip:"Fonts",text:B.some(a),icon:B.none(),isSelectedFor:t=>e=>e.exists(e=>e.format===t),getCurrentValue:()=>{var e=n()["matchOpt"];return e},getPreviewFor:e=>()=>B.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}}),onAction:e=>()=>{r.undoManager.transact(()=>{r.focus(),r.execCommand("FontName",!1,e.format)})},updateText:e=>{var{matchOpt:t,font:o}=n(),t=t.fold(O(o),e=>e.title);M(e,Nk,{text:t})},dataset:s,shouldHide:!1,isInvalid:ie}};const z1={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},H1=(db="[eE][+-]?[0-9]+",_g=["Infinity",(_g="[0-9]+")+"\\."+(Wg=e=>`(?:${e})?`)(_g)+Wg(db),"\\."+_g+Wg(db),_g+Wg(db)].join("|"),new RegExp(`^(${`[+-]?(?:${_g})`})(.*)$`)),L1=(e,r)=>{return B.from(H1.exec(e)).bind(e=>{var t,o,n=Number(e[1]),e=e[2];return t=e,o=r,he(o,e=>he(z1[e],e=>t===e))?B.some({value:n,unit:e}):B.none()})},P1={tab:O(9),escape:O(27),enter:O(13),backspace:O(8),delete:O(46),left:O(37),up:O(38),right:O(39),down:O(40),space:O(32),home:O(36),end:O(35),pageUp:O(33),pageDown:O(34)},U1={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},W1={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},j1=(e,t)=>/[0-9.]+px$/.test(e)?((e,t)=>{t=Math.pow(10,t);return Math.round(e*t)/t})(72*parseInt(e,10)/96,t||0)+"pt":T(W1,e).getOr(e),G1=e=>T(U1,e).getOr(""),$1=s=>{const n=()=>{let t=B.none();var o=i.data;const n=s.queryCommandValue("FontSize");if(n)for(let e=3;t.isNone()&&0<=e;e--){const r=j1(n,e),a=G1(r);t=Ce(o,e=>e.format===n||e.format===r||e.format===a)}return{matchOpt:t,size:n}};var e=O(B.none);const i=D1(s,"font_size_formats",k1.Space);return{tooltip:"Font sizes",text:B.some("12pt"),icon:B.none(),isSelectedFor:t=>e=>e.exists(e=>e.format===t),getPreviewFor:e,getCurrentValue:()=>{var e=n()["matchOpt"];return e},onAction:e=>()=>{s.undoManager.transact(()=>{s.focus(),s.execCommand("FontSize",!1,e.format)})},updateText:e=>{var{matchOpt:t,size:o}=n(),t=t.fold(O(o),e=>e.title);M(e,Nk,{text:t})},dataset:i,shouldHide:!1,isInvalid:ie}};const q1=e=>{return null!=(e={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])?e:{step:1}},X1=16,K1=e=>0<=e;const Y1=(n,e)=>{return{tooltip:"Formats",text:B.some("Paragraph"),icon:B.none(),isSelectedFor:e=>()=>n.formatter.match(e),getCurrentValue:B.none,getPreviewFor:t=>()=>{var e=n.formatter.get(t);return void 0!==e?B.some({tag:0<e.length&&(e[0].inline||e[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(t))}):B.none()},onAction:ux(n),updateText:e=>{const t=e=>UO(e)?Te(e.items,t):WO(e)?[{title:e.title,format:e.format}]:[];var o=Te($O(n),t),o=B1(n,O(o)).fold(O("Paragraph"),e=>e.title);M(e,Nk,{text:o})},shouldHide:_f(n),isInvalid:e=>!n.formatter.canApply(e.format),dataset:e}};Sg=O([s("toggleClass"),s("fetch"),hl("onExecute"),m("getHotspot",B.some),m("getAnchorOverrides",O({})),xl(),hl("onItemExecute"),Lr("lazySink"),s("dom"),t("onOpen"),cd("splitDropdownBehaviours",[lw,P,j]),m("matchWidth",!1),m("useMinWidth",!1),m("eventOrder",{}),Lr("role")].concat(Bb())),Ug=cm({factory:Jp,schema:[s("dom")],name:"arrow",defaults:()=>({buttonBehaviours:V([j.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:e=>{e.getSystem().getByUid(t.uid).each(cs)},buttonBehaviours:V([h.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),bb=cm({factory:Jp,schema:[s("dom")],name:"button",defaults:()=>({buttonBehaviours:V([j.revoke()])}),overrides:o=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(o.uid).each(e=>{o.onExecute(e,t)})}})}),o=O([Ug,bb,dm({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[s("text")],name:"aria-descriptor"}),ld({schema:[Rs()],name:"menu",defaults:n=>({onExecute:(t,o)=>{t.getSystem().getByUid(n.uid).each(e=>{n.onItemExecute(e,t,o)})}})}),Ab()]);const J1=am({name:"SplitDropdown",configFields:Sg(),partFields:o(),factory:(n,e,t,o)=>{const r=e=>{z.getCurrent(e).each(e=>{L.highlightFirst(e),P.focusIn(e)})},a=e=>{var t=r;yw(n,te,e,o,t,Up.HighlightMenuAndItem).get(k)};var s=e=>{e=xm(e,n,"button");return cs(e),B.some(!0)},i={...gs([ks((o,e)=>{ym(o,n,"aria-descriptor").each(e=>{var t=N("aria");E(e.element,"id",t),E(o.element,"aria-describedby",t)})})]),...Op(B.some(a))};return{uid:n.uid,dom:n.dom,components:e,apis:{repositionMenus:e=>{h.isOn(e)&&Cw(e)}},eventOrder:{...n.eventOrder,[Ua()]:["disabling","toggling","alloy.base.behaviour"]},events:i,behaviours:ju(n.splitDropdownBehaviours,[lw.config({others:{sandbox:e=>{const t=xm(e,n,"arrow");var o={onOpen:()=>{h.on(t),h.on(e)},onClose:()=>{h.off(t),h.off(e)}};return kw(n,e,o)}}}),P.config({mode:"special",onSpace:s,onEnter:s,onDown:e=>(a(e),B.some(!0))}),j.config({}),h.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),Z1=t=>({isEnabled:()=>!H.isDisabled(t),setEnabled:e=>H.set(t,!e),setText:e=>M(t,Nk,{text:e}),setIcon:e=>M(t,Vk,{icon:e})}),Q1=t=>({setActive:e=>{h.set(t,e)},isActive:()=>h.isOn(t),isEnabled:()=>!H.isDisabled(t),setEnabled:e=>H.set(t,!e),setText:e=>M(t,Nk,{text:e}),setIcon:e=>M(t,Vk,{icon:e})}),eE=(e,t)=>e.map(e=>({"aria-label":t.translate(e),title:t.translate(e)})).getOr({}),tE=N("focus-button"),oE=(e,t,o,n,r)=>{const a=t.map(e=>th(Rk(e,"tox-tbtn",r))),s=e.map(e=>th(Ik(e,r.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:eE(o,r)},components:gy([s.map(e=>e.asSpec()),a.map(e=>e.asSpec())]),eventOrder:{[wa()]:["focusing","alloy.base.behaviour",Dk],[Qa()]:[Dk,"toolbar-group-button-events"]},buttonBehaviours:V([iy.toolbarButton(r.isDisabled),sy(),W(Dk,[ks((e,t)=>Mk(e)),R(Nk,(t,o)=>{a.bind(e=>e.getOpt(t)).each(e=>{U.set(e,[Ni(r.translate(o.event.text))])})}),R(Vk,(t,o)=>{s.bind(e=>e.getOpt(t)).each(e=>{U.set(e,[Ik(o.event.icon,r.icons)])})}),R(wa(),(e,t)=>{t.event.prevent(),A(e,tE)})])].concat(n.getOr([])))}},nE=(e,t,o)=>{var n,r=D(k),a=oE(e.icon,e.text,e.tooltip,B.none(),o);return Jp.sketch({dom:a.dom,components:a.components,eventOrder:Ak,buttonBehaviours:{...V([W("toolbar-button-events",[(n={onAction:e.onAction,getApi:t.getApi},_s((t,e)=>{ly(n,t)(e=>{M(t,Ek,{buttonApi:e}),n.onAction(e)})})),cy(t,r),dy(t,r)]),iy.toolbarButton(()=>!e.enabled||o.isDisabled()),sy()].concat(t.toolbarButtonBehaviours)),[Dk]:null==(r=a.buttonBehaviours)?void 0:r[Dk]}})},rE=(e,t,o)=>nE(e,{toolbarButtonBehaviours:0<o.length?[W("toolbarButtonWith",o)]:[],getApi:Z1,onSetup:e.onSetup},t),aE=(e,t,o)=>nE(e,{toolbarButtonBehaviours:[U.config({}),h.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(0<o.length?[W("toolbarToggleButtonWith",o)]:[]),getApi:Q1,onSetup:e.onSetup},t),sE=(t,e)=>{const o=o=>({isEnabled:()=>!H.isDisabled(o),setEnabled:e=>H.set(o,!e),setIconFill:(e,t)=>{Yi(o.element,`svg path[class="${e}"], rect[class="${e}"]`).each(e=>{E(e,"fill",t)})},setActive:t=>{E(o.element,"aria-pressed",t),Yi(o.element,"span").each(e=>{o.getSystem().getByDom(e).each(e=>h.set(e,t))})},isActive:()=>Yi(o.element,"span").exists(e=>o.getSystem().getByDom(e).exists(h.isOn)),setText:t=>Yi(o.element,"span").each(e=>o.getSystem().getByDom(e).each(e=>M(e,Nk,{text:t}))),setIcon:t=>Yi(o.element,"span").each(e=>o.getSystem().getByDom(e).each(e=>M(e,Vk,{icon:t})))});var n,r,a,s=D(k),i={getApi:o,onSetup:t.onSetup};return J1.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...eE(t.tooltip,e.providers)}},onExecute:e=>{e=o(e);e.isEnabled()&&t.onAction(e)},onItemExecute:(e,t,o)=>{},splitDropdownBehaviours:V([iy.splitButton(e.providers.isDisabled),sy(),W("split-dropdown-events",[ks((e,t)=>Mk(e)),R(tE,j.focus),cy(i,s),dy(i,s)]),E0.config({})]),eventOrder:{[Qa()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:(n=o,r=t,a=e.providers,t=>gw.nu(e=>r.fetch(e)).map(e=>B.from(Rw(jn(qx(N("menu-value"),e,e=>{r.onItemAction(n(t),e)},r.columns,r.presets,bv.CLOSE_ON_EXECUTE,r.select.getOr(ie),a),{movement:Kx(r.columns,r.presets),menuBehaviours:Kb.unnamedEvents("auto"!==r.columns?[]:[ks((o,e)=>{qb(o,4,Mv(r.presets)).each(({numRows:e,numColumns:t})=>{P.setGridSize(o,e,t)})})])}))))),parts:{menu:Nv(!1,t.columns,t.presets)},components:[J1.parts.button(oE(t.icon,t.text,B.none(),B.some([h.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),e.providers)),J1.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:rf("chevron-down",e.providers.icons)},buttonBehaviours:V([iy.splitButton(e.providers.isDisabled),sy(),af()])}),J1.parts["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})},iE=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}];Mb=(n,r)=>(e,t,o)=>{e=n(e).mapError(e=>Tr(e)).getOrDie();return r(e,t,o)};const lE={button:Mb(_b,(e,t)=>{return e=e,t=t.shared.providers,rE(e,t,[])}),togglebutton:Mb(Db,(e,t)=>{return e=e,t=t.shared.providers,aE(e,t,[])}),menubutton:Mb(mT,(e,t)=>wC(e,"tox-tbtn",t,B.none(),!1)),splitbutton:Mb(e=>Cr("SplitButton",gT,e),(e,t)=>sE(e,t.shared)),grouptoolbarbutton:Mb(e=>Cr("GroupToolbarButton",dT,e),(e,t,o)=>{const n=o.ui.registry.getAll().buttons;var r,a,s,i,l={[ad]:t.shared.header.isPositionedAtTop()?bc.TopToBottom:bc.BottomToTop};if(Df(o)!==uf.floating)throw new Error("Toolbar groups are only supported when using floating toolbar mode");return r=e,a=e=>pE(o,{buttons:n,toolbar:e,allowToolbarGroups:!1},t,B.none()),e=l,l=(l=t).shared,s=D(k),i={toolbarButtonBehaviours:[],getApi:Z1,onSetup:r.onSetup},i=[W("toolbar-group-button-events",[cy(i,s),dy(i,s)])],jT.sketch({lazySink:l.getSink,fetch:()=>gw.nu(e=>{e(C(a(r.items),QT))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:oE(r.icon,r.text,r.tooltip,B.some(i),l.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e}}}})})},cE=(t,o,n)=>T(lE,t.type).fold(()=>(console.error("skipping button defined by",t),B.none()),e=>B.some(e(t,o,n))),dE={styles:(e,t)=>{var o={type:"advanced",...t.styles};return T1(e,t,Y1(e,o))},fontsize:(e,t)=>T1(e,t,$1(e)),fontsizeinput:(e,t)=>{{var i=e,c=t,d=(r=>{const a=()=>r.queryCommandValue("FontSize");return{updateInputValue:e=>M(e,Nk,{text:a()}),onAction:(e,t)=>r.execCommand("FontSize",!1,e,{skip_focus:!t}),getNewValue:(e,t)=>{L1(e,["unsupportedLength","empty"]);var e=L1(e,["unsupportedLength","empty"]).or(L1(a(),["unsupportedLength","empty"])),o=e.map(e=>e.value).getOr(X1),n=Lf(r),e=e.map(e=>e.unit).filter(e=>""!==e).getOr(n),n=t(o,q1(e).step);return""+(K1(n)?n:o)+e}}})(e);let l=B.none();const u=e=>e.map(e=>S.getValue(e)).getOr(""),m=(t=dx(i,"NodeChange SwitchMode",e=>{e=e.getComponent();l=B.some(e),d.updateInputValue(e),H.set(e,!i.selection.isEditable())}),e=>({getComponent:O(e)})),g=D(k),a=(e=N("custom-number-input-events"),(e,o,t)=>{var n=u(l);const r=d.getNewValue(n,e),a=n.length-(""+r).length,s=l.map(e=>e.element.dom.selectionStart-a),i=l.map(e=>e.element.dom.selectionEnd-a);d.onAction(r,t),l.each(t=>{S.setValue(t,r),o&&(s.each(e=>t.element.dom.selectionStart=e),i.each(e=>t.element.dom.selectionEnd=e))})}),s=(e,t)=>a((e,t)=>e-t,e,t),p=(e,t)=>a((e,t)=>e+t,e,t);var o=e=>zt(e.element).fold(B.none,e=>(dc(e),B.some(!0))),n=e=>mc(e.element)?(Ut(e.element).each(e=>dc(e)),B.some(!0)):B.none(),r=(o,e,t,n)=>{var t=c.shared.providers.translate(t),r=N("altExecuting"),a=dx(i,"NodeChange SwitchMode",e=>{H.set(e.getComponent(),!i.selection.isEditable())}),s=e=>{H.isDisabled(e)||o(!0)};return Jp.sketch({dom:{tag:"button",attributes:{title:t,"aria-label":t},classes:n.concat(e)},components:[Fk(e,c.shared.providers.icons)],buttonBehaviours:V([H.config({}),W(r,[cy({onSetup:a,getApi:m},g),dy({getApi:m},g),R(Ea(),(e,t)=>{t.event.raw.keyCode!==P1.space()&&t.event.raw.keyCode!==P1.enter()||H.isDisabled(e)||o(!1)}),R(Ba(),s),R(ya(),s)])]),eventOrder:{[Ea()]:[r,"keying"],[Ba()]:[r,"alloy.base.behaviour"],[ya()]:[r,"alloy.base.behaviour"]}})};const h=th(r(e=>s(!1,e),"minus","Decrease font size",["highlight-on-focus"])),f=th(r(e=>p(!1,e),"plus","Increase font size",["highlight-on-focus"]));return r=th({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Hv.sketch({inputBehaviours:V([H.config({}),W(e,[cy({onSetup:t,getApi:m},g),dy({getApi:m},g)]),W("input-update-display-text",[R(Nk,(e,t)=>{S.setValue(e,t.event.text)}),R(Ta(),e=>{d.onAction(S.getValue(e))}),R(Ma(),e=>{d.onAction(S.getValue(e))})]),P.config({mode:"special",onEnter:e=>(a(te,!0,!0),B.some(!0)),onEscape:o,onUp:e=>(p(!0,!1),B.some(!0)),onDown:e=>(s(!0,!1),B.some(!0)),onLeft:(e,t)=>(t.cut(),B.none()),onRight:(e,t)=>(t.cut(),B.none())})])})],behaviours:V([j.config({}),P.config({mode:"special",onEnter:n,onSpace:n,onEscape:o}),W("input-wrapper-events",[R(Oa(),t=>{_([h,f],e=>{e=w.fromDom(e.get(t).element.dom);mc(e)&&uc(e)})})])])}),{dom:{tag:"div",classes:["tox-number-input"]},components:[h.asSpec(),r.asSpec(),f.asSpec()],behaviours:V([j.config({}),P.config({mode:"flow",focusInside:Zm.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:e=>mc(e.element)?B.none():(dc(e.element),B.some(!0))})])}}},fontfamily:(e,t)=>T1(e,t,V1(e)),blocks:(e,t)=>T1(e,t,F1(e)),align:(e,t)=>T1(e,t,M1(e))},uE=o=>{var e=C(iE,e=>{var t=xe(e.items,e=>Ye(o,e)||Ye(dE,e));return{name:e.name,items:t}});return xe(e,e=>0<e.items.length)},mE=e=>{e=e.split("|");return C(e,e=>({items:e.trim().split(" ")}))},gE=e=>Q(e,e=>Ye(e,"name")&&Ye(e,"items")),pE=(i,l,c,d)=>{t=(e=l).toolbar,e=l.buttons;var e=!1===t?[]:void 0===t||!0===t?uE(e):b(t)?mE(t):gE(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[]),t=C(e,e=>{var t=Te(e.items,e=>{return 0===e.trim().length?[]:(t=i,o=l.buttons,n=e,r=l.allowToolbarGroups,a=c,s=d,T(o,n.toLowerCase()).orThunk(()=>s.bind(e=>ze(e,e=>T(o,e+n.toLowerCase())))).fold(()=>T(dE,n.toLowerCase()).map(e=>e(t,a)),e=>"grouptoolbarbutton"!==e.type||r?cE(e,a,t):(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),B.none())).toArray());var t,o,n,r,a,s});return{title:B.from(i.translate(e.name)),items:t}});return xe(t,e=>0<e.items.length)},hE=(t,e,o,n)=>{var e=e.mainUi.outerContainer,r=o.toolbar;const a=o.buttons;Q(r,b)?(r=r.map(e=>{e={toolbar:e,buttons:a,allowToolbarGroups:o.allowToolbarGroups};return pE(t,e,n,B.none())}),h1.setToolbars(e,r)):h1.setToolbar(e,pE(t,o,n,B.none()))};rm=rn();const fE=rm.os.isiOS()&&rm.os.version.major<=12;var vE=Object.freeze({__proto__:null,render:(d,u,t,m,e)=>{const{mainUi:n,uiMotherships:r}=u,g=D(0),p=n.outerContainer;d.on("SkinLoaded",()=>{hE(d,u,t,m)}),C1(d);var o,e=w.fromDom(e.targetNode),a=Xt(qt(e)),e=(Cu(e,n.mothership),e=d,a=a,o=u,gv(e)&&Cu(o.mainUi.mothership.element,o.popupUi.mothership),ku(a,o.dialogUi.mothership),d.on("PostRender",()=>{h1.setSidebar(p,t.sidebar,Jf(d)),hE(d,u,t,m),g.set(d.getWin().innerWidth),h1.setMenubar(p,x1(d,t)),h1.setViews(p,t.views);{var o=d,e=u;const n=e["uiMotherships"],r=o.dom;let t=o.getWin();e=o.getDoc().documentElement;const a=D(ko(t.innerWidth,t.innerHeight)),s=D(ko(e.offsetWidth,e.offsetHeight)),i=()=>{var e=a.get();e.left===t.innerWidth&&e.top===t.innerHeight||(a.set(ko(t.innerWidth,t.innerHeight)),nx(o))},l=(e=()=>{var e=o.getDoc().documentElement,t=s.get();t.left===e.offsetWidth&&t.top===e.offsetHeight||(s.set(ko(e.offsetWidth,e.offsetHeight)),nx(o))},e=>{rx(o,e)}),c=(r.bind(t,"resize",i),r.bind(t,"scroll",l),Rc(w.fromDom(o.getBody()),"load",e));o.on("hide",()=>{_(n,e=>{F(e.element,"display","none")})}),o.on("show",()=>{_(n,e=>{vo(e.element,"display")})}),o.on("NodeChange",e),o.on("remove",()=>{c.unbind(),r.unbind(t,"resize",i),r.unbind(t,"scroll",l),t=null})}}),h1.getSocket(p).getOrDie("Could not find expected socket element")),a=(fE&&(co(e.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"}),a=((t,o)=>{let n=null;return{cancel:()=>{$(n)||(clearTimeout(n),n=null)},throttle:(...e)=>{$(n)&&(n=setTimeout(()=>{n=null,t.apply(null,e)},o))}}})(()=>{d.dispatch("ScrollContent")},20),o=Ic(e.element,"scroll",a.throttle),d.on("remove",o.unbind)),ay(d,u),d.addCommand("ToggleSidebar",(e,t)=>{h1.toggleSidebar(p,t),d.dispatch("ToggleSidebar")}),d.addQueryValueHandler("ToggleSidebar",()=>{var e;return null!=(e=h1.whichSidebar(p))?e:""}),d.addCommand("ToggleView",(e,t)=>{if(h1.toggleView(p,t)){const o=p.element;n.mothership.broadcastOn([Fu()],{target:o}),_(r,e=>{e.broadcastOn([Fu()],{target:o})}),$(h1.whichView(p))&&(d.focus(),d.nodeChanged(),h1.refreshToolbar(p))}}),d.addQueryValueHandler("ToggleView",()=>{var e;return null!=(e=h1.whichView(p))?e:""}),Df(d));return a!==uf.sliding&&a!==uf.floating||d.on("ResizeWindow ResizeEditor ResizeContent",()=>{var e=d.getWin().innerWidth;e!==g.get()&&(h1.refreshToolbar(u.mainUi.outerContainer),g.set(e))}),{iframeContainer:e.element.dom,editorContainer:p.element.dom,api:{setEnabled:e=>{ry(u,!e)},isEnabled:()=>!H.isDisabled(p)}}}});const bE=e=>{return/^[0-9\.]+(|px)$/i.test(""+e)?B.some(parseInt(""+e,10)):B.none()},yE=e=>Z(e)?e+"px":e,xE=(t,e,o)=>{e=e.filter(e=>t<e),o=o.filter(e=>e<t);return e.or(o).getOr(t)},wE=e=>{return(e=>{var t=bf(e);const o=wf(e),n=kf(e);return bE(t).map(e=>xE(e,o,n))})(e).getOr(bf(e))},SE=e=>{var t=yf(e);const o=xf(e),n=Sf(e);return bE(t).map(e=>xE(e,o,n))},kE=e=>{return SE(e).getOr(yf(e))},{ToolbarLocation:CE,ToolbarMode:OE}=Eg,_E=40,TE=(l,c,e,t,n)=>{const{mainUi:d,uiMotherships:o}=e,r=gf.DOM,a=cv(l),s=mv(l),i=Sf(l).or(SE(l)),u=t.shared.header,m=u.isPositionedAtTop;e=Df(l);const g=e===OE.sliding||e===OE.floating,p=D(!1),h=()=>p.get()&&!l.removed,f=e=>g?e.fold(O(0),e=>1<e.components().length?xo(e.components()[1].element):0):0,v=e=>{switch(Mf(l)){case CE.auto:var t,o=h1.getToolbar(d.outerContainer),o=f(o),o=xo(e.element)-o,n=An(c);return!(n.y>o)&&(t=Rt(c),t=Math.max(t.dom.scrollHeight,xo(t)),n.bottom<t-o||In().bottom<n.bottom-o)?"bottom":"top";case CE.bottom:return"bottom";default:CE.top;return"top"}},b=o=>{n.on(e=>{Q_.setModes(e,[o]),u.setDockingMode(o);var t=m()?bc.TopToBottom:bc.BottomToTop;E(e.element,ad,t)})},y=()=>{n.on(e=>{var t=i.getOrThunk(()=>{var e=bE(mo(eo(),"margin-left")).getOr(0);return Eo(eo())-Oo(c).left+e});F(e.element,"max-width",t+"px")})},x=i=>{n.on(n=>{var e=h1.getToolbar(d.outerContainer);const r=f(e),a=An(c),{top:t,left:o}=(e=l,s=d.outerContainer.element,(gv(e)?E_(s):B.none()).fold(()=>({top:m()?Math.max(a.y-xo(n.element)+r,0):a.bottom,left:a.x}),e=>{var t=An(e),o=null!=(o=e.dom.scrollTop)?o:0,e=Mt(e,eo()),o=e?Math.max(a.y-xo(n.element)+r,0):a.y-t.y+o-xo(n.element)+r;return{top:m()?o:a.bottom,left:e?a.x:a.x-t.x}}));var e={position:"absolute",left:Math.round(o)+"px",top:Math.round(t)+"px"},s=i.map(e=>{var t=bn(),t=window.innerWidth-(o-t.left);return{width:Math.max(Math.min(e,t),150)+"px"}}).getOr({});co(d.outerContainer.element,{...e,...s})})},w=()=>{_(o,e=>{e.broadcastOn([Iu()],{})})},S=()=>{var e;return!a&&(Oo(d.outerContainer.element).left+Do(d.outerContainer.element)>=window.innerWidth-_E||po(d.outerContainer.element,"width").isSome())?(F(d.outerContainer.element,"position","absolute"),F(d.outerContainer.element,"left","0px"),vo(d.outerContainer.element,"width"),e=Do(d.outerContainer.element),B.some(e)):B.none()},k=e=>{var t;h()&&(a||y(),t=a?B.none():S(),g&&h1.refreshToolbar(d.outerContainer),a||x(t),s&&n.on(e),w())},C=()=>!(a||!s||!h())&&n.get().exists(e=>{var t=u.getDockingMode(),e=v(e);return e!==t&&(b(e),!0)});return{isVisible:h,isPositionedAtTop:m,show:()=>{p.set(!0),F(d.outerContainer.element,"display","flex"),r.addClass(l.getBody(),"mce-edit-focus"),_(o,e=>{vo(e.element,"display")}),C(),gv(l)?k(e=>Q_.isDocked(e)?Q_.reset(e):Q_.refresh(e)):k(Q_.refresh)},hide:()=>{p.set(!1),F(d.outerContainer.element,"display","none"),r.removeClass(l.getBody(),"mce-edit-focus"),_(o,e=>{F(e.element,"display","none")})},update:k,updateMode:()=>{C()&&k(Q_.reset)},repositionPopups:w}},EE=(e,t)=>{e=An(e);return{pos:t?e.y:e.bottom,bounds:e}};var DE=Object.freeze({__proto__:null,render:(c,t,d,u,e)=>{const m=t["mainUi"],g=Bc(),p=w.fromDom(e.targetNode),h=TE(c,p,t,u,g),f=If(c),o=(O1(c),()=>{if(g.isSet())h.show();else{g.set(h1.getHeader(m.outerContainer).getOrDie());var e=dv(c);gv(c)?(Cu(p,m.mothership),Cu(p,t.popupUi.mothership)):ku(e,m.mothership),ku(e,t.dialogUi.mothership),hE(c,t,d,u),h1.setMenubar(m.outerContainer,x1(c,d)),h.show();{var a=c;var s=p;var i=h;e=f;const l=D(EE(s,i.isPositionedAtTop())),o=e=>{var{pos:t,bounds:o}=EE(s,i.isPositionedAtTop()),{pos:n,bounds:r}=l.get(),r=o.height!==r.height||o.width!==r.width;l.set({pos:t,bounds:o}),r&&nx(a,e),i.isVisible()&&(n!==t?i.update(Q_.reset):r&&(i.updateMode(),i.repositionPopups()))};e||(a.on("activate",i.show),a.on("deactivate",i.hide)),a.on("SkinLoaded ResizeWindow",()=>i.update(Q_.reset)),a.on("NodeChange keydown",e=>{requestAnimationFrame(()=>o(e))});let t=0;const n=rk(()=>i.update(Q_.refresh),33),r=(a.on("ScrollWindow",()=>{var e=bn().left;e!==t&&(t=e,n.throttle()),i.updateMode()}),gv(a)&&a.on("ElementScroll",e=>{i.update(Q_.refresh)}),Mc());r.set(Rc(w.fromDom(a.getBody()),"load",e=>o(e.raw))),a.on("remove",()=>{r.clear()})}c.nodeChanged()}});c.on("show",o),c.on("hide",h.hide),f||(c.on("focus",o),c.on("blur",h.hide)),c.on("init",()=>{(c.hasFocus()||f)&&o()}),ay(c,t);e={show:o,hide:h.hide,setEnabled:e=>{ry(t,!e)},isEnabled:()=>!H.isDisabled(m.outerContainer)};return{editorContainer:m.outerContainer.element.dom,api:e}}});const AE=()=>{const t=Bc(),n=Bc(),o=Bc();return{dialogUi:t,popupUi:n,mainUi:o,getUiMotherships:()=>{var e=t.get().map(e=>e.mothership);const o=n.get().map(e=>e.mothership);return e.fold(()=>o.toArray(),t=>o.fold(()=>[t],e=>Mt(t.element,e.element)?[t]:[t,e]))},lazyGetInOuterOrDie:(e,t)=>()=>o.get().bind(e=>t(e.outerContainer)).getOrDie(`Could not find ${e} element in OuterContainer`)}},ME="contexttoolbar-hide",BE=(n,r)=>R(Ek,(e,t)=>{var o,e=n.get(e),e=(o=e,{hide:()=>A(o,$a()),getValue:()=>S.getValue(o)});r.onAction(e,t.event.buttonApi)}),FE=(e,t,o)=>{if("contextformtogglebutton"===t.type){var n=e;var r=t;var a=o;const{primary:i,...l}=r.original;var s=Or(Db({...l,type:"togglebutton",onAction:k}));return aE(s,a,[BE(n,r)])}{s=e;a=t;n=o;const{primary:c,...d}=a.original;r=Or(_b({...d,type:"button",onAction:k}));return rE(r,n,[BE(s,a)]);return}},IE=(t,e,o)=>{const n=C(e,e=>th(FE(t,e,o)));return{asSpecs:()=>C(n,e=>e.asSpec()),findPrimary:o=>ze(e,(e,t)=>e.primary?B.from(n[t]).bind(e=>e.getOpt(o)).filter(re(H.isDisabled)):B.none())}},RE=(e,t)=>{var o=e.label.fold(()=>({}),e=>({"aria-label":e})),o=th(Hv.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:V([P.config({mode:"special",onEnter:e=>n.findPrimary(e).map(e=>(cs(e),!0)),onLeft:(e,t)=>(t.cut(),B.none()),onRight:(e,t)=>(t.cut(),B.none())})])}));const n=IE(o,e.commands,t);return[{title:B.none(),items:[o.asSpec()]},{title:B.none(),items:n.asSpecs()}]};const NE={renderContextForm:(e,t,o)=>r1({type:e,uid:N("context-toolbar"),initGroups:RE(t,o),onEscape:B.none,cyclicKeying:!0,providers:o}),buildInitGroups:RE},VE=(e,t,o)=>t.bottom-e.y>=o&&e.bottom-t.y>=o,zE=e=>{var t,o=e.selection.getRng(),o=(t=(o=o).getBoundingClientRect()).height<=0&&t.width<=0?(o=jt(w.fromDom(o.startContainer),o.startOffset).element,(kt(o)?Vt(o):B.some(o)).filter(St).map(e=>e.dom.getBoundingClientRect()).getOr(t)):t;return e.inline?(t=bn(),Dn(t.left+o.left,t.top+o.top,o.width,o.height)):(t=Mn(w.fromDom(e.getBody())),Dn(t.x+o.left,t.y+o.top,o.width,o.height))},HE=(e,t,o,n=0)=>{var r,a,s=Sn(window),i=An(w.fromDom(e.getContentAreaContainer())),l=tv(e)||rv(e)||sv(e),{x:c,width:d}=(c=i,a=s,d=n,{x:r=Math.max(c.x+d,a.x),width:Math.min(c.right-d,a.right)-r});return e.inline&&!l?Dn(c,s.y,d,s.height):(a=t.header.isPositionedAtTop(),{y:r,bottom:i}=(r=e,l=i,t=s,e=a,i=o,s=n,a=w.fromDom(r.getContainer()),o=Yi(a,".tox-editor-header").getOr(a),o=An(o),n=o.y>=l.bottom,e=e&&!n,r.inline&&e?{y:Math.max(o.bottom+s,t.y),bottom:t.bottom}:r.inline&&!e?{y:t.y,bottom:Math.min(o.y-s,t.bottom)}:(n="line"===i?An(a):l,e?{y:Math.max(o.bottom+s,t.y),bottom:Math.min(n.bottom-s,t.bottom)}:{y:Math.max(n.y+s,t.y),bottom:Math.min(o.y-s,t.bottom)})),Dn(c,r,d,i-r))},LE={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},PE={maxHeightFunction:Yc(),maxWidthFunction:HT()},UE=e=>"node"===e,WE=(e,t,o,n,r)=>{const a=zE(e);var s,i,l,c=n.lastElement().exists(e=>Mt(o,e));return i=o,e=(e=e).selection.getRng(),l=jt(w.fromDom(e.startContainer),e.startOffset),e.startContainer===e.endContainer&&e.startOffset===e.endOffset-1&&Mt(l.element,i)?c?BO:TO:c?(s=t,e=n.getMode(),l=()=>{return VE(a,An(t),-20)&&!n.isReposition()?IO:BO},i=po(s,"position"),F(s,"position",e),e=l(s),i.each(e=>F(s,"position",e)),e):("fixed"===n.getMode()?r.y+bn().top:r.y)+(xo(t)+12)<=a.y?TO:EO},jE=(s,e,i,t)=>{const o=e=>{return UE(t)?[(a=e,(e,t,o,n,r)=>{return{...WE(s,n,a,i,r)({...e,y:r.y,height:r.height},t,o,n,r),alwaysFit:!0}})]:[];var a};return e?{onLtr:e=>[jl,Hl,Ll,Pl,Ul,Wl].concat(o(e)),onRtl:e=>[jl,Ll,Hl,Ul,Pl,Wl].concat(o(e))}:{onLtr:e=>[Wl,jl,Pl,Hl,Ul,Ll].concat(o(e)),onRtl:e=>[Wl,jl,Ul,Ll,Pl,Hl].concat(o(e))}},GE=(t,e)=>{var e=xe(e,e=>e.predicate(t.dom)),{pass:e,fail:o}=ye(e,e=>"contexttoolbar"===e.type);return{contextToolbars:e,contextForms:o}},$E=(e,t,o)=>{var n,r,a,t=GE(e,t);return 0<t.contextForms.length?B.some({elem:e,toolbars:[t.contextForms[0]]}):0<(o=GE(e,o)).contextForms.length?B.some({elem:e,toolbars:[o.contextForms[0]]}):0<t.contextToolbars.length||0<o.contextToolbars.length?(o=(n=t.contextToolbars.concat(o.contextToolbars)).length<=1?n:(t=t=>xe(n,e=>e.position===t),r=(o=t=>he(n,e=>e.position===t))("selection"),o=o("node"),r||o?o&&r?(o=t("node"),a=C(t("selection"),e=>({...e,position:"node"})),o.concat(a)):t(r?"selection":"node"):t("line")),B.some({elem:e,toolbars:o})):B.none()},qE=(e,t,n)=>e(t)?B.none():ua(t,e=>{var t,o;return St(e)&&({contextToolbars:t,contextForms:o}=GE(e,n.inNodeScope),0<(o=0<o.length?o:(e=>{if(e.length<=1)return e;{const t=t=>Ce(e,e=>e.position===t);return t("selection").orThunk(()=>t("node")).orThunk(()=>t("line")).map(e=>e.position).fold(()=>[],t=>xe(e,e=>e.position===t))}})(t)).length)?B.some({elem:e,toolbars:o}):B.none()},e),XE=(e,t)=>{const o=w.fromDom(t.getBody()),n=e=>Mt(e,o);const r=w.fromDom(t.selection.getNode());return t=r,n(t)||Bt(o,t)?$E(r,e.inNodeScope,e.inEditorScope).orThunk(()=>qE(n,r,e)):B.none()},KE=(o,r)=>{const a={},s=[],i=[],l={},c={},n=(t,o)=>{const n=Or((e=o,Cr("ContextForm",Ib,e)));var e;(a[t]=n).launch.map(e=>{l["form:"+t]={...o.launch,type:"contextformtogglebutton"===e.type?"togglebutton":"button",onAction:()=>{r(n)}}}),("editor"===n.scope?i:s).push(n),c[t]=n},d=(t,o)=>{var e;e=o,Cr("ContextToolbar",Rb,e).each(e=>{("editor"===o.scope?i:s).push(e),c[t]=e})};var e=He(o);return _(e,e=>{var t=o[e];"contextform"===t.type?n(e,t):"contexttoolbar"===t.type&&d(e,t)}),{forms:a,inNodeScope:s,inEditorScope:i,lookupTable:c,formNavigators:l}},YE=N("forward-slide"),JE=N("backward-slide"),ZE=N("change-slide-event"),QE="tox-pop--resizing",eD="tox-pop--transition",tD=(a,e,s,r)=>{const t=r.backstage,i=t.shared,l=rn().deviceType.isTouch,c=Bc(),d=Bc(),u=Bc(),m=Pi((e=>{const o=D([]);return Kp.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:e=>{o.set([]),Kp.getContent(e).each(e=>{vo(e.element,"visibility")}),fi(e.element,QE),vo(e.element,"width")},inlineBehaviours:V([W("context-toolbar-events",[Ss(Ia(),(e,t)=>{"width"===t.event.raw.propertyName&&(fi(e.element,QE),vo(e.element,"width"))}),R(ZE,(e,t)=>{const o=e.element;vo(o,"width");var n=Eo(o);Kp.setContent(e,t.event.contents),pi(o,QE);const r=Eo(o);F(o,"width",n+"px"),Kp.getContent(e).each(e=>{t.event.focus.bind(e=>(dc(e),pc(o))).orThunk(()=>(P.focusIn(e),gc(qt(o))))}),setTimeout(()=>{F(e.element,"width",r+"px")},0)}),R(YE,(t,e)=>{Kp.getContent(t).each(e=>{o.set(o.get().concat([{bar:e,focus:gc(qt(t.element))}]))}),M(t,ZE,{contents:e.event.forwardContents,focus:B.none()})}),R(JE,(t,e)=>{Ne(o.get()).each(e=>{o.set(o.get().slice(0,o.get().length-1)),M(t,ZE,{contents:Ui(e.bar),focus:e.focus})})})]),P.config({mode:"special",onEscape:t=>Ne(o.get()).fold(()=>e.onEscape(),e=>(A(t,JE),B.some(!0)))})]),lazySink:()=>I.value(e.sink)})})({sink:s,onEscape:()=>(a.focus(),B.some(!0))})),g=()=>{var e=u.get().getOr("node"),t=UE(e)?1:0;return HE(a,i,e,t)},p=()=>!(a.removed||l()&&t.isContextMenuOpen()),h=()=>{var e,t,o;return!p()||(e=g(),t=Ze(u.get(),"node")?(o=a,c.get().filter(e=>Qt(e)&&wt(e)).map(Mn).getOrThunk(()=>zE(o))):zE(a),e.height<=0)||!VE(t,e,.01)},o=()=>{c.clear(),d.clear(),u.clear(),Kp.hide(m)},n=()=>{var e;Kp.isOpen(m)&&(e=m.element,vo(e,"display"),h()?F(e,"display","none"):(d.set(0),Kp.reposition(m)))},f=e=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:V([P.config({mode:"acyclic"}),W("pop-dialog-wrap-events",[ks(e=>{a.shortcuts.add("ctrl+F9","focus statusbar",()=>P.focusIn(e))}),Cs(e=>{a.shortcuts.remove("ctrl+F9")})])])}),v=Ao(()=>KE(e,e=>{e=b([e]);M(m,YE,{forwardContents:f(e)})})),b=e=>{var t=a.ui.registry.getAll()["buttons"],o=v();const n={...t,...o.formNavigators};t=Df(a)===uf.scrolling?uf.scrolling:uf.default,o=_e(C(e,e=>{return"contexttoolbar"===e.type?(t=n,o=e,pE(a,{buttons:t,toolbar:o.items,allowToolbarGroups:!1},r.backstage,B.some(["form:"]))):(t=e,o=i.providers,NE.buildInitGroups(t,o));var t,o}));return r1({type:t,uid:N("context-toolbar"),initGroups:o,onEscape:B.none,cyclicKeying:!0,providers:i.providers})},y=(e,t)=>{var o,n,t="node"===e?i.anchors.node(t):i.anchors.cursor(),r=(r=a,e=e,o=l(),n={lastElement:c.get,isReposition:()=>Ze(d.get(),0),getMode:()=>cu.getMode(s)},"line"===e?{bubble:ed(12,0,LE),layouts:{onLtr:()=>[Gl],onRtl:()=>[$l]},overrides:PE}:{bubble:ed(0,12,LE,1/12),layouts:jE(r,o,n,e),overrides:PE});return jn(t,r)},x=(e,t)=>{var o,n,r;S.cancel(),p()&&(o=b(e),e=e[0].position,n=y(e,t),u.set(e),d.set(1),e=m.element,vo(e,"display"),r=t,Ze(et(r,c.get(),Mt),!0)||(fi(e,eD),cu.reset(s,m)),Kp.showWithinBounds(m,f(o),{anchor:n,transition:{classes:[eD],mode:"placement"}},()=>B.some(g())),t.fold(c.clear,c.set),h())&&F(e,"display","none")};let w=!1;const S=rk(()=>{var e;!a.hasFocus()||a.removed||w||(vi(m.element,eD)?S.throttle():(e=v(),XE(e,a).fold(o,e=>{x(e.toolbars,B.some(e.elem))})))},17);a.on("init",()=>{a.on("remove",o),a.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",n),a.on("click keyup focus SetContent",S.throttle),a.on(ME,o),a.on("contexttoolbar-show",t=>{var e=v();T(e.lookupTable,t.toolbarKey).each(e=>{x([e],ot(t.target!==a,t.target)),Kp.getContent(m).each(P.focusIn)})}),a.on("focusout",e=>{Yp.setEditorTimeout(a,()=>{pc(s.element).isNone()&&pc(m.element).isNone()&&o()},0)}),a.on("SwitchMode",()=>{a.mode.isReadOnly()&&o()}),a.on("AfterProgressState",e=>{e.state?o():a.hasFocus()&&S.throttle()}),a.on("dragstart",()=>{w=!0}),a.on("dragend drop",()=>{w=!1}),a.on("NodeChange",e=>{pc(m.element).fold(S.throttle,k)})})},oD=(s,i)=>{const t=()=>{var e=i.getOptions(s);const r=i.getCurrent(s).map(i.hash),a=Bc();return C(e,n=>({type:"togglemenuitem",text:i.display(n),onSetup:t=>{var e=e=>{e&&(a.on(e=>e.setActive(!1)),a.set(t)),t.setActive(e)};e(Ze(r,i.hash(n)));const o=i.watcher(s,n,e);return()=>{a.clear(),o()}},onAction:()=>i.setCurrent(s,n)}))};s.ui.registry.addMenuButton(i.name,{tooltip:i.text,icon:i.icon,fetch:e=>e(t()),onSetup:i.onToolbarSetup}),s.ui.registry.addNestedMenuItem(i.name,{type:"nestedmenuitem",text:i.text,getSubmenuItems:t,onSetup:i.onMenuSetup})},nD=e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:nv,hash:e=>{return t=e,o=["fixed","relative","empty"],L1(t,o).map(({value:e,unit:t})=>e+t).getOr(e);var t,o},display:te,watcher:(e,t,o)=>e.formatter.formatChanged("lineheight",o,!1,{value:t}).unbind,getCurrent:e=>B.from(e.queryCommandValue("LineHeight")),setCurrent:(e,t)=>e.execCommand("LineHeight",!1,t),onToolbarSetup:lx(e),onMenuSetup:lx(e)}),rD=t=>{var o;oD(t,nD(t)),o=t,B.from(Tf(o)).map(e=>({name:"language",text:"Language",icon:"language",getOptions:O(e),hash:e=>X(e.customCode)?e.code:e.code+"/"+e.customCode,display:e=>e.title,watcher:(e,t,o)=>{return e.formatter.formatChanged("lang",o,!1,{value:t.code,customValue:null!=(e=t.customCode)?e:null}).unbind},getCurrent:e=>{e=w.fromDom(e.selection.getNode());return ma(e,e=>B.some(e).filter(St).bind(t=>{return ro(t,"lang").map(e=>{return{code:e,customCode:ro(t,"data-mce-lang").getOrUndefined(),title:""}})}))},setCurrent:(e,t)=>e.execCommand("Lang",!1,t),onToolbarSetup:e=>{var t=Mc();return e.setActive(o.formatter.match("lang",{},void 0,!0)),t.set(o.formatter.formatChanged("lang",e.setActive,!0)),ix(t.clear,lx(o)(e))},onMenuSetup:lx(o)})).each(e=>oD(t,e))},aD=(e,t)=>{{var o=e,n=t;const a=_1(o,n,M1(o));o.ui.registry.addNestedMenuItem("align",{text:n.shared.providers.translate("Align"),onSetup:lx(o),getSubmenuItems:()=>a.items.validateItems(a.getStyleItems())})}{n=e,o=t;const s=_1(n,o,V1(n));n.ui.registry.addNestedMenuItem("fontfamily",{text:o.shared.providers.translate("Fonts"),onSetup:lx(n),getSubmenuItems:()=>s.items.validateItems(s.getStyleItems())})}{o=e;var r={type:"advanced",...(n=t).styles};const i=_1(o,n,Y1(o,r));o.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:lx(o),getSubmenuItems:()=>i.items.validateItems(i.getStyleItems())})}{n=e,r=t;const l=_1(n,r,F1(n));n.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:lx(n),getSubmenuItems:()=>l.items.validateItems(l.getStyleItems())})}{o=e,r=t;const c=_1(o,r,$1(o));o.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:lx(o),getSubmenuItems:()=>c.items.validateItems(c.getStyleItems())})}},sD=e=>{var t;e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:(t=e,dx(t,"NodeChange",e=>{e.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())})),onAction:mx(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:lx(e),onAction:mx(e,"indent")})},iD=(o,n)=>t=>{t.setActive(n.get());const e=e=>{n.set(e.state),t.setActive(e.state)};return o.on("PastePlainTextToggle",e),ix(()=>o.off("PastePlainTextToggle",e),lx(o)(t))},lD=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},cD=e=>{var t,o,n=e;ok.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(e,t)=>{n.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:cx(n,e.name),onAction:lD(n,e.name)})});for(let e=1;e<=6;e++){var r="h"+e;n.ui.registry.addToggleButton(r,{text:r.toUpperCase(),tooltip:"Heading "+e,onSetup:cx(n,r),onAction:lD(n,r)})}t=e,ok.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],e=>{t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:mx(t,e.action)})}),ok.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],e=>{t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:lx(t),onAction:mx(t,e.action)})}),o=e,ok.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],e=>{o.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:mx(o,e.action),onSetup:cx(o,e.name)})})},dD=e=>{var t;cD(e),t=e,ok.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],e=>{t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:mx(t,e.action)})}),ok.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],e=>{t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onSetup:lx(t),onAction:mx(t,e.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:lx(t),onAction:lD(t,"code")})},uD=(t,o)=>dx(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",e=>{e.setEnabled(!t.mode.isReadOnly()&&t.undoManager[o]())}),mD=e=>{var t;(t=e).ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:uD(t,"hasUndo"),onAction:mx(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:uD(t,"hasRedo"),onAction:mx(t,"redo")}),(t=e).ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:uD(t,"hasUndo"),onAction:mx(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:uD(t,"hasRedo"),onAction:mx(t,"redo")})},gD=e=>{var t;e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:(t=e,dx(t,"VisualAid",e=>{e.setActive(t.hasVisual)})),onAction:mx(e,"mceToggleVisualAid")})},pD=e=>{var t;(t=e).ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:mx(t,"mceToggleVisualAid")}),gD(e)},hD=(e,t)=>{var o,n,r,a;o=e,_([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],e=>{o.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:mx(o,e.cmd),onSetup:cx(o,e.name)})}),o.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:lx(o),onAction:mx(o,"JustifyNone")}),dD(e),aD(e,t),mD(e),t=e,Vx(t),n=Fx(t),a=Ix(t),n=D(n),a=D(a),jx(t,"forecolor","forecolor","Text color",n),jx(t,"backcolor","hilitecolor","Background color",a),Gx(t,"forecolor","forecolor","Text color",n),Gx(t,"backcolor","hilitecolor","Background color",a),pD(e),n=e,sD(n),rD(e),r=e,t=D(Yf(r)),a=()=>r.execCommand("mceTogglePlainTextPaste"),r.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:a,onSetup:iD(r,t)}),r.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:a,onSetup:iD(r,t)})};Hg=t=>e=>e.options.get(t);const fD=e=>{e=e.options.register;e("contextmenu_avoid_overlap",{processor:"string",default:""}),e("contextmenu_never_use_native",{processor:"boolean",default:!1}),e("contextmenu",{processor:e=>{return!1===e?{value:[],valid:!0}:b(e)||Q(e,b)?{value:(e=e,b(e)?e.split(/[ ,]/):e),valid:!0}:{valid:!1,message:"Must be false or a string."}},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},vD=Hg("contextmenu_never_use_native"),bD=Hg("contextmenu_avoid_overlap"),yD=e=>{const t=e.ui.registry.getAll().contextMenus;var o=e.options.get("contextmenu");return e.options.isSet("contextmenu")?o:xe(o,e=>Ye(t,e))},xD=(e,t)=>({type:"makeshift",x:e,y:t}),wD=e=>"longpress"===e.type||0===e.type.indexOf("touch"),SD=(e,t)=>{var o,e=gf.DOM.getPos(e);return t=t,o=e.x,e=e.y,xD(t.x+o,t.y+e)},kD=(e,t)=>{return"contextmenu"===t.type||"longpress"===t.type?e.inline?(o=t,wD(o)?(n=o.touches[0],xD(n.pageX,n.pageY)):xD(o.pageX,o.pageY)):SD(e.getContentAreaContainer(),(n=t,wD(n)?(o=n.touches[0],xD(o.clientX,o.clientY)):xD(n.clientX,n.clientY))):CD(e);var o,n},CD=e=>({type:"selection",root:w.fromDom(e.selection.getNode())}),OD=(e,t,o)=>{switch(o){case"node":return n=e,{type:"node",node:B.some(w.fromDom(n.selection.getNode())),root:w.fromDom(n.getBody())};case"point":return kD(e,t);case"selection":return CD(e)}var n},_D=(e,t,o,n,r,a)=>{o=o();const s=OD(e,t,a);Xk(o,bv.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:B.none()}).map(e=>{t.preventDefault(),Kp.showMenuAt(r,{anchor:s},{menu:{markers:Fv("normal")},data:e})})},TD={onLtr:()=>[jl,Hl,Ll,Pl,Ul,Wl,TO,EO,_O,CO,OO,kO],onRtl:()=>[jl,Ll,Hl,Ul,Pl,Wl,TO,EO,OO,kO,_O,CO]},ED={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},DD=(o,n,e,r,a,s,i)=>{const l=((e,t,o)=>{e=OD(e,t,o),t="point"===o?12:0;return{bubble:ed(0,t,ED),layouts:TD,overrides:{maxWidthFunction:HT(),maxHeightFunction:Yc()},...e}})(o,n,s);Xk(e,bv.CLOSE_ON_EXECUTE,r,{isHorizontalMenu:!0,search:B.none()}).map(e=>{n.preventDefault();var t=i?Up.HighlightMenuAndItem:Up.HighlightNone;Kp.showMenuWithinBounds(a,{anchor:l},{menu:{markers:Fv("normal"),highlightOnOpen:t},data:e,type:"horizontal"},()=>B.some(HE(o,r.shared,"node"===s?"node":"selection"))),o.dispatch(ME)})},AD=(s,t,o,n,r,a)=>{var e=rn();const i=e.os.isiOS(),l=e.os.isMacOS(),c=e.os.isAndroid(),d=e.deviceType.isTouch(),u=()=>!(c||i||l&&d),m=()=>{var e=o();DD(s,t,e,n,r,a,u())};if((l||i)&&"node"!==a){const g=()=>{{var e=s;const t=e.selection.getRng(),o=()=>{Yp.setEditorTimeout(e,()=>{e.selection.setRng(t)},10),a()},n=(e.once("touchend",o),e=>{e.preventDefault(),e.stopImmediatePropagation()}),r=(e.on("mousedown",n,!0),()=>a()),a=(e.once("longpresscancel",r),()=>{e.off("touchend",o),e.off("longpresscancel",r),e.off("mousedown",n)})}m()};((e,t)=>{var o=e.selection;if(o.isCollapsed()||t.touches.length<1)return!1;{const n=t.touches[0];t=o.getRng();return Pd(e.getWin(),Od.domRange(t)).exists(e=>e.left<=n.clientX&&e.right>=n.clientX&&e.top<=n.clientY&&e.bottom>=n.clientY)}})(s,t)?g():(s.once("selectionchange",g),s.once("touchend",()=>s.off("selectionchange",g)))}else m()},MD=e=>b(e)?"|"===e:"separator"===e.type,BD={type:"separator"},FD=t=>{var e,o=e=>({text:e.text,icon:e.icon,enabled:e.enabled,shortcut:e.shortcut});if(b(t))return t;switch(t.type){case"separator":return BD;case"submenu":return{type:"nestedmenuitem",...o(t),getSubmenuItems:()=>{var e=t.getSubmenuItems();return b(e)?e:C(e,FD)}};default:var n=t;return{type:"menuitem",...o(n),onAction:(e=n.onAction,()=>e())}}},ID=(e,t)=>{var o;return 0===t.length?e:(o=Ne(e).filter(e=>!MD(e)).fold(()=>[],e=>[BD]),e.concat(o).concat(t).concat([BD]))},RD=(e,t)=>{return!("longpress"===(o=t).type||Ye(o,"touches"))&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType);var o},ND=(e,t)=>RD(e,t)?e.selection.getStart(!0):t.target,VD=(s,e,r)=>{const i=rn().deviceType.isTouch,l=Pi(Kp.sketch({dom:{tag:"div"},lazySink:e,onEscape:()=>s.focus(),onShow:()=>r.setContextMenuState(!0),onHide:()=>r.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:V([W("dismissContextMenu",[R(ts(),(e,t)=>{d.close(e),s.focus()})])])})),t=()=>Kp.hide(l),o=a=>{var e,t,o,n;vD(s)&&a.preventDefault(),e=s,a.ctrlKey&&!vD(e)||(e=s,0===yD(e).length)||(e=s,t=a,o=bD(e),n=RD(e,t)?"selection":"point",t=ut(o)&&(e=ND(e,t),Ww(w.fromDom(e),o))?"node":n,(i()?AD:_D)(s,a,()=>{var e=ND(s,a),t=s.ui.registry.getAll(),o=yD(s),n=t.contextMenus,t=o,r=e;return 0<(t=Se(t,(t,e)=>T(n,e.toLowerCase()).map(e=>{var e=e.update(r);return b(e)&&ut(dt(e))?ID(t,e.split(" ")):G(e)&&0<e.length?(e=C(e,FD),ID(t,e)):t}).getOrThunk(()=>t.concat([e])),[])).length&&MD(t[t.length-1])&&t.pop(),t},r,l,t))};s.on("init",()=>{var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(i()?"":" ResizeWindow");s.on(e,t),s.on("longpress contextmenu",o)})};nm=na([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]);const zD=t=>e=>e.translate(-t.left,-t.top),HD=t=>e=>e.translate(t.left,t.top),LD=o=>(e,t)=>Se(o,(e,t)=>t(e),ko(e,t)),PD=(e,t,o)=>e.fold(LD([HD(o),zD(t)]),LD([zD(t)]),LD([])),UD=(e,t,o)=>e.fold(LD([HD(o)]),LD([]),LD([HD(t)])),WD=(e,t,o)=>e.fold(LD([]),LD([zD(o)]),LD([HD(t),zD(o)])),jD=(e,t,o,n,r,a)=>{e=UD(e,r,a),t=UD(t,r,a),r=Math.abs(e.left-t.left),a=Math.abs(e.top-t.top);return ko(r,a)},GD=(e,t,o)=>{e=e.fold((e,t)=>({position:B.some("absolute"),left:B.some(e+"px"),top:B.some(t+"px")}),(e,t)=>({position:B.some("absolute"),left:B.some(e-o.left+"px"),top:B.some(t-o.top+"px")}),(e,t)=>({position:B.some("fixed"),left:B.some(e+"px"),top:B.some(t+"px")}));return{right:B.none(),bottom:B.none(),...e}},$D=(e,a,s,i)=>{var t=(n,r)=>(e,t)=>{var o=n(a,s,i);return r(e.getOr(o.left),t.getOr(o.top))};return e.fold(t(WD,qD),t(UD,XD),t(PD,KD))},qD=nm.offset,XD=nm.absolute,KD=nm.fixed,YD=(e,t)=>{e=no(e,t);return X(e)?NaN:parseInt(e,10)},JD=(e,t,o,n)=>{return t=t,e=(e=e).element,r=YD(e,t.leftAttr),e=YD(e,t.topAttr),(isNaN(r)||isNaN(e)?B.none():B.some(ko(r,e))).fold(()=>o,e=>KD(e.left+n.left,e.top+n.top));var r},ZD=(e,t,o,n,r,a)=>{o=JD(e,t,o,n),n=(t.mustSnap?(e,t,o,s,i)=>{const n=t.getSnapPoints(e),r=eA(n,o,s,i);return r.orThunk(()=>{const e=Se(n,(n,r)=>{const e=r.sensor;const a=jD(o,e,r.range.left,r.range.top,s,i);return n.deltas.fold(()=>({deltas:B.some(a),snap:B.some(r)}),e=>{const t=(a.left+a.top)/2;const o=(e.left+e.top)/2;if(t<=o)return{deltas:B.some(a),snap:B.some(r)};else return n})},{deltas:B.none(),snap:B.none()});return e.snap.map(e=>({output:$D(e.output,o,s,i),extra:e.extra}))})}:(e,t,o,n,r)=>{const a=t.getSnapPoints(e);return eA(a,o,n,r)})(e,t,o,r,a);const s=PD(o,r,a);o=e,r=t,a=s;return o=o.element,E(o,r.leftAttr,a.left+"px"),E(o,r.topAttr,a.top+"px"),n.fold(()=>({coord:KD(s.left,s.top),extra:B.none()}),e=>({coord:e.output,extra:e.extra}))},QD=(e,t)=>{e=e.element,so(e,t.leftAttr),so(e,t.topAttr)},eA=(e,o,n,r)=>ze(e,e=>{var t=e.sensor;return((e,t,o,n,r,a)=>{e=UD(e,r,a),t=UD(t,r,a);return Math.abs(e.left-t.left)<=o&&Math.abs(e.top-t.top)<=n})(o,t,e.range.left,e.range.top,n,r)?B.some({output:$D(e.output,o,n,r),extra:e.extra}):B.none()});vb=Object.freeze({__proto__:null,snapTo:(e,t,o,n)=>{var r,a=t.getTarget(e.element);t.repositionTarget&&(t=Ft(e.element),e=bn(t),t=D_(a),n=n,e=e,r=t,e={coord:$D(n.output,n.output,e,r),extra:n.extra},r=GD(e.coord,0,t),uo(a,r))}});const tA="data-initial-z-index",oA=e=>{Vt(e.element).filter(St).each(t=>{po(t,"z-index").each(e=>{E(t,tA,e)}),F(t,"z-index",mo(e.element,"z-index"))})},nA=(e,t)=>{e.getSystem().addToGui(t),oA(t)},rA=e=>{var t;t=e,Vt(t.element).filter(St).each(t=>{ro(t,tA).fold(()=>vo(t,"z-index"),e=>F(t,"z-index",e)),so(t,tA)}),e.getSystem().removeFromGui(e)},aA=(e,t,o)=>e.getSystem().build(o0.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:o}));Fb=qr("snaps",[s("getSnapPoints"),t("onSensor"),s("leftAttr"),s("topAttr"),m("lazyViewport",In),m("mustSnap",!1)]),gr=[m("useFixed",ie),s("blockerClass"),m("getTarget",te),m("onDrag",k),m("repositionTarget",!0),m("onDrop",k),ea("getBounds",In),Fb];const sA=t=>{return e=po(t,"left"),o=po(t,"top"),n=po(t,"position"),r=(e,t,o)=>{return("fixed"===o?KD:qD)(parseInt(e,10),parseInt(t,10))},(e.isSome()&&o.isSome()&&n.isSome()?B.some(r(e.getOrDie(),o.getOrDie(),n.getOrDie())):B.none()).getOrThunk(()=>{var e=Oo(t);return XD(e.left,e.top)});var e,o,n,r},iA=(o,e,r,a,s,i,t)=>{e=e.fold(()=>{o=i.left,n=i.top;var o,n,e=r.fold((e,t)=>qD(e+o,t+n),(e,t)=>XD(e+o,t+n),(e,t)=>KD(e+o,t+n)),e=PD(e,a,s);return KD(e.left,e.top)},t=>{var e=ZD(o,t,r,i,a,s);return e.extra.each(e=>{t.onSensor(o,e)}),e.coord});{var n=a,l=s,c=t.bounds,d=UD(e,n,l),u=Al(d.left,c.x,c.x+c.width-t.width),d=Al(d.top,c.y,c.y+c.height-t.height);const m=XD(u,d);return e.fold(()=>{var e=WD(m,n,l);return qD(e.left,e.top)},O(m),()=>{var e=PD(m,n,l);return KD(e.left,e.top)})}},lA=(e,t,o,n)=>{var r,a,s,i=t.getTarget(e.element);t.repositionTarget&&(s=Ft(e.element),s=bn(s),r=D_(i),a=sA(i),a=iA(e,t.snaps,a,s,r,n,o),s=GD(a,0,r),uo(i,s)),t.onDrag(e,i,n)},cA=(e,t)=>({bounds:e.getBounds(),height:wo(t.element),width:Do(t.element)}),dA=(t,o,e,n,r)=>{n=e.update(n,r);const a=e.getStartData().getOrThunk(()=>cA(o,t));n.each(e=>{lA(t,o,a,e)})},uA=(t,e,o,n)=>{e.each(rA),o.snaps.each(e=>{QD(t,e)});e=o.getTarget(t.element);n.reset(),o.onDrop(t,e)};cb=e=>(t,o)=>{const n=e=>{o.setStartData(cA(t,e))};return gs([R(Ja(),e=>{o.getStartData().each(()=>n(e))}),...e(t,o,n)])};var mA=Object.freeze({__proto__:null,getData:e=>B.from(ko(e.x,e.y)),getDelta:(e,t)=>ko(t.left-e.left,t.top-e.top)});const gA=(a,s,i)=>[R(wa(),(t,e)=>{if(0!==e.event.raw.button)return;e.stop();e=()=>uA(t,B.some(r),a,s);const o=jw(e,200);var n,e={drop:e,delayDrop:o.schedule,forceDrop:e,move:e=>{o.cancel(),dA(t,a,s,mA,e)}};const r=aA(t,a.blockerClass,(n=e,gs([R(wa(),n.forceDrop),R(Ca(),n.drop),R(Sa(),(e,t)=>{n.move(t.event)}),R(ka(),n.delayDrop)])));i(t),nA(t,r)})];ub=[...gr,vl("dragger",{handlers:cb(gA)})];var pA=Object.freeze({__proto__:null,getData:e=>{var e=e.raw.touches;return 1===e.length?(e=(e=e)[0],B.some(ko(e.clientX,e.clientY))):B.none()},getDelta:(e,t)=>ko(t.left-e.left,t.top-e.top)});const hA=(r,a,s)=>{const i=Bc(),l=e=>{uA(e,i.get(),r,a),i.clear()};return[R(va(),(t,e)=>{e.stop();var o,e=()=>l(t),e={drop:e,delayDrop:k,forceDrop:e,move:e=>{dA(t,r,a,pA,e)}};const n=aA(t,r.blockerClass,(o=e,gs([R(va(),o.forceDrop),R(ya(),o.drop),R(xa(),o.drop),R(ba(),(e,t)=>{o.move(t.event)})])));i.set(n);s(t),nA(t,n)}),R(ba(),(e,t)=>{t.stop(),dA(e,r,a,pA,t.event)}),R(ya(),(e,t)=>{t.stop(),l(e)}),R(xa(),l)]};Cb=[...gr,vl("dragger",{handlers:cb(hA)})],Va=[...gr,vl("dragger",{handlers:cb((e,t,o)=>[...gA(e,t,o),...hA(e,t,o)])})];const fA=ic({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:ub,touch:Cb,mouseOrTouch:Va}),name:"dragging",active:{events:(e,t)=>{return e.dragger.handlers(e,t)}},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:B.from(e.extra)})},state:Object.freeze({__proto__:null,init:()=>{let r=B.none(),t=B.none();var e=O({});return Zs({readState:e,reset:()=>{r=B.none(),t=B.none()},update:(n,e)=>n.getData(e).bind(e=>{return t=n,o=e,e=r.map(e=>t.getDelta(e,o)),r=B.some(o),e;var t,o}),getStartData:()=>t,setStartData:e=>{t=B.some(e)}})}}),apis:vb}),vA=(e,n,r,a,t,o)=>e.fold(()=>fA.snap({sensor:XD(r-20,a-20),range:ko(t,o),output:XD(B.some(r),B.some(a)),extra:{td:n}}),e=>{var t=r-20,o=a-20,e=e.element.dom.getBoundingClientRect();return fA.snap({sensor:XD(t,o),range:ko(40,40),output:XD(B.some(r-e.width/2),B.some(a-e.height/2)),extra:{td:n}})}),bA=(e,r,a)=>{return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(e,t)=>{var o,n,t=t.td;o=r.get(),n=t,o.exists(e=>Mt(e,n))||(r.set(t),a(t))},mustSnap:!0}},yA=e=>th(Jp.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:V([fA.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),E0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),xA=(a,o)=>{const n=D([]),r=D([]),e=D(!1),s=Bc(),i=Bc(),t=e=>{var t=Mn(e);return vA(u.getOpt(o),e,t.x,t.y,t.width,t.height)};const l=e=>{var t=Mn(e);return vA(m.getOpt(o),e,t.right,t.bottom,t.width,t.height)};var c=bA(()=>C(n.get(),e=>t(e)),s,t=>{i.get().each(e=>{a.dispatch("TableSelectorChange",{start:t,finish:e})})}),d=bA(()=>C(r.get(),e=>l(e)),i,t=>{s.get().each(e=>{a.dispatch("TableSelectorChange",{start:e,finish:t})})});const u=yA(c),m=yA(d),g=Pi(u.asSpec()),p=Pi(m.asSpec()),h=(e,t,o,n)=>{var t=t.dom.getBoundingClientRect(),r=(vo(e.element,"display"),Nt(w.fromDom(a.getBody())).dom.innerHeight),o=o(t),n=n(t,r);(o||n)&&F(e.element,"display","none")},f=(e,t,o,n)=>{o=o(t);fA.snapTo(e,o);h(e,t,e=>e[n]<0,(e,t)=>e[n]>t)},v=e=>f(g,e,t,"top"),b=e=>f(p,e,l,"bottom");rn().deviceType.isTouch()&&(a.on("TableSelectionChange",t=>{e.get()||(bu(o,g),bu(o,p),e.set(!0)),s.set(t.start),i.set(t.finish),t.otherCells.each(e=>{n.set(e.upOrLeftCells),r.set(e.downOrRightCells),v(t.start),b(t.finish)})}),a.on("ResizeEditor ResizeWindow ScrollContent",()=>{s.get().each(v),i.get().each(b)}),a.on("TableSelectionClear",()=>{e.get()&&(wu(g),wu(p),e.set(!1)),s.clear(),i.clear()}))};var wA;const SA=(a,e,s)=>{const i=null!=(e=e.delimiter)?e:"›",o=e=>Se(e,(e,t,o)=>{n=t.name,r=t.element,t=o;var n,r,t=Jp.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":t,"aria-level":t+1}},components:[Ni(n)],action:e=>{a.focus(),a.selection.select(r),a.nodeChanged()},buttonBehaviours:V([iy.button(s.isDisabled),sy()])});return 0===o?e.concat([t]):e.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ni(` ${i} `)]},t])},[]);return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:V([P.config({mode:"flow",selector:"div[role=button]"}),H.config({disabled:s.isDisabled}),sy(),a0.config({}),U.config({}),W("elementPathEvents",[ks((t,e)=>{a.shortcuts.add("alt+F11","focus statusbar elementpath",()=>P.focusIn(t)),a.on("NodeChange",e=>{e=(e=>{var t=[];let o=e.length;for(;0<o--;){var n=e[o];if(1===n.nodeType&&"BR"!==(r=n).nodeName&&!r.getAttribute("data-mce-bogus")&&"bookmark"!==r.getAttribute("data-mce-type")){r=n;var r=a.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r});if(r.isDefaultPrevented()||t.push({name:r.name,element:n}),r.isPropagationStopped())break}}return t})(e.parents),e=0<e.length?o(e):[];U.set(t,e)})})])]),components:[]}},kA=((Wg=wA=wA||{})[Wg.None=0]="None",Wg[Wg.Both=1]="Both",Wg[Wg.Vertical=2]="Vertical",(e,t,o)=>{const n=w.fromDom(e.getContainer());t=((e,t,o,n,r)=>{n={height:xE(n+t.top,wf(e),kf(e))};return o===wA.Both&&(n.width=xE(r+t.left,xf(e),Sf(e))),n})(e,t,o,xo(n),Eo(n));Pe(t,(e,t)=>{Z(e)&&F(n,t,yE(e))}),e.dispatch("ResizeEditor")}),CA=(e,t,o,n)=>{o=ko(20*o,20*n);return kA(e,o,t),B.some(!0)},OA=(n,e)=>{const r=(e=>{e=Kf(e);return!1===e?wA.None:"both"===e?wA.Both:wA.Vertical})(n);var t;return r===wA.None?B.none():(t=r===wA.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.",B.some(lf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize"),"aria-label":e.translate(t)},behaviours:[fA.config({mode:"mouse",repositionTarget:!1,onDrag:(e,t,o)=>kA(n,o,r),blockerClass:"tox-blocker"}),P.config({mode:"special",onLeft:()=>CA(n,r,-1,0),onRight:()=>CA(n,r,1,0),onUp:()=>CA(n,r,0,-1),onDown:()=>CA(n,r,0,1)}),a0.config({}),j.config({})]},e.icons)))},_A=(i,l)=>{const c=()=>{var e=fy("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Ni(Zh.translate(["Press {0} for help",e]))]}},d=()=>{var e=[];return i.hasPlugin("wordcount")&&e.push(((e,n)=>{const r=(e,t,o)=>U.set(e,[Ni(n.translate(["{0} "+o,t[o]]))]);return Jp.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:V([iy.button(n.isDisabled),sy(),a0.config({}),U.config({}),S.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),W("wordcount-events",[_s(e=>{var t=S.getValue(e),o="words"===t.mode?"characters":"words";S.setValue(e,{mode:o,count:t.count}),r(e,t.count,o)}),ks(o=>{e.on("wordCountUpdate",e=>{var t=S.getValue(o)["mode"];S.setValue(o,{mode:t,count:e.wordCount}),r(o,e.wordCount,t)})})])]),eventOrder:{[Ua()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(i,l)),Xf(i)&&e.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Zh.translate(["Powered by {0}","Tiny"])},innerHtml:'<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>\n</svg>\n'.trim()},behaviours:V([j.config({})])}]}),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:e}},e=()=>{var e=[];const t=Qf(i),o=qf(i),n=Xf(i)||i.hasPlugin("wordcount");var r,a,s;return o&&e.push(SA(i,{},l)),t&&e.push(c()),n&&e.push(d()),0<e.length?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...(a="tox-statusbar__text-container--flex-start",s="tox-statusbar__text-container--flex-end",t?(r="tox-statusbar__text-container-3-cols",n||o?n&&!o?[r,s]:[r,a]:[r,"tox-statusbar__text-container--space-around"]):[n&&!o?s:a])]},components:e}]:[]};var t,o;return{dom:{tag:"div",classes:["tox-statusbar"]},components:(t=e(),o=OA(i,l),t.concat(o.toArray()))}},TA=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),EA=(d,u)=>{const m=d.inline,g=m?DE:vE,p=mv(d)?cT:T_,h=AE(),f=Bc(),v=Bc(),b=Bc();const y=rn().deviceType.isTouch()?["tox-platform-touch"]:[],x=iv(d),w=Df(d),S=th({dom:{tag:"div",classes:["tox-anchorbar"]}}),k=th({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),C=()=>h.mainUi.get().map(e=>e.outerContainer).bind(h1.getHeader);var e=h.lazyGetInOuterOrDie("anchor bar",S.getOpt),t=h.lazyGetInOuterOrDie("bottom anchor bar",k.getOpt);const O=h.lazyGetInOuterOrDie("toolbar",h1.getToolbar),_=h.lazyGetInOuterOrDie("throbber",h1.getThrobber),T=w_({popup:()=>I.fromOption(h.popupUi.get().map(e=>e.sink),"(popup) UI has not been rendered"),dialog:()=>I.fromOption(h.dialogUi.get().map(e=>e.sink),"UI has not been rendered")},d,e,t),E=()=>{var e={attributes:{[ad]:x?bc.BottomToTop:bc.TopToBottom}},t=h1.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:T.popup,onEscape:()=>{d.focus()}});const o=h1.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:T.popup.shared.getSink,providers:T.popup.shared.providers,onEscape:()=>{d.focus()},onToolbarToggled:e=>{sx(d,e)},type:w,lazyToolbar:O,lazyHeader:()=>C().getOrDie("Could not find header element"),...e}),n=h1.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:T.popup.shared.providers,onEscape:()=>{d.focus()},type:w}),r=sv(d),a=rv(d);var s=tv(d),i=Zf(d),l=h1.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),c=r||a||s,i=i?[l,t]:[t];return h1.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(c?[]:["tox-editor-header--empty"]),...e},components:_e([s?i:[],r?[n]:a?[o]:[],cv(d)?[]:[S.asSpec()]]),sticky:mv(d),editor:d,sharedBackstage:T.popup.shared})},D=()=>{return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[h1.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),h1.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]}},A=e=>{var t=yE(wE(d)),o=yE(kE(d));return d.inline||(fo("div","width",o)&&F(e.element,"width",o),fo("div","height",t)?F(e.element,"height",t):F(e.element,"height","400px")),t},M=o=>{d.addShortcut("alt+F9","focus menubar",()=>{h1.focusMenubar(o)}),d.addShortcut("alt+F10","focus toolbar",()=>{h1.focusToolbar(o)}),d.addCommand("ToggleToolbarDrawer",(e,t)=>{null!=t&&t.skipFocus?h1.toggleToolbarDrawerWithoutFocusing(o):h1.toggleToolbarDrawer(o)}),d.addQueryStateHandler("ToggleToolbarDrawer",()=>h1.isToolbarDrawerToggled(o))};return{popups:{backstage:T.popup,getMothership:()=>TA("popups",b)},dialogs:{backstage:T.dialog,getMothership:()=>TA("dialogs",v)},renderUI:()=>{e=E(),t=D(),n=h1.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:T.popup}),r=h1.parts.viewWrapper({backstage:T.popup}),o=$f(d)&&!m?B.some(_A(d,T.popup.shared.providers)):B.none(),t=_e([x?[]:[e],m?[]:[t],x?[e]:[]]),e=h1.parts.editorContainer({components:_e([t,m?[]:[k.asSpec(),...o.toArray()]])}),t=uv(d),o={role:"application",...Zh.isRtl()?{dir:"rtl"}:{},...t?{"aria-hidden":"true"}:{}},t=Pi(h1.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(m?["tox-tinymce-inline"]:[]).concat(x?["tox-tinymce--toolbar-bottom"]:[]).concat(y),styles:{visibility:"hidden",...t?{opacity:"0",border:"0"}:{}},attributes:o},components:[e,...m?[]:[r],n],behaviours:V([sy(),H.config({disableClass:"tox-tinymce--disabled"}),P.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),o=n0(t),f.set(o);var e={mothership:o,outerContainer:t},t=(r=dv(d),r=Mt(eo(),r)&&"grid"===mo(r,"display"),n={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(y),attributes:{...Zh.isRtl()?{dir:"rtl"}:{}}},behaviours:V([cu.config({useFixed:()=>p.isDocked(C)})])},o={dom:{styles:{width:document.body.clientWidth+"px"}},events:gs([R(Za(),e=>{F(e.element,"width",document.body.clientWidth+"px")})])},n=Pi(jn(n,r?o:{})),r=n0(n),v.set(r),{sink:n,mothership:r}),o=gv(d)?(o={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(y),attributes:{...Zh.isRtl()?{dir:"rtl"}:{}}},behaviours:V([cu.config({useFixed:()=>p.isDocked(C),getBounds:()=>u.getPopupSinkBounds()})])},o=Pi(o),n=n0(o),b.set(n),{sink:o,mothership:n}):(r=t,b.set(r.mothership),r),n=(h.dialogUi.set(t),h.popupUi.set(o),h.mainUi.set(e),{popupUi:o,dialogUi:t,mainUi:e,uiMotherships:h.getUiMotherships()}),r=n,{mainUi:o,popupUi:t,uiMotherships:e}=r,{buttons:n,menuItems:a,contextToolbars:s,sidebars:i,views:l}=(Ue(Af(d),(e,t)=>{d.ui.registry.addGroupToolbarButton(t,e)}),d.ui.registry.getAll()),c=av(d),a={menuItems:a,menus:pv(d),menubar:Nf(d),toolbar:c.getOrThunk(()=>Vf(d)),allowToolbarGroups:w===uf.floating,buttons:n,sidebar:i,views:l};M(o.outerContainer),S_(d,o.mothership,e),p.setup(d,T.popup.shared,C),hD(d,T.popup),VD(d,T.popup.shared.getSink,T.popup),wT(d),BT(d,_,T.popup.shared),tD(d,s,t.sink,{backstage:T.popup}),xA(d,t.sink);n={targetNode:c=d.getElement(),height:A(o.outerContainer)};return g.render(d,r,a,T.popup,n)}}};db=O([s("lazySink"),Lr("dragBlockClass"),ea("getBounds",In),m("useTabstopAt",le),m("firstTabstop",0),m("eventOrder",{}),cd("modalBehaviours",[P]),pl("onExecute"),fl("onEscape")]),_g={sketch:te},xl=O([dm({name:"draghandle",overrides:(e,t)=>({behaviours:V([fA.config({mode:"mouse",getTarget:e=>Xi(e,'[role="dialog"]').getOr(e),blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),cm({schema:[s("dom")],name:"title"}),cm({factory:_g,schema:[s("dom")],name:"close"}),cm({factory:_g,schema:[s("dom")],name:"body"}),dm({factory:_g,schema:[s("dom")],name:"footer"}),ld({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[m("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),m("components",[])],name:"blocker"})]);const DA=am({name:"ModalDialog",configFields:db(),partFields:xl(),factory:(n,e,t,r)=>{const a=Bc();var o=N("modal-events"),s={...n.eventOrder,[Qa()]:[o].concat(n.eventOrder["alloy.system.attached"]||[])};return{uid:n.uid,dom:n.dom,components:e,apis:{show:e=>{a.set(e);var t=n.lazySink(e).getOrDie(),o=r.blocker(),o=t.getSystem().build({...o,components:o.components.concat([Ui(e)]),behaviours:V([j.config({}),W("dialog-blocker-events",[Ss(_a(),()=>{DT.isBlocked(e)?k():P.focusIn(e)})])])});bu(t,o),P.focusIn(e)},hide:t=>{a.clear(),Vt(t.element).each(e=>{t.getSystem().getByDom(e).each(e=>{wu(e)})})},getBody:e=>xm(e,n,"body"),getFooter:e=>ym(e,n,"footer"),setIdle:e=>{DT.unblock(e)},setBusy:(e,t)=>{DT.block(e,t)}},eventOrder:s,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:ju(n.modalBehaviours,[U.config({}),P.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt,firstTabstop:n.firstTabstop}),DT.config({getRoot:a.get}),W(o,[ks(e=>{var t,o;t=e.element,o=xm(e,n,"title").element,e=ro(t,"id").fold(()=>{var e=N("dialog-label");return E(o,"id",e),e},te),E(t,"aria-labelledby",e)})])])}},apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,o)=>{e.setBusy(t,o)},setIdle:(e,t)=>{e.setIdle(t)}}});hl=u([sb,Pg].concat(Tb)),Bb=fr,Ug=[yb("button"),r,Zr("align","end",["start","end"]),pb,gb,jr("buttonType",["primary","secondary"])],bb=[...Ug,n],Rs=[Rr("type",["submit","cancel","custom"]),...bb],Ab=[Rr("type",["menu"]),Lg,Ql,r,Hr("items",hl),...Ug],Sg=[...Ug,Rr("type",["togglebutton"]),Ir("tooltip"),r,Lg,Qr("active",!1)],o=Er("type",{submit:Rs,cancel:Rs,custom:Rs,menu:Ab,togglebutton:Sg}),Mb=[sb,n,Rr("level",["info","warn","error","success"]),sm,m("url","")];const AA=u(Mb);rm=[sb,n,gb,yb("button"),r,mb,jr("buttonType",["primary","secondary","toolbar"]),pb];const MA=u(rm);Eg=[sb,Pg],Hg=Eg.concat([lb]),nm=Eg.concat([ib,gb]);const BA=u(nm);Fb=fr,gr=Hg.concat([hb("auto")]);const FA=u(gr);cb=ur([om,n,sm]),ic=Hg.concat([Jr("storageKey","default")]);const IA=u(ic);ub=hr;const RA=u(Hg);Cb=hr;const NA=Eg.concat([Jr("tag","textarea"),Ir("scriptId"),Ir("scriptUrl"),Kr("settings",void 0,yr)]),VA=Eg.concat([Jr("tag","textarea"),Nr("init")]),zA=Sr(e=>Cr("customeditor.old",lr(VA),e).orThunk(()=>Cr("customeditor.new",lr(NA),e)));Va=hr;const HA=u(Hg);vb=cr(rr);const LA=e=>[sb,Fr("columns",pr),e];Wg=[sb,Ir("html"),Zr("presets","presentation",["presentation","document"])];const PA=u(Wg);pl=Hg.concat([Qr("border",!1),Qr("sandboxed",!0),Qr("streamContent",!1),Qr("transparent",!0)]);const UA=u(pl);fl=hr;const WA=u(Eg.concat([Wr("height")]));_g=u([Ir("url"),Ur("zoom"),Ur("cachedWidth"),Ur("cachedHeight")]),ld=Hg.concat([Wr("inputMode"),Wr("placeholder"),Qr("maximized",!1),gb]);const jA=u(ld);db=hr;xl=[n,om],Tb=[n,Hr("items",Dr(0,()=>GA))];const GA=l([u(xl),u(Tb)]);Ql=Hg.concat([Hr("items",GA),gb]);const $A=u(Ql);hl=hr,Ug=Hg.concat([zr("items",[n,om]),Yr("size",1),gb]);const qA=u(Ug);Lg=hr,Rs=Hg.concat([Qr("constrain",!0),gb]);const XA=u(Rs);Ab=u([Ir("width"),Ir("height")]),Sg=Eg.concat([ib,Yr("min",0),Yr("max",0)]);const KA=u(Sg);Mb=pr,r=[sb,Hr("header",hr),Hr("cells",cr(hr))];const YA=u(r);mb=Hg.concat([Wr("placeholder"),Qr("maximized",!1),gb]);const JA=u(mb);jr=hr,pb=[Rr("type",["directory","leaf"]),e,Ir("id"),Pr("menu",uT)];const ZA=u(pb);rm=pb.concat([Hr("children",Dr(0,()=>wr("type",{directory:QA,leaf:ZA})))]);const QA=u(rm);Pg=wr("type",{directory:QA,leaf:ZA}),lb=[sb,Hr("items",Pg),Gr("onLeafAction"),Gr("onToggleExpand"),ta("defaultExpandedIds",[],hr),Wr("defaultSelectedId")];const eM=u(lb);nm=Hg.concat([Zr("filetype","file",["image","media","file"]),gb]);const tM=u(nm);hb=u([om,fb]);const oM=t=>Ar("items","items",$n(),cr(Sr(e=>Cr("Checking item of "+t,nM,e).fold(e=>I.error(Tr(e)),e=>I.value(e))))),nM=c(()=>{return wr("type",{alertbanner:AA,bar:u((e=oM("bar"),[sb,e])),button:MA,checkbox:BA,colorinput:IA,colorpicker:RA,dropzone:HA,grid:u(LA(oM("grid"))),iframe:UA,input:jA,listbox:$A,selectbox:qA,sizeinput:XA,slider:KA,textarea:JA,urlinput:tM,customeditor:zA,htmlpanel:PA,imagepreview:WA,collection:FA,label:u((e=oM("label"),[sb,ib,e,Zr("align","start",["start","center","end"])])),table:YA,tree:eM,panel:rM});var e});gr=[sb,m("classes",[]),Hr("items",nM)];const rM=u(gr);sm=[yb("tab"),e,Hr("items",nM)],ic=[sb,zr("tabs",sm)],Nr=u(ic),Wg=bb,pl=o;const aM=u([Ir("title"),Fr("body",wr("type",{panel:rM,tabpanel:Nr})),Jr("size","normal"),ta("buttons",[],pl),m("initialData",{}),ea("onAction",k),ea("onChange",k),ea("onSubmit",k),ea("onClose",k),ea("onCancel",k),ea("onTabChange",k)]);ld=u([Rr("type",["cancel","custom"]),...Wg]);const sM=u([Ir("title"),Ir("url"),Ur("height"),Ur("width"),$r("buttons",ld),ea("onAction",k),ea("onCancel",k),ea("onClose",k),ea("onMessage",k)]),iM=e=>y(e)?[e].concat(Te(Ke(e),iM)):G(e)?Te(e,iM):[],lM=e=>b(e.type)&&b(e.name),cM={checkbox:Fb,colorinput:ub,colorpicker:Cb,dropzone:vb,input:db,iframe:fl,imagepreview:_g,selectbox:Lg,sizeinput:Ab,slider:Mb,listbox:hl,size:Ab,textarea:jr,urlinput:hb,customeditor:Va,collection:cb,togglemenuitem:Bb},dM=e=>B.from(cM[e.type]),uM=e=>xe(iM(e),lM),mM=e=>{var t;return{internalDialog:Or((t=e,Cr("dialog",aM,t))),dataValidator:(e=>{e=uM(e),e=Te(e,t=>dM(t).fold(()=>[],e=>[Fr(t.name,e)]));return u(e)})(e),initialData:null!=(t=e.initialData)?t:{}}},gM={open:(e,t)=>{t=mM(t);return e(t.internalDialog,t.initialData,t.dataValidator)},openUrl:(e,t)=>{return e(Or((e=t,Cr("dialog",sM,e))))},redial:e=>mM(e)};l=Object.freeze({__proto__:null,events:(n,r)=>{const a=(t,o)=>{n.updateState.each(e=>{e=e(t,o);r.set(e)}),n.renderComponents.each(e=>{e=e(o,r.get());(n.reuseDom?cp:lp)(t,e)})};return gs([R(Pa(),(e,t)=>{var o;t.universal||(o=n.channel,pe(t.channels,o)&&a(e,t.data))}),ks((t,e)=>{n.initialData.each(e=>{a(t,e)})})])}}),xl=Object.freeze({__proto__:null,getState:(e,t,o)=>o}),Tb=[s("channel"),Lr("renderComponents"),Lr("updateState"),Lr("initialData"),Qr("reuseDom",!0)];const pM=ac({fields:Tb,name:"reflecting",active:l,apis:xl,state:Object.freeze({__proto__:null,init:()=>{const e=D(B.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(B.none())}}})}),hM=e=>{const o=[],n={};return Pe(e,(e,t)=>{e.fold(()=>{o.push(t)},e=>{n[t]=e})}),0<o.length?I.error(o):I.value(n)},fM=(e,o,n)=>{var t=th(PS.sketch(t=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:C(e.items,e=>hO(t,e,o,n))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[t.asSpec()]}],behaviours:V([P.config({mode:"acyclic",useTabstopAt:re(uk)}),XS.memento(t),((o,e)=>{const n=_r("RepresentingConfigs.memento processors",KS,e);return S.config({store:{mode:"manual",getValue:e=>{e=o.get(e),e=S.getValue(e);return n.postprocess(e)},setValue:(e,t)=>{t=n.preprocess(t),e=o.get(e);S.setValue(e,t)}}})})(t,{postprocess:e=>hM(e).fold(e=>(console.error(e),{}),te)}),W("dialog-body-panel",[R(_a(),(e,t)=>{e.getSystem().broadcastOn([vk],{newFocus:B.some(t.event.target)})})])])}};Ql=Fm({name:"TabButton",configFields:[m("uid",void 0),s("value"),Ar("dom","dom",Yn(()=>({attributes:{role:"tab",id:N("aria"),"aria-selected":"false"}})),mr()),Lr("action"),m("domModification",{}),cd("tabButtonBehaviours",[j,P,S]),s("view")],factory:(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:Op(e.action),behaviours:ju(e.tabButtonBehaviours,[j.config({}),P.config({mode:"execution",useSpace:!0,useEnter:!0}),S.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),n=O([s("tabs"),s("dom"),m("clickToDismiss",!1),cd("tabbarBehaviours",[L,P]),ml(["tabClass","selectedClass"])]),Ug=Sd({factory:Ql,name:"tabs",unit:"tab",overrides:n=>{const r=(e,t)=>{L.dehighlight(e,t),M(e,ss(),{tabbar:e,button:t})},a=(e,t)=>{L.highlight(e,t),M(e,as(),{tabbar:e,button:t})};return{action:e=>{var t=e.getSystem().getByUid(n.uid).getOrDie();const o=L.isHighlighted(t,e);(o&&n.clickToDismiss?r:o?k:a)(t,e)},domModification:{classes:[n.markers.tabClass]}}}}),Rs=O([Ug]);const vM=am({name:"Tabbar",configFields:n(),partFields:Rs(),factory:(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:ju(e.tabbarBehaviours,[L.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(e,t)=>{E(t.element,"aria-selected","true")},onDehighlight:(e,t)=>{E(t.element,"aria-selected","false")}}),P.config({mode:"flow",getInitial:e=>L.getHighlighted(e).map(e=>e.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])})});Eg=Fm({name:"Tabview",configFields:[cd("tabviewBehaviours",[U])],factory:(e,t)=>({uid:e.uid,dom:e.dom,behaviours:ju(e.tabviewBehaviours,[U.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),Yr=O([m("selectFirst",!0),t("onChangeTab"),t("onDismissTab"),m("tabs",[]),cd("tabSectionBehaviours",[])]),Sg=cm({factory:vM,schema:[s("dom"),Vr("markers",[s("tabClass"),s("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),r=cm({factory:Eg,name:"tabview"}),mb=O([Sg,r]);const bM=am({name:"TabSection",configFields:Yr(),partFields:mb(),factory:(r,e,t,o)=>{const n=(e,t)=>{ym(e,r,"tabbar").each(e=>{t(e).each(cs)})};return{uid:r.uid,dom:r.dom,components:e,behaviours:Wu(r.tabSectionBehaviours),events:gs(_e([r.selectFirst?[ks((e,t)=>{n(e,L.getFirst)})]:[],[R(as(),(e,t)=>{t=t.event.button;{var o=t;const n=S.getValue(o);ym(o,r,"tabview").each(t=>{Ce(r.tabs,e=>e.value===n).each(e=>{e=e.view();ro(o.element,"id").each(e=>{E(t.element,"aria-labelledby",e)}),U.set(t,e),r.onChangeTab(t,o,e)})})}}),R(ss(),(e,t)=>{t=t.event.button;r.onDismissTab(e,t)})]])),apis:{getViewItems:e=>ym(e,r,"tabview").map(e=>U.contents(e)).getOr([]),showTab:(e,o)=>{n(e,t=>{var e=L.getCandidates(t);return Ce(e,e=>S.getValue(e)===o).filter(e=>!L.isHighlighted(t,e))})}}}},apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,o)=>{e.showTab(t,o)}}}),yM=(e,t)=>{F(e,"height",t+"px"),F(e,"flex-basis",t+"px")},xM=(e,n,r)=>{Xi(e,'[role="dialog"]').each(o=>{Yi(o,'[role="tablist"]').each(t=>{r.get().map(e=>(F(n,"height","0"),F(n,"flex-basis","0"),Math.min(e,((e,t,o)=>{var n=Rt(e).dom,r=Xi(e,".tox-dialog-wrap").getOr(e),r="fixed"===mo(r,"position");let a;a=r?Math.max(n.clientHeight,window.innerHeight):Math.max(n.offsetHeight,n.scrollHeight);r=xo(t),n=t.dom.offsetLeft>=o.dom.offsetLeft+Eo(o)?Math.max(xo(o),r):r,t=parseInt(mo(e,"margin-top"),10)||0,o=parseInt(mo(e,"margin-bottom"),10)||0,r=xo(e)+t+o;return a-(r-n)})(o,n,t)))).each(e=>{yM(n,e)})})})},wM=e=>Yi(e,'[role="tabpanel"]'),SM=a=>{const s=Bc();return{extraEvents:[ks(n=>{const r=n.element;wM(r).each(t=>{var e,o;F(t,"visibility","hidden"),n.getSystem().getByDom(t).toOptional().each(e=>{o=a,n=t,r=e;var o,n,r,e=C(o,(e,t)=>{U.set(r,o[t].view());t=n.dom.getBoundingClientRect();return U.set(r,[]),t.height});e=e,Re(Fe(e,(e,t)=>t<e?-1:e<t?1:0)).fold(s.clear,s.set)}),xM(r,t,s),vo(t,"visibility"),e=a,o=n,Re(e).each(e=>bM.showTab(o,e.value)),requestAnimationFrame(()=>{xM(r,t,s)})})}),R(Za(),e=>{const t=e.element;wM(t).each(e=>{xM(t,e,s)})}),R(y0,(e,t)=>{const r=e.element;wM(r).each(t=>{var e=gc(qt(t)),o=(F(t,"visibility","hidden"),po(t,"height").map(e=>parseInt(e,10)));vo(t,"height"),vo(t,"flex-basis");const n=t.dom.getBoundingClientRect().height;o.forall(e=>n>e)?(s.set(n),xM(r,t,s)):o.each(e=>{yM(t,e)}),vo(t,"visibility"),e.each(dc)})})],selectFirst:!1}},kM="send-data-to-section",CM="send-data-to-view",OM=(e,t,o,n,r)=>{return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...o.map(e=>({id:e})).getOr({}),...r?{"aria-live":"polite"}:{}}},components:[],behaviours:V([XS.childAt(0),pM.config({channel:pk+"-"+t,updateState:(e,t)=>B.some({isTabPanel:()=>"tabpanel"===t.body.type}),renderComponents:e=>{var t=e.body;return"tabpanel"!==t.type?[fM(t,e.initialData,n)]:[((e,o,n)=>{const r=D({}),a=e=>{var e=S.getValue(e),e=hM(e).getOr({}),t=r.get(),t=jn(t,e);r.set(t)},s=e=>{var t=r.get();S.setValue(e,t)},i=D(null);var e=C(e.tabs,e=>({value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ni(n.shared.providers.translate(e.title))],view:()=>[PS.sketch(t=>({dom:{tag:"div",classes:["tox-form"]},components:C(e.items,e=>hO(t,e,o,n)),formBehaviours:V([P.config({mode:"acyclic",useTabstopAt:re(uk)}),W("TabView.form.events",[ks(s),Cs(a)]),cc.config({channels:la([{key:kM,value:{onReceive:a}},{key:CM,value:{onReceive:s}}])})])}))]})),t=SM(e);return bM.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(e,t,o)=>{t=S.getValue(t);M(e,b0,{name:t,oldName:i.get()}),i.set(t)},tabs:e,components:[bM.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[vM.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:V([a0.config({})])}),bM.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:t.selectFirst,tabSectionBehaviours:V([W("tabpanel",t.extraEvents),P.config({mode:"acyclic"}),z.config({find:e=>Re(bM.getViewItems(e))}),YS(B.none(),e=>(e.getSystem().broadcastOn([kM],{}),r.get()),(e,t)=>{r.set(t),e.getSystem().broadcastOn([CM],{})})])})})(t,e.initialData,n)]},initialData:e})])}},_M=hf.deviceType.isTouch(),TM=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),EM=(e,t)=>DA.parts.close(Jp.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:V([a0.config({})])})),DM=()=>DA.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),AM=(e,t)=>DA.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:eh(`<p>${Jh(t.translate(e))}</p>`)}]}]}),MM=e=>DA.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),BM=(e,t)=>[o0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),o0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],FM=t=>{var e="tox-dialog",o=e+"-wrap",n=o+"__backdrop";const r=e+"__disable-scroll";return DA.sketch({lazySink:t.lazySink,onEscape:e=>(t.onEscape(e),B.some(!0)),useTabstopAt:e=>!uk(e),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[e].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:eh(`<div class="${o}"></div>`),components:[{dom:{tag:"div",classes:_M?[n,n+"--opaque"]:[n]}}]}},dragBlockClass:o,modalBehaviours:V([j.config({}),W("dialog-events",t.dialogEvents.concat([Ss(_a(),(e,t)=>{DT.isBlocked(e)?k():P.focusIn(e)}),R(os(),(e,t)=>{e.getSystem().broadcastOn([vk],{newFocus:t.event.newFocus})})])),W("scroll-lock",[ks(()=>{pi(eo(),r)}),Cs(()=>{fi(eo(),r)})]),...t.extraBehaviours]),eventOrder:{[Ua()]:["dialog-events"],[Qa()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[es()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},IM=e=>Jp.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:V([a0.config({})]),components:[lf("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:e=>{A(e,g0)}}),RM=(e,t,o,n)=>{return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...o.map(e=>({id:e})).getOr({})}},components:[],behaviours:V([pM.config({channel:gk+"-"+t,initialData:e,renderComponents:e=>[Ni(n.translate(e.title))]})])}},NM=()=>({dom:eh('<div class="tox-dialog__draghandle"></div>')}),VM=(e,t,o)=>{return e={title:o.shared.providers.translate(e),draggable:o.dialog.isDraggableModal()},t=t,o=o.shared.providers,t=DA.parts.title(RM(e,t,B.none(),o)),n=DA.parts.draghandle(NM()),o=DA.parts.close(IM(o)),t=[t].concat(e.draggable?[n]:[]).concat([o]),o0.sketch({dom:eh('<div class="tox-dialog__header"></div>'),components:t});var n},zM=(e,t,o,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:n.getOr(0)+"px",position:"absolute"}},behaviours:t,components:[{dom:eh('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),HM=(e,r,t)=>({onClose:()=>t.closeWindow(),onBlock:o=>{const n=Yi(e().element,".tox-dialog__header").map(e=>xo(e));DA.setBusy(e(),(e,t)=>zM(o.message,t,r,n))},onUnblock:()=>{DA.setIdle(e())}}),LM=(e,t,o,n)=>{return Pi(FM({...e,firstTabstop:1,lazySink:n.shared.getSink,extraBehaviours:[pM.config({channel:mk+"-"+e.id,updateState:(e,t)=>B.some(t),initialData:t}),ZS({}),...e.extraBehaviours],onEscape:e=>{A(e,g0)},dialogEvents:o,eventOrder:{[Pa()]:[pM.name(),cc.name()],[Qa()]:["scroll-lock",pM.name(),"messages","dialog-events","alloy.base.behaviour"],[es()]:["alloy.base.behaviour","dialog-events","messages",pM.name(),"scroll-lock"]}}))},PM=(e,n={})=>{return C(e,e=>{return"menu"===e.type?(t=e,o=C(t.items,e=>{var t=T(n,e.name).getOr(D(!1));return{...e,storage:t}}),{...t,items:o}):e;var t,o})},UM=e=>Se(e,(e,t)=>{return"menu"===t.type?(t=t,Se(t.items,(e,t)=>(e[t.name]=t.storage,e),e)):e},{}),WM=(e,r)=>[xs(_a(),dk),e(m0,(e,t,o,n)=>{gc(qt(n.element)).fold(k,uc),r.onClose(),t.onClose()}),e(g0,(e,t,o,n)=>{t.onCancel(e),A(n,m0)}),R(v0,(e,t)=>r.onUnblock()),R(f0,(e,t)=>r.onBlock(t.event))],jM=(s,e)=>{var t=(e,a)=>R(e,(o,n)=>{var t,r;t=o,r=(e,t)=>{a(s(),e,n.event,o)},pM.getState(t).get().each(e=>{r(e,t)})});return[...WM(t,e),t(p0,(e,t,o)=>{t.onAction(e,{name:o.name})})]},GM=(s,e,l)=>{var t=(e,a)=>R(e,(o,n)=>{var t,r;t=o,r=(e,t)=>{a(s(),e,n.event,o)},pM.getState(t).get().each(e=>{r(e.internalDialog,t)})});return[...WM(t,e),t(h0,(e,t)=>t.onSubmit(e)),t(u0,(e,t,o)=>{t.onChange(e,{name:o.name})}),t(p0,(e,t,o,n)=>{const r=()=>n.getSystem().isConnected()?P.focusIn(n):void 0,a=e=>ao(e,"disabled")||ro(e,"aria-disabled").exists(e=>"true"===e);var s=qt(n.element);const i=gc(s);t.onAction(e,{name:o.name,value:o.value}),gc(s).fold(r,t=>{a(t)||i.exists(e=>Bt(t,e)&&a(e))?r():l().toOptional().filter(e=>!Bt(e.element,t)).each(r)})}),t(b0,(e,t,o)=>{t.onTabChange(e,{newTabName:o.name,oldTabName:o.oldName})}),Cs(e=>{var t=s();S.setValue(e,t.getData())})]},$M=(e,t)=>{var t=t.map(e=>e.footerButtons).getOr([]),t=ye(t,e=>"start"===e.align),o=(e,t)=>o0.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:C(t,e=>e.memento.asSpec())});return[o("start",t.pass),o("end",t.fail)]},qM=(e,t,n)=>{return{dom:eh('<div class="tox-dialog__footer"></div>'),components:[],behaviours:V([pM.config({channel:hk+"-"+t,initialData:e,updateState:(r,e)=>{const a=C(e.buttons,e=>{var t,o=th((o=e,t=n,XC(o,o.type,t)));return{name:e.name,align:e.align,memento:o}});return B.some({lookupByName:e=>{return t=r,o=a,n=e,Ce(o,e=>e.name===n).bind(e=>e.memento.getOpt(t));var t,o,n},footerButtons:a})},renderComponents:$M})])}},XM=(e,t,o)=>DA.parts.footer(qM(e,t,o)),KM=(e,t)=>{var o;return e.getRoot().getSystem().isConnected()?(o=z.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper()),PS.getField(o,t).orThunk(()=>{return e.getFooter().bind(e=>pM.getState(e).get()).bind(e=>e.lookupByName(t))})):B.none()},YM=(a,s,i)=>{const e=e=>{var t=a.getRoot();t.getSystem().isConnected()&&e(t)};const l={getData:()=>{var e=a.getRoot(),e=e.getSystem().isConnected()?a.getFormWrapper():e,e=S.getValue(e),t=Ue(i,e=>e.get());return{...e,...t}},setData:r=>{e(e=>{var t=l.getData();const o=jn(t,r);var t=((e,t)=>{e=e.getRoot();return pM.getState(e).get().map(e=>Or(Cr("data",e.dataValidator,t))).getOr(t)})(a,o),n=a.getFormWrapper();S.setValue(n,t),Pe(i,(e,t)=>{Ye(o,t)&&e.set(o[t])})})},setEnabled:(e,t)=>{KM(a,e).each(t?H.enable:H.disable)},focus:e=>{KM(a,e).each(j.focus)},block:t=>{if(!b(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");e(e=>{M(e,f0,{message:t})})},unblock:()=>{e(e=>{A(e,v0)})},showTab:o=>{e(e=>{var t=a.getBody();pM.getState(t).get().exists(e=>e.isTabPanel())&&z.getCurrent(t).each(e=>{bM.showTab(e,o)})})},redial:r=>{e(e=>{var t=a.getId(),o=s(r),n=PM(o.internalDialog.buttons,i);e.getSystem().broadcastOn([mk+"-"+t],o),e.getSystem().broadcastOn([gk+"-"+t],o.internalDialog),e.getSystem().broadcastOn([pk+"-"+t],o.internalDialog),e.getSystem().broadcastOn([hk+"-"+t],{...o.internalDialog,buttons:n}),l.setData(o.initialData)})},close:()=>{e(e=>{A(e,m0)})},toggleFullscreen:a.toggleFullscreen};return l},JM=(e,t,o)=>{const n=N("dialog");var r=e.internalDialog,a=VM(r.title,n,o),s=((e,t,o)=>{e=OM(e,t,B.none(),o,!1);return DA.parts.body(e)})({body:r.body,initialData:r.initialData},n,o),i=PM(r.buttons),l=UM(i),i=ot(0!==i.length,XM({buttons:i},n,o)),c=GM(()=>m,HM(()=>u,o.shared.providers,t),o.shared.getSink);const d=(e=>{switch(e){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(r.size);r={id:n,header:a,body:s,footer:i,extraClasses:d,extraBehaviours:[],extraStyles:{}};const u=LM(r,e,c,o);a={getId:O(n),getRoot:O(u),getBody:()=>DA.getBody(u),getFooter:()=>DA.getFooter(u),getFormWrapper:()=>{var e=DA.getBody(u);return z.getCurrent(e).getOr(e)},toggleFullscreen:()=>{var e="tox-dialog--fullscreen",t=w.fromDom(u.element.dom);vi(t,e)?(fi(t,e),bi(t,d)):(yi(t,d),pi(t,e))}};const m=YM(a,t.redial,l);return{dialog:u,instanceApi:m}},ZM=(e,t,r,o=!1)=>{var n=N("dialog"),a=N("dialog-label"),s=N("dialog-content"),i=e.internalDialog,l="medium"!==i.size?B.none():B.some("tox-dialog--width-md");const c=th((p={title:i.title,draggable:!0},u=n,m=a,g=r.shared.providers,o0.sketch({dom:eh('<div class="tox-dialog__header"></div>'),components:[RM(p,u,B.some(m),g),NM(),IM(g)],containerBehaviours:V([fA.config({mode:"mouse",blockerClass:"blocker",getTarget:e=>Ji(e,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),d=th((p={body:i.body,initialData:i.initialData},u=n,m=s,g=r,s=o,OM(p,u,B.some(m),g,s)));var u,m,g,o=PM(i.buttons),p=UM(o);const h=ot(0!==o.length,th((u={buttons:o},m=n,g=r,qM(u,m,g))));s=GM(()=>b,{onBlock:n=>{DT.block(v,(e,t)=>{var o=c.getOpt(v).map(e=>xo(e.element));return zM(n.message,t,r.shared.providers,o)})},onUnblock:()=>{DT.unblock(v)},onClose:()=>t.closeWindow()},r.shared.getSink);const f="tox-dialog-inline",v=Pi({dom:{tag:"div",classes:["tox-dialog",f,...l.toArray()],attributes:{role:"dialog","aria-labelledby":a}},eventOrder:{[Pa()]:[pM.name(),cc.name()],[Ua()]:["execute-on-form"],[Qa()]:["reflecting","execute-on-form"]},behaviours:V([P.config({mode:"cyclic",onEscape:e=>(A(e,m0),B.some(!0)),useTabstopAt:e=>!uk(e)&&("button"!==xt(e)||"disabled"!==no(e,"disabled")),firstTabstop:1}),pM.config({channel:mk+"-"+n,updateState:(e,t)=>B.some(t),initialData:e}),j.config({}),W("execute-on-form",s.concat([Ss(_a(),(e,t)=>{P.focusIn(e)}),R(os(),(e,t)=>{e.getSystem().broadcastOn([vk],{newFocus:t.event.newFocus})})])),DT.config({getRoot:()=>B.some(v)}),U.config({}),ZS({})]),components:[c.asSpec(),d.asSpec(),...h.map(e=>e.asSpec()).toArray()]});const b=YM({getId:O(n),getRoot:O(v),getFooter:()=>h.map(e=>e.get(v)),getBody:()=>d.get(v),getFormWrapper:()=>{var e=d.get(v);return z.getCurrent(e).getOr(e)},toggleFullscreen:()=>{var e="tox-dialog--fullscreen",t=w.fromDom(v.element.dom);xi(t,[e])?(yi(t,[e]),bi(t,[f])):(yi(t,[f]),bi(t,[e]))}},t.redial,p);return{dialog:v,instanceApi:b}};var QM=tinymce.util.Tools.resolve("tinymce.util.URI");const eB=["insertContent","setContent","execCommand","close","block","unblock"],tB=e=>y(e)&&-1!==eB.indexOf(e.mceAction),oB=(s,e,i,t)=>{const o=N("dialog");var n=VM(s.title,o,t),r=(e=>{e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[lk(B.none(),{dom:{tag:"iframe",attributes:{src:e.url}},behaviours:V([a0.config({}),j.config({})])})]}],behaviours:V([P.config({mode:"acyclic",useTabstopAt:re(uk)})])};return DA.parts.body(e)})(s),a=s.buttons.bind(e=>0===e.length?B.none():B.some(XM({buttons:e},o,t))),e=jM(()=>h,HM(()=>p,t.shared.providers,e)),l={...s.height.fold(()=>({}),e=>({height:e+"px","max-height":e+"px"})),...s.width.fold(()=>({}),e=>({width:e+"px","max-width":e+"px"}))},c=s.width.isNone()&&s.height.isNone()?["tox-dialog--width-lg"]:[];const d=new QM(s.url,{base_uri:new QM(window.location.href)}),u=d.protocol+"://"+d.host+(d.port?":"+d.port:""),m=Mc();var g=[W("messages",[ks(()=>{var e=Ic(w.fromDom(window),"message",e=>{if(d.isSameOrigin(new QM(e.raw.origin))){e=e.raw.data;if(tB(e)){var t=i,o=h,n=e;switch(n.mceAction){case"insertContent":t.insertContent(n.content);break;case"setContent":t.setContent(n.content);break;case"execCommand":var r=!!q(n.ui)&&n.ui;t.execCommand(n.cmd,r,n.value);break;case"close":o.close();break;case"block":o.block(n.message);break;case"unblock":o.unblock()}}else a=e,!tB(a)&&y(a)&&Ye(a,"mceAction")&&s.onMessage(h,e)}var a});m.set(e)}),Cs(m.clear)]),cc.config({channels:{[fk]:{onReceive:(e,t)=>{Yi(e.element,"iframe").each(e=>{e=e.dom.contentWindow;Y(e)&&e.postMessage(t,u)})}}}})],n={id:o,header:n,body:r,footer:a,extraClasses:c,extraBehaviours:g,extraStyles:l};const p=LM(n,s,e,t),h=(t=>{const e=e=>{t.getSystem().isConnected()&&e(t)};return{block:t=>{if(!b(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");e(e=>{M(e,f0,{message:t})})},unblock:()=>{e(e=>{A(e,v0)})},close:()=>{e(e=>{A(e,m0)})},sendMessage:t=>{e(e=>{e.getSystem().broadcastOn([fk],t)})}}})(p);return{dialog:p,instanceApi:h}},nB=i=>{const l=i.shared;return{open:(e,t)=>{var o=()=>{DA.hide(s),t()},n=th(XC({name:"close-alert",text:"OK",primary:!0,buttonType:B.some("primary"),align:"end",enabled:!0,icon:B.none()},"cancel",i)),r=DM(),a=EM(o,l.providers);const s=Pi(FM({lazySink:()=>l.getSink(),header:TM(r,a),body:AM(e,l.providers),footer:B.some(MM(BM([],[n.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[R(g0,o)],eventOrder:{}}));DA.show(s);r=n.get(s);j.focus(r)}}},rB=l=>{const c=l.shared;return{open:(e,t)=>{const o=e=>{DA.hide(i),t(e)};var n=th(XC({name:"yes",text:"Yes",primary:!0,buttonType:B.some("primary"),align:"end",enabled:!0,icon:B.none()},"submit",l)),r=XC({name:"no",text:"No",primary:!1,buttonType:B.some("secondary"),align:"end",enabled:!0,icon:B.none()},"cancel",l),a=DM(),s=EM(()=>o(!1),c.providers);const i=Pi(FM({lazySink:()=>c.getSink(),header:TM(a,s),body:AM(e,c.providers),footer:B.some(MM(BM([],[r,n.asSpec()]))),onEscape:()=>o(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[R(g0,()=>o(!1)),R(h0,()=>o(!0))],eventOrder:{}}));DA.show(i);a=n.get(i);j.focus(a)}}},aB=(e,t)=>Or(Cr("data",t,e)),sB=e=>Ww(e,".tox-alert-dialog")||Ww(e,".tox-confirm-dialog"),iB=(t,e,o)=>e&&o?[]:[Q_.config({contextual:{lazyContext:()=>B.some(An(w.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:e=>{return Pw(t,e.element).map(e=>{return{bounds:Uw(e),optScrollEnv:B.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Oo(e.element).top})}}).getOrThunk(()=>({bounds:In(),optScrollEnv:B.none()}))}})],lB=d=>{const u=d.editor,m=mv(u),o=nB(d.backstages.dialog),n=rB(d.backstages.dialog);const g=(e,i,l,c)=>{return gM.open((e,t,o)=>{t=aB(t,o);const n=Bc();var r=d.backstages.popup.shared.header.isPositionedAtTop(),o={dataValidator:o,initialData:t,internalDialog:e};const a=()=>n.on(e=>{Kp.reposition(e),Q_.refresh(e)}),s=ZM(o,{redial:gM.redial,closeWindow:()=>{n.on(Kp.hide),u.off("ResizeEditor",a),n.clear(),l(s.instanceApi)}},d.backstages.popup,c.ariaAttrs);e=Pi(Kp.sketch({lazySink:d.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:c.persistent?{event:"doNotDismissYet"}:{},...r?{}:{fireRepositionEventInstead:{}},inlineBehaviours:V([W("window-manager-inline-events",[R(ts(),(e,t)=>{A(s.dialog,g0)})]),...iB(u,m,r)]),isExtraPart:(e,t)=>sB(t)}));n.set(e);return Kp.showWithinBounds(e,Ui(s.dialog),{anchor:i},()=>{var e=u.inline?eo():w.fromDom(u.getContainer()),e=An(e);return B.some(e)}),m&&r||(Q_.refresh(e),u.on("ResizeEditor",a)),s.instanceApi.setData(t),P.focusIn(s.dialog),s.instanceApi},e)};return{open:(e,t,o)=>{if(!X(t)){if("toolbar"===t.inline)return g(e,d.backstages.popup.shared.anchors.inlineDialog(),o,t);var n,i,l,c;if("bottom"===t.inline)return n=e,i=d.backstages.popup.shared.anchors.inlineBottomDialog(),l=o,c=t,r=(e,t,o)=>{t=aB(t,o);const n=Bc();var r=d.backstages.popup.shared.header.isPositionedAtTop(),o={dataValidator:o,initialData:t,internalDialog:e};const a=()=>n.on(e=>{Kp.reposition(e),Q_.refresh(e)}),s=ZM(o,{redial:gM.redial,closeWindow:()=>{n.on(Kp.hide),u.off("ResizeEditor ScrollWindow ElementScroll",a),n.clear(),l(s.instanceApi)}},d.backstages.popup,c.ariaAttrs);e=Pi(Kp.sketch({lazySink:d.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:c.persistent?{event:"doNotDismissYet"}:{},...r?{}:{fireRepositionEventInstead:{}},inlineBehaviours:V([W("window-manager-inline-events",[R(ts(),(e,t)=>{A(s.dialog,g0)})]),Q_.config({contextual:{lazyContext:()=>B.some(An(w.fromDom(u.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:e=>{return Pw(u,e.element).map(e=>{return{bounds:Uw(e),optScrollEnv:B.some({currentScrollTop:e.element.dom.scrollTop,scrollElmTop:Oo(e.element).top})}}).getOrThunk(()=>({bounds:In(),optScrollEnv:B.none()}))}})]),isExtraPart:(e,t)=>sB(t)}));n.set(e);return Kp.showWithinBounds(e,Ui(s.dialog),{anchor:i},()=>d.backstages.popup.shared.getSink().toOptional().bind(e=>{var e=Pw(u,e.element).map(e=>Uw(e)).getOr(In()),t=An(w.fromDom(u.getContentAreaContainer())),t=Bn(t,e);return B.some(Dn(t.x,t.y,t.width,t.height-15))})),Q_.refresh(e),u.on("ResizeEditor ScrollWindow ElementScroll",a),s.instanceApi.setData(t),P.focusIn(s.dialog),s.instanceApi},gM.open(r,n);if("cursor"===t.inline)return g(e,d.backstages.popup.shared.anchors.cursor(),o,t)}{var r=e,a=o,s=(e,t,o)=>{o={dataValidator:o,initialData:t,internalDialog:e};const n=JM(o,{redial:gM.redial,closeWindow:()=>{DA.hide(n.dialog),a(n.instanceApi)}},d.backstages.dialog);return DA.show(n.dialog),n.instanceApi.setData(t),n.instanceApi};return gM.open(s,r)}},openUrl:(e,t)=>{{var o=t,n=e=>{const t=oB(e,{closeWindow:()=>{DA.hide(t.dialog),o(t.instanceApi)}},u,d.backstages.dialog);return DA.show(t.dialog),t.instanceApi};return gM.openUrl(n,e)}},alert:(e,t)=>{o.open(e,t)},close:e=>{e.close()},confirm:(e,t)=>{n.open(e,t)}}};f.add("silver",t=>{a=t,ff(a),Tx(a),fD(a);let o=()=>In();const{dialogs:e,popups:r,renderUI:n}=EA(t,{getPopupSinkBounds:()=>o()});Nw.register(t,r.backstage.shared);var a=lB({editor:t,backstages:{popup:r.backstage,dialog:e.backstage}});return{renderUI:()=>{var e=n();return Pw(t,r.getMothership().element).each(e=>{o=()=>Uw(e)}),e},getWindowManagerImpl:O(a),getNotificationManagerImpl:()=>{{var i=t,e={backstage:r.backstage},n=r.getMothership();const l=e.backstage.shared,c=()=>{var e=An(w.fromDom(i.getContentAreaContainer())),t=In(),o=Al(t.x,e.x,e.right),n=Al(t.y,e.y,e.bottom),r=Math.max(e.right,t.right),e=Math.max(e.bottom,t.bottom);return B.some(Dn(o,n,r-o,e-n))};return{open:(e,t)=>{const o=()=>{t(),Kp.hide(a)},r=Pi(df.sketch({text:e.text,level:pe(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:e.icon,closeButton:e.closeButton,onAction:o,iconProvider:l.providers.icons,translationProvider:l.providers.translate})),a=Pi(Kp.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:l.getSink,fireDismissalEventInstead:{},...l.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));n.add(a),Z(e.timeout)&&0<e.timeout&&Yp.setEditorTimeout(i,()=>{o()},e.timeout);const s={close:o,reposition:()=>{const t=Ui(r),o={maxHeightFunction:Yc()},n=i.notificationManager.getNotifications();var e;n[0]===s?(e={...l.anchors.banner(),overrides:o},Kp.showWithinBounds(a,t,{anchor:e},c)):ge(n,s).each(e=>{e=n[e-1].getEl(),e={type:"node",root:eo(),node:B.some(w.fromDom(e)),overrides:o,layouts:{onRtl:()=>[jl],onLtr:()=>[jl]}};Kp.showWithinBounds(a,t,{anchor:e},c)})},text:e=>{df.updateText(r,e)},settings:e,getEl:()=>r.element.dom,progressBar:{value:e=>{df.updateProgress(r,e)}}};return s},close:e=>{e.close()},getArgs:e=>e.settings}}}}})}();
!function(t){"undefined"!=typeof exports?module.exports=t():window.LightRouter=t(window)}(function(s){function t(t){this.pathRoot="",this.routes=[],this.type="path",this.path=null,this.hash=null,(this.context=this).handler=s;var e,h="([\\w-]+)";if(this.namedParam={match:new RegExp("{("+h+")}","g"),replace:h},(t=t||{}).type&&this.setType(t.type),t.path&&this.setPath(t.path),t.pathRoot&&this.setPathRoot(t.pathRoot),t.hash&&this.setHash(t.hash),t.context&&this.setContext(t.context),t.handler&&this.setHandler(t.handler),t.routes)for(e in t.routes)this.add(e,t.routes[e])}function e(t,e,h){this.path=t,this.callback=e,this.router=h,this.values=[]}return t.prototype={Route:e,add:function(t,e){return this.routes.push(new this.Route(t,e,this)),this},empty:function(){return this.routes=[],this},setType:function(t){return this.type=t,this},setPathRoot:function(t){return this.pathRoot=t,this},setPath:function(t){return this.path=t,this},setHash:function(t){return this.hash=t,this},setContext:function(t){return this.context=t,this},setHandler:function(t){return this.handler=t,this},getUrl:function(t){var e,h;return"path"==(t=t||this.type)?(e=new RegExp("^"+this.pathRoot+"/?"),h=(h=this.path||s.location.pathname.substring(1)).replace(e,"")):"hash"==t&&(h=this.hash||s.location.hash.substring(1)),decodeURI(h)},match:function(t,e){t=new this.Route(t,e,this);if(t.test(this.getUrl()))return t.run()},run:function(){var t,e,h=this.getUrl();for(e in this.routes)if((t=this.routes[e]).test(h))return t.run(),t}},e.prototype={regex:function(){var t=this.path;return"string"==typeof t?new RegExp("^"+t.replace(/\//g,"\\/").replace(this.router.namedParam.match,this.router.namedParam.replace)+"$"):t},params:function(){var t,e={},h=this.values,s=h,r=0,i=this.path;for(t in"string"==typeof i&&(r=1,s=i.match(this.router.namedParam.match)),s)e[r?s[t].replace(this.router.namedParam.match,"$1"):t]=h[t];return e},test:function(t){return!!(t=t.match(this.regex()))&&(this.values=t.slice(1),!0)},run:function(){return"string"==typeof this.callback?this.router.handler[this.callback](this.params()):this.callback.apply(this.router.context,[this.params()])}},t});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){"use strict";function e(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function M(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n;e=o,n=i[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}function h(t,e){if(null==t)return{};var n,o=function(t,e){if(null==t)return{};for(var n,o={},i=Object.keys(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n]);return o}function f(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var n;if(t)return"string"==typeof t?g(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function t(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var y=t(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),S=t(/Edge/i),m=t(/firefox/i),_=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),n=t(/iP(ad|od|hone)/i),C=t(/chrome/i)&&t(/android/i),T={capture:!1,passive:!1};function s(t,e,n){t.addEventListener(e,n,!y&&T)}function r(t,e,n){t.removeEventListener(e,n,!y&&T)}function x(t,e){if(e&&(">"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function N(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(">"!==e[0]||t.parentNode===n)&&x(t,e)||o&&t===n)return t}while(t!==n&&(t=(i=t).host&&i!==document&&i.host.nodeType?i.host:i.parentNode))}var i;return null}var q,V=/\s+/g;function I(t,e,n){var o;t&&e&&(t.classList?t.classList[n?"add":"remove"](e):(o=(" "+t.className+" ").replace(V," ").replace(" "+e+" "," "),t.className=(o+(n?" "+e:"")).replace(V," ")))}function P(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];o[e=e in o||-1!==e.indexOf("webkit")?e:"-webkit-"+e]=n+("string"==typeof n?"":"px")}}function p(t,e){var n="";if("string"==typeof t)n=t;else do{var o=P(t,"transform")}while(o&&"none"!==o&&(n=o+" "+n),!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Z(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function O(){var t=document.scrollingElement;return t||document.documentElement}function k(t,e,n,o,i){if(t.getBoundingClientRect||t===window){var r,a,l,s,c,u,d=t!==window&&t.parentNode&&t!==O()?(a=(r=t.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,u=r.height,r.width):(l=a=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,window.innerWidth);if((e||n)&&t!==window&&(i=i||t.parentNode,!y))do{if(i&&i.getBoundingClientRect&&("none"!==P(i,"transform")||n&&"static"!==P(i,"position"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(P(i,"border-top-width")),l-=h.left+parseInt(P(i,"border-left-width")),s=a+r.height,c=l+r.width;break}}while(i=i.parentNode);return o&&t!==window&&(o=(e=p(i||t))&&e.a,t=e&&e.d,e)&&(s=(a/=t)+(u/=t),c=(l/=o)+(d/=o)),{top:a,left:l,bottom:s,right:c,width:d,height:u}}}function $(t,e,n){for(var o=A(t,!0),i=k(t)[e];o;){var r=k(o)[n];if(!("top"===n||"left"===n?r<=i:i<=r))return o;if(o===O())break;o=A(o,!1)}return!1}function Q(t,e,n,o){for(var i=0,r=0,a=t.children;r<a.length;){if("none"!==a[r].style.display&&a[r]!==G.ghost&&(o||a[r]!==G.dragged)&&N(a[r],n.draggable,t,!1)){if(i===e)return a[r];i++}r++}return null}function J(t,e){for(var n=t.lastElementChild;n&&(n===G.ghost||"none"===P(n,"display")||e&&!x(n,e));)n=n.previousElementSibling;return n||null}function R(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===G.clone||e&&!x(t,e)||n++;return n}function tt(t){var e=0,n=0,o=O();if(t)do{var i=p(t),r=i.a,i=i.d}while(e+=t.scrollLeft*r,n+=t.scrollTop*i,t!==o&&(t=t.parentNode));return[e,n]}function A(t,e){if(t&&t.getBoundingClientRect){var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=P(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return O();if(o||e)return n;o=!0}}}while(n=n.parentNode)}return O()}function et(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function nt(e,n){return function(){var t;q||(1===(t=arguments).length?e.call(this,t[0]):e.apply(this,t),q=setTimeout(function(){q=void 0},n))}}function ot(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function it(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function rt(t,e){P(t,"position","absolute"),P(t,"top",e.top),P(t,"left",e.left),P(t,"width",e.width),P(t,"height",e.height)}function at(t){P(t,"position",""),P(t,"top",""),P(t,"left",""),P(t,"width",""),P(t,"height","")}var X="Sortable"+(new Date).getTime();function lt(){var e,o=[];return{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){var e,n;"none"!==P(t,"display")&&t!==G.ghost&&(o.push({target:t,rect:k(t)}),e=M({},o[o.length-1].rect),t.thisAnimationDuration&&(n=p(t,!0))&&(e.top-=n.f,e.left-=n.e),t.fromRect=e)})},addAnimationState:function(t){o.push(t)},removeAnimationState:function(t){o.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(o,{target:t}),1)},animateAll:function(t){var c,u,d=this;this.options.animation?(c=!1,u=0,o.forEach(function(t){var e,n=0,o=t.target,i=o.fromRect,r=k(o),a=o.prevFromRect,l=o.prevToRect,t=t.rect,s=p(o,!0);s&&(r.top-=s.f,r.left-=s.e),o.toRect=r,o.thisAnimationDuration&&et(a,r)&&!et(i,r)&&(t.top-r.top)/(t.left-r.left)==(i.top-r.top)/(i.left-r.left)&&(s=t,a=a,l=l,e=d.options,n=Math.sqrt(Math.pow(a.top-s.top,2)+Math.pow(a.left-s.left,2))/Math.sqrt(Math.pow(a.top-l.top,2)+Math.pow(a.left-l.left,2))*e.animation),et(r,i)||(o.prevFromRect=i,o.prevToRect=r,n=n||d.options.animation,d.animate(o,t,r,n)),n&&(c=!0,u=Math.max(u,n),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout(function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null},n),o.thisAnimationDuration=n)}),clearTimeout(e),c?e=setTimeout(function(){"function"==typeof t&&t()},u):"function"==typeof t&&t(),o=[]):(clearTimeout(e),"function"==typeof t&&t())},animate:function(t,e,n,o){var i,r;o&&(P(t,"transition",""),P(t,"transform",""),r=(i=p(this.el))&&i.a,i=i&&i.d,r=(e.left-n.left)/(r||1),e=(e.top-n.top)/(i||1),t.animatingX=!!r,t.animatingY=!!e,P(t,"transform","translate3d("+r+"px,"+e+"px,0)"),this.forRepaintDummy=t.offsetWidth,P(t,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),P(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){P(t,"transition",""),P(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},o))}}}var st=[],ct={initializeByDefault:!0},ut={mount:function(e){for(var t in ct)!ct.hasOwnProperty(t)||t in e||(e[t]=ct[t]);st.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),st.push(e)},pluginEvent:function(e,n,o){var t=this,i=(this.eventCanceled=!1,o.cancel=function(){t.eventCanceled=!0},e+"Global");st.forEach(function(t){n[t.pluginName]&&(n[t.pluginName][i]&&n[t.pluginName][i](M({sortable:n},o)),n.options[t.pluginName])&&n[t.pluginName][e]&&n[t.pluginName][e](M({sortable:n},o))})},initializePlugins:function(n,o,i,t){for(var e in st.forEach(function(t){var e=t.pluginName;(n.options[e]||t.initializeByDefault)&&((t=new t(n,o,n.options)).sortable=n,t.options=n.options,n[e]=t,a(i,t.defaults))}),n.options){var r;n.options.hasOwnProperty(e)&&void 0!==(r=this.modifyOption(n,e,n.options[e]))&&(n.options[e]=r)}},getEventProperties:function(e,n){var o={};return st.forEach(function(t){"function"==typeof t.eventProperties&&a(o,t.eventProperties.call(n[t.pluginName],e))}),o},modifyOption:function(e,n,o){var i;return st.forEach(function(t){e[t.pluginName]&&t.optionListeners&&"function"==typeof t.optionListeners[n]&&(i=t.optionListeners[n].call(e[t.pluginName],o))}),i}};function dt(t){var e=t.sortable,n=t.rootEl,o=t.name,i=t.targetEl,r=t.cloneEl,a=t.toEl,l=t.fromEl,s=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,p=t.putSortable,t=t.extraEventProperties;if(e=e||n&&n[X]){var f,g,m=e.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1),b=(!window.CustomEvent||y||S?(f=document.createEvent("Event")).initEvent(o,!0,!0):f=new CustomEvent(o,{bubbles:!0,cancelable:!0}),f.to=a||n,f.from=l||n,f.item=i||n,f.clone=r,f.oldIndex=s,f.newIndex=c,f.oldDraggableIndex=u,f.newDraggableIndex=d,f.originalEvent=h,f.pullMode=p?p.lastPutMode:void 0,M(M({},t),ut.getEventProperties(o,e)));for(g in b)f[g]=b[g];n&&n.dispatchEvent(f),m[v]&&m[v].call(e,f)}}function Y(t,e){var n=(o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,o=h(o,ht);ut.pluginEvent.bind(G)(t,e,M({dragEl:F,parentEl:j,ghostEl:H,rootEl:L,nextEl:yt,lastDownEl:wt,cloneEl:l,cloneHidden:i,dragStarted:At,putSortable:z,activeSortable:G.active,originalEvent:n,oldIndex:Et,oldDraggableIndex:Dt,newIndex:K,newDraggableIndex:W,hideGhostForTarget:gt,unhideGhostForTarget:mt,cloneNowHidden:function(){i=!0},cloneNowShown:function(){i=!1},dispatchSortableEvent:function(t){B({sortable:e,name:t,originalEvent:n})}},o))}var ht=["evt"];function B(t){dt(M({putSortable:z,cloneEl:l,targetEl:F,rootEl:L,oldIndex:Et,oldDraggableIndex:Dt,newIndex:K,newDraggableIndex:W},t))}function pt(t,e){var n,o=P(t),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=Q(t,0,e),t=Q(t,1,e),e=r&&P(r),a=t&&P(t),l=e&&parseInt(e.marginLeft)+parseInt(e.marginRight)+k(r).width,s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+k(t).width;return"flex"===o.display?"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal":"grid"===o.display?o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":r&&e.float&&"none"!==e.float?(n="left"===e.float?"left":"right",!t||"both"!==a.clear&&a.clear!==n?"horizontal":"vertical"):r&&("block"===e.display||"flex"===e.display||"table"===e.display||"grid"===e.display||i<=l&&"none"===o[Kt]||t&&"none"===o[Kt]&&i<l+s)?"vertical":"horizontal"}function ft(t){function l(r,a){return function(t,e,n,o){var i=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;return!(null!=r||!a&&!i)||null!=r&&!1!==r&&(a&&"clone"===r?r:"function"==typeof r?l(r(t,e,n,o),a)(t,e,n,o):(i=(a?t:e).options.group.name,!0===r||"string"==typeof r&&r===i||r.join&&-1<r.indexOf(i)))}}var e={},n=t.group;n&&"object"==o(n)||(n={name:n}),e.name=n.name,e.checkPull=l(n.pull,!0),e.checkPut=l(n.put),e.revertClone=n.revertClone,t.group=e}function gt(){!zt&&H&&P(H,"display","none")}function mt(){!zt&&H&&P(H,"display","")}function vt(t){if(F){t=t.touches?t.touches[0]:t;i=t.clientX,r=t.clientY,Rt.some(function(t){var e,n,o=t[X].options.emptyInsertThreshold;if(o&&!J(t))return n=k(t),e=i>=n.left-o&&i<=n.right+o,n=r>=n.top-o&&r<=n.bottom+o,e&&n?a=t:void 0});var e=a;if(e){var n,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[X]._onDragOver(o)}}var i,r,a}function bt(t){F&&F.parentNode[X]._isOutsideThisEl(t.target)}var F,j,H,L,yt,wt,l,i,Et,K,Dt,W,St,z,_t,c,Ct,Tt,xt,Ot,At,Mt,Nt,It,u,Pt=!1,kt=!1,Rt=[],Xt=!1,Yt=!1,Bt=[],Ft=!1,jt=[],Ht="undefined"!=typeof document,Lt=n,Kt=S||y?"cssFloat":"float",Wt=Ht&&!C&&!n&&"draggable"in document.createElement("div"),zt=function(){var t;if(Ht)return!y&&((t=document.createElement("x")).style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)}();Ht&&!C&&document.addEventListener("click",function(t){if(kt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),kt=!1},!0);function G(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=a({},e),t[X]=this;var n,o,i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return pt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==G.supportPointer&&"PointerEvent"in window&&!_,emptyInsertThreshold:5};for(n in ut.initializePlugins(this,t,i),i)n in e||(e[n]=i[n]);for(o in ft(e),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&Wt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?s(t,"pointerdown",this._onTapStart):(s(t,"mousedown",this._onTapStart),s(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(s(t,"dragover",this),s(t,"dragenter",this)),Rt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),a(this,lt())}function Gt(t,e,n,o,i,r,a,l){var s,c,u=t[X],d=u.options.onMove;return!window.CustomEvent||y||S?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=i||e,s.relatedRect=r||k(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),c=d?d.call(u,s,a):c}function Ut(t){t.draggable=!1}function qt(){Ft=!1}function Vt(t){return setTimeout(t,0)}function Zt(t){return clearTimeout(t)}G.prototype={constructor:G,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Mt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,F):this.options.direction},_onTapStart:function(e){if(e.cancelable){for(var n=this,o=this.el,t=this.options,i=t.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=t.filter,u=o,d=(jt.length=0,u.getElementsByTagName("input")),h=d.length;h--;){var p=d[h];p.checked&&jt.push(p)}if(!F&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||t.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!_||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=N(l,t.draggable,o,!1))&&l.animated||wt===l)){if(Et=R(l),Dt=R(l,t.draggable),"function"==typeof c){if(c.call(this,e,l,this))return B({sortable:n,rootEl:s,name:"filter",targetEl:l,toEl:o,fromEl:o}),Y("filter",n,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c=c&&c.split(",").some(function(t){if(t=N(s,t.trim(),o,!1))return B({sortable:n,rootEl:t,name:"filter",targetEl:l,fromEl:o,toEl:o}),Y("filter",n,{evt:e}),!0}))return void(i&&e.cancelable&&e.preventDefault());t.handle&&!N(s,t.handle,o,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(t,e,n){var o,i=this,r=i.el,a=i.options,l=r.ownerDocument;n&&!F&&n.parentNode===r&&(o=k(n),L=r,j=(F=n).parentNode,yt=F.nextSibling,wt=n,St=a.group,_t={target:G.dragged=F,clientX:(e||t).clientX,clientY:(e||t).clientY},xt=_t.clientX-o.left,Ot=_t.clientY-o.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,F.style["will-change"]="all",r=function(){Y("delayEnded",i,{evt:t}),G.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!m&&i.nativeDraggable&&(F.draggable=!0),i._triggerDragStart(t,e),B({sortable:i,name:"choose",originalEvent:t}),I(F,a.chosenClass,!0))},a.ignore.split(",").forEach(function(t){Z(F,t.trim(),Ut)}),s(l,"dragover",vt),s(l,"mousemove",vt),s(l,"touchmove",vt),s(l,"mouseup",i._onDrop),s(l,"touchend",i._onDrop),s(l,"touchcancel",i._onDrop),m&&this.nativeDraggable&&(this.options.touchStartThreshold=4,F.draggable=!0),Y("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(S||y)?r():G.eventCanceled?this._onDrop():(s(l,"mouseup",i._disableDelayedDrag),s(l,"touchend",i._disableDelayedDrag),s(l,"touchcancel",i._disableDelayedDrag),s(l,"mousemove",i._delayedDragTouchMoveHandler),s(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&s(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){F&&Ut(F),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;r(t,"mouseup",this._disableDelayedDrag),r(t,"touchend",this._disableDelayedDrag),r(t,"touchcancel",this._disableDelayedDrag),r(t,"mousemove",this._delayedDragTouchMoveHandler),r(t,"touchmove",this._delayedDragTouchMoveHandler),r(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?s(document,"pointermove",this._onTouchMove):s(document,e?"touchmove":"mousemove",this._onTouchMove):(s(F,"dragend",this),s(L,"dragstart",this._onDragStart));try{document.selection?Vt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){var n;Pt=!1,L&&F?(Y("dragStarted",this,{evt:e}),this.nativeDraggable&&s(document,"dragover",bt),n=this.options,t||I(F,n.dragClass,!1),I(F,n.ghostClass,!0),G.active=this,t&&this._appendGhost(),B({sortable:this,name:"start",originalEvent:e})):this._nulling()},_emulateDragOver:function(){if(c){this._lastX=c.clientX,this._lastY=c.clientY,gt();for(var t=document.elementFromPoint(c.clientX,c.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(c.clientX,c.clientY))!==e;)e=t;if(F.parentNode[X]._isOutsideThisEl(t),e)do{if(e[X])if(e[X]._onDragOver({clientX:c.clientX,clientY:c.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}while(e=(t=e).parentNode);mt()}},_onTouchMove:function(t){if(_t){var e=this.options,n=e.fallbackTolerance,e=e.fallbackOffset,o=t.touches?t.touches[0]:t,i=H&&p(H,!0),r=H&&i&&i.a,a=H&&i&&i.d,l=Lt&&u&&tt(u),r=(o.clientX-_t.clientX+e.x)/(r||1)+(l?l[0]-Bt[0]:0)/(r||1),e=(o.clientY-_t.clientY+e.y)/(a||1)+(l?l[1]-Bt[1]:0)/(a||1);if(!G.active&&!Pt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}H&&(i?(i.e+=r-(Ct||0),i.f+=e-(Tt||0)):i={a:1,b:0,c:0,d:1,e:r,f:e},l="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")"),P(H,"webkitTransform",l),P(H,"mozTransform",l),P(H,"msTransform",l),P(H,"transform",l),Ct=r,Tt=e,c=o),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!H){var t=this.options.fallbackOnBody?document.body:L,e=k(F,!0,Lt,!0,t),n=this.options;if(Lt){for(u=t;"static"===P(u,"position")&&"none"===P(u,"transform")&&u!==document;)u=u.parentNode;u!==document.body&&u!==document.documentElement?(u===document&&(u=O()),e.top+=u.scrollTop,e.left+=u.scrollLeft):u=O(),Bt=tt(u)}I(H=F.cloneNode(!0),n.ghostClass,!1),I(H,n.fallbackClass,!0),I(H,n.dragClass,!0),P(H,"transition",""),P(H,"transform",""),P(H,"box-sizing","border-box"),P(H,"margin",0),P(H,"top",e.top),P(H,"left",e.left),P(H,"width",e.width),P(H,"height",e.height),P(H,"opacity","0.8"),P(H,"position",Lt?"absolute":"fixed"),P(H,"zIndex","100000"),P(H,"pointerEvents","none"),G.ghost=H,t.appendChild(H),P(H,"transform-origin",xt/parseInt(H.style.width)*100+"% "+Ot/parseInt(H.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,i=n.options;Y("dragStart",this,{evt:t}),G.eventCanceled?this._onDrop():(Y("setupClone",this),G.eventCanceled||((l=it(F)).removeAttribute("id"),l.draggable=!1,l.style["will-change"]="",this._hideClone(),I(l,this.options.chosenClass,!1),G.clone=l),n.cloneId=Vt(function(){Y("clone",n),G.eventCanceled||(n.options.removeCloneOnHide||L.insertBefore(l,F),n._hideClone(),B({sortable:n,name:"clone"}))}),e||I(F,i.dragClass,!0),e?(kt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(r(document,"mouseup",n._onDrop),r(document,"touchend",n._onDrop),r(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData)&&i.setData.call(n,o,F),s(document,"drop",n),P(F,"transform","translateZ(0)")),Pt=!0,n._dragStartId=Vt(n._dragStarted.bind(n,e,t)),s(document,"selectstart",n),At=!0,_&&P(document.body,"user-select","none"))},_onDragOver:function(n){var o,i,r,a=this.el,l=n.target,e=this.options,t=e.group,s=G.active,c=St===t,u=e.sort,d=z||s,h=this,p=!1;if(!Ft){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),l=N(l,e.draggable,a,!0),T("dragOver"),G.eventCanceled)return p;if(F.contains(n.target)||l.animated&&l.animatingX&&l.animatingY||h._ignoreWhileAnimating===l)return O(!1);if(kt=!1,s&&!e.disabled&&(c?u||(i=j!==L):z===this||(this.lastPutMode=St.checkPull(this,s,F,n))&&t.checkPut(this,s,F,n))){if(r="vertical"===this._getDirection(n,l),o=k(F),T("dragOverValid"),G.eventCanceled)return p;if(i)return j=L,x(),this._hideClone(),T("revert"),G.eventCanceled||(yt?L.insertBefore(F,yt):L.appendChild(F)),O(!0);t=J(a,e.draggable);if(!t||function(t,e,n){n=k(J(n.el,n.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(n,r,this)&&!t.animated){if(t===F)return O(!1);if((l=t&&a===n.target?t:l)&&(v=k(l)),!1!==Gt(L,a,F,o,l,v,n,!!l))return x(),t&&t.nextSibling?a.insertBefore(F,t.nextSibling):a.appendChild(F),j=a,A(),O(!0)}else if(t&&function(t,e,n){n=k(Q(n.el,0,n.options,!0));return e?t.clientX<n.left-10||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-10||t.clientY<n.bottom&&t.clientX<n.left}(n,r,this)){t=Q(a,0,e,!0);if(t===F)return O(!1);if(v=k(l=t),!1!==Gt(L,a,F,o,l,v,n,!1))return x(),a.insertBefore(F,t),j=a,A(),O(!0)}else if(l.parentNode===a){var f,g,m,v=k(l),t=F.parentNode!==a,b=(S=F.animated&&F.toRect||o,b=l.animated&&l.toRect||v,E=(C=r)?S.left:S.top,y=C?S.right:S.bottom,S=C?S.width:S.height,_=C?b.left:b.top,w=C?b.right:b.bottom,C=C?b.width:b.height,!(E===_||y===w||E+S/2===_+C/2)),y=r?"top":"left",w=$(l,"top","top")||$(F,"top","top"),E=w?w.scrollTop:void 0;if(Mt!==l&&(g=v[y],Xt=!1,Yt=!b&&e.invertSwap||t),0!==(f=function(t,e,n,o,i,r,a,l){var t=o?t.clientY:t.clientX,s=o?n.height:n.width,c=o?n.top:n.left,o=o?n.bottom:n.right,n=!1;if(!a)if(l&&It<s*i){if(Xt=!Xt&&(1===Nt?c+s*r/2<t:t<o-s*r/2)?!0:Xt)n=!0;else if(1===Nt?t<c+It:o-It<t)return-Nt}else if(c+s*(1-i)/2<t&&t<o-s*(1-i)/2)return function(t){return R(F)<R(t)?1:-1}(e);if((n=n||a)&&(t<c+s*r/2||o-s*r/2<t))return c+s/2<t?1:-1;return 0}(n,l,v,r,b?1:e.swapThreshold,null==e.invertedSwapThreshold?e.swapThreshold:e.invertedSwapThreshold,Yt,Mt===l)))for(var D=R(F);(m=j.children[D-=f])&&("none"===P(m,"display")||m===H););if(0===f||m===l)return O(!1);Nt=f;var S=(Mt=l).nextElementSibling,_=!1,C=Gt(L,a,F,o,l,v,n,_=1===f);if(!1!==C)return 1!==C&&-1!==C||(_=1===C),Ft=!0,setTimeout(qt,30),x(),_&&!S?a.appendChild(F):l.parentNode.insertBefore(F,_?S:l),w&&ot(w,0,E-w.scrollTop),j=F.parentNode,void 0===g||Yt||(It=Math.abs(g-k(l)[y])),A(),O(!0)}if(a.contains(F))return O(!1)}return!1}function T(t,e){Y(t,h,M({evt:n,isOwner:c,axis:r?"vertical":"horizontal",revert:i,dragRect:o,targetRect:v,canSort:u,fromSortable:d,target:l,completed:O,onMove:function(t,e){return Gt(L,a,F,o,t,k(t),n,e)},changed:A},e))}function x(){T("dragOverAnimationCapture"),h.captureAnimationState(),h!==d&&d.captureAnimationState()}function O(t){return T("dragOverCompleted",{insertion:t}),t&&(c?s._hideClone():s._showClone(h),h!==d&&(I(F,(z||s).options.ghostClass,!1),I(F,e.ghostClass,!0)),z!==h&&h!==G.active?z=h:h===G.active&&(z=z&&null),d===h&&(h._ignoreWhileAnimating=l),h.animateAll(function(){T("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==d)&&(d.animateAll(),d._ignoreWhileAnimating=null),(l===F&&!F.animated||l===a&&!l.animated)&&(Mt=null),e.dragoverBubble||n.rootEl||l===document||(F.parentNode[X]._isOutsideThisEl(n.target),t)||vt(n),!e.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),p=!0}function A(){K=R(F),W=R(F,e.draggable),B({sortable:h,name:"change",toEl:a,newIndex:K,newDraggableIndex:W,originalEvent:n})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){r(document,"mousemove",this._onTouchMove),r(document,"touchmove",this._onTouchMove),r(document,"pointermove",this._onTouchMove),r(document,"dragover",vt),r(document,"mousemove",vt),r(document,"touchmove",vt)},_offUpEvents:function(){var t=this.el.ownerDocument;r(t,"mouseup",this._onDrop),r(t,"touchend",this._onDrop),r(t,"pointerup",this._onDrop),r(t,"touchcancel",this._onDrop),r(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;K=R(F),W=R(F,n.draggable),Y("drop",this,{evt:t}),j=F&&F.parentNode,K=R(F),W=R(F,n.draggable),G.eventCanceled||(Xt=Yt=Pt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Zt(this.cloneId),Zt(this._dragStartId),this.nativeDraggable&&(r(document,"drop",this),r(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_&&P(document.body,"user-select",""),P(F,"transform",""),t&&(At&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),H&&H.parentNode&&H.parentNode.removeChild(H),(L===j||z&&"clone"!==z.lastPutMode)&&l&&l.parentNode&&l.parentNode.removeChild(l),F)&&(this.nativeDraggable&&r(F,"dragend",this),Ut(F),F.style["will-change"]="",At&&!Pt&&I(F,(z||this).options.ghostClass,!1),I(F,this.options.chosenClass,!1),B({sortable:this,name:"unchoose",toEl:j,newIndex:null,newDraggableIndex:null,originalEvent:t}),L!==j?(0<=K&&(B({rootEl:j,name:"add",toEl:j,fromEl:L,originalEvent:t}),B({sortable:this,name:"remove",toEl:j,originalEvent:t}),B({rootEl:j,name:"sort",toEl:j,fromEl:L,originalEvent:t}),B({sortable:this,name:"sort",toEl:j,originalEvent:t})),z&&z.save()):K!==Et&&0<=K&&(B({sortable:this,name:"update",toEl:j,originalEvent:t}),B({sortable:this,name:"sort",toEl:j,originalEvent:t})),G.active)&&(null!=K&&-1!==K||(K=Et,W=Dt),B({sortable:this,name:"end",toEl:j,originalEvent:t}),this.save())),this._nulling()},_nulling:function(){Y("nulling",this),L=F=j=H=yt=l=wt=i=_t=c=At=K=W=Et=Dt=Mt=Nt=z=St=G.dragged=G.ghost=G.clone=G.active=null,jt.forEach(function(t){t.checked=!0}),jt.length=Ct=Tt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":var e;F&&(this._onDragOver(t),(e=t).dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable)&&e.preventDefault();break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)N(t=n[o],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||function(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;for(;n--;)o+=e.charCodeAt(n);return o.toString(36)}(t));return e},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(t,e){e=o.children[e];N(e,this.options.draggable,o,!1)&&(n[t]=e)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(o.removeChild(n[t]),o.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return N(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=ut.modifyOption(this,t,e);n[t]=void 0!==o?o:e,"group"===t&&ft(n)},destroy:function(){Y("destroy",this);var t=this.el;t[X]=null,r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),r(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(r(t,"dragover",this),r(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),t===L&&this._onDrop(),this._disableDelayedDragEvents(),Rt.splice(Rt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){i||(Y("hideClone",this),G.eventCanceled)||(P(l,"display","none"),this.options.removeCloneOnHide&&l.parentNode&&l.parentNode.removeChild(l),i=!0)},_showClone:function(t){"clone"!==t.lastPutMode?this._hideClone():i&&(Y("showClone",this),G.eventCanceled||(F.parentNode!=L||this.options.group.revertClone?yt?L.insertBefore(l,yt):L.appendChild(l):L.insertBefore(l,F),this.options.group.revertClone&&this.animate(F,l),P(l,"display",""),i=!1))}},Ht&&s(document,"touchmove",function(t){(G.active||Pt)&&t.cancelable&&t.preventDefault()}),G.utils={on:s,off:r,css:P,find:Z,is:function(t,e){return!!N(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:nt,closest:N,toggleClass:I,clone:it,index:R,nextTick:Vt,cancelNextTick:Zt,detectDirection:pt,getChild:Q},G.get=function(t){return t[X]},G.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(e=e[0].constructor===Array?e[0]:e).forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(G.utils=M(M({},G.utils),t.utils)),ut.mount(t)})},G.create=function(t,e){return new G(t,e)};var $t,Qt,Jt,te,ee,ne,U=[],oe=!(G.version="1.15.0");function ie(){U.forEach(function(t){clearInterval(t.pid)}),U=[]}function re(){clearInterval(ne)}function ae(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,t=t.unhideGhostForTarget;e&&(i=n||i,a(),a=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e=document.elementFromPoint(a.clientX,a.clientY),t(),i)&&!i.el.contains(e)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}var d,le=nt(function(n,t,e,o){if(t.scroll){var i,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=O(),u=!1,d=0,h=$t=Qt!==e&&(Qt=e,ie(),$t=t.scroll,i=t.scrollFn,!0===$t)?A(e,!0):$t;do{var p=h,f=k(p),g=f.top,m=f.bottom,v=f.left,b=f.right,y=f.width,f=f.height,w=void 0,E=void 0,D=p.scrollWidth,S=p.scrollHeight,_=P(p),C=p.scrollLeft,T=p.scrollTop,E=p===c?(w=y<D&&("auto"===_.overflowX||"scroll"===_.overflowX||"visible"===_.overflowX),f<S&&("auto"===_.overflowY||"scroll"===_.overflowY||"visible"===_.overflowY)):(w=y<D&&("auto"===_.overflowX||"scroll"===_.overflowX),f<S&&("auto"===_.overflowY||"scroll"===_.overflowY)),_=w&&(Math.abs(b-r)<=l&&C+y<D)-(Math.abs(v-r)<=l&&!!C),w=E&&(Math.abs(m-a)<=l&&T+f<S)-(Math.abs(g-a)<=l&&!!T);if(!U[d])for(var x=0;x<=d;x++)U[x]||(U[x]={});U[d].vx==_&&U[d].vy==w&&U[d].el===p||(U[d].el=p,U[d].vx=_,U[d].vy=w,clearInterval(U[d].pid),0==_&&0==w)||(u=!0,U[d].pid=setInterval(function(){o&&0===this.layer&&G.active._onTouchMove(ee);var t=U[this.layer].vy?U[this.layer].vy*s:0,e=U[this.layer].vx?U[this.layer].vx*s:0;"function"==typeof i&&"continue"!==i.call(G.dragged.parentNode[X],e,t,n,ee,U[this.layer].el)||ot(U[this.layer].el,e,t)}.bind({layer:d}),24)),d++}while(t.bubbleScroll&&h!==c&&(h=A(h,!1)));oe=u}},30);function se(){}function ce(){}se.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex;this.startIndex=t},onSpill:function(t){var e=t.dragEl,t=t.putSortable,n=(this.sortable.captureAnimationState(),t&&t.captureAnimationState(),Q(this.sortable.el,this.startIndex,this.options));n?this.sortable.el.insertBefore(e,n):this.sortable.el.appendChild(e),this.sortable.animateAll(),t&&t.animateAll()},drop:ae},a(se,{pluginName:"revertOnSpill"}),ce.prototype={onSpill:function(t){var e=t.dragEl,t=t.putSortable||this.sortable;t.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:ae},a(ce,{pluginName:"removeOnSpill"});var ue,v,b,de,he,w=[],E=[],pe=!1,D=!1,fe=!1;function ge(n,o){E.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t)})}function me(){w.forEach(function(t){t!==b&&t.parentNode&&t.parentNode.removeChild(t)})}return G.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){t=t.originalEvent;this.sortable.nativeDraggable?s(document,"dragover",this._handleAutoScroll):this.options.supportPointer?s(document,"pointermove",this._handleFallbackAutoScroll):t.touches?s(document,"touchmove",this._handleFallbackAutoScroll):s(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){t=t.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?r(document,"dragover",this._handleAutoScroll):(r(document,"pointermove",this._handleFallbackAutoScroll),r(document,"touchmove",this._handleFallbackAutoScroll),r(document,"mousemove",this._handleFallbackAutoScroll)),re(),ie(),clearTimeout(q),q=void 0},nulling:function(){ee=Qt=$t=oe=ne=Jt=te=null,U.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(e,n){var o,i=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,t=document.elementFromPoint(r,a);ee=e,n||this.options.forceAutoScrollFallback||S||y||_?(le(e,this.options,t,n),o=A(t,!0),!oe||ne&&r===Jt&&a===te||(ne&&re(),ne=setInterval(function(){var t=A(document.elementFromPoint(r,a),!0);t!==o&&(o=t,ie()),le(e,i.options,t,n)},10),Jt=r,te=a)):this.options.bubbleScroll&&A(t,!0)!==O()?le(e,this.options,A(t,!1),!1):ie()}},a(t,{pluginName:"scroll",initializeByDefault:!0})}),G.mount(ce,se),G.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){t=t.dragEl;d=t},dragOverValid:function(t){var e,n=t.completed,o=t.target,i=t.onMove,r=t.activeSortable,a=t.changed,t=t.cancel;r.options.swap&&(r=this.sortable.el,e=this.options,o&&o!==r&&(r=d,d=!1!==i(o)?(I(o,e.swapClass,!0),o):null,r)&&r!==d&&I(r,e.swapClass,!1),a(),n(!0),t())},drop:function(t){var e,n,o,i=t.activeSortable,r=t.putSortable,t=t.dragEl,a=r||this.sortable,l=this.options;d&&I(d,l.swapClass,!1),d&&(l.swap||r&&r.options.swap)&&t!==d&&(a.captureAnimationState(),a!==i&&i.captureAnimationState(),l=d,t=(r=t).parentNode,o=l.parentNode,t&&o&&!t.isEqualNode(l)&&!o.isEqualNode(r)&&(e=R(r),n=R(l),t.isEqualNode(o)&&e<n&&n++,t.insertBefore(l,t.children[e]),o.insertBefore(r,o.children[n])),a.animateAll(),a!==i)&&i.animateAll()},nulling:function(){d=null}},a(t,{pluginName:"swap",eventProperties:function(){return{swapItem:d}}})}),G.mount(new function(){function t(o){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));o.options.avoidImplicitDeselect||(o.options.supportPointer?s(document,"pointerup",this._deselectMultiDrag):(s(document,"mouseup",this._deselectMultiDrag),s(document,"touchend",this._deselectMultiDrag))),s(document,"keydown",this._checkKeyDown),s(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,e){var n="";w.length&&v===o?w.forEach(function(t,e){n+=(e?", ":"")+t.textContent}):n=e.textContent,t.setData("Text",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){t=t.dragEl;b=t},delayEnded:function(){this.isMultiDrag=~w.indexOf(b)},setupClone:function(t){var e=t.sortable,t=t.cancel;if(this.isMultiDrag){for(var n=0;n<w.length;n++)E.push(it(w[n])),E[n].sortableIndex=w[n].sortableIndex,E[n].draggable=!1,E[n].style["will-change"]="",I(E[n],this.options.selectedClass,!1),w[n]===b&&I(E[n],this.options.chosenClass,!1);e._hideClone(),t()}},clone:function(t){var e=t.sortable,n=t.rootEl,o=t.dispatchSortableEvent,t=t.cancel;this.isMultiDrag&&!this.options.removeCloneOnHide&&w.length&&v===e&&(ge(!0,n),o("clone"),t())},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,t=t.cancel;this.isMultiDrag&&(ge(!1,n),E.forEach(function(t){P(t,"display","")}),e(),he=!1,t())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),t=t.cancel;this.isMultiDrag&&(E.forEach(function(t){P(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),he=!0,t())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&v&&v.multiDrag._deselectMultiDrag(),w.forEach(function(t){t.sortableIndex=R(t)}),w=w.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),fe=!0},dragStarted:function(t){var e,n=this,t=t.sortable;this.isMultiDrag&&(this.options.sort&&(t.captureAnimationState(),this.options.animation)&&(w.forEach(function(t){t!==b&&P(t,"position","absolute")}),e=k(b,!1,!0,!0),w.forEach(function(t){t!==b&&rt(t,e)}),pe=D=!0),t.animateAll(function(){pe=D=!1,n.options.animation&&w.forEach(function(t){at(t)}),n.options.sort&&me()}))},dragOver:function(t){var e=t.target,n=t.completed,t=t.cancel;D&&~w.indexOf(e)&&(n(!1),t())},revert:function(t){var n,o,e=t.fromSortable,i=t.rootEl,r=t.sortable,a=t.dragRect;1<w.length&&(w.forEach(function(t){r.addAnimationState({target:t,rect:D?k(t):a}),at(t),t.fromRect=a,e.removeAnimationState(t)}),D=!1,n=!this.options.removeCloneOnHide,o=i,w.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t)}))},dragOverCompleted:function(t){var e,n=t.sortable,o=t.isOwner,i=t.insertion,r=t.activeSortable,a=t.parentEl,t=t.putSortable,l=this.options;i&&(o&&r._hideClone(),pe=!1,l.animation&&1<w.length&&(D||!o&&!r.options.sort&&!t)&&(e=k(b,!1,!0,!0),w.forEach(function(t){t!==b&&(rt(t,e),a.appendChild(t))}),D=!0),o||(D||me(),1<w.length?(i=he,r._showClone(n),r.options.animation&&!he&&i&&E.forEach(function(t){r.addAnimationState({target:t,rect:de}),t.fromRect=de,t.thisAnimationDuration=null})):r._showClone(n)))},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,t=t.activeSortable;w.forEach(function(t){t.thisAnimationDuration=null}),t.options.animation&&!n&&t.multiDrag.isMultiDrag&&(de=a({},e),n=p(b,!0),de.top-=n.f,de.left-=n.e)},dragOverAnimationComplete:function(){D&&(D=!1,me())},drop:function(t){var e=t.originalEvent,n=t.rootEl,o=t.parentEl,i=t.sortable,r=t.dispatchSortableEvent,a=t.oldIndex,t=t.putSortable,l=t||this.sortable;if(e){var s,c,u,d=this.options,h=o.children;if(!fe)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(b,d.selectedClass,!~w.indexOf(b)),~w.indexOf(b))w.splice(w.indexOf(b),1),ue=null,dt({sortable:i,rootEl:n,name:"deselect",targetEl:b,originalEvent:e});else{if(w.push(b),dt({sortable:i,rootEl:n,name:"select",targetEl:b,originalEvent:e}),e.shiftKey&&ue&&i.el.contains(ue)){var p=R(ue),f=R(b);if(~p&&~f&&p!==f)for(var g,m=p<f?(g=p,f):(g=f,p+1);g<m;g++)~w.indexOf(h[g])||(I(h[g],d.selectedClass,!0),w.push(h[g]),dt({sortable:i,rootEl:n,name:"select",targetEl:h[g],originalEvent:e}))}else ue=b;v=l}fe&&this.isMultiDrag&&(D=!1,(o[X].options.sort||o!==n)&&1<w.length&&(s=k(b),c=R(b,":not(."+this.options.selectedClass+")"),!pe&&d.animation&&(b.thisAnimationDuration=null),l.captureAnimationState(),pe||(d.animation&&(b.fromRect=s,w.forEach(function(t){var e;t.thisAnimationDuration=null,t!==b&&(e=D?k(t):s,t.fromRect=e,l.addAnimationState({target:t,rect:e}))})),me(),w.forEach(function(t){h[c]?o.insertBefore(t,h[c]):o.appendChild(t),c++}),a===R(b)&&(u=!1,w.forEach(function(t){t.sortableIndex!==R(t)&&(u=!0)}),u)&&r("update")),w.forEach(function(t){at(t)}),l.animateAll()),v=l),(n===o||t&&"clone"!==t.lastPutMode)&&E.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal:function(){this.isMultiDrag=fe=!1,E.length=0},destroyGlobal:function(){this._deselectMultiDrag(),r(document,"pointerup",this._deselectMultiDrag),r(document,"mouseup",this._deselectMultiDrag),r(document,"touchend",this._deselectMultiDrag),r(document,"keydown",this._checkKeyDown),r(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==fe&&fe||v!==this.sortable||t&&N(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;w.length;){var e=w[0];I(e,this.options.selectedClass,!1),w.shift(),dt({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvent:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[X];e&&e.options.multiDrag&&!~w.indexOf(t)&&(v&&v!==e&&(v.multiDrag._deselectMultiDrag(),v=e),I(t,e.options.selectedClass,!0),w.push(t))},deselect:function(t){var e=t.parentNode[X],n=w.indexOf(t);e&&e.options.multiDrag&&~n&&(I(t,e.options.selectedClass,!1),w.splice(n,1))}},eventProperties:function(){var n=this,o=[],i=[];return w.forEach(function(t){var e;o.push({multiDragElement:t,index:t.sortableIndex}),e=D&&t!==b?-1:D?R(t,":not(."+n.options.selectedClass+")"):R(t),i.push({multiDragElement:t,index:e})}),{items:f(w),clones:[].concat(E),oldIndicies:o,newIndicies:i}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),G});
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Pickr=e():t.Pickr=e()}(self,function(){return(()=>{"use strict";var i={d:(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},t={},e=(i.d(t,{default:()=>_}),{});function o(t,e,o,i,r={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);for(const n of e)for(const e of o)n[t](e,i,{capture:!1,...r});return Array.prototype.slice.call(arguments,1)}i.r(e),i.d(e,{adjustableInputNumbers:()=>c,createElementFromString:()=>a,createFromTemplate:()=>h,eventPath:()=>l,off:()=>r,on:()=>s,resolveElement:()=>n});const s=o.bind(null,"addEventListener"),r=o.bind(null,"removeEventListener");function a(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild}function h(t){const n=(t,e)=>{var o=t.getAttribute(e);return t.removeAttribute(e),o},s=(t,e={})=>{const o=n(t,":obj"),i=n(t,":ref"),r=o?e[o]={}:e;i&&(e[i]=t);for(const e of Array.from(t.children)){const t=n(e,":arr"),o=s(e,t?{}:r);t&&(r[t]||(r[t]=[])).push(Object.keys(o).length?o:e)}return e};return s(a(t))}function l(e){var o=e.path||e.composedPath&&e.composedPath();if(!o){let t=e.target.parentElement;for(o=[e.target,t];t=t.parentElement;)o.push(t);o.push(document,window)}return o}function n(t){return t instanceof Element?t:"string"==typeof t?t.split(/>>/g).reduce((t,e,o,i)=>(t=t.querySelector(e),o<i.length-1?t.shadowRoot:t),document):null}function c(e,n=t=>t){function t(t){const o=[.001,.01,.1][Number(t.shiftKey||2*t.ctrlKey)]*(t.deltaY<0?1:-1);let i=0,r=e.selectionStart;e.value=e.value.replace(/[\d.]+/g,(t,e)=>e<=r&&e+t.length>=r?(r=e,n(Number(t),o,i)):(i++,t)),e.focus(),e.setSelectionRange(r,r),t.preventDefault(),e.dispatchEvent(new Event("input"))}s(e,"focus",()=>s(window,"wheel",t,{passive:!1})),s(e,"blur",()=>r(window,"wheel",t))}const{min:w,max:p,floor:u,round:d}=Math;function v(t,e,o){e/=100,o/=100;var i=u(t=t/360*6),t=t-i,r=o*(1-e),n=o*(1-t*e),t=o*(1-(1-t)*e),e=i%6;return[255*[o,n,r,r,t,o][e],255*[t,o,o,n,r,r][e],255*[r,r,t,o,o,n][e]]}function A(t,e,o){const i=w(t/=255,e/=255,o/=255),r=p(t,e,o),n=r-i;let s,a;if(0==n)s=a=0;else{a=n/r;const i=((r-t)/6+n/2)/n,l=((r-e)/6+n/2)/n,c=((r-o)/6+n/2)/n;t===r?s=c-l:e===r?s=1/3+i-c:o===r&&(s=2/3+l-i),s<0?s+=1:1<s&&--s}return[360*s,100*a,100*r]}function m(t){var e,o,i,r,n,s;t=t.match(/^[a-zA-Z]+$/)?"black"===(e=t).toLowerCase()?"#000":((o=document.createElement("canvas").getContext("2d")).fillStyle=e,"#000"===o.fillStyle?null:o.fillStyle):t;const a={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},l=t=>t.map(t=>/^(|\d+)\.\d+|\d+$/.test(t)?Number(t):void 0);let c;t:for(const u in a)if(c=a[u].exec(t)){var p=t=>!!c[2]==("number"==typeof t);switch(u){case"cmyk":{const[,t,a,d,v]=l(c);if(100<t||100<a||100<d||100<v)break t;return{values:(h=t,r=a,n=d,s=v,r/=100,n/=100,[...A(255*(1-w(1,(h/=100)*(1-(s/=100))+s)),255*(1-w(1,r*(1-s)+s)),255*(1-w(1,n*(1-s)+s)))]),type:u}}case"rgba":{const[,,,t,a,m,b]=l(c);if(255<t||255<a||255<m||b<0||1<b||!p(b))break t;return{values:[...A(t,a,m),b],a:b,type:u}}case"hexa":{let[,t]=c;const a=(t=4!==t.length&&3!==t.length?t:t.split("").map(t=>t+t).join("")).substring(0,6);var h=(h=t.substring(6))?parseInt(h,16)/255:void 0;return{values:[...A(...a.match(/.{2}/g).map(t=>parseInt(t,16))),h],a:h,type:u}}case"hsla":{const[,,,t,a,f,y]=l(c);if(360<t||100<a||100<f||y<0||1<y||!p(y))break t;return{values:[...(r=t,n=a,s=f,i=void 0,i=2*(n=n/100*((s/=100)<.5?s:1-s))/(s+n)*100,s=100*(s+n),[r,isNaN(i)?0:i,s]),y],a:y,type:u}}case"hsva":{const[,,,t,a,g,_]=l(c);if(360<t||100<a||100<g||_<0||1<_||!p(_))break t;return{values:[t,a,g,_],a:_,type:u}}}}return{values:null,type:null}}function b(t=0,e=0,o=0,i=1){const r=(t,o)=>(e=-1)=>o(~e?t.map(t=>Number(t.toFixed(e))):t),n={h:t,s:e,v:o,a:i,toHSVA(){var t=[n.h,n.s,n.v,n.a];return t.toString=r(t,t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${n.a})`),t},toHSLA(){var t,e,o,i=[...(i=n.h,t=n.s,e=n.v,o=(2-(t/=100))*(e/=100)/2,[i,100*(t=0!=o?1==o?0:o<.5?t*e/(2*o):t*e/(2-2*o):t),100*o]),n.a];return i.toString=r(i,t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${n.a})`),i},toRGBA(){var t=[...v(n.h,n.s,n.v),n.a];return t.toString=r(t,t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${n.a})`),t},toCMYK(){t=v(n.h,n.s,n.v),i=t[0]/255,e=t[1]/255,t=t[2]/255;var t,e,o,i=[100*(1===(o=w(1-i,1-e,1-t))?0:(1-i-o)/(1-o)),100*(1===o?0:(1-e-o)/(1-o)),100*(1===o?0:(1-t-o)/(1-o)),100*o];return i.toString=r(i,t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`),i},toHEXA(){const t=v(n.h,n.s,n.v).map(t=>d(t).toString(16).padStart(2,"0")),e=1<=n.a?"":Number((255*n.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return e&&t.push(e),t.toString=()=>"#"+t.join("").toUpperCase(),t},clone:()=>b(n.h,n.s,n.v,n.a)};return n}const f=t=>Math.max(Math.min(t,1),0);function y(t){const p={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(o){const i=p["options"],{type:t,key:e}=o;if(document.activeElement===i.wrapper){const i=p.options["lock"],r="ArrowUp"===e,n="ArrowRight"===e,s="ArrowDown"===e,a="ArrowLeft"===e;if("keydown"===t&&(r||n||s||a)){let t=0,e=0;t="v"===i?r||n?1:-1:"h"===i?r||n?-1:1:(e=r?-1:s?1:0,a?-1:n?1:0),p.update(f(p.cache.x+.01*t),f(p.cache.y+.01*e)),o.preventDefault()}else e.startsWith("Arrow")&&(p.options.onstop(),o.preventDefault())}},_tapstart(t){s(document,["mouseup","touchend","touchcancel"],p._tapstop),s(document,["mousemove","touchmove"],p._tapmove),t.cancelable&&t.preventDefault(),p._tapmove(t)},_tapmove(t){var{options:e,cache:o}=p,{lock:i,element:r,wrapper:n}=e,n=n.getBoundingClientRect();let s=0,a=0;if(t){const p=t&&t.touches&&t.touches[0];s=t?(p||t).clientX:0,a=t?(p||t).clientY:0,s<n.left?s=n.left:s>n.left+n.width&&(s=n.left+n.width),a<n.top?a=n.top:a>n.top+n.height&&(a=n.top+n.height),s-=n.left,a-=n.top}else o&&(s=o.x*n.width,a=o.y*n.height);"h"!==i&&(r.style.left=`calc(${s/n.width*100}% - ${r.offsetWidth/2}px)`),"v"!==i&&(r.style.top=`calc(${a/n.height*100}% - ${r.offsetHeight/2}px)`),p.cache={x:s/n.width,y:a/n.height};var l=f(s/n.width),c=f(a/n.height);switch(i){case"v":return e.onchange(l);case"h":return e.onchange(c);default:return e.onchange(l,c)}},_tapstop(){p.options.onstop(),r(document,["mouseup","touchend","touchcancel"],p._tapstop),r(document,["mousemove","touchmove"],p._tapmove)},trigger(){p._tapmove()},update(t=0,e=0){var{left:o,top:i,width:r,height:n}=p.options.wrapper.getBoundingClientRect();"h"===p.options.lock&&(e=t),p._tapmove({clientX:o+r*t,clientY:i+n*e})},destroy(){var{options:t,_tapstart:e,_keyboard:o}=p;r(document,["keydown","keyup"],o),r([t.wrapper,t.element],"mousedown",e),r([t.wrapper,t.element],"touchstart",e,{passive:!1})}},{options:e,_tapstart:o,_keyboard:i}=p;return s([e.wrapper,e.element],"mousedown",o),s([e.wrapper,e.element],"touchstart",o,{passive:!1}),s(document,["keydown","keyup"],i),p}const $={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8};function g(t,e,o){e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o}class _{constructor(e){g(this,"_initializingActive",!0),g(this,"_recalc",!0),g(this,"_nanopop",null),g(this,"_root",null),g(this,"_color",b()),g(this,"_lastColor",b()),g(this,"_swatchColors",[]),g(this,"_setupAnimationFrame",null),g(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=e=Object.assign({..._.DEFAULT_OPTIONS},e);var{swatches:t,components:o,theme:i,sliders:r,lockOpacity:n,padding:s}=e,{preview:i,opacity:r,hue:a,palette:l}=(["nano","monolith"].includes(i)&&!r&&(e.sliders="h"),o.interaction||(o.interaction={}),o);o.opacity=!n&&r,o.palette=l||i||r||a,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),t&&t.length&&t.forEach(t=>this.addSwatch(t));const{button:c,app:p}=this._root,h=(this._nanopop=((t,e,o)=>{const k="object"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...o}:t;return{update(t=k){var{reference:t,popper:e}=Object.assign(k,t);if(e&&t){var o=t;var i=e;var r=k;const{container:n,margin:s,position:a,variantFlipOrder:l,positionFlipOrder:c}={container:document.documentElement.getBoundingClientRect(),...$,...r},{left:p,top:h}=i.style,u=(i.style.left="0",i.style.top="0",o.getBoundingClientRect()),d=i.getBoundingClientRect(),v={t:u.top-d.height-s,b:u.bottom+s,r:u.right+s,l:u.left-d.width-s},m={vs:u.left,vm:u.left+u.width/2+-d.width/2,ve:u.left+u.width-d.width,hs:u.top,hm:u.bottom-u.height/2-d.height/2,he:u.bottom-d.height},[b,f="middle"]=a.split("-"),y=c[b],g=l[f],{top:_,left:w,bottom:A,right:C}=n;for(const o of y){const r="t"===o||"b"===o,n=v[o],[s,a]=r?["top","left"]:["left","top"],[l,c]=r?[d.height,d.width]:[d.width,d.height],[p,h]=r?[A,C]:[C,A],[u,b]=r?[_,w]:[w,_];if(!(n<u||n+l>p))for(const l of g){const p=m[(r?"v":"h")+l];if(!(p<b||p+c>h))return i.style[a]=p-d[a]+"px",i.style[s]=n-d[s]+"px",o+l}}return i.style.left=p,i.style.top=h,null}throw new Error("Popper- or reference-element missing.")}}})(c,p,{margin:s}),c.setAttribute("role","button"),c.setAttribute("aria-label",this._t("btn:toggle")),this);this._setupAnimationFrame=requestAnimationFrame(function t(){if(!p.offsetWidth)return requestAnimationFrame(t);h.setColor(e.default),h._rePositioningPicker(),e.defaultRepresentation&&(h._representation=e.defaultRepresentation,h.setColorRepresentation(h._representation)),e.showAlways&&h.show(),h._initializingActive=!1,h._emit("init")})}_preBuild(){var t=this["options"];for(const e of["el","container"])t[e]=n(t[e]);this._root=(e=>{const{components:t,useAsButton:o,inline:i,appClass:r,theme:n,lockOpacity:s}=e.options,a=t=>t?"":'style="display:none" hidden',l=t=>e._t(t),c=h(`
      <div :ref="root" class="pickr">

        ${o?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${r||""}" data-theme="${n}" ${i?'style="position: unset"':""} aria-label="${l("ui:dialog")}" role="window">
          <div class="pcr-selection" ${a(t.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${a(t.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${l("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${l("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${a(t.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${l("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${a(t.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${l("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${t.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${a(Object.keys(t.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${a(t.interaction.input)} aria-label="${l("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${s?"HEX":"HEXA"}" type="button" ${a(t.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${s?"RGB":"RGBA"}" type="button" ${a(t.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${s?"HSL":"HSLA"}" type="button" ${a(t.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${s?"HSV":"HSVA"}" type="button" ${a(t.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${a(t.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${l("btn:save")}" type="button" ${a(t.interaction.save)} aria-label="${l("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${l("btn:cancel")}" type="button" ${a(t.interaction.cancel)} aria-label="${l("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${l("btn:clear")}" type="button" ${a(t.interaction.clear)} aria-label="${l("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),p=c.interaction;return p.options.find(t=>!t.hidden&&!t.classList.add("active")),p.type=()=>p.options.find(t=>t.classList.contains("active")),c})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){var t,e=this.options,o=this._root;e.container.removeChild(o.root),e.inline?(t=e.el.parentElement,e.el.nextSibling?t.insertBefore(o.app,e.el.nextSibling):t.appendChild(o.app)):e.container.appendChild(o.app),e.useAsButton?e.inline&&e.el.remove():e.el.parentNode.replaceChild(o.root,e.el),e.disabled&&this.disable(),e.comparison||(o.button.style.transition="none",e.useAsButton)||(o.preview.lastColor.style.transition="none"),this.hide()}_buildComponents(){const l=this,c=this.options.components,t=(l.options.sliders||"v").repeat(2),[e,o]=t.match(/^[vh]+$/g)?t:[],p=()=>this._color||(this._color=this._lastColor.clone()),i={palette:y({element:l._root.palette.picker,wrapper:l._root.palette.palette,onstop:()=>l._emit("changestop","slider",l),onchange(t,e){if(c.palette){var o=p(),{_root:i,options:r}=l,{lastColor:n,currentColor:s}=i.preview,t=(l._recalc&&(o.s=100*t,o.v=100-100*e,o.v<0&&(o.v=0),l._updateOutput("slider")),o.toRGBA().toString(0)),a=(this.element.style.background=t,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, 1), transparent),
                        linear-gradient(to left, hsla(${o.h}, 100%, 50%, 1), rgba(255, 255, 255, 1))
                    `,r.comparison?r.useAsButton||l._lastColor||n.style.setProperty("--pcr-color",t):(i.button.style.setProperty("--pcr-color",t),i.button.classList.remove("clear")),o.toHEXA().toString());for(const{el:c,color:t}of l._swatchColors)c.classList[a===t.toHEXA().toString()?"add":"remove"]("pcr-active");s.style.setProperty("--pcr-color",t)}}}),hue:y({lock:"v"===o?"h":"v",element:l._root.hue.picker,wrapper:l._root.hue.slider,onstop:()=>l._emit("changestop","slider",l),onchange(t){var e;c.hue&&c.palette&&(e=p(),l._recalc&&(e.h=360*t),this.element.style.backgroundColor=`hsl(${e.h}, 100%, 50%)`,i.palette.trigger())}}),opacity:y({lock:"v"===e?"h":"v",element:l._root.opacity.picker,wrapper:l._root.opacity.slider,onstop:()=>l._emit("changestop","slider",l),onchange(t){var e;c.opacity&&c.palette&&(e=p(),l._recalc&&(e.a=Math.round(100*t)/100),this.element.style.background=`rgba(0, 0, 0, ${e.a})`,i.palette.trigger())}}),selectable:function(o){o=Object.assign({onchange:()=>0,className:"",elements:[]},o);const t=s(o.elements,"click",e=>{o.elements.forEach(t=>t.classList[e.target===t?"add":"remove"](o.className)),o.onchange(e),e.stopPropagation()});return{destroy:()=>r(...t)}}({elements:l._root.interaction.options,className:"active",onchange(t){l._representation=t.target.getAttribute("data-type").toUpperCase(),l._recalc&&l._updateOutput("swatch")}})};this._components=i}_bindEvents(){const{_root:e,options:n}=this,t=[s(e.interaction.clear,"click",()=>this._clearColor()),s([e.interaction.cancel,e.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),s(e.interaction.save,"click",()=>{this.applyColor()||n.showAlways||this.hide()}),s(e.interaction.result,["keyup","input"],t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),t.stopImmediatePropagation()}),s(e.interaction.result,["focus","blur"],t=>{this._recalc="blur"===t.type,this._recalc&&this._updateOutput(null)}),s([e.palette.palette,e.palette.picker,e.hue.slider,e.hue.picker,e.opacity.slider,e.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!n.showAlways){const o=n.closeWithKey;t.push(s(e.button,"click",()=>this.isOpen()?this.hide():this.show()),s(document,"keyup",t=>this.isOpen()&&(t.key===o||t.code===o)&&this.hide()),s(document,["touchstart","mousedown"],t=>{this.isOpen()&&!l(t).some(t=>t===e.app||t===e.button)&&this.hide()},{capture:!0}))}if(n.adjustableNumbers){const n={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};c(e.interaction.result,(t,e,o)=>{var i=n[this.getColorRepresentation().toLowerCase()];if(i){const n=i[o],r=t+(100<=n?1e3*e:e);return r<=0?0:Number((r<n?r:n).toPrecision(3))}return t})}if(n.autoReposition&&!n.inline){let e=null;const i=this;t.push(s(window,["scroll","resize"],()=>{i.isOpen()&&(n.closeOnScroll&&i.hide(),null===e?(e=setTimeout(()=>e=null,100),requestAnimationFrame(function t(){i._rePositioningPicker(),null!==e&&requestAnimationFrame(t)})):(clearTimeout(e),e=setTimeout(()=>e=null,100)))},{capture:!0}))}this._eventBindings=t}_rePositioningPicker(){const t=this["options"];if(!t.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+"px",t.style.left=(window.innerWidth-e.width)/2+"px"}}_updateOutput(t){var{_root:e,_color:o,options:i}=this;if(e.interaction.type()){const t="to"+e.interaction.type().getAttribute("data-type");e.interaction.result.value="function"==typeof o[t]?o[t]().toString(i.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",o,t,this)}_clearColor(t=!1){var{_root:e,options:o}=this;o.useAsButton||e.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),e.button.classList.add("clear"),o.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(t){var{values:t,type:e,a:o}=m(t),i=this.options["lockOpacity"],o=void 0!==o&&1!==o;return t&&3===t.length&&(t[3]=void 0),{values:!t||i&&o?null:t,type:e}}_t(t){return this.options.i18n[t]||_.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach(t=>t(...e,this))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){t=this._eventListener[t]||[],e=t.indexOf(e);return~e&&t.splice(e,1),this}addSwatch(t){var e=this._parseLocalColor(t)["values"];if(e){const{_swatchColors:t,_root:o}=this,i=b(...e),r=a(`<button type="button" style="--pcr-color: ${i.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return o.swatches.appendChild(r),t.push({el:r,color:i}),this._eventBindings.push(s(r,"click",()=>{this.setHSVA(...i.toHSVA(),!0),this._emit("swatchselect",i),this._emit("change",i,"swatch",this)})),!0}return!1}removeSwatch(t){var e=this._swatchColors[t];return!!e&&(e=e["el"],this._root.swatches.removeChild(e),this._swatchColors.splice(t,1),!0)}applyColor(t=!1){var{preview:e,button:o}=this._root,i=this._color.toRGBA().toString(0);return e.lastColor.style.setProperty("--pcr-color",i),this.options.useAsButton||o.style.setProperty("--pcr-color",i),o.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(t=>r(...t)),Object.keys(this._components).forEach(t=>this._components[t].destroy())}destroyAndRemove(){this.destroy();var{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach(t=>this[t]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(t=360,e=0,o=0,i=1,r=!1){var n=this._recalc;if(this._recalc=!1,t<0||360<t||e<0||100<e||o<0||100<o||i<0||1<i)return!1;this._color=b(t,e,o,i);var{hue:s,opacity:a,palette:l}=this._components;return s.update(t/360),a.update(i),l.update(e/100,1-o/100),r||this.applyColor(),n&&this._updateOutput(),this._recalc=n,!0}setColor(e,t=!1){if(null===e)return this._clearColor(t),!0;var{values:o,type:i}=this._parseLocalColor(e);if(o){const e=i.toUpperCase(),r=this._root.interaction["options"],n=r.find(t=>t.getAttribute("data-type")===e);if(n&&!n.hidden)for(const e of r)e.classList[e===n?"add":"remove"]("active");return!!this.setHSVA(...o,t)&&this.setColorRepresentation(e)}return!1}setColorRepresentation(e){return e=e.toUpperCase(),!!this._root.interaction.options.find(t=>t.getAttribute("data-type").startsWith(e)&&!t.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}return g(_,"utils",e),g(_,"version","1.8.2"),g(_,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),g(_,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),g(_,"create",t=>new _(t)),t.default})()});
!function(r){function c(r,e){if(!r)return e;var a,t={};for(a in e)t[a]=(k(r,a)?r:e)[a];return t}function m(r,e){var a="";return 55296<=r&&r<=57343||1114111<r?(e&&S("character reference outside the permissible Unicode range"),"�"):k(y,r)?(e&&S("disallowed character reference"),y[r]):(e&&L(A,r)&&S("disallowed character reference"),65535<r&&(a+=E((r-=65536)>>>10&1023|55296),r=56320|1023&r),a+E(r))}function l(r){return"&#x"+r.toString(16).toUpperCase()+";"}function i(r){return"&#"+r+";"}function n(r,e){function a(r){return u(r.charCodeAt(0))}(e=c(e,n.options)).strict&&q.test(r)&&S("forbidden code point");var t=e.encodeEverything,o=e.useNamedReferences,s=e.allowUnsafeSymbols,u=e.decimal?i:l;return t?(r=r.replace(d,function(r){return o&&k(b,r)?"&"+b[r]+";":a(r)}),o&&(r=r.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),o&&(r=r.replace(f,function(r){return"&"+b[r]+";"}))):o?r=(r=(r=s?r:r.replace(h,function(r){return"&"+b[r]+";"})).replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(f,function(r){return"&"+b[r]+";"}):s||(r=r.replace(h,a)),r.replace(p,function(r){var e=r.charCodeAt(0),r=r.charCodeAt(1);return u(1024*(e-55296)+r-56320+65536)}).replace(g,a)}function e(r,d){var g=(d=c(d,e.options)).strict;return g&&u.test(r)&&S("malformed character reference"),r.replace(v,function(r,e,a,t,o,s,u,c,l){var i,n,p;return e?w[p=e]:a?(p=a,(e=t)&&d.isAttributeValue?(g&&"="==e&&S("`&` did not start a character reference"),r):(g&&S("named character reference was not terminated by a semicolon"),D[p]+(e||""))):o?(a=o,n=s,g&&!n&&S("character reference was not terminated by a semicolon"),i=parseInt(a,10),m(i,g)):u?(t=u,n=c,g&&!n&&S("character reference was not terminated by a semicolon"),i=parseInt(t,16),m(i,g)):(g&&S("named character reference was not terminated by a semicolon"),r)})}var a="object"==typeof exports&&exports,t="object"==typeof module&&module&&module.exports==a&&module,o="object"==typeof global&&global,p=(o.global!==o&&o.window!==o||(r=o),/[\uD800-\uDBFF][\uDC00-\uDFFF]/g),d=/[\x01-\x7F]/g,g=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,f=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,b={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},h=/["&'<>`]/g,s={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},u=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,q=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,w={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},D={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},y={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},A=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],E=String.fromCharCode,x={}.hasOwnProperty,k=function(r,e){return x.call(r,e)},L=function(r,e){for(var a=-1,t=r.length;++a<t;)if(r[a]==e)return!0;return!1},S=function(r){throw Error("Parse error: "+r)},C=(e.options={isAttributeValue:!(n.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1}),strict:!1},{version:"1.2.0",encode:n,decode:e,escape:function(r){return r.replace(h,function(r){return s[r]})},unescape:e});if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return C});else if(a&&!a.nodeType)if(t)t.exports=C;else for(var B in C)k(C,B)&&(a[B]=C[B]);else r.he=C}(this);
!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function p(e,t){if(!(this instanceof p))return new p(e,t);this.options=t=t?S(t):{},S(Di,t,!1),Y(t);var r,i,n,o,l,a,s=t.value,c=("string"==typeof s&&(s=new M(s,t.mode,null,t.lineSeparator)),this.doc=s,new p.inputStyles[t.inputStyle](this)),e=this.display=new N(e,s,c),u=(z(e.wrapper.CodeMirror=this),W(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!fi&&e.input.focus(),Q(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new In,keySeq:null,specialChars:null},this);G&&K<11&&setTimeout(function(){u.display.input.reset(!0)},20),n=(i=this).display,$(n.scroller,"mousedown",B(i,Kt)),$(n.scroller,"dblclick",G&&K<11?B(i,function(e){var t;j(i,e)||!(t=Gt(i,e))||Ut(i,e)||jt(i.display,e)||(X(e),e=i.findWordAt(t),Ge(i.doc,e.anchor,e.head))}):function(e){j(i,e)||X(e)}),vi||$(n.scroller,"contextmenu",function(e){or(i,e)}),l={end:0},$(n.scroller,"touchstart",function(e){var t;!function(e){if(1==e.touches.length)return(e=e.touches[0]).radiusX<=1&&e.radiusY<=1}(e)&&(clearTimeout(o),t=+new Date,n.activeTouch={start:t,moved:!1,prev:t-l.end<=300?l:null},1==e.touches.length)&&(n.activeTouch.left=e.touches[0].pageX,n.activeTouch.top=e.touches[0].pageY)}),$(n.scroller,"touchmove",function(){n.activeTouch&&(n.activeTouch.moved=!0)}),$(n.scroller,"touchend",function(e){var t,r=n.activeTouch;r&&!jt(n,e)&&null!=r.left&&!r.moved&&new Date-r.start<300&&(t=i.coordsChar(n.activeTouch,"page"),r=!r.prev||h(r,r.prev)?new P(t,t):!r.prev.prev||h(r,r.prev.prev)?i.findWordAt(t):new P(q(t.line,0),E(i.doc,q(t.line+1,0))),i.setSelection(r.anchor,r.head),i.focus(),X(e)),d()}),$(n.scroller,"touchcancel",d),$(n.scroller,"scroll",function(){n.scroller.clientHeight&&(Xt(i,n.scroller.scrollTop),$t(i,n.scroller.scrollLeft,!0),A(i,"scroll",i))}),$(n.scroller,"mousewheel",function(e){Yt(i,e)}),$(n.scroller,"DOMMouseScroll",function(e){Yt(i,e)}),$(n.wrapper,"scroll",function(){n.wrapper.scrollTop=n.wrapper.scrollLeft=0}),n.dragFunctions={enter:function(e){j(i,e)||oo(e)},over:function(e){var t,r,n;j(i,e)||((r=Gt(t=i,r=e))&&(n=document.createDocumentFragment(),et(t,r,n),t.display.dragCursor||(t.display.dragCursor=T("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),v(t.display.dragCursor,n)),oo(e))},start:function(e){var t,r;t=i,e=e,G&&(!t.state.draggingText||+new Date-Ai<100)?oo(e):j(t,e)||jt(t.display,e)||(e.dataTransfer.setData("Text",t.getSelection()),!e.dataTransfer.setDragImage)||ci||((r=T("img",null,null,"position: fixed; left: 0; top: 0;")).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(r.width=r.height=1,t.display.wrapper.appendChild(r),r._top=r.offsetTop),e.dataTransfer.setDragImage(r,0,0),m&&r.parentNode.removeChild(r))},drop:B(i,qt),leave:function(){_t(i)}},c=n.input.getField(),$(c,"keyup",function(e){tr.call(i,e)}),$(c,"keydown",B(i,er)),$(c,"keypress",B(i,rr)),$(c,"focus",jn(nr,i)),$(c,"blur",jn(ir,i)),To||($(window,"resize",function(){null==r&&(r=setTimeout(function(){r=null,$n(Rt)},100))}),$(window,"blur",function(){$n(ir)}),To=!0);function d(){n.activeTouch&&(o=setTimeout(function(){n.activeTouch=null},1e3),(l=n.activeTouch).end=+new Date)}function h(e,t){var r;return null==t.left||400<(r=t.left-e.left)*r+(r=t.top-e.top)*r}for(a in Wt(this),this.curOp.forceUpdate=!0,pn(this,s),t.autofocus&&!fi||u.hasFocus()?setTimeout(jn(nr,this),20):ir(this),Hi)Hi.hasOwnProperty(a)&&Hi[a](this,t[a],Pi);re(this),t.finishInit&&t.finishInit(this);for(var f=0;f<Bi.length;++f)Bi[f](this);zt(this),V&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(e.lineDiv).textRendering&&(e.lineDiv.style.textRendering="auto")}function N(e,t,r){var n=this;this.input=r,n.scrollbarFiller=T("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=T("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=T("div",null,"CodeMirror-code"),n.selectionDiv=T("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=T("div",null,"CodeMirror-cursors"),n.measure=T("div",null,"CodeMirror-measure"),n.lineMeasure=T("div",null,"CodeMirror-measure"),n.lineSpace=T("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=T("div",[T("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=T("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=T("div",null,null,"position: absolute; height: "+so+"px; width: 1px;"),n.gutters=T("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=T("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=T("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),G&&K<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),V||li&&fi||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}function i(e){e.doc.mode=p.getMode(e.options,e.doc.modeOption),o(e)}function o(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,rt(e,100),e.state.modeGen++,e.curOp&&y(e)}function O(n){var i=Nt(n.display),o=n.options.lineWrapping,l=o&&Math.max(5,n.display.scroller.clientWidth/Ot(n.display)-3);return function(e){if(qr(n.doc,e))return 0;var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;r++)e.widgets[r].height&&(t+=e.widgets[r].height);return o?t+(Math.ceil(e.text.length/l)||1)*i:t+i}}function l(e){var t=e.doc,r=O(e);t.iter(function(e){var t=r(e);t!=e.height&&vn(e,t)})}function W(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),bt(e)}function a(e){z(e),y(e),setTimeout(function(){te(e)},20)}function z(e){var t=e.display.gutters,r=e.options.gutters;Un(t);for(var n=0;n<r.length;++n){var i=r[n],o=t.appendChild(T("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&((e.display.lineGutter=o).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",s(e)}function s(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function D(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Rr(n);){n=(i=t.find(0,!0)).from.line;r+=i.from.ch-i.to.ch}for(n=e;t=jr(n);)var i=t.find(0,!0),r=(r-=n.text.length-i.from.ch)+((n=i.to.line).text.length-i.to.ch);return r}function H(e){var r=e.display,e=e.doc;r.maxLine=R(e,e.first),r.maxLineLength=D(r.maxLine),r.maxLineChanged=!0,e.iter(function(e){var t=D(e);t>r.maxLineLength&&(r.maxLineLength=t,r.maxLine=e)})}function Y(e){var t=k(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Z(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+lt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+st(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function c(e,t,r){this.cm=r;var n=this.vert=T("div",[T("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=T("div",[T("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(n),e(i),$(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),$(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,G&&K<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function u(){}function Q(r){r.display.scrollbars&&(r.display.scrollbars.clear(),r.display.scrollbars.addClass)&&Lo(r.display.wrapper,r.display.scrollbars.addClass),r.display.scrollbars=new p.scrollbarModel[r.options.scrollbarStyle](function(e){r.display.wrapper.insertBefore(e,r.display.scrollbarFiller),$(e,"mousedown",function(){r.state.focused&&setTimeout(function(){r.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,t){("horizontal"==t?$t:Xt)(r,e)},r),r.display.scrollbars.addClass&&Mo(r.display.wrapper,r.display.scrollbars.addClass)}function J(e,t){t=t||Z(e);var r=e.display.barWidth,n=e.display.barHeight;d(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&ue(e),d(e,Z(e)),r=e.display.barWidth,n=e.display.barHeight}function d(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function ee(e,t,r){var n,i=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop,i=Math.floor(i-ot(e)),o=r&&null!=r.bottom?r.bottom:i+e.wrapper.clientHeight,i=yn(t,i),o=yn(t,o);return r&&r.ensure&&(n=r.ensure.from.line,r=r.ensure.to.line,n<i?o=yn(t,bn(R(t,i=n))+e.wrapper.clientHeight):Math.min(r,t.lastLine())>=o&&(i=yn(t,bn(R(t,r))-e.wrapper.clientHeight),o=r)),{from:i,to:Math.max(o,i+1)}}function te(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=ie(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&r[l].gutter&&(r[l].gutter.style.left=o);var a=r[l].alignable;if(a)for(var s=0;s<a.length;s++)a[s].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function re(e){var t,r,n,i;if(e.options.lineNumbers)return t=e.doc,t=ne(e.options,t.first+t.size-1),r=e.display,t.length!=r.lineNumChars?(n=(i=r.measure.appendChild(T("div",[T("div",t)],"CodeMirror-linenumber CodeMirror-gutter-elt"))).firstChild.offsetWidth,i=i.offsetWidth-n,r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(n,r.lineGutter.offsetWidth-i)+1,r.lineNumWidth=r.lineNumInnerWidth+i,r.lineNumChars=r.lineNumInnerWidth?t.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",s(e),1):void 0}function ne(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ie(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function oe(e,t,r){var n=e.display;this.viewport=t,this.visible=ee(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=ct(e),this.force=r,this.dims=he(e),this.events=[]}function le(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)It(e);else if(!(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Bt(e))){re(e)&&(It(e),t.dims=he(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),l=Math.min(i,t.visible.to+e.options.viewportMargin),n=(r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>l&&r.viewTo-l<20&&(l=Math.min(i,r.viewTo)),bi&&(o=Vr(e.doc,o),l=Ur(e.doc,l)),o!=r.viewFrom||l!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth),i=(i=o,o=l,0==(d=(l=e).display).view.length||i>=d.viewTo||o<=d.viewFrom?(d.view=Ht(l,i,o),d.viewFrom=i):(d.viewFrom>i?d.view=Ht(l,i,d.viewFrom).concat(d.view):d.viewFrom<i&&(d.view=d.view.slice(Et(l,i))),d.viewFrom=i,d.viewTo<o?d.view=d.view.concat(Ht(l,d.viewTo,o)):d.viewTo>o&&(d.view=d.view.slice(0,Et(l,o)))),d.viewTo=o,r.viewOffset=bn(R(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px",Bt(e));if(n||0!=i||t.force||r.renderedView!=r.view||!(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)){var l=qn(),a=(4<i&&(r.lineDiv.style.display="none"),e),s=r.updateLineNumbers,c=t.dims;function u(e){var t=e.nextSibling;return V&&U&&a.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),t}for(var d=a.display,h=a.options.lineNumbers,f=d.lineDiv,p=f.firstChild,g=d.view,m=d.viewFrom,v=0;v<g.length;v++){var y=g[v];if(!y.hidden)if(y.node&&y.node.parentNode==f){for(;p!=y.node;)p=u(p);var b=h&&null!=s&&s<=m&&y.lineNumber;y.changes&&(-1<k(y.changes,"gutter")&&(b=!1),fe(a,y,m,c)),b&&(Un(y.lineNumber),y.lineNumber.appendChild(document.createTextNode(ne(a.options,m)))),p=y.node.nextSibling}else{b=function(e,t,r,n){var i=ge(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),me(t),ve(e,t,r,n),ye(e,t,n),t.node}(a,y,m,c);f.insertBefore(b,p)}m+=y.size}for(;p;)p=u(p);return 4<i&&(r.lineDiv.style.display=""),r.renderedView=r.view,l&&qn()!=l&&l.offsetHeight&&l.focus(),Un(r.cursorDiv),Un(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,n&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,rt(e,400)),!(r.updateLineNumbers=null)}}return!1}function ae(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=ct(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+lt(e.display)-ut(e),r.top)}),t.visible=ee(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&le(e,t);n=!1){ue(e);var i=Z(e);Qe(e),ce(e,i),J(e,i)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function se(e,t){var r,t=new oe(e,t);le(e,t)&&(ue(e),ae(e,t),r=Z(e),Qe(e),ce(e,r),J(e,r),t.finish())}function ce(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var r=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=r+"px",e.display.gutters.style.height=Math.max(r+st(e),t.clientHeight)+"px"}function ue(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n];if(!i.hidden){G&&K<8?(o=(l=i.node.offsetTop+i.node.offsetHeight)-r,r=l):o=(l=i.node.getBoundingClientRect()).bottom-l.top;var o,l,a=i.line.height-o;if(o<2&&(o=Nt(t)),(.001<a||a<-.001)&&(vn(i.line,o),de(i.line),i.rest))for(var s=0;s<i.rest.length;s++)de(i.rest[s])}}}function de(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function he(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:ie(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function fe(e,t,r,n){for(var i,o=0;o<t.changes.length;o++){var l=t.changes[o];if("text"==l)a=e,i=void 0,i=(c=t).text.className,a=ge(a,c),c.text==c.node&&(c.node=a.pre),c.text.parentNode.replaceChild(a.pre,c.text),c.text=a.pre,a.bgClass!=c.bgClass||a.textClass!=c.textClass?(c.bgClass=a.bgClass,c.textClass=a.textClass,me(c)):i&&(c.text.className=i);else if("gutter"==l)ve(e,t,r,n);else if("class"==l)me(t);else if("widget"==l){a=void 0;s=void 0;c=void 0;d=void 0;u=void 0;var a=e;var s=t;var c=n;s.alignable&&(s.alignable=null);for(var u=s.node.firstChild;u;u=d){var d=u.nextSibling;"CodeMirror-linewidget"==u.className&&s.node.removeChild(u)}ye(a,s,c)}}t.changes=null}function pe(e){return e.node==e.text&&(e.node=T("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),G)&&K<8&&(e.node.style.zIndex=2),e.node}function ge(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):on(e,t)}function me(e){(r=(n=e).bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass)&&(r+=" CodeMirror-linebackground"),n.background?r?n.background.className=r:(n.background.parentNode.removeChild(n.background),n.background=null):r&&(t=pe(n),n.background=t.insertBefore(T("div",null,r),t.firstChild)),e.line.wrapClass?pe(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t,r,n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function ve(e,t,r,n){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass&&(o=pe(t),t.gutterBackground=T("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),o.insertBefore(t.gutterBackground,t.text));var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var o=pe(t),l=t.gutter=T("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),o.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(T("div",ne(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var a=0;a<e.options.gutters.length;++a){var s=e.options.gutters[a],c=i.hasOwnProperty(s)&&i[s];c&&l.appendChild(T("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[s]+"px; width: "+n.gutterWidth[s]+"px"))}}}function ye(e,t,r){if(be(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)be(e,t.rest[n],t,r,!1)}function be(e,t,r,n,i){if(t.widgets)for(var o=pe(r),l=0,a=t.widgets;l<a.length;++l){var s=a[l],c=T("div",[s.node],"CodeMirror-linewidget"),u=(s.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),f=h=d=u=void 0,s),d=c,h=r,f=n;u.noHScroll&&((h.alignable||(h.alignable=[])).push(d),h=f.wrapperWidth,d.style.left=f.fixedPos+"px",u.coverGutter||(h-=f.gutterTotalWidth,d.style.paddingLeft=f.gutterTotalWidth+"px"),d.style.width=h+"px"),u.coverGutter&&(d.style.zIndex=5,d.style.position="relative",u.noHScroll||(d.style.marginLeft=-f.gutterTotalWidth+"px")),e.display.input.setUneditable(c),i&&s.above?o.insertBefore(c,r.gutter||r.text):o.appendChild(c),w(s,"redraw")}}function we(e){return q(e.line,e.ch)}function xe(e,t){return _(e,t)<0?t:e}function ke(e,t){return _(e,t)<0?e:t}function Ce(e){e.state.focused||(e.display.input.focus(),nr(e))}function Se(e){return e.options.readOnly||e.doc.cantEdit}function Le(e,t,r,n,i){var o=e.doc,l=(e.display.shift=!1,n=n||o.sel,e.state.pasteIncoming||"paste"==i),a=o.splitLines(t),s=null;if(l&&1<n.ranges.length)if(L&&L.join("\n")==t){if(n.ranges.length%L.length==0)for(var s=[],c=0;c<L.length;c++)s.push(o.splitLines(L[c]))}else a.length==n.ranges.length&&(s=Fn(a,function(e){return[e]}));for(c=n.ranges.length-1;0<=c;c--){var u=n.ranges[c],d=u.from(),h=u.to(),f=(u.empty()&&(r&&0<r?d=q(d.line,d.ch-r):e.state.overwrite&&!l&&(h=q(h.line,Math.min(R(o,h.line).text.length,h.ch+x(a).length)))),e.curOp.updateInput),u={from:d,to:h,text:s?s[c%s.length]:a,origin:i||(l?"paste":e.state.cutIncoming?"cut":"+input")};ur(e.doc,u),w(e,"inputRead",e,u)}t&&!l&&Te(e,t),yr(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Me(e,t){var r=e.clipboardData&&e.clipboardData.getData("text/plain");return r&&(e.preventDefault(),Se(t)||t.options.disableInput||h(t,function(){Le(t,r,0,null,"paste")}),1)}function Te(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;0<=n;n--){var i=r.ranges[n];if(!(100<i.head.ch||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(-1<t.indexOf(o.electricChars.charAt(a))){l=wr(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(R(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=wr(e,i.head.line,"smart"));l&&w(e,"electricInput",e,i.head.line)}}}function Ae(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,i={anchor:q(i,0),head:q(i+1,0)};r.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:r}}function Ne(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function Oe(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new In,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function We(){var e=T("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=T("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return V?e.style.width="1000px":e.setAttribute("wrap","off"),hi&&(e.style.border="1px solid black"),Ne(e),t}function ze(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new In,this.gracePeriod=!1}function De(e,t){var r,n=ft(e,t.line);return!n||n.hidden?null:(e=dt(n,n=R(e.doc,t.line),t.line),r="left",(n=C(n))&&(r=ri(n,t.ch)%2?"right":"left"),(n=mt(e.map,t.ch,r)).offset="right"==n.collapse?n.end:n.start,n)}function He(e,t){return t&&(e.bad=!0),e}function Pe(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return He(e.clipPos(q(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n){var c=o;o=t;var l=r;function a(e,t,r){for(var n=-1;n<(p?p.length:0);n++)for(var i=n<0?f.map:p[n],o=0;o<i.length;o+=3){var l,a,s=i[o+2];if(s==e||s==t)return l=b(n<0?c.line:c.rest[n]),a=i[o]+r,(r<0||s!=e)&&(a=i[o+(r?1:0)]),q(l,a)}}var s=c.text.firstChild,u=!1;if(!o||!ko(s,o))return He(q(b(c.line),0),!0);if(o==s&&(u=!0,o=s.childNodes[l],l=0,!o))return d=c.rest?x(c.rest):c.line,He(q(b(d),d.text.length),u);var d=3==o.nodeType?o:null,h=o;for(d||1!=o.childNodes.length||3!=o.firstChild.nodeType||(d=o.firstChild,l=l&&d.nodeValue.length);h.parentNode!=s;)h=h.parentNode;var f=c.measure,p=f.maps,g=a(d,h,l);if(g)return He(g,u);for(var m=h.nextSibling,v=d?d.nodeValue.length-l:0;m;m=m.nextSibling){if(g=a(m,m.firstChild,0))return He(q(g.line,g.ch-v),u);v+=m.textContent.length}for(var y=h.previousSibling,v=l;y;y=y.previousSibling){if(g=a(y,y.firstChild,-1))return He(q(g.line,g.ch+v),u);v+=m.textContent.length}return}}}function Ie(o,e,t,l,a){for(var s="",c=!1,u=o.doc.lineSeparator();function e(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(null!=r)return""==r&&(r=t.textContent.replace(/\u200b/g,"")),s+=r;if(r=t.getAttribute("cm-marker"))return(r=o.findMarks(q(l,0),q(a+1,0),(i=+r,function(e){return e.id==i}))).length&&(r=r[0].find())&&(s+=gn(o.doc,r.from,r.to).join(u));if("false"!=t.getAttribute("contenteditable")){for(var n=0;n<t.childNodes.length;n++)e(t.childNodes[n]);/^(pre|div|p)$/i.test(t.nodeName)&&(c=!0)}}else 3==t.nodeType&&(r=t.nodeValue)&&(c&&(s+=u,c=!1),s+=r);var i}(e),e!=t;)e=e.nextSibling;return s}function Ee(e,t){this.ranges=e,this.primIndex=t}function P(e,t){this.anchor=e,this.head=t}function I(e,t){var r=e[t];e.sort(function(e,t){return _(e.from(),t.from())}),t=k(e,r);for(var n=1;n<e.length;n++){var i,o,l=e[n],a=e[n-1];0<=_(a.to(),l.from())&&(i=ke(a.from(),l.from()),o=xe(a.to(),l.to()),l=a.empty()?l.from()==l.head:a.from()==a.head,n<=t&&--t,e.splice(--n,2,new P(l?o:i,l?i:o)))}return new Ee(e,t)}function Fe(e,t){return new Ee([new P(e,t||e)],0)}function Be(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function E(e,t){var r;return t.line<e.first?q(e.first,0):(r=e.first+e.size-1,t.line>r?q(r,R(e,r).text.length):(e=R(e,(r=t).line).text.length,null==(t=r.ch)||e<t?q(r.line,e):t<0?q(r.line,0):r))}function Re(e,t){return t>=e.first&&t<e.first+e.size}function je(e,t,r,n){return e.cm&&e.cm.display.shift||e.extend?(e=t.anchor,n&&((t=_(r,e)<0)!=_(n,e)<0?(e=r,r=n):t!=_(r,n)<0&&(r=n)),new P(e,r)):new P(n||r,r)}function Ge(e,t,r,n){F(e,new Ee([je(e,e.sel.primary(),t,r)],0),n)}function Ke(e,t,r){for(var n=[],i=0;i<e.sel.ranges.length;i++)n[i]=je(e,e.sel.ranges[i],t[i],null);F(e,I(n,e.sel.primIndex),r)}function Ve(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,F(e,I(i,e.sel.primIndex),n)}function Ue(e,t,r,n){F(e,Fe(t,r),n)}function qe(e,t,r){var n=e.history.done,i=x(n);(i&&i.ranges?(n[n.length-1]=t,_e):F)(e,t,r)}function F(e,t,r){var n,i,o;_e(e,t,r),n=(t=e).sel,e=e.cm?e.cm.curOp.id:NaN,r=r,i=t.history,o=r&&r.origin,e==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,r,n){t=t.charAt(0);return"*"==t||"+"==t&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(t,o,x(i.done),n))?i.done[i.done.length-1]=n:Sn(n,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=e,r&&!1!==r.clearRedo&&kn(i.undone)}function _e(e,t,r){(g(e,"beforeSelectionChange")||e.cm&&g(e.cm,"beforeSelectionChange"))&&(n=e,o={ranges:(i=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new P(E(n,e[t].anchor),E(n,e[t].head))}},A(n,"beforeSelectionChange",n,o),n.cm&&A(n.cm,"beforeSelectionChange",n.cm,o),t=o.ranges!=i.ranges?I(o.ranges,o.ranges.length-1):i);var n,i,o=r&&r.bias||(_(t.primary().head,e.sel.primary().head)<0?-1:1);Xe(e,Ye(e,t,o,!0)),r&&!1===r.scroll||!e.cm||yr(e.cm)}function Xe(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Hn(e.cm)),w(e,"cursorActivity",e))}function $e(e){Xe(e,Ye(e,e.sel,null,!1))}function Ye(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],a=Ze(e,l.anchor,r,n),s=Ze(e,l.head,r,n);!i&&a==l.anchor&&s==l.head||((i=i||t.ranges.slice(0,o))[o]=new P(a,s))}return i?I(i,t.primIndex):t}function Ze(e,t,r,n){var i=!1,o=t,l=r||1;e.cantEdit=!1;e:for(;;){var a=R(e,o.line);if(a.markedSpans)for(var s=0;s<a.markedSpans.length;++s){var c=a.markedSpans[s],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(n&&(A(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--s;continue}break}if(u.atomic){c=u.find(l<0?-1:1);if(0==_(c,o)&&(c.ch+=l,c.ch<0?c=c.line>e.first?E(e,q(c.line-1)):null:c.ch>a.text.length&&(c=c.line<e.first+e.size-1?q(c.line+1,0):null),!c)){if(i)return n?(e.cantEdit=!0,q(e.first,0)):Ze(e,t,r,!0);i=!0,c=t,l=-l}o=c;continue e}}}return o}}function Qe(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Je(e,t){for(var r,n,i=e.doc,o={},l=o.cursors=document.createDocumentFragment(),a=o.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)!1===t&&s==i.sel.primIndex||(((n=(r=i.sel.ranges[s]).empty())||e.options.showCursorWhenSelecting)&&et(e,r.head,l),n)||function(i,e,t){function f(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),l.appendChild(T("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?g-e:r)+"px; height: "+(n-t)+"px"))}function r(r,a,s){function c(e,t){return St(i,q(r,e),"div",n,t)}var u,d,n=R(o,r),h=n.text.length;return function(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr"),i=!0)}i||n(t,r,"ltr")}(C(n),a||0,null==s?h:s,function(e,t,r){var n,i,o,l=c(e,"left");e==t?n=i=(o=l).left:(o=c(t-1,"right"),"rtl"==r&&(r=l,l=o,o=r),n=l.left,i=o.right),null==a&&0==e&&(n=p),3<o.top-l.top&&(f(n,l.top,null,l.bottom),n=p,l.bottom<o.top)&&f(n,l.bottom,null,o.top),null==s&&t==h&&(i=g),(!u||l.top<u.top||l.top==u.top&&l.left<u.left)&&(u=l),(!d||o.bottom>d.bottom||o.bottom==d.bottom&&o.right>d.right)&&(d=o),f(n=n<p+1?p:n,o.top,i-n,o.bottom)}),{start:u,end:d}}var n=i.display,o=i.doc,l=document.createDocumentFragment(),a=at(i.display),p=a.left,g=Math.max(n.sizerWidth,ct(i)-n.sizer.offsetLeft)-a.right,n=e.from(),a=e.to();{var s;n.line==a.line?r(n.line,n.ch,a.ch):(e=R(o,n.line),s=R(o,a.line),s=Kr(e)==Kr(s),n=r(n.line,n.ch,s?e.text.length+1:null).end,e=r(a.line,s?0:null,a.ch).start,s&&(n.top<e.top-2?(f(n.right,n.top,null,n.bottom),f(p,e.top,e.left,e.bottom)):f(n.right,n.top,e.left-n.right,n.bottom)),n.bottom<e.top&&f(p,n.bottom,null,e.top))}t.appendChild(l)}(e,r,a);return o}function et(e,t,r){var t=Lt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),n=r.appendChild(T("div"," ","CodeMirror-cursor"));n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.height=Math.max(0,t.bottom-t.top)*e.options.cursorHeight+"px",t.other&&((n=r.appendChild(T("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"))).style.display="",n.style.left=t.other.left+"px",n.style.top=t.other.top+"px",n.style.height=.85*(t.other.bottom-t.other.top)+"px")}function tt(e){var t,r;e.state.focused&&(t=e.display,clearInterval(t.blinker),r=!0,t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden"))}function rt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,jn(nt,e))}function nt(a){var s,c,u,d=a.doc;d.frontier<d.first&&(d.frontier=d.first),d.frontier>=a.display.viewTo||(s=+new Date+a.options.workTime,c=ji(d.mode,it(a,d.frontier)),u=[],d.iter(d.frontier,Math.min(d.first+d.size,a.display.viewTo+500),function(e){if(d.frontier>=a.display.viewFrom){var t=e.styles,r=e.text.length>a.options.maxHighlightLength,n=en(a,e,r?ji(d.mode,c):c,!0),i=(e.styles=n.styles,e.styleClasses),n=n.classes;n?e.styleClasses=n:i&&(e.styleClasses=null);for(var o=!t||t.length!=e.styles.length||i!=n&&(!i||!n||i.bgClass!=n.bgClass||i.textClass!=n.textClass),l=0;!o&&l<t.length;++l)o=t[l]!=e.styles[l];o&&u.push(d.frontier),e.stateAfter=r?c:ji(d.mode,c)}else e.text.length<=a.options.maxHighlightLength&&rn(a,e.text,c),e.stateAfter=d.frontier%5==0?ji(d.mode,c):null;return++d.frontier,+new Date>s?(rt(a,a.options.workDelay),!0):void 0}),u.length&&h(a,function(){for(var e=0;e<u.length;e++)Pt(a,u[e],"text")}))}function it(r,n,e){var i,o,l=r.doc,a=r.display;return!l.mode.startState||(i=function(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;l<a;--a){if(a<=o.first)return o.first;var s=R(o,a-1);if(s.stateAfter&&(!r||a<=o.frontier))return a;s=po(s.text,null,e.options.tabSize);(null==i||s<n)&&(i=a-1,n=s)}return i}(r,n,e),o=(o=i>l.first&&R(l,i-1).stateAfter)?ji(l.mode,o):Gi(l.mode),l.iter(i,n,function(e){rn(r,e.text,o);var t=i==n-1||i%5==0||i>=a.viewFrom&&i<a.viewTo;e.stateAfter=t?ji(l.mode,o):null,++i}),e&&(l.frontier=i),o)}function ot(e){return e.lineSpace.offsetTop}function lt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function at(e){var t;return e.cachedPaddingH||(t=v(e.measure,T("pre","x")),t=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,t={left:parseInt(t.paddingLeft),right:parseInt(t.paddingRight)},isNaN(t.left)||isNaN(t.right)||(e.cachedPaddingH=t),t)}function st(e){return so-e.display.nativeBarWidth}function ct(e){return e.display.scroller.clientWidth-st(e)-e.display.barWidth}function ut(e){return e.display.scroller.clientHeight-st(e)-e.display.barHeight}function dt(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(n=0;n<e.rest.length;n++)if(b(e.rest[n])>r)return{map:e.measure.maps[n],cache:e.measure.caches[n],before:!0}}function ht(e,t,r,n){return gt(e,pt(e,t),r,n)}function ft(e,t){return t>=e.display.viewFrom&&t<e.display.viewTo?e.display.view[Et(e,t)]:(e=e.display.externalMeasured)&&t>=e.lineN&&t<e.lineN+e.size?e:void 0}function pt(e,t){var r,n,i=b(t),o=ft(e,i),e=(o&&!o.text?o=null:o&&o.changes&&(fe(e,o,i,he(e)),e.curOp.forceUpdate=!0),o||(e=e,n=b(r=Kr(r=t)),(r=e.display.externalMeasured=new Dt(e.doc,r,n)).lineN=n,n=r.built=on(e,r),r.text=n.pre,v(e.display.lineMeasure,n.pre),o=r),dt(o,t,i));return{line:t,view:o,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function gt(e,t,r,n,i){var o,l=(r=t.before?-1:r)+(n||"");if(t.cache.hasOwnProperty(l))o=t.cache[l];else{if(t.rect||(t.rect=t.view.text.getBoundingClientRect()),!t.hasHeights){var a=e,s=t.view,c=t.rect,u=a.options.lineWrapping,a=u&&ct(a);if(!s.measure.heights||u&&s.measure.width!=a){var d=s.measure.heights=[];if(u){s.measure.width=a;for(var h=s.text.firstChild.getClientRects(),f=0;f<h.length-1;f++){var p=h[f],g=h[f+1];2<Math.abs(p.bottom-g.bottom)&&d.push((p.bottom+g.top)/2-c.top)}}d.push(c.bottom-c.top)}t.hasHeights=!0}(o=function(e,t,r,n){var i,o=mt(t.map,r,n),l=o.node,a=o.start,s=o.end,c=o.collapse;if(3==l.nodeType){for(var u,d=0;d<4;d++){for(;a&&Vn(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+s<o.coverEnd&&Vn(t.line.text.charAt(o.coverStart+s));)++s;if((i=G&&K<9&&0==a&&s==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():G&&e.options.lineWrapping?(u=xo(l,a,s).getClientRects()).length?u["right"==n?u.length-1:0]:Li:xo(l,a,s).getBoundingClientRect()||Li).left||i.right||0==a)break;s=a,--a,c="right"}G&&K<11&&(i=function(e,t){var r;return window.screen&&null!=screen.logicalXDPI&&screen.logicalXDPI!=screen.deviceXDPI&&function(e){var t;return null!=zo?zo:(e=v(e,T("span","x")),t=e.getBoundingClientRect(),e=xo(e,0,1).getBoundingClientRect(),zo=1<Math.abs(t.left-e.left))}(e)?(e=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI,{left:t.left*e,right:t.right*e,top:t.top*r,bottom:t.bottom*r}):t}(e.display.measure,i))}else 0<a&&(c=n="right"),i=e.options.lineWrapping&&1<(u=l.getClientRects()).length?u["right"==n?u.length-1:0]:l.getBoundingClientRect();!(G&&K<9)||a||i&&(i.left||i.right)||(r=l.parentNode.getClientRects()[0],i=r?{left:r.left,right:r.left+Ot(e.display),top:r.top,bottom:r.bottom}:Li);for(var r=i.top-t.rect.top,h=i.bottom-t.rect.top,f=(r+h)/2,p=t.view.measure.heights,d=0;d<p.length-1&&!(f<p[d]);d++);var g=d?p[d-1]:0,m=p[d],g={left:("right"==c?i.right:i.left)-t.rect.left,right:("left"==c?i.left:i.right)-t.rect.left,top:g,bottom:m};return i.left||i.right||(g.bogus=!0),e.options.singleCursorHeightPerLine||(g.rtop=r,g.rbottom=h),g}(e,t,r,n)).bogus||(t.cache[l]=o)}return{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function mt(e,t,r){for(var n,i,o,l,a=0;a<e.length;a+=3){var s=e[a],c=e[a+1];if(t<s?(i=0,o=1,l="left"):t<c?o=(i=t-s)+1:(a==e.length-3||t==c&&e[a+3]>t)&&(i=(o=c-s)-1,c<=t)&&(l="right"),null!=i){if(n=e[a+2],s==c&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)n=e[2+(a-=3)],l="left";if("right"==r&&i==c-s)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)n=e[(a+=3)+2],l="right";break}}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:c}}function vt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function yt(e){e.display.externalMeasure=null,Un(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)vt(e.display.view[t])}function bt(e){yt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function wt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function xt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function kt(e,t,r,n){if(t.widgets)for(var i=0;i<t.widgets.length;++i){var o;t.widgets[i].above&&(o=Xr(t.widgets[i]),r.top+=o,r.bottom+=o)}var l;return"line"!=n&&(n=n||"local",l=bn(t),"local"==n?l+=ot(e.display):l-=e.display.viewOffset,"page"!=n&&"window"!=n||(l+=(e=e.display.lineSpace.getBoundingClientRect()).top+("window"==n?0:xt()),e=e.left+("window"==n?0:wt()),r.left+=e,r.right+=e),r.top+=l,r.bottom+=l),r}function Ct(e,t,r){var n;return"div"==r?t:(n=t.left,t=t.top,"page"==r?(n-=wt(),t-=xt()):"local"!=r&&r||(n+=(r=e.display.sizer.getBoundingClientRect()).left,t+=r.top),{left:n-(r=e.display.lineSpace.getBoundingClientRect()).left,top:t-r.top})}function St(e,t,r,n,i){return kt(e,n=n||R(e.doc,t.line),ht(e,n,t.ch,i),r)}function Lt(r,e,n,i,o,l){function a(e,t){e=gt(r,o,e,t?"right":"left",l);return t?e.left=e.right:e.right=e.left,kt(r,i,e,n)}function t(e,t){var r=c[t],n=r.level%2;return e==Yn(r)&&t&&r.level<c[t-1].level?(e=Zn(r=c[--t])-(r.level%2?0:1),n=!0):e==Zn(r)&&t<c.length-1&&r.level<c[t+1].level&&(e=Yn(r=c[++t])-r.level%2,n=!1),n&&e==r.to&&e>r.from?a(e-1):a(e,n)}i=i||R(r.doc,e.line),o=o||pt(r,i);var s,c=C(i),e=e.ch;return c?(s=t(e,ri(c,e)),null!=Ho&&(s.other=t(e,Ho)),s):a(e)}function Mt(e,t){var r=0,t=E(e.doc,t),t=(e.options.lineWrapping||(r=Ot(e.display)*t.ch),R(e.doc,t.line)),e=bn(t)+ot(e.display);return{left:r,right:r,top:e,bottom:e+t.height}}function Tt(e,t,r,n){e=q(e,t);return e.xRel=n,r&&(e.outside=!0),e}function At(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Tt(n.first,0,!0,-1);var i=yn(n,r),o=n.first+n.size-1;if(o<i)return Tt(n.first+n.size-1,R(n,o).text.length,!0,1);t<0&&(t=0);for(var l=R(n,i);;){var a=function(t,r,n,e,i){function o(e){e=Lt(t,q(n,e),"line",r,c);return a=!0,l>e.bottom?e.left-s:l<e.top?e.left+s:(a=!1,e.left)}var l=i-bn(r),a=!1,s=2*t.display.wrapper.clientWidth,c=pt(t,r),u=C(r),d=r.text.length,h=Qn(r),f=Jn(r),p=o(h),g=a,m=o(f),v=a;if(m<e)return Tt(n,f,v,1);for(;;){if(u?f==h||f==ii(r,h,1):f-h<=1){for(var y=e<p||e-p<=m-e?h:f,b=e-(y==h?p:m);Vn(r.text.charAt(y));)++y;return Tt(n,y,y==h?g:v,b<-1?-1:1<b?1:0)}var w=Math.ceil(d/2),x=h+w;if(u){x=h;for(var k=0;k<w;++k)x=ii(r,x,1)}b=o(x);e<b?(f=x,m=b,(v=a)&&(m+=1e3),d=w):(h=x,p=b,g=a,d-=w)}}(e,l,i,t,r),s=jr(l),c=s&&s.find(0,!0);if(!s||!(a.ch>c.from.ch||a.ch==c.from.ch&&0<a.xRel))return a;i=b(l=c.to.line)}}function Nt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==xi){xi=T("pre");for(var t=0;t<49;++t)xi.appendChild(document.createTextNode("x")),xi.appendChild(T("br"));xi.appendChild(document.createTextNode("x"))}v(e.measure,xi);var r=xi.offsetHeight/50;return 3<r&&(e.cachedTextHeight=r),Un(e.measure),r||1}function Ot(e){var t,r;return null!=e.cachedCharWidth?e.cachedCharWidth:(r=T("span","xxxxxxxxxx"),t=T("pre",[r]),v(e.measure,t),2<(r=((t=r.getBoundingClientRect()).right-t.left)/10)&&(e.cachedCharWidth=r),r||10)}function Wt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ti},Mi?Mi.ops.push(e.curOp):e.curOp.ownsGroup=Mi={ops:[e.curOp],delayedCallbacks:[]}}function zt(e){var t=e.curOp.ownsGroup;if(t)try{var r=t,n=r.delayedCallbacks,i=0;do{for(;i<n.length;i++)n[i].call(null);for(var o=0;o<r.ops.length;o++){var l=r.ops[o];if(l.cursorActivityHandlers)for(;l.cursorActivityCalled<l.cursorActivityHandlers.length;)l.cursorActivityHandlers[l.cursorActivityCalled++].call(null,l.cm)}}while(i<n.length)}finally{Mi=null;for(var a=0;a<t.ops.length;a++)t.ops[a].cm.curOp=null;for(var s,c=t.ops,u=0;u<c.length;u++){d=void 0;h=void 0;f=void 0;var d=c[u];var h=d.cm,f=h.display;(function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=st(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=st(e)+"px",t.scrollbarsClipped=!0)})(h),d.updateMaxLine&&H(h),d.mustUpdate=d.viewChanged||d.forceUpdate||null!=d.scrollTop||d.scrollToPos&&(d.scrollToPos.from.line<f.viewFrom||d.scrollToPos.to.line>=f.viewTo)||f.maxLineChanged&&h.options.lineWrapping,d.update=d.mustUpdate&&new oe(h,d.mustUpdate&&{top:d.scrollTop,ensure:d.scrollToPos},d.forceUpdate)}for(u=0;u<c.length;u++){p=void 0;var p=c[u];p.updatedDisplay=p.mustUpdate&&le(p.cm,p.update)}for(u=0;u<c.length;u++){g=void 0;m=void 0;v=void 0;var g=c[u];var m=g.cm,v=m.display;g.updatedDisplay&&ue(m),g.barMeasure=Z(m),v.maxLineChanged&&!m.options.lineWrapping&&(g.adjustWidthTo=ht(m,v.maxLine,v.maxLine.text.length).left+3,m.display.sizerWidth=g.adjustWidthTo,g.barMeasure.scrollWidth=Math.max(v.scroller.clientWidth,v.sizer.offsetLeft+g.adjustWidthTo+st(m)+m.display.barWidth),g.maxScrollLeft=Math.max(0,v.sizer.offsetLeft+g.adjustWidthTo-ct(m))),(g.updatedDisplay||g.selectionChanged)&&(g.preparedSelection=v.input.prepareSelection())}for(u=0;u<c.length;u++){y=void 0;b=void 0;var y=c[u];var b=y.cm;null!=y.adjustWidthTo&&(b.display.sizer.style.minWidth=y.adjustWidthTo+"px",y.maxScrollLeft<b.doc.scrollLeft&&$t(b,Math.min(b.display.scroller.scrollLeft,y.maxScrollLeft),!0),b.display.maxLineChanged=!1),y.preparedSelection&&b.display.input.showSelection(y.preparedSelection),y.updatedDisplay&&ce(b,y.barMeasure),!y.updatedDisplay&&y.startHeight==b.doc.height||J(b,y.barMeasure),y.selectionChanged&&tt(b),b.state.focused&&y.updateInput&&b.display.input.reset(y.typing),y.focus&&y.focus==qn()&&Ce(y.cm)}for(u=0;u<c.length;u++){w=void 0;x=void 0;k=void 0;C=void 0;s=void 0;S=void 0;L=void 0;M=void 0;var w=c[u];var x=w.cm,k=x.display,C=x.doc;w.updatedDisplay&&ae(x,w.update),null==k.wheelStartX||null==w.scrollTop&&null==w.scrollLeft&&!w.scrollToPos||(k.wheelStartX=k.wheelStartY=null),null==w.scrollTop||k.scroller.scrollTop==w.scrollTop&&!w.forceScroll||(C.scrollTop=Math.max(0,Math.min(k.scroller.scrollHeight-k.scroller.clientHeight,w.scrollTop)),k.scrollbars.setScrollTop(C.scrollTop),k.scroller.scrollTop=C.scrollTop),null==w.scrollLeft||k.scroller.scrollLeft==w.scrollLeft&&!w.forceScroll||(C.scrollLeft=Math.max(0,Math.min(k.scroller.scrollWidth-ct(x),w.scrollLeft)),k.scrollbars.setScrollLeft(C.scrollLeft),k.scroller.scrollLeft=C.scrollLeft,te(x)),w.scrollToPos&&(s=function(e,t,r,n){null==n&&(n=0);for(var i=0;i<5;i++){var o=!1,l=Lt(e,t),a=r&&r!=t?Lt(e,r):l,a=mr(e,Math.min(l.left,a.left),Math.min(l.top,a.top)-n,Math.max(l.left,a.left),Math.max(l.bottom,a.bottom)+n),s=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=a.scrollTop&&(Xt(e,a.scrollTop),1<Math.abs(e.doc.scrollTop-s))&&(o=!0),!(o=null!=a.scrollLeft&&($t(e,a.scrollLeft),1<Math.abs(e.doc.scrollLeft-c))?!0:o))break}return l}(x,E(C,w.scrollToPos.from),E(C,w.scrollToPos.to),w.scrollToPos.margin),w.scrollToPos.isCursor)&&x.state.focused&&function(e,t){{var r,n,i;j(e,"scrollCursorIntoView")||(r=e.display,i=r.sizer.getBoundingClientRect(),n=null,t.top+i.top<0?n=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),null==n)||di||(i=T("div","​",null,"position: absolute; top: "+(t.top-r.viewOffset-ot(e.display))+"px; height: "+(t.bottom-t.top+st(e)+r.barHeight)+"px; left: "+t.left+"px; width: 2px;"),e.display.lineSpace.appendChild(i),i.scrollIntoView(n),e.display.lineSpace.removeChild(i))}}(x,s);var S=w.maybeHiddenMarkers,L=w.maybeUnhiddenMarkers;if(S)for(var M=0;M<S.length;++M)S[M].lines.length||A(S[M],"hide");if(L)for(M=0;M<L.length;++M)L[M].lines.length&&A(L[M],"unhide");k.wrapper.offsetHeight&&(C.scrollTop=x.display.scroller.scrollTop),w.changeObjs&&A(x,"changes",x,w.changeObjs),w.update&&w.update.finish()}}}function h(e,t){if(e.curOp)return t();Wt(e);try{return t()}finally{zt(e)}}function B(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Wt(e);try{return t.apply(e,arguments)}finally{zt(e)}}}function e(e){return function(){if(this.curOp)return e.apply(this,arguments);Wt(this);try{return e.apply(this,arguments)}finally{zt(this)}}}function t(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Wt(e);try{return t.apply(this,arguments)}finally{zt(e)}}}function Dt(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=jr(e);)e=t.find(1,!0).line,(r=r||[]).push(e);return r}(t),this.size=this.rest?b(x(this.rest))-r+1:1,this.node=this.text=null,this.hidden=qr(e,t)}function Ht(e,t,r){for(var n=[],i=t;i<r;i=l){var o=new Dt(e.doc,R(e.doc,i),i),l=i+o.size;n.push(o)}return n}function y(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size);var i,o=e.display,l=((n=n||0)&&r<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo?bi&&Vr(e.doc,t)<o.viewTo&&It(e):r<=o.viewFrom?bi&&Ur(e.doc,r+n)>o.viewFrom?It(e):(o.viewFrom+=n,o.viewTo+=n):t<=o.viewFrom&&r>=o.viewTo?It(e):t<=o.viewFrom?(l=Ft(e,r,r+n,1))?(o.view=o.view.slice(l.index),o.viewFrom=l.lineN,o.viewTo+=n):It(e):r>=o.viewTo?(l=Ft(e,t,t,-1))?(o.view=o.view.slice(0,l.index),o.viewTo=l.lineN):It(e):(l=Ft(e,t,t,-1),i=Ft(e,r,r+n,1),l&&i?(o.view=o.view.slice(0,l.index).concat(Ht(e,l.lineN,i.lineN)).concat(o.view.slice(i.index)),o.viewTo+=n):It(e)),o.externalMeasured);l&&(r<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(o.externalMeasured=null))}function Pt(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),t<n.viewFrom||t>=n.viewTo||null!=(i=n.view[Et(e,t)]).node&&-1==k(n=i.changes||(i.changes=[]),r)&&n.push(r)}function It(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Et(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function Ft(e,t,r,n){var i,o=Et(e,t),l=e.display.view;if(bi&&r!=e.doc.first+e.doc.size){for(var a=0,s=e.display.viewFrom;a<o;a++)s+=l[a].size;if(s!=t){if(0<n){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;Vr(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}}return{index:o,lineN:r}}function Bt(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Rt(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function jt(e,t){for(var r=Wn(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return 1}function Gt(e,t,r,n){var i=e.display;if(!r&&"true"==Wn(t).getAttribute("cm-not-content"))return null;var o,r=i.lineSpace.getBoundingClientRect();try{o=t.clientX-r.left,l=t.clientY-r.top}catch(t){return null}var l,i=At(e,o,l);return n&&1==i.xRel&&(r=R(e.doc,i.line).text).length==i.ch&&(l=po(r,r.length,e.options.tabSize)-r.length,i=q(i.line,Math.max(0,Math.round((o-at(e.display).left)/Ot(e.display))-l))),i}function Kt(e){var t,r,n,i,o,l=this,a=l.display;if(!(a.activeTouch&&a.input.supportsTouch()||j(l,e)))if(a.shift=e.shiftKey,jt(a,e))V||(a.scroller.draggable=!1,setTimeout(function(){a.scroller.draggable=!0},100));else if(!Ut(l,e)){var s,c=Gt(l,e);switch(window.focus(),zn(e)){case 1:if(l.state.selectingText)l.state.selectingText(e);else if(c){N=l,r=e,n=c,G?setTimeout(jn(Ce,N),0):N.curOp.focus=qn(),y=+new Date,Ci&&Ci.time>y-400&&0==_(Ci.pos,n)?i="triple":ki&&ki.time>y-400&&0==_(ki.pos,n)?(i="double",Ci={time:y,pos:n}):(i="single",ki={time:y,pos:n}),y=N.doc.sel,o=U?r.metaKey:r.ctrlKey;if(N.options.dragDrop&&Ao&&!Se(N)&&"single"==i&&-1<(x=y.contains(n))&&(_((x=y.ranges[x]).from(),n)<0||0<n.xRel)&&(0<_(x.to(),n)||n.xRel<0)){var u=N;var d=r;var h=n;var f=o;var p=u.display,g=+new Date,m=B(u,function(e){V&&(p.scroller.draggable=!1),u.state.draggingText=!1,lo(document,"mouseup",m),lo(p.scroller,"drop",m),Math.abs(d.clientX-e.clientX)+Math.abs(d.clientY-e.clientY)<10&&(X(e),!f&&+new Date-200<g&&Ge(u.doc,h),V||G&&9==K?setTimeout(function(){document.body.focus(),p.input.focus()},20):p.input.focus())});V&&(p.scroller.draggable=!0),u.state.draggingText=m,p.scroller.dragDrop&&p.scroller.dragDrop(),$(document,"mouseup",m),$(p.scroller,"drop",m)}else{var v=N;var y=r;var b=n;var w=i;var x=o;function k(e){var t=++z,r=Gt(v,e,!0,"rect"==w);if(r)if(0!=_(r,O)){v.curOp.focus=qn();var n=r;if(0!=_(O,n))if(O=n,"rect"==w){for(var i=[],o=v.options.tabSize,l=po(R(L,b.line).text,b.ch,o),a=po(R(L,n.line).text,n.ch,o),s=Math.min(l,a),c=Math.max(l,a),u=Math.min(b.line,n.line),d=Math.min(v.lastLine(),Math.max(b.line,n.line));u<=d;u++){var h=R(L,u).text,f=go(h,s,o);s==c?i.push(new P(q(u,f),q(u,f))):h.length>f&&i.push(new P(q(u,f),q(u,go(h,c,o))))}i.length||i.push(new P(b,b)),F(L,I(A.ranges.slice(0,T).concat(i),T),{origin:"*mouse",scroll:!1}),v.scrollIntoView(n)}else{var l=M,a=l.anchor,p=n;"single"!=w&&(n="double"==w?v.findWordAt(n):new P(q(n.line,0),E(L,q(n.line+1,0))),a=0<_(n.anchor,a)?(p=n.head,ke(l.from(),n.anchor)):(p=n.anchor,xe(l.to(),n.head))),(i=A.ranges.slice(0))[T]=new P(E(L,a),p),F(L,I(i,T),ho)}l=ee(S,L);(r.line>=l.to||r.line<l.from)&&setTimeout(B(v,function(){z==t&&k(e)}),150)}else{var g=e.clientY<W.top?-20:e.clientY>W.bottom?20:0;g&&setTimeout(B(v,function(){z==t&&(S.scroller.scrollTop+=g,k(e))}),50)}}function C(e){v.state.selectingText=!1,z=1/0,X(e),S.input.focus(),lo(document,"mousemove",D),lo(document,"mouseup",H),L.history.lastSelOrigin=null}var S=v.display,L=v.doc;X(y);var M,T,A=L.sel,N=A.ranges;x&&!y.shiftKey?(T=L.sel.contains(b),M=-1<T?N[T]:new P(b,b)):(M=L.sel.primary(),T=L.sel.primIndex),y.altKey?(w="rect",x||(M=new P(b,b)),b=Gt(v,y,!0,!0),T=-1):M="double"==w?(s=v.findWordAt(b),v.display.shift||L.extend?je(L,M,s.anchor,s.head):s):"triple"==w?(s=new P(q(b.line,0),E(L,q(b.line+1,0))),v.display.shift||L.extend?je(L,M,s.anchor,s.head):s):je(L,M,b);x?-1==T?(T=N.length,F(L,I(N.concat([M]),T),{scroll:!1,origin:"*mouse"})):1<N.length&&N[T].empty()&&"single"==w&&!y.shiftKey?(F(L,I(N.slice(0,T).concat(N.slice(T+1)),0),{scroll:!1,origin:"*mouse"}),A=L.sel):Ve(L,T,M,ho):(F(L,new Ee([M],T=0),ho),A=L.sel);var O=b,W=S.wrapper.getBoundingClientRect(),z=0,D=B(v,function(e){(zn(e)?k:C)(e)}),H=B(v,C);v.state.selectingText=H,$(document,"mousemove",D),$(document,"mouseup",H)}}else Wn(e)==a.scroller&&X(e);break;case 2:V&&(l.state.lastMiddleDown=+new Date),c&&Ge(l.doc,c),setTimeout(function(){a.input.focus()},20),X(e);break;case 3:vi?or(l,e):((t=l).state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,ir(t))},100))}}}function Vt(e,t,r,n,i){try{var o=t.clientX,l=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&X(t);var a=e.display,n=a.lineDiv.getBoundingClientRect();if(l>n.bottom||!g(e,r))return On(t);l-=n.top-a.viewOffset;for(var s=0;s<e.options.gutters.length;++s){var c=a.gutters.childNodes[s];if(c&&c.getBoundingClientRect().right>=o)return i(e,r,e,yn(e.doc,l),e.options.gutters[s],t),On(t)}}function Ut(e,t){return Vt(e,t,"gutterClick",!0,w)}function qt(e){var n=this;if(_t(n),!j(n,e)&&!jt(n.display,e)){X(e),G&&(Ai=+new Date);var t,i=Gt(n,e,!0),r=e.dataTransfer.files;if(i&&!Se(n))if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,l=Array(o),a=0,s=0;s<o;++s)!function(e,t){var r=new FileReader;r.onload=B(n,function(){var e;l[t]=r.result,++a==o&&(e={from:i=E(n.doc,i),to:i,text:n.doc.splitLines(l.join(n.doc.lineSeparator())),origin:"paste"},ur(n.doc,e),qe(n.doc,Fe(i,zi(e))))}),r.readAsText(e)}(r[s],s);else if(n.state.draggingText&&-1<n.doc.sel.contains(i))n.state.draggingText(e),setTimeout(function(){n.display.input.focus()},20);else try{if(l=e.dataTransfer.getData("Text")){if(n.state.draggingText&&!(U?e.altKey:e.ctrlKey)&&(t=n.listSelections()),_e(n.doc,Fe(i,i)),t)for(s=0;s<t.length;++s)gr(n.doc,"",t[s].anchor,t[s].head,"drag");n.replaceSelection(l,"around","paste"),n.display.input.focus()}}catch(e){}}}function _t(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Xt(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,li||se(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),li&&se(e),rt(e,100))}function $t(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,te(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Yt(e,t){var r,n,i,o=wi(t),l=o.x,o=o.y,a=e.display,s=a.scroller;if(l&&s.scrollWidth>s.clientWidth||o&&s.scrollHeight>s.clientHeight){if(o&&U&&V)e:for(var c=t.target,u=a.view;c!=s;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(l&&!li&&!m&&null!=f)return o&&Xt(e,Math.max(0,Math.min(s.scrollTop+o*f,s.scrollHeight-s.clientHeight))),$t(e,Math.max(0,Math.min(s.scrollLeft+l*f,s.scrollWidth-s.clientWidth))),X(t),a.wheelStartX=null;o&&null!=f&&(r=o*f,i=(n=e.doc.scrollTop)+a.wrapper.clientHeight,r<0?n=Math.max(0,n+r-50):i=Math.min(e.doc.height,i+r+50),se(e,{top:n,bottom:i})),Ni<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=l,a.wheelDY=o,setTimeout(function(){var e,t;null!=a.wheelStartX&&(e=s.scrollLeft-a.wheelStartX,t=(t=s.scrollTop-a.wheelStartY)&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX,a.wheelStartX=a.wheelStartY=null,t)&&(f=(f*Ni+t)/(Ni+1),++Ni)},200)):(a.wheelDX+=l,a.wheelDY+=o))}}function Zt(e,t,r){if("string"==typeof t&&!(t=Ki[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{Se(e)&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=co}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function Qt(e,t,r,n){var i=e.state.keySeq;if(i){if(qi(t))return"handled";Oi.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}n=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=Ui(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&Ui(t,e.options.extraKeys,r,e)||Ui(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==n&&(e.state.keySeq=t),"handled"==n&&w(e,"keyHandled",e,t,r),"handled"!=n&&"multi"!=n||(X(r),tt(e)),i&&!n&&/\'$/.test(t)?(X(r),!0):!!n}function Jt(t,e){var r=_i(e,!0);return!!r&&(e.shiftKey&&!t.state.keySeq?Qt(t,"Shift-"+r,e,function(e){return Zt(t,e,!0)})||Qt(t,r,e,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?Zt(t,e):void 0}):Qt(t,r,e,function(e){return Zt(t,e)}))}function er(e){var t,r,n,i=this;function o(e){18!=e.keyCode&&e.altKey||(Lo(n,"CodeMirror-crosshair"),lo(document,"keyup",o),lo(document,"mouseover",o))}i.curOp.focus=qn(),j(i,e)||(G&&K<11&&27==e.keyCode&&(e.returnValue=!1),t=e.keyCode,i.display.shift=16==t||e.shiftKey,r=Jt(i,e),m&&(Wi=r?t:null,!r)&&88==t&&!Wo&&(U?e.metaKey:e.ctrlKey)&&i.replaceSelection("",null,"cut"),18!=t)||/\bCodeMirror-crosshair\b/.test(i.display.lineDiv.className)||(n=i.display.lineDiv,Mo(n,"CodeMirror-crosshair"),$(document,"keyup",o),$(document,"mouseover",o))}function tr(e){16==e.keyCode&&(this.doc.sel.shift=!1),j(this,e)}function rr(e){var t,r,n,i=this;jt(i.display,e)||j(i,e)||e.ctrlKey&&!e.altKey||U&&e.metaKey||(r=e.keyCode,t=e.charCode,m&&r==Wi?(Wi=null,X(e)):m&&(!e.which||e.which<10)&&Jt(i,e)||(r=String.fromCharCode(null==t?r:t),Qt(n=i,"'"+r+"'",e,function(e){return Zt(n,e,!0)}))||i.display.input.onKeyPress(e))}function nr(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(A(e,"focus",e),e.state.focused=!0,Mo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),V&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),tt(e))}function ir(e){e.state.delayingBlurEvent||(e.state.focused&&(A(e,"blur",e),e.state.focused=!1,Lo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function or(e,t){var r,n;jt(e.display,t)||(n=t,g(r=e,"gutterContextMenu")&&Vt(r,n,"gutterContextMenu",!1,A))||e.display.input.onContextMenu(t)}function lr(e,t){var r,n;return _(e,t.from)<0?e:_(e,t.to)<=0?zi(t):(r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch,e.line==t.to.line&&(n+=zi(t).ch-t.to.ch),q(r,n))}function ar(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new P(lr(i.anchor,t),lr(i.head,t)))}return I(r,e.sel.primIndex)}function sr(e,t,r){return e.line==t.line?q(r.line,e.ch-t.ch+r.ch):q(r.line+(e.line-t.line),e.ch)}function cr(i,e,t){e={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return t&&(e.update=function(e,t,r,n){e&&(this.from=E(i,e)),t&&(this.to=E(i,t)),r&&(this.text=r),void 0!==n&&(this.origin=n)}),A(i,"beforeChange",i,e),i.cm&&A(i.cm,"beforeChange",i.cm,e),e.canceled?null:{from:e.from,to:e.to,text:e.text,origin:e.origin}}function ur(e,t,r){if(e.cm){if(!e.cm.curOp)return B(e.cm,ur)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(g(e,"beforeChange")||e.cm&&g(e.cm,"beforeChange"))||(t=cr(e,t,!0))){var n=yi&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=k(n,r)||(n=n||[]).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],a=l.find(0),s=0;s<i.length;++s){var c,u,d,h=i[s];_(h.to,a.from)<0||0<_(h.from,a.to)||(c=[s,1],u=_(h.from,a.from),d=_(h.to,a.to),(u<0||!l.inclusiveLeft&&!u)&&c.push({from:h.from,to:a.from}),(0<d||!l.inclusiveRight&&!d)&&c.push({from:a.to,to:h.to}),i.splice.apply(i,c),s+=c.length-1)}return i}(e,t.from,t.to);if(n)for(var i=n.length-1;0<=i;--i)dr(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text});else dr(e,t)}}function dr(e,r){var t,n;1==r.text.length&&""==r.text[0]&&0==_(r.from,r.to)||(t=ar(e,r),Cn(e,r,t,e.cm?e.cm.curOp.id:NaN),pr(e,r,t,Wr(e,r)),n=[],fn(e,function(e,t){t||-1!=k(n,e.history)||(Nn(e.history,r),n.push(e.history)),pr(e,r,null,Wr(e,r))}))}function hr(e,t,r){if(!e.cm||!e.cm.state.suppressEdits){for(var n,i=e.history,o=e.sel,l="undo"==t?i.done:i.undone,a="undo"==t?i.undone:i.done,s=0;s<l.length&&(n=l[s],r?!n.ranges||n.equals(e.sel):n.ranges);s++);if(s!=l.length){for(i.lastOrigin=i.lastSelOrigin=null;(n=l.pop()).ranges;){if(Sn(n,a),r&&!n.equals(e.sel))return F(e,n,{clearRedo:!1});o=n}var c=[];Sn(o,a),a.push({changes:c,generation:i.generation}),i.generation=n.generation||++i.maxGeneration;for(var u=g(e,"beforeChange")||e.cm&&g(e.cm,"beforeChange"),s=n.changes.length-1;0<=s;--s){var d=n.changes[s];if(d.origin=t,u&&!cr(e,d,!1))return l.length=0;c.push(xn(e,d));var h=s?ar(e,d):x(l),f=(pr(e,d,h,Dr(e,d)),!s&&e.cm&&e.cm.scrollIntoView({from:d.from,to:zi(d)}),[]);fn(e,function(e,t){t||-1!=k(f,e.history)||(Nn(e.history,d),f.push(e.history)),pr(e,d,null,Dr(e,d))})}}}}function fr(e,t){if(0!=t&&(e.first+=t,e.sel=new Ee(Fn(e.sel.ranges,function(e){return new P(q(e.anchor.line+t,e.anchor.ch),q(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){y(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Pt(e.cm,n,"gutter")}}function pr(e,t,r,n){if(e.cm&&!e.cm.curOp)return B(e.cm,pr)(e,t,r,n);if(t.to.line<e.first)fr(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){t.from.line<e.first&&(fr(e,i=t.text.length-1-(e.first-t.from.line)),t={from:q(e.first,0),to:q(t.to.line+i,t.to.ch),text:[x(t.text)],origin:t.origin});var i=e.lastLine();if((t=t.to.line>i?{from:t.from,to:q(i,R(e,i).text.length),text:[t.text[0]],origin:t.origin}:t).removed=gn(e,t.from,t.to),r=r||ar(e,t),e.cm){i=e.cm;var o=t;var l=n;var a=i.doc,s=i.display,c=o.from,u=o.to,d=!1,h=c.line,l=(i.options.lineWrapping||(h=b(Kr(R(a,c.line))),a.iter(h,u.line+1,function(e){return e==s.maxLine?d=!0:void 0})),-1<a.sel.contains(o.from,o.to)&&Hn(i),un(a,o,l,O(i)),i.options.lineWrapping||(a.iter(h,c.line+o.text.length,function(e){var t=D(e);t>s.maxLineLength&&(s.maxLine=e,s.maxLineLength=t,s.maxLineChanged=!0,d=!1)}),d&&(i.curOp.updateMaxLine=!0)),a.frontier=Math.min(a.frontier,c.line),rt(i,400),o.text.length-(u.line-c.line)-1),h=(o.full?y(i):c.line!=u.line||1!=o.text.length||cn(i.doc,o)?y(i,c.line,u.line+1,l):Pt(i,c.line,"text"),g(i,"changes")),a=g(i,"change");(a||h)&&(l={from:c,to:u,text:o.text,removed:o.removed,origin:o.origin},a&&w(i,"change",i,l),h)&&(i.curOp.changeObjs||(i.curOp.changeObjs=[])).push(l);i.display.selForContextMenu=null}else un(e,t,n);_e(e,r,uo)}}function gr(e,t,r,n,i){var o;_(n=n||r,r)<0&&(o=n,n=r,r=o),"string"==typeof t&&(t=e.splitLines(t)),ur(e,{from:r,to:n,text:t,origin:i})}function mr(e,t,r,n,i){var o=e.display,l=Nt(e.display),a=(e.curOp&&null!=e.curOp.scrollTop?e.curOp:o.scroller).scrollTop,s=ut(e),c={},u=e.doc.height+lt(o),d=u-l<(i=s<i-(r=r<0?0:r)?r+s:i),r=(r<a?c.scrollTop=r<l?0:r:a+s<i&&(l=Math.min(r,(d?u:i)-s))!=a&&(c.scrollTop=l),(e.curOp&&null!=e.curOp.scrollLeft?e.curOp:o.scroller).scrollLeft),d=ct(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),u=d<n-t;return u&&(n=t+d),t<10?c.scrollLeft=0:t<r?c.scrollLeft=Math.max(0,t-(u?0:10)):d+r-3<n&&(c.scrollLeft=n+(u?0:10)-d),c}function vr(e,t,r){null==t&&null==r||br(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc:e.curOp).scrollLeft+t),null!=r&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc:e.curOp).scrollTop+r)}function yr(e){br(e);var t=e.getCursor(),r=t,n=t;e.options.lineWrapping||(r=t.ch?q(t.line,t.ch-1):t,n=q(t.line,t.ch+1)),e.curOp.scrollToPos={from:r,to:n,margin:e.options.cursorScrollMargin,isCursor:!0}}function br(e){var t,r,n=e.curOp.scrollToPos;n&&(e.curOp.scrollToPos=null,r=Mt(e,n.from),t=Mt(e,n.to),r=mr(e,Math.min(r.left,t.left),Math.min(r.top,t.top)-n.margin,Math.max(r.right,t.right),Math.max(r.bottom,t.bottom)+n.margin),e.scrollTo(r.scrollLeft,r.scrollTop))}function wr(e,t,r,n){var i,o=e.doc,l=("smart"==(r=null==r?"add":r)&&(o.mode.indent?i=it(e,t):r="prev"),e.options.tabSize),a=R(o,t),s=po(a.text,null,l);a.stateAfter&&(a.stateAfter=null);var c=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==r&&((u=o.mode.indent(i,a.text.slice(c.length),a.text))==co||150<u)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?po(R(o,t-1).text,null,l):0:"add"==r?u=s+e.options.indentUnit:"subtract"==r?u=s-e.options.indentUnit:"number"==typeof r&&(u=s+r);var u=Math.max(0,u),d="",h=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/l);f;--f)h+=l,d+="\t";if(h<u&&(d+=En(u-h)),d!=c)return gr(o,d,q(t,0),q(t,c.length),"+input"),!(a.stateAfter=null);for(f=0;f<o.sel.ranges.length;f++){var p=o.sel.ranges[f];if(p.head.line==t&&p.head.ch<c.length){Ve(o,f,new P(h=q(t,c.length),h));break}}}function xr(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=R(e,Be(e,t)):i=b(t),null==i?null:(n(o,i)&&e.cm&&Pt(e.cm,i,r),o)}function kr(t,e){for(var r=t.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=e(r[i]);n.length&&_(o.from,x(n).to)<=0;){var l=n.pop();if(_(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}h(t,function(){for(var e=n.length-1;0<=e;e--)gr(t.doc,"",n[e].from,n[e].to,"+delete");yr(t)})}function Cr(r,e,n,t,i){function o(e){var t=(i?ii:oi)(c,a,n,!0);if(null==t){if(e||!((e=l+n)<r.first||e>=r.first+r.size?u=!1:c=R(r,l=e)))return u=!1;a=i?(n<0?Jn:Qn)(c):n<0?c.text.length:0}else a=t;return 1}var l=e.line,a=e.ch,s=n,c=R(r,l),u=!0;if("char"==t)o();else if("column"==t)o(!0);else if("word"==t||"group"==t)for(var d=null,h="group"==t,f=r.cm&&r.cm.getHelper(e,"wordChars"),p=!0;!(n<0)||o(!p);p=!1){var g=c.text.charAt(a)||"\n",g=Gn(g,f)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(h&&!p&&(g=g||"s"),d&&d!=g){n<0&&(n=1,o());break}if(g&&(d=g),0<n&&!o(!p))break}t=Ze(r,q(l,a),s,!0);return u||(t.hitSide=!0),t}function Sr(e,t,r,n){var i,o,l=e.doc,a=t.left;for("page"==n?(i=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),o=t.top+r*(i-(r<0?1.5:.5)*Nt(e.display))):"line"==n&&(o=0<r?t.bottom+3:t.top-3);;){var s=At(e,a,o);if(!s.outside)break;if(r<0?o<=0:o>=l.height){s.hitSide=!0;break}o+=5*r}return s}function r(e,t,n,r){p.defaults[e]=t,n&&(Hi[e]=r?function(e,t,r){r!=Pi&&n(e,t,r)}:n)}function Lr(e){for(var t,r,n,i,o=e.split(/-(?!$)/),e=o[o.length-1],l=0;l<o.length-1;l++){var a=o[l];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),e=n?"Shift-"+e:e}function Mr(e){return"string"==typeof e?Vi[e]:e}function Tr(t,r,n,e,i){if(e&&e.shared)return f=t,o=r,l=n,s=i,(a=S(a=e)).shared=!1,c=[Tr(f,o,l,a,s)],u=c[0],d=a.widgetNode,fn(f,function(e){d&&(a.widgetNode=d.cloneNode(!0)),c.push(Tr(e,E(e,o),E(e,l),a,s));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;u=x(c)}),new Zi(c,u);var o,l,a,s,c,u,d;if(t.cm&&!t.cm.curOp)return B(t.cm,Tr)(t,r,n,e,i);var h=new Yi(t,i),f=_(r,n);if(e&&S(e,h,!1),!(0<f||0==f&&!1!==h.clearWhenEmpty)){if(h.replacedWith&&(h.collapsed=!0,h.widgetNode=T("span",[h.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||h.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft)&&(h.widgetNode.insertLeft=!0),h.collapsed){if(Gr(t,r.line,r,n,h)||r.line!=n.line&&Gr(t,n.line,r,n,h))throw new Error("Inserting collapsed marker partially overlapping an existing one");bi=!0}h.addToHistory&&Cn(t,{from:r,to:n,origin:"markText"},t.sel,NaN);var p,g=r.line,m=t.cm;if(t.iter(g,n.line+1,function(e){var t;m&&h.collapsed&&!m.options.lineWrapping&&Kr(e)==m.display.maxLine&&(p=!0),h.collapsed&&g!=r.line&&vn(e,0),e=e,t=new Nr(h,g==r.line?r.ch:null,g==n.line?n.ch:null),e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e),++g}),h.collapsed&&t.iter(r.line,n.line+1,function(e){qr(t,e)&&vn(e,0)}),h.clearOnEnter&&$(h,"beforeCursorEnter",function(){h.clear()}),h.readOnly&&(yi=!0,t.history.done.length||t.history.undone.length)&&t.clearHistory(),h.collapsed&&(h.id=++$i,h.atomic=!0),m){if(p&&(m.curOp.updateMaxLine=!0),h.collapsed)y(m,r.line,n.line+1);else if(h.className||h.title||h.startStyle||h.endStyle||h.css)for(var v=r.line;v<=n.line;v++)Pt(m,v,"text");h.atomic&&$e(m.doc),w(m,"markerAdded",m,h)}}return h}function Ar(e){return e.findMarks(q(e.first,0),e.clipPos(q(e.lastLine())),function(e){return e.parent})}function Nr(e,t,r){this.marker=e,this.from=t,this.to=r}function Or(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Wr(e,t){if(t.full)return null;var r=Re(e,t.from.line)&&R(e,t.from.line).markedSpans,e=Re(e,t.to.line)&&R(e,t.to.line).markedSpans;if(!r&&!e)return null;var n,i,o=t.from.ch,l=t.to.ch,a=0==_(t.from,t.to),s=function(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o,l=e[i],a=l.marker;!(null==l.from||(a.inclusiveLeft?l.from<=t:l.from<t))&&(l.from!=t||"bookmark"!=a.type||r&&l.marker.insertLeft)||(o=null==l.to||(a.inclusiveRight?l.to>=t:l.to>t),(n=n||[]).push(new Nr(a,l.from,o?null:l.to)))}return n}(r,o,a),c=function(e,t,r){if(e)for(var n,i=0;i<e.length;++i){var o,l=e[i],a=l.marker;!(null==l.to||(a.inclusiveRight?l.to>=t:l.to>t))&&(l.from!=t||"bookmark"!=a.type||r&&!l.marker.insertLeft)||(o=null==l.from||(a.inclusiveLeft?l.from<=t:l.from<t),(n=n||[]).push(new Nr(a,o?null:l.from-t,null==l.to?null:l.to-t)))}return n}(e,l,a),u=1==t.text.length,d=x(t.text).length+(u?o:0);if(s)for(var h=0;h<s.length;++h)null==(n=s[h]).to&&((i=Or(c,n.marker))?u&&(n.to=null==i.to?null:i.to+d):n.to=o);if(c)for(h=0;h<c.length;++h)null!=(n=c[h]).to&&(n.to+=d),null==n.from?(i=Or(s,n.marker))||(n.from=d,u&&(s=s||[]).push(n)):(n.from+=d,u&&(s=s||[]).push(n));s=s&&zr(s),c&&c!=s&&(c=zr(c));var f=[s];if(!u){var p,g=t.text.length-2;if(0<g&&s)for(h=0;h<s.length;++h)null==s[h].to&&(p=p||[]).push(new Nr(s[h].marker,null,null));for(h=0;h<g;++h)f.push(p);f.push(c)}return f}function zr(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Dr(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];n<t.text.length;++n)i.push(function(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t=t||e.slice(0,r):t&&t.push(e[r]);return t?t.length?t:null:e}(r[n]));return i}(e,t),n=Wr(e,t);if(!r)return n;if(n)for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var a=0;a<l.length;++a){for(var s=l[a],c=0;c<o.length;++c)if(o[c].marker==s.marker)continue e;o.push(s)}else l&&(r[i]=l)}return r}function Hr(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Pr(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Ir(e){return e.inclusiveLeft?-1:0}function Er(e){return e.inclusiveRight?1:0}function Fr(e,t){var r,n,i=e.lines.length-t.lines.length;return 0!=i?i:(i=e.find(),r=t.find(),(n=_(i.from,r.from)||Ir(e)-Ir(t))?-n:_(i.to,r.to)||Er(e)-Er(t)||t.id-e.id)}function Br(e,t){var r,n=bi&&e.markedSpans;if(n)for(var i,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||Fr(r,i.marker)<0)&&(r=i.marker);return r}function Rr(e){return Br(e,!0)}function jr(e){return Br(e,!1)}function Gr(e,t,r,n,i){var e=R(e,t),o=bi&&e.markedSpans;if(o)for(var l=0;l<o.length;++l){var a=o[l];if(a.marker.collapsed){var s=a.marker.find(0),c=_(s.from,r)||Ir(a.marker)-Ir(i),u=_(s.to,n)||Er(a.marker)-Er(i);if(!(0<=c&&u<=0||c<=0&&0<=u)&&(c<=0&&(0<_(s.to,r)||a.marker.inclusiveRight&&i.inclusiveLeft)||0<=c&&(_(s.from,n)<0||a.marker.inclusiveLeft&&i.inclusiveRight)))return 1}}}function Kr(e){for(var t;t=Rr(e);)e=t.find(-1,!0).line;return e}function Vr(e,t){var e=R(e,t),r=Kr(e);return e==r?t:b(r)}function Ur(e,t){if(t>e.lastLine())return t;var r,n=R(e,t);if(!qr(e,n))return t;for(;r=jr(n);)n=r.find(1,!0).line;return b(n)+1}function qr(e,t){var r=bi&&t.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&function e(t,r,n){{var i;if(null==n.to)return i=n.marker.find(1,!0),e(t,i.line,Or(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==r.text.length)return!0;for(var o,l=0;l<r.markedSpans.length;++l)if(o=r.markedSpans[l],o.marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&e(t,r,o))return!0}(e,t,n))return!0}}function _r(e,t,r){bn(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&vr(e,null,r)}function Xr(e){var t,r;return null!=e.height?e.height:(t=e.doc.cm)?(ko(document.body,e.node)||(r="position: relative;",e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),v(t.display.measure,T("div",[e.node],null,r))),e.height=e.node.offsetHeight):0}function $r(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Yr(e,t){return e.blankLine?e.blankLine(t):e.innerMode&&(e=p.innerMode(e,t)).mode.blankLine?e.mode.blankLine(e.state):void 0}function Zr(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=p.innerMode(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Qr(e,t,r,n){function i(e){return{start:d.start,end:d.pos,string:d.current(),type:o||null,state:e?ji(l.mode,u):u}}var o,l=e.doc,a=l.mode;t=E(l,t);var s,c=R(l,t.line),u=it(e,t.line,r),d=new Xi(c.text,e.options.tabSize);for(n&&(s=[]);(n||d.pos<t.ch)&&!d.eol();)d.start=d.pos,o=Zr(a,d,u),n&&s.push(i(!0));return n?s:i()}function Jr(e,t,r,n,i,o,l){var a=r.flattenSpans;null==a&&(a=e.options.flattenSpans);var s=0,c=null,u=new Xi(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&$r(Yr(r,n),o);!u.eol();){var h,f=u.pos>e.options.maxHighlightLength?(a=!1,l&&rn(e,t,n,u.pos),u.pos=t.length,null):$r(Zr(r,u,n,d),o);if(d&&(h=d[0].name)&&(f="m-"+(f?h+" "+f:h)),!a||c!=f){for(;s<u.start;)i(s=Math.min(u.start,s+5e4),c);c=f}u.start=u.pos}for(;s<u.pos;){var p=Math.min(u.pos,s+5e4);i(p,c),s=p}}function en(e,t,r,n){var o=[e.state.modeGen],i={};Jr(e,t.text,e.doc.mode,r,function(e,t){o.push(e,t)},i,n);for(var l=0;l<e.state.overlays.length;++l){var a=e.state.overlays[l],s=1,c=0;Jr(e,t.text,a.mode,!0,function(e,t){for(var r=s;c<e;){var n=o[s];e<n&&o.splice(s,1,e,o[s+1],n),s+=2,c=Math.min(e,n)}if(t)if(a.opaque)o.splice(r,s-r,e,"cm-overlay "+t),s=r+2;else for(;r<s;r+=2){var i=o[r+1];o[r+1]=(i?i+" ":"")+"cm-overlay "+t}},i)}return{styles:o,classes:i.bgClass||i.textClass?i:null}}function tn(e,t,r){var n,i;return t.styles&&t.styles[0]==e.state.modeGen||(n=it(e,b(t)),i=en(e,t,t.text.length>e.options.maxHighlightLength?ji(e.doc.mode,n):n),t.stateAfter=n,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.frontier&&e.doc.frontier++),t.styles}function rn(e,t,r,n){var i=e.doc.mode,o=new Xi(t,e.options.tabSize);for(o.start=o.pos=n||0,""==t&&Yr(i,r);!o.eol();)Zr(i,o,r),o.start=o.pos}function nn(e,t){return!e||/^\s*$/.test(e)?null:(t=t.addModeClass?to:eo)[e]||(t[e]=e.replace(/\S+/g,"cm-$&"))}function on(e,t){var r=T("span",null,null,V?"padding-right: .1px":null),n={pre:T("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,splitSpaces:(G||V)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,l=i?t.rest[i-1]:t.line,a=(n.pos=0,n.addToken=ln,o=e.display.measure,a=void 0,(null!=So?So:(o=v(o,document.createTextNode("AخA")),!(!(a=xo(o,0,1).getBoundingClientRect())||a.left==a.right)&&(o=xo(o,1,2).getBoundingClientRect(),So=o.right-a.right<3)))&&(o=C(l))&&(n.addToken=function(d,h){return function(e,t,r,n,i,o,l){r=r?r+" cm-force-border":"cm-force-border";for(var a=e.pos,s=a+t.length;;){for(var c=0;c<h.length;c++){var u=h[c];if(u.to>a&&u.from<=a)break}if(u.to>=s)return d(e,t,r,n,i,o,l);d(e,t.slice(0,u.to-a),r,n,null,o,l),n=null,t=t.slice(u.to-a),a=u.to}}}(n.addToken,o)),n.map=[],t!=e.display.externalMeasured&&b(l));(function(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,a,s,c,u,d,h,f=i.length,p=0,g=1,m="",v=0;;){if(v==p){s=c=u=d=a="",h=null,v=1/0;for(var y=[],b=0;b<n.length;++b){var w=n[b],x=w.marker;"bookmark"==x.type&&w.from==p&&x.widgetNode?y.push(x):w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),x.className&&(s+=" "+x.className),x.css&&(a=x.css),x.startStyle&&w.from==p&&(u+=" "+x.startStyle),x.endStyle&&w.to==v&&(c+=" "+x.endStyle),x.title&&!d&&(d=x.title),x.collapsed&&(!h||Fr(h.marker,x)<0)&&(h=w)):w.from>p&&v>w.from&&(v=w.from)}if(h&&(h.from||0)==p){if(sn(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}if(!h&&y.length)for(b=0;b<y.length;++b)sn(t,0,y[b])}if(f<=p)break;for(var k=Math.min(f,v);;){if(m){var C,S=p+m.length;if(h||(C=k<S?m.slice(0,k-p):m,t.addToken(t,C,l?l+s:s,u,p+C.length==v?c:"",d,a)),k<=S){m=m.slice(k-p),p=k;break}p=S,u=""}m=i.slice(o,o=r[g++]),l=nn(r[g++],t.cm.options)}}else for(g=1;g<r.length;g+=2)t.addToken(t,i.slice(o,o=r[g]),nn(r[g+1],t.cm.options))})(l,n,tn(e,l,a)),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=Xn(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass)&&(n.textClass=Xn(l.styleClasses.textClass,n.textClass||"")),0==n.map.length&&n.map.push(0,0,n.content.appendChild(function(e){{var t;null==Co&&(t=T("span","​"),v(e,T("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight)&&(Co=t.offsetWidth<=1&&2<t.offsetHeight&&!(G&&K<8))}e=Co?T("span","​"):T("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return e.setAttribute("cm-text",""),e}(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return V&&/\bcm-tab\b/.test(n.content.lastChild.className)&&(n.content.className="cm-tab-wrap-hack"),A(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=Xn(n.pre.className,n.textClass||"")),n}function ln(e,t,r,n,i,o,l){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,an):t,s=e.cm.state.specialChars,c=!1;if(s.test(t))for(var u=document.createDocumentFragment(),d=0;;){s.lastIndex=d;var h,f=s.exec(t),p=f?f.index-d:t.length-d;if(p&&(h=document.createTextNode(a.slice(d,d+p)),G&&K<9?u.appendChild(T("span",[h])):u.appendChild(h),e.map.push(e.pos,e.pos+p,h),e.col+=p,e.pos+=p),!f)break;d+=1+p,"\t"==f[0]?(p=(p=e.cm.options.tabSize)-e.col%p,(h=u.appendChild(T("span",En(p),"cm-tab"))).setAttribute("role","presentation"),h.setAttribute("cm-text","\t"),e.col+=p):("\r"==f[0]||"\n"==f[0]?(h=u.appendChild(T("span","\r"==f[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",f[0]):((h=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),G&&K<9?u.appendChild(T("span",[h])):u.appendChild(h)),e.col+=1),e.map.push(e.pos,e.pos+1,h),e.pos++}else{e.col+=t.length;u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),G&&K<9&&(c=!0),e.pos+=t.length}if(r||n||i||c||l)return c=r||"",n&&(c+=n),i&&(c+=i),r=T("span",[u],c,l),o&&(r.title=o),e.content.appendChild(r);e.content.appendChild(u)}}function an(e){for(var t=" ",r=0;r<e.length-2;++r)t+=r%2?" ":" ";return t+" "}function sn(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i=i||e.content.appendChild(document.createElement("span"))).setAttribute("cm-marker",r.id),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function cn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==x(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function un(e,o,t,l){function i(e){return t?t[e]:null}function r(e,t,r){var n,i;t=t,r=r,i=l,(n=e).text=t,n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null),null!=n.order&&(n.order=null),Hr(n),Pr(n,r),(t=i?i(n):1)!=n.height&&vn(n,t),w(e,"change",e,o)}function n(e,t){for(var r=e,n=[];r<t;++r)n.push(new Ji(u[r],i(r),l));return n}var a,s=o.from,c=o.to,u=o.text,d=R(e,s.line),h=R(e,c.line),f=x(u),p=i(u.length-1),g=c.line-s.line;o.full?(e.insert(0,n(0,u.length)),e.remove(u.length,e.size-u.length)):cn(e,o)?(a=n(0,u.length-1),r(h,h.text,p),g&&e.remove(s.line,g),a.length&&e.insert(s.line,a)):d==h?1==u.length?r(d,d.text.slice(0,s.ch)+f+d.text.slice(c.ch),p):((a=n(1,u.length-1)).push(new Ji(f+d.text.slice(c.ch),p,l)),r(d,d.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,a)):1==u.length?(r(d,d.text.slice(0,s.ch)+u[0]+h.text.slice(c.ch),i(0)),e.remove(s.line+1,g)):(r(d,d.text.slice(0,s.ch)+u[0],i(0)),r(h,f+h.text.slice(c.ch),p),a=n(1,u.length-1),1<g&&e.remove(s.line+1,g-1),e.insert(s.line+1,a)),w(e,"change",e,o)}function dn(e){this.lines=e,this.parent=null;for(var t=0,r=0;t<e.length;++t)e[t].parent=this,r+=e[t].height;this.height=r}function hn(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function fn(e,a,s){!function e(t,r,n){if(t.linked)for(var i=0;i<t.linked.length;++i){var o,l=t.linked[i];l.doc!=r&&(o=n&&l.sharedHist,s&&!o||(a(l.doc,o),e(l.doc,t,o)))}}(e,null,!0)}function pn(e,t){if(t.cm)throw new Error("This document is already in use.");l((e.doc=t).cm=e),i(e),e.options.lineWrapping||H(e),e.options.mode=t.modeOption,y(e)}function R(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function gn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){e=e.text;i==r.line&&(e=e.slice(0,r.ch)),i==t.line&&(e=e.slice(t.ch)),n.push(e),++i}),n}function mn(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function vn(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function b(e){if(null==e.parent)return null;for(var t=e.parent,r=k(t.lines,e),n=t.parent;n;n=(t=n).parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function yn(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(n=0;n<e.lines.length;++n){var l=e.lines[n].height;if(t<l)break;t-=l}return r+n}function bn(e){for(var t=0,r=(e=Kr(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(n=0;n<o.children.length;++n){var l=o.children[n];if(l==r)break;t+=l.height}return t}function C(e){var t=e.order;return t=null==t?e.order=Ro(e.text):t}function wn(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function xn(e,t){var r={from:we(t.from),to:zi(t),text:gn(e,t.from,t.to)};return Ln(e,r,t.from.line,t.to.line+1),fn(e,function(e){Ln(e,r,t.from.line,t.to.line+1)},!0),r}function kn(e){for(;e.length;){if(!x(e).ranges)break;e.pop()}}function Cn(e,t,r,n){var i=e.history;i.undone.length=0;var o,l=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>l-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=(o=i).lastOp==n?(kn(o.done),x(o.done)):o.done.length&&!x(o.done).ranges?x(o.done):1<o.done.length&&!o.done[o.done.length-2].ranges?(o.done.pop(),x(o.done)):void 0)){var a=x(o.changes);0==_(t.from,t.to)&&0==_(t.from,a.to)?a.to=zi(t):o.changes.push(xn(e,t))}else{var s=x(i.done);for(s&&s.ranges||Sn(e.sel,i.done),o={changes:[xn(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||A(e,"historyAdded")}function Sn(e,t){var r=x(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Ln(t,r,e,n){var i=r["spans_"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,n),function(e){e.markedSpans&&((i=i||(r["spans_"+t.id]={}))[o]=e.markedSpans),++o})}function Mn(e,t,r){for(var n=0,i=[];n<e.length;++n){var o=e[n];if(o.ranges)i.push(r?Ee.prototype.deepCopy.call(o):o);else{var l=o.changes,a=[];i.push({changes:a});for(var s=0;s<l.length;++s){var c,u=l[s];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&-1<k(t,Number(c[1]))&&(x(a)[d]=u[d],delete u[d])}}}return i}function Tn(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function An(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)Tn(o.ranges[a].anchor,t,r,n),Tn(o.ranges[a].head,t,r,n)}else{for(a=0;a<o.changes.length;++a){var s=o.changes[a];if(r<s.from.line)s.from=q(s.from.line+n,s.from.ch),s.to=q(s.to.line+n,s.to.ch);else if(t<=s.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function Nn(e,t){var r=t.from.line,n=t.to.line,t=t.text.length-(n-r)-1;An(e.done,r,n,t),An(e.undone,r,n,t)}function On(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Wn(e){return e.target||e.srcElement}function zn(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),t=U&&e.ctrlKey&&1==t?3:t}function w(e,t){var r=e._handlers&&e._handlers[t];if(r){var n,i=Array.prototype.slice.call(arguments,2);Mi?n=Mi.delayedCallbacks:ao?n=ao:(n=ao=[],setTimeout(Dn,0));for(var o=0;o<r.length;++o)n.push(function(e){return function(){e.apply(null,i)}}(r[o]))}}function Dn(){var e=ao;ao=null;for(var t=0;t<e.length;++t)e[t]()}function j(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),A(e,r||t.type,e,t),On(t)||t.codemirrorIgnore}function Hn(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==k(r,t[n])&&r.push(t[n])}function g(e,t){e=e._handlers&&e._handlers[t];return e&&0<e.length}function Pn(e){e.prototype.on=function(e,t){$(this,e,t)},e.prototype.off=function(e,t){lo(this,e,t)}}function In(){this.id=null}function En(e){for(;mo.length<=e;)mo.push(x(mo)+" ");return mo[e]}function x(e){return e[e.length-1]}function k(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function Fn(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Bn(){}function Rn(e,t){e=Object.create?Object.create(e):(Bn.prototype=e,new Bn);return t&&S(t,e),e}function S(e,t,r){for(var n in t=t||{},e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function jn(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Gn(e,t){return t?!!(-1<t.source.indexOf("\\w")&&bo(e))||t.test(e):bo(e)}function Kn(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return;return 1}function Vn(e){return 768<=e.charCodeAt(0)&&wo.test(e)}function T(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function Un(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function v(e,t){return Un(e).appendChild(t)}function qn(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function _n(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Xn(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!_n(r[n]).test(t)&&(t+=" "+r[n]);return t}function $n(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}function Yn(e){return e.level%2?e.to:e.from}function Zn(e){return e.level%2?e.from:e.to}function Qn(e){e=C(e);return e?Yn(e[0]):0}function Jn(e){var t=C(e);return t?Zn(x(t)):e.text.length}function ei(e,t){var e=R(e.doc,t),r=Kr(e),e=(r!=e&&(t=b(r)),C(r)),e=e?(e[0].level%2?Jn:Qn)(r):0;return q(t,e)}function ti(e,t){var r=ei(e,t.line),e=R(e.doc,r.line),n=C(e);return n&&0!=n[0].level?r:(n=Math.max(0,e.text.search(/\S/)),e=t.line==r.line&&t.ch<=n&&t.ch,q(r.line,e?0:n))}function ri(e,t){Ho=null;for(var r,n,i,o,l=0;l<e.length;++l){var a=e[l];if(a.from<t&&a.to>t)return l;if(a.from==t||a.to==t){if(null!=r)return n=e,i=a.level,o=e[r].level,n=n[0].level,i==n||o!=n&&i<o?(a.from!=a.to&&(Ho=r),l):(a.from!=a.to&&(Ho=l),r);r=l}}return r}function ni(e,t,r,n){if(!n)return t+r;for(;0<(t+=r)&&Vn(e.text.charAt(t)););return t}function ii(e,t,r,n){var i=C(e);if(!i)return oi(e,t,r,n);for(var o=ri(i,t),l=i[o],a=ni(e,t,l.level%2?-r:r,n);;){if(a>l.from&&a<l.to)return a;if(a==l.from||a==l.to)return ri(i,a)==o?a:0<r==(l=i[o+=r]).level%2?l.to:l.from;if(!(l=i[o+=r]))return null;a=0<r==l.level%2?ni(e,l.to,-1,n):ni(e,l.from,1,n)}}function oi(e,t,r,n){var i=t+r;if(n)for(;0<i&&Vn(e.text.charAt(i));)i+=r;return i<0||i>e.text.length?null:i}var li=/gecko\/\d/i.test(navigator.userAgent),ai=/MSIE \d/.test(navigator.userAgent),si=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),G=ai||si,K=G&&(ai?document.documentMode||6:si[1]),V=/WebKit\//.test(navigator.userAgent),ai=V&&/Qt\/\d+\.\d+/.test(navigator.userAgent),si=/Chrome\//.test(navigator.userAgent),m=/Opera\//.test(navigator.userAgent),ci=/Apple Computer/.test(navigator.vendor),ui=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),di=/PhantomJS/.test(navigator.userAgent),hi=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),fi=hi||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),U=hi||/Mac/.test(navigator.platform),pi=/win/i.test(navigator.platform),gi=m&&navigator.userAgent.match(/Version\/(\d*\.\d*)/),mi=((gi=gi&&Number(gi[1]))&&15<=gi&&(V=!(m=!1)),U&&(ai||m&&(null==gi||gi<12.11))),vi=li||G&&9<=K,yi=!1,bi=!1,q=(c.prototype=S({update:function(e){var t,r=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;return n?(this.vert.style.display="block",this.vert.style.bottom=r?i+"px":"0",t=e.viewHeight-(r?i:0),this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+t)+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),r?(this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px",t=e.viewWidth-e.barLeft-(n?i:0),this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+t+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedOverlay&&0<e.clientHeight&&(0==i&&this.overlayHack(),this.checkedOverlay=!0),{right:n?i:0,bottom:r?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){function e(e){Wn(e)!=t.vert&&Wn(e)!=t.horiz&&B(t.cm,Kt)(e)}this.horiz.style.minHeight=this.vert.style.minWidth=U&&!ui?"12px":"18px";var t=this;$(this.vert,"mousedown",e),$(this.horiz,"mousedown",e)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},c.prototype),u.prototype=S({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},u.prototype),p.scrollbarModel={native:c,null:u},oe.prototype.signal=function(e,t){g(e,t)&&this.events.push(arguments)},oe.prototype.finish=function(){for(var e=0;e<this.events.length;e++)A.apply(null,this.events[e])},p.Pos=function(e,t){return this instanceof q?(this.line=e,void(this.ch=t)):new q(e,t)}),_=p.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},L=null;Oe.prototype=S({init:function(t){function e(e){if(n.somethingSelected())L=n.getSelections(),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,o.value=L.join("\n"),vo(o));else{if(!n.options.lineWiseCopyCut)return;var t=Ae(n);L=t.text,"cut"==e.type?n.setSelections(t.ranges,null,uo):(r.prevInput="",o.value=t.text.join("\n"),vo(o))}"cut"==e.type&&(n.state.cutIncoming=!0)}var r=this,n=this.cm,i=this.wrapper=We(),o=this.textarea=i.firstChild;t.wrapper.insertBefore(i,t.wrapper.firstChild),hi&&(o.style.width="0px"),$(o,"input",function(){G&&9<=K&&r.hasSelection&&(r.hasSelection=null),r.poll()}),$(o,"paste",function(e){return!!Me(e,n)||(n.state.pasteIncoming=!0,void r.fastPoll())}),$(o,"cut",e),$(o,"copy",e),$(t.scroller,"paste",function(e){jt(t,e)||(n.state.pasteIncoming=!0,r.focus())}),$(t.lineSpace,"selectstart",function(e){jt(t,e)||X(e)}),$(o,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),$(o,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},prepareSelection:function(){var e,t=this.cm,r=t.display,n=t.doc,i=Je(t);return t.options.moveInputWithCursor&&(t=Lt(t,n.sel.primary().head,"div"),n=r.wrapper.getBoundingClientRect(),e=r.lineDiv.getBoundingClientRect(),i.teTop=Math.max(0,Math.min(r.wrapper.clientHeight-10,t.top+e.top-n.top)),i.teLeft=Math.max(0,Math.min(r.wrapper.clientWidth-10,t.left+e.left-n.left))),i},showSelection:function(e){var t=this.cm.display;v(t.cursorDiv,e.cursors),v(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){var t,r,n,i;this.contextMenuPending||(i=(r=this.cm).doc,r.somethingSelected()?(this.prevInput="",i=i.sel.primary(),i=(n=Wo&&(100<i.to().line-i.from().line||1e3<(t=r.getSelection()).length))?"-":t||r.getSelection(),this.textarea.value=i,r.state.focused&&vo(this.textarea),G&&9<=K&&(this.hasSelection=i)):e||(this.prevInput=this.textarea.value="",G&&9<=K&&(this.hasSelection=null)),this.inaccurateSelection=n)},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!fi||qn()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,function e(){r.poll()||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))})},poll:function(){var e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||Oo(t)&&!r&&!this.composing||Se(e)||e.options.disableInput||e.state.keySeq)return!1;var n=t.value;if(n==r&&!e.somethingSelected())return!1;if(G&&9<=K&&this.hasSelection===n||U&&/[\uf700-\uf7ff]/.test(n))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=n.charCodeAt(0);if(8203==i&&(r=r||"​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,l=Math.min(r.length,n.length);o<l&&r.charCodeAt(o)==n.charCodeAt(o);)++o;var a=this;return h(e,function(){Le(e,n.slice(o),r.length-o,null,a.composing?"*compose":null),1e3<n.length||-1<n.indexOf("\n")?t.value=a.prevInput="":a.prevInput=n,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){G&&9<=K&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function r(){var e,t;null!=c.selectionStart&&(t="​"+((e=a.somethingSelected())?c.value:""),c.value="⇚",c.value=t,l.prevInput=e?"":"​",c.selectionStart=1,c.selectionEnd=t.length,s.selForContextMenu=a.doc.sel)}function t(){var e,t;l.contextMenuPending=!1,l.wrapper.style.position="relative",c.style.cssText=n,G&&K<9&&s.scrollbars.setScrollTop(s.scroller.scrollTop=d),null!=c.selectionStart&&((!G||K<9)&&r(),e=0,t=function(){s.selForContextMenu==a.doc.sel&&0==c.selectionStart&&0<c.selectionEnd&&"​"==l.prevInput?B(a,Ki.selectAll)(a):e++<10?s.detectingSelectAll=setTimeout(t,500):s.input.reset()},s.detectingSelectAll=setTimeout(t,200))}var n,i,o,l=this,a=l.cm,s=a.display,c=l.textarea,u=Gt(a,e),d=s.scroller.scrollTop;u&&!m&&(a.options.resetSelectionOnContextMenu&&-1==a.doc.sel.contains(u)&&B(a,F)(a.doc,Fe(u),uo),n=c.style.cssText,l.wrapper.style.position="absolute",c.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(G?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",V&&(i=window.scrollY),s.input.focus(),V&&window.scrollTo(null,i),s.input.reset(),a.somethingSelected()||(c.value=l.prevInput=" "),l.contextMenuPending=!0,s.selForContextMenu=a.doc.sel,clearTimeout(s.detectingSelectAll),G&&9<=K&&r(),vi?(oo(e),o=function(){lo(window,"mouseup",o),setTimeout(t,20)},$(window,"mouseup",o)):setTimeout(t,50))},setUneditable:Bn,needsContentAttribute:!1},Oe.prototype),ze.prototype=S({init:function(e){function t(e){if(i.somethingSelected())L=i.getSelections(),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=Ae(i);L=t.text,"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,uo),i.replaceSelection("",null,"cut")})}var r,n;e.clipboardData&&!hi?(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",L.join("\n"))):(e=(r=We()).firstChild,i.display.lineSpace.insertBefore(r,i.display.lineSpace.firstChild),e.value=L.join("\n"),n=document.activeElement,vo(e),setTimeout(function(){i.display.lineSpace.removeChild(r),n.focus()},50))}var n=this,i=n.cm,e=n.div=e.lineDiv;e.contentEditable="true",Ne(e),$(e,"paste",function(e){Me(e,i)}),$(e,"compositionstart",function(e){var t,r,e=e.data;n.composing={sel:i.doc.sel,data:e,startData:e},e&&(t=i.doc.sel.primary(),-1<(r=i.getLine(t.head.line).indexOf(e,Math.max(0,t.head.ch-e.length))))&&r<=t.head.ch&&(n.composing.sel=Fe(q(t.head.line,r),q(t.head.line,r+e.length)))}),$(e,"compositionupdate",function(e){n.composing.data=e.data}),$(e,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),$(e,"touchstart",function(){n.forceCompositionEnd()}),$(e,"input",function(){n.composing||n.pollContent()||h(n.cm,function(){y(i)})}),$(e,"copy",t),$(e,"cut",t)},prepareSelection:function(){var e=Je(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),r=Pe(this.cm,e.anchorNode,e.anchorOffset),n=Pe(this.cm,e.focusNode,e.focusOffset);if(!r||r.bad||!n||n.bad||0!=_(ke(r,n),t.from())||0!=_(xe(r,n),t.to())){r=De(this.cm,t.from()),n=De(this.cm,t.to());if(r||n){var i,t=this.cm.display.view,o=e.rangeCount&&e.getRangeAt(0);r?n||(n={node:(i=(i=t[t.length-1].measure).maps?i.maps[i.maps.length-1]:i.map)[i.length-1],offset:i[i.length-2]-i[i.length-3]}):r={node:t[0].measure.map[2],offset:0};try{var l=xo(r.node,r.offset,n.offset,n.node)}catch(e){}l&&(e.removeAllRanges(),e.addRange(l),o&&null==e.anchorNode?e.addRange(o):li&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){v(this.cm.display.cursorDiv,e.cursors),v(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();return!!e.rangeCount&&(e=e.getRangeAt(0).commonAncestorContainer,ko(this.div,e))},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var t=this;this.selectionInEditor()?this.pollSelection():h(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){var e,t,r,n;this.composing||this.gracePeriod||!this.selectionChanged()||(e=window.getSelection(),t=this.cm,this.rememberSelection(),r=Pe(t,e.anchorNode,e.anchorOffset),n=Pe(t,e.focusNode,e.focusOffset),r&&n&&h(t,function(){F(t.doc,Fe(r,n),uo),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))},pollContent:function(){var e,t=this.cm,r=t.display,n=t.doc.sel.primary(),i=n.from(),n=n.to();if(i.line<r.viewFrom||n.line>r.viewTo-1)return!1;i=i.line==r.viewFrom||0==(i=Et(t,i.line))?(e=b(r.view[0].line),r.view[0].node):(e=b(r.view[i].line),r.view[i-1].node.nextSibling);var o,n=Et(t,n.line);r=n==r.view.length-1?(o=r.viewTo-1,r.lineDiv.lastChild):(o=b(r.view[n+1].line)-1,r.view[n+1].node.previousSibling);for(var l=t.doc.splitLines(Ie(t,i,r,e,o)),a=gn(t.doc,q(e,0),q(o,R(t.doc,o).text.length));1<l.length&&1<a.length;)if(x(l)==x(a))l.pop(),a.pop(),o--;else{if(l[0]!=a[0])break;l.shift(),a.shift(),e++}for(var s=0,c=0,u=l[0],d=a[0],h=Math.min(u.length,d.length);s<h&&u.charCodeAt(s)==d.charCodeAt(s);)++s;for(var f=x(l),p=x(a),g=Math.min(f.length-(1==l.length?s:0),p.length-(1==a.length?s:0));c<g&&f.charCodeAt(f.length-c-1)==p.charCodeAt(p.length-c-1);)++c;l[l.length-1]=f.slice(0,f.length-c),l[0]=l[0].slice(s);n=q(e,s),i=q(o,a.length?x(a).length-c:0);return 1<l.length||l[0]||_(n,i)?(gr(t.doc,l,n,i,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&B(this.cm,Le)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),B(this.cm,Le)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:Bn,resetPosition:Bn,needsContentAttribute:!0},ze.prototype),p.inputStyles={textarea:Oe,contenteditable:ze},Ee.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e!=this){if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(0!=_(r.anchor,n.anchor)||0!=_(r.head,n.head))return!1}}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new P(we(this.ranges[t].anchor),we(this.ranges[t].head));return new Ee(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t=t||e;for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(0<=_(t,n.from())&&_(e,n.to())<=0)return r}return-1}},P.prototype={from:function(){return ke(this.anchor,this.head)},to:function(){return xe(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function wi(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}var xi,ki,Ci,Si,Li={left:0,right:0,top:0,bottom:0},Mi=null,Ti=0,Ai=0,Ni=0,f=null,Oi=(G?f=-.53:li?f=15:si?f=-.7:ci&&(f=-1/3),p.wheelEventPixels=function(e){e=wi(e);return e.x*=f,e.y*=f,e},new In),Wi=null,zi=p.changeEnd=function(e){return e.text?q(e.from.line+e.text.length-1,x(e.text).length+(1==e.text.length?e.from.ch:0)):e.to},Di=(p.prototype={constructor:p,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,n=r[e];r[e]==t&&"mode"!=e||(r[e]=t,!Hi.hasOwnProperty(e))||B(this,Hi[e])(this,t,n)},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Mr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:e(function(e,t){var r=e.token?e:p.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:e,opaque:t&&t.opaque}),this.state.modeGen++,y(this)}),removeOverlay:e(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void y(this)}}),indentLine:e(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Re(this.doc,e)&&wr(this,e,t,r)}),indentSelection:e(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(wr(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex)&&yr(this);else{for(var o=i.from(),i=i.to(),l=Math.max(r,o.line),r=Math.min(this.lastLine(),i.line-(i.ch?0:1))+1,a=l;a<r;++a)wr(this,a,e);i=this.doc.sel.ranges;0==o.ch&&t.length==i.length&&0<i[n].from().ch&&Ve(this.doc,n,new P(o,i[n].to()),uo)}}}),getTokenAt:function(e,t){return Qr(this,e,t)},getLineTokens:function(e,t){return Qr(this,q(e),t,!0)},getTokenTypeAt:function(e){e=E(this.doc,e);var t,r=tn(this,R(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=1+l}}e=t?t.indexOf("cm-overlay "):-1;return e<0?t:0==e?null:t.slice(0,e-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?p.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(Ri.hasOwnProperty(t)){var n=Ri[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var l=n[i[t][o]];l&&r.push(l)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(o=0;o<n._global.length;o++){var a=n._global[o];a.pred(i,this)&&-1==k(r,a.val)&&r.push(a.val)}}return r},getStateAfter:function(e,t){var r=this.doc;return it(this,(e=Be(r,null==e?r.first+r.size-1:e))+1,t)},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Lt(this,null==e?r.head:"object"==typeof e?E(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return St(this,E(this.doc,e),t||"page")},coordsChar:function(e,t){return At(this,(e=Ct(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Ct(this,{top:e,left:0},t||"page").top,yn(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var r=!1,n="number"==typeof e?(n=this.doc.first+this.doc.size-1,e<this.doc.first?e=this.doc.first:n<e&&(e=n,r=!0),R(this.doc,e)):e;return kt(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-bn(n):0)},defaultTextHeight:function(){return Nt(this.display)},defaultCharWidth:function(){return Ot(this.display)},setGutterMarker:e(function(e,r,n){return xr(this.doc,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[r]=n)&&Kn(t)&&(e.gutterMarkers=null),1})}),clearGutter:e(function(t){var r=this,e=r.doc,n=e.first;e.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&(e.gutterMarkers[t]=null,Pt(r,n,"gutter"),Kn(e.gutterMarkers))&&(e.gutterMarkers=null),++n})}),lineInfo:function(e){if("number"==typeof e){if(!Re(this.doc,e))return null;var t=e;if(!(e=R(this.doc,e)))return null}else if(null==(t=b(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o,l,a=this.display,s=(e=Lt(this,E(this.doc,e))).bottom,c=e.left;t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==n?s=e.top:"above"!=n&&"near"!=n||(o=Math.max(a.wrapper.clientHeight,this.doc.height),l=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth),("above"==n||e.bottom+t.offsetHeight>o)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=o&&(s=e.bottom),c+t.offsetWidth>l&&(c=l-t.offsetWidth)),t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(c=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?c=0:"middle"==i&&(c=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=c+"px"),r&&(n=this,o=s,l=(e=c)+t.offsetWidth,i=s+t.offsetHeight,null!=(e=mr(n,e,o,l,i)).scrollTop&&Xt(n,e.scrollTop),null!=e.scrollLeft)&&$t(n,e.scrollLeft)},triggerOnKeyDown:e(er),triggerOnKeyPress:e(rr),triggerOnKeyUp:tr,execCommand:function(e){return Ki.hasOwnProperty(e)?Ki[e].call(null,this):void 0},triggerElectric:e(function(e){Te(this,e)}),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=0,l=E(this.doc,e);o<t&&!(l=Cr(this.doc,l,i,r,n)).hitSide;++o);return l},moveH:e(function(t,r){var n=this;n.extendSelectionsBy(function(e){return n.display.shift||n.doc.extend||e.empty()?Cr(n.doc,e.head,t,r,n.options.rtlMoveVisually):t<0?e.from():e.to()},fo)}),deleteH:e(function(r,n){var e=this.doc.sel,i=this.doc;e.somethingSelected()?i.replaceSelection("",null,"+delete"):kr(this,function(e){var t=Cr(i,e.head,r,n,!1);return r<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var l=0,a=E(this.doc,e);l<t;++l){var s=Lt(this,a,"div");if(null==o?o=s.left:s.left=o,(a=Sr(this,s,i,r)).hitSide)break}return a},moveV:e(function(n,i){var o=this,l=this.doc,a=[],s=!o.display.shift&&!l.extend&&l.sel.somethingSelected();if(l.extendSelectionsBy(function(e){var t,r;return s?n<0?e.from():e.to():(t=Lt(o,e.head,"div"),null!=e.goalColumn&&(t.left=e.goalColumn),a.push(t.left),r=Sr(o,t,n,i),"page"==i&&e==l.sel.primary()&&vr(o,null,St(o,r,"div").top-t.top),r)},fo),a.length)for(var e=0;e<l.sel.ranges.length;e++)l.sel.ranges[e].goalColumn=a[e]}),findWordAt:function(e){var t=R(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");(e.xRel<0||n==t.length)&&r?--r:++n;for(var o=t.charAt(r),l=Gn(o,i)?function(e){return Gn(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Gn(e)};0<r&&l(t.charAt(r-1));)--r;for(;n<t.length&&l(t.charAt(n));)++n}return new P(q(e.line,r),q(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||(((this.state.overwrite=!this.state.overwrite)?Mo:Lo)(this.display.cursorDiv,"CodeMirror-overwrite"),A(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==qn()},scrollTo:e(function(e,t){null==e&&null==t||br(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-st(this)-this.display.barHeight,width:e.scrollWidth-st(this)-this.display.barWidth,clientHeight:ut(this),clientWidth:ct(this)}},scrollIntoView:e(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:q(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?(br(this),this.curOp.scrollToPos=e):(t=mr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin),this.scrollTo(t.scrollLeft,t.scrollTop))}),setSize:e(function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this,i=(null!=e&&(n.display.wrapper.style.width=r(e)),null!=t&&(n.display.wrapper.style.height=r(t)),n.options.lineWrapping&&yt(this),n.display.viewFrom);n.doc.iter(i,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pt(n,i,"widget");break}++i}),n.curOp.forceUpdate=!0,A(n,"refresh",this)}),operation:function(e){return h(this,e)},refresh:e(function(){var e=this.display.cachedTextHeight;y(this),this.curOp.forceUpdate=!0,bt(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),s(this),(null==e||.5<Math.abs(e-Nt(this.display)))&&l(this),A(this,"refresh",this)}),swapDoc:e(function(e){var t=this.doc;return t.cm=null,pn(this,e),bt(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,w(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pn(p),p.defaults={}),Hi=p.optionHandlers={},Pi=p.Init={toString:function(){return"CodeMirror.Init"}},Ii=(r("value","",function(e,t){e.setValue(t)},!0),r("mode",null,function(e,t){e.doc.modeOption=t,i(e)},!0),r("indentUnit",2,i,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(e){o(e),bt(e),y(e)},!0),r("lineSeparator",null,function(e,n){if(e.doc.lineSep=n){var i=[],o=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var r=e.text.indexOf(n,t);if(-1==r)break;t=r+n.length,i.push(q(o,r))}o++});for(var t=i.length-1;0<=t;t--)gr(e.doc,n,i[t],q(i[t].line,i[t].ch+n.length))}}),r("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=p.Init&&e.refresh()}),r("specialCharPlaceholder",function(e){var t=T("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t},function(e){e.refresh()},!0),r("electricChars",!0),r("inputStyle",fi?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("rtlMoveVisually",!pi),r("wholeLineUpdateBefore",!0),r("theme","default",function(e){W(e),a(e)},!0),r("keyMap","default",function(e,t,r){t=Mr(t),r=r!=p.Init&&Mr(r);r&&r.detach&&r.detach(e,t),t.attach&&t.attach(e,r||null)}),r("extraKeys",null),r("lineWrapping",!1,function(e){e.options.lineWrapping?(Mo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Lo(e.display.wrapper,"CodeMirror-wrap"),H(e)),l(e),y(e),bt(e),setTimeout(function(){J(e)},100)},!0),r("gutters",[],function(e){Y(e.options),a(e)},!0),r("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?ie(e.display)+"px":"0",e.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(e){J(e)},!0),r("scrollbarStyle","native",function(e){Q(e),J(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),r("lineNumbers",!1,function(e){Y(e.options),a(e)},!0),r("firstLineNumber",1,a,!0),r("lineNumberFormatter",function(e){return e},a,!0),r("showCursorWhenSelecting",!1,Qe,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("readOnly",!1,function(e,t){"nocursor"==t?(ir(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),r("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),r("dragDrop",!0,function(e,t,r){!t!=!(r&&r!=p.Init)&&(r=e.display.dragFunctions,(t=t?$:lo)(e.display.scroller,"dragstart",r.start),t(e.display.scroller,"dragenter",r.enter),t(e.display.scroller,"dragover",r.over),t(e.display.scroller,"dragleave",r.leave),t(e.display.scroller,"drop",r.drop))}),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,Qe,!0),r("singleCursorHeightPerLine",!0,Qe,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,o,!0),r("addModeClass",!1,o,!0),r("pollInterval",100),r("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),r("historyEventDelay",1250),r("viewportMargin",10,function(e){e.refresh()},!0),r("maxHighlightLength",1e4,o,!0),r("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),r("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),r("autofocus",null),p.modes={}),Ei=p.mimeModes={},Fi=(p.defineMode=function(e,t){p.defaults.mode||"null"==e||(p.defaults.mode=e),2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Ii[e]=t},p.defineMIME=function(e,t){Ei[e]=t},p.resolveMode=function(e){if("string"==typeof e&&Ei.hasOwnProperty(e))e=Ei[e];else if(e&&"string"==typeof e.name&&Ei.hasOwnProperty(e.name)){var t=Ei[e.name];(e=Rn(t="string"==typeof t?{name:t}:t,e)).name=t.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return p.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},p.getMode=function(e,t){var t=p.resolveMode(t),r=Ii[t.name];if(!r)return p.getMode(e,"text/plain");var n=r(e,t);if(Fi.hasOwnProperty(t.name)){var i=Fi[t.name];for(o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)n[o]=t.modeProps[o];return n},p.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),p.defineMIME("text/plain","null"),p.modeExtensions={}),Bi=(p.extendMode=function(e,t){S(t,Fi.hasOwnProperty(e)?Fi[e]:Fi[e]={})},p.defineExtension=function(e,t){p.prototype[e]=t},p.defineDocExtension=function(e,t){M.prototype[e]=t},p.defineOption=r,[]),Ri=(p.defineInitHook=function(e){Bi.push(e)},p.helpers={}),ji=(p.registerHelper=function(e,t,r){Ri.hasOwnProperty(e)||(Ri[e]=p[e]={_global:[]}),Ri[e][t]=r},p.registerGlobalHelper=function(e,t,r,n){p.registerHelper(e,t,n),Ri[e]._global.push({pred:r,val:n})},p.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r,n={};for(r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}),Gi=p.startState=function(e,t,r){return!e.startState||e.startState(t,r)},Ki=(p.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);if(!r||r.mode==e)break;t=r.state,e=r.mode}return r||{mode:e,state:t}},p.commands={selectAll:function(e){e.setSelection(q(e.firstLine(),0),q(e.lastLine()),uo)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),uo)},killLine:function(r){kr(r,function(e){var t;return e.empty()?(t=R(r.doc,e.head.line).text.length,e.head.ch==t&&e.head.line<r.lastLine()?{from:e.head,to:q(e.head.line+1,0)}:{from:e.head,to:q(e.head.line,t)}):{from:e.from(),to:e.to()}})},deleteLine:function(t){kr(t,function(e){return{from:q(e.from().line,0),to:E(t.doc,q(e.to().line+1,0))}})},delLineLeft:function(e){kr(e,function(e){return{from:q(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(r){kr(r,function(e){var t=r.charCoords(e.head,"div").top+5;return{from:r.coordsChar({left:0,top:t},"div"),to:e.from()}})},delWrappedLineRight:function(r){kr(r,function(e){var t=r.charCoords(e.head,"div").top+5,t=r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:t}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(q(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(q(e.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return ei(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return ti(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(o){o.extendSelectionsBy(function(e){for(var t,r=o,n=e.head.line,i=R(r.doc,n);t=jr(i);)i=t.find(1,!0).line,n=null;return r=(r=C(i))?(r[0].level%2?Qn:Jn)(i):i.text.length,q(null==n?b(i):n,r)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){e=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div")},fo)},goLineLeft:function(t){t.extendSelectionsBy(function(e){e=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:e},"div")},fo)},goLineLeftSmart:function(r){r.extendSelectionsBy(function(e){var t=r.charCoords(e.head,"div").top+5,t=r.coordsChar({left:0,top:t},"div");return t.ch<r.getLine(t.line).search(/\S/)?ti(r,e.head):t},fo)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),o=po(e.getLine(o.line),o.ch,n);t.push(new Array(n-o%n+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(l){h(l,function(){for(var e=l.listSelections(),t=[],r=0;r<e.length;r++){var n,i=e[r].head,o=R(l.doc,i.line).text;o&&(0<(i=i.ch==o.length?new q(i.line,i.ch-1):i).ch?(i=new q(i.line,i.ch+1),l.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),q(i.line,i.ch-2),i,"+transpose")):i.line>l.doc.first&&(n=R(l.doc,i.line-1).text)&&l.replaceRange(o.charAt(0)+l.doc.lineSeparator()+n.charAt(n.length-1),q(i.line-1,n.length-1),q(i.line,1),"+transpose")),t.push(new P(i,i))}l.setSelections(t)})},newlineAndIndent:function(n){h(n,function(){for(var e=n.listSelections().length,t=0;t<e;t++){var r=n.listSelections()[t];n.replaceRange(n.doc.lineSeparator(),r.anchor,r.head,"+input"),n.indentLine(r.from().line+1,null,!0),yr(n)}})},toggleOverwrite:function(e){e.toggleOverwrite()}}),Vi=p.keyMap={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}},Ui=(Vi.default=U?Vi.macDefault:Vi.pcDefault,p.normalizeKeyMap=function(e){var t,r,n={};for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(/^(name|fallthrough|(de|at)tach)$/.test(t))continue;if("..."==i){delete e[t];continue}for(var o=Fn(t.split(" "),Lr),l=0;l<o.length;l++){var a,s=l==o.length-1?(a=o.join(" "),i):(a=o.slice(0,l+1).join(" "),"..."),c=n[a];if(c){if(c!=s)throw new Error("Inconsistent bindings for "+a)}else n[a]=s}delete e[t]}for(r in n)e[r]=n[r];return e},p.lookupKey=function(e,t,r,n){var i=(t=Mr(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ui(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=Ui(e,t.fallthrough[o],r,n);if(l)return l}}}),qi=p.isModifierKey=function(e){e="string"==typeof e?e:Do[e.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},_i=p.keyName=function(e,t){var r,n;return!(m&&34==e.keyCode&&e.char||null==(n=r=Do[e.keyCode])||e.altGraphKey)&&(e.altKey&&"Alt"!=r&&(n="Alt-"+n),(mi?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(n="Ctrl-"+n),(mi?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(n="Cmd-"+n),n=!t&&e.shiftKey&&"Shift"!=r?"Shift-"+n:n)},Xi=(p.fromTextArea=function(t,e){function r(){t.value=a.getValue()}var n;if((e=e?S(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus&&(n=qn(),e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body),t.form&&($(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var i=t.form,o=i.submit;try{var l=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=l}}catch(e){}}e.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(lo(t.form,"submit",r),"function"==typeof t.form.submit)&&(t.form.submit=o)}},t.style.display="none";var a=p(function(e){t.parentNode.insertBefore(e,t.nextSibling)},e);return a},p.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0}),$i=(Xi.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);return("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){e=this.string.indexOf(e,this.pos);return-1<e?(this.pos=e,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=po(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?po(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return po(this.string,null,this.tabSize)-(this.lineStart?po(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,r){var n;return"string"!=typeof e?(n=this.string.slice(this.pos).match(e))&&0<n.index?null:(n&&!1!==t&&(this.pos+=n[0].length),n):(n=function(e){return r?e.toLowerCase():e})(this.string.substr(this.pos,e.length))==n(e)?(!1!==t&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}},0),Yi=p.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++$i},$i=(Pn(Yi),Yi.prototype.clear=function(){if(!this.explicitlyCleared){var e,t=this.doc.cm,r=t&&!t.curOp;r&&Wt(t),g(this,"clear")&&(e=this.find())&&w(this,"clear",e.from,e.to);for(var n=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],a=Or(l.markedSpans,this);t&&!this.collapsed?Pt(t,b(l),"text"):t&&(null!=a.to&&(i=b(l)),null!=a.from)&&(n=b(l)),l.markedSpans=function(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r=r||[]).push(e[n]);return r}(l.markedSpans,a),null==a.from&&this.collapsed&&!qr(this.doc,l)&&t&&vn(l,Nt(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(o=0;o<this.lines.length;++o){var s=Kr(this.lines[o]),c=D(s);c>t.display.maxLineLength&&(t.display.maxLine=s,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=n&&t&&this.collapsed&&y(t,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t)&&$e(t.doc),t&&w(t,"markerCleared",t,this),r&&zt(t),this.parent&&this.parent.clear()}},Yi.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],l=Or(o.markedSpans,this);if(null!=l.from&&(r=q(t?o:b(o),l.from),-1==e))return r;if(null!=l.to&&(n=q(t?o:b(o),l.to),1==e))return n}return r&&{from:r,to:n}},Yi.prototype.changed=function(){var r=this.find(-1,!0),n=this,i=this.doc.cm;r&&i&&h(i,function(){var e=r.line,t=b(r.line),t=ft(i,t);t&&(vt(t),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!qr(n.doc,e)&&null!=n.height&&(t=n.height,n.height=null,t=Xr(n)-t)&&vn(e,e.height+t)})},Yi.prototype.attachLine=function(e){var t;this.lines.length||!this.doc.cm||(t=this.doc.cm.curOp).maybeHiddenMarkers&&-1!=k(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this),this.lines.push(e)},Yi.prototype.detachLine=function(e){this.lines.splice(k(this.lines,e),1),!this.lines.length&&this.doc.cm&&((e=this.doc.cm.curOp).maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)},0),Zi=p.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this},Qi=(Pn(Zi),Zi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();w(this,"clear")}},Zi.prototype.find=function(e,t){return this.primary.find(e,t)},p.LineWidget=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t}),Ji=(Pn(Qi),Qi.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=b(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=Xr(this);vn(r,Math.max(0,r.height-o)),e&&h(e,function(){_r(e,r,-o),Pt(e,n,"widget")})}},Qi.prototype.changed=function(){var e=this.height,t=this.doc.cm,r=this.line,n=(this.height=null,Xr(this)-e);n&&(vn(r,r.height+n),t)&&h(t,function(){t.curOp.forceUpdate=!0,_r(t,r,n)})},p.Line=function(e,t,r){this.text=e,Pr(this,t),this.height=r?r(this):1}),eo=(Pn(Ji),Ji.prototype.lineNo=function(){return b(this)},{}),to={},ro=(dn.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r,n=e,i=e+t;n<i;++n){var o=this.lines[n];this.height-=o.height,(r=o).parent=null,Hr(r),w(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},hn.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r,n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e),a=i.height;if(i.removeInner(e,l),this.height-=a-i.height,o==l&&(this.children.splice(n--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof dn))&&(this.collapse(r=[]),this.children=[new dn(r)],this.children[0].parent=this)},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&50<i.lines.length){for(;50<i.lines.length;){var l=new dn(i.lines.splice(i.lines.length-25,25));i.height-=l.height,this.children.splice(n+1,0,l),l.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t,r=new hn(e.children.splice(e.children.length-5,5))}while(e.parent?(e.size-=r.size,e.height-=r.height,t=k(e.parent.children,e),e.parent.children.splice(t+1,0,r)):(((t=new hn(e.children)).parent=e).children=[t,r],e=t),r.parent=e.parent,10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e);if(i.iterN(e,l,r))return!0;if(0==(t-=l))break;e=0}else e-=o}}},0),M=p.Doc=function(e,t,r,n){if(!(this instanceof M))return new M(e,t,r,n);null==r&&(r=0),hn.call(this,[new dn([new Ji("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=r;r=q(r,0);this.sel=Fe(r),this.history=new wn(null),this.id=++ro,this.modeOption=t,this.lineSep=n,"string"==typeof e&&(e=this.splitLines(e)),un(this,{from:r,to:r,text:e}),F(this,Fe(r),uo)},no=(M.prototype=Rn(hn.prototype,{constructor:M,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=mn(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:t(function(e){var t=q(this.first,0),r=this.first+this.size-1;ur(this,{from:t,to:q(r,R(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),F(this,Fe(t))}),replaceRange:function(e,t,r,n){gr(this,e,t=E(this,t),r=r?E(this,r):t,n)},getRange:function(e,t,r){e=gn(this,E(this,e),E(this,t));return!1===r?e:e.join(r||this.lineSeparator())},getLine:function(e){e=this.getLineHandle(e);return e&&e.text},getLineHandle:function(e){return Re(this,e)?R(this,e):void 0},getLineNumber:b,getLineHandleVisualStart:function(e){return Kr(e="number"==typeof e?R(this,e):e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return E(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:t(function(e,t,r){Ue(this,E(this,"number"==typeof e?q(e,t||0):e),null,r)}),setSelection:t(function(e,t,r){Ue(this,E(this,e),E(this,t||e),r)}),extendSelection:t(function(e,t,r){Ge(this,E(this,e),t&&E(this,t),r)}),extendSelections:t(function(e,t){Ke(this,function(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=E(e,t[n]);return r}(this,e))}),extendSelectionsBy:t(function(e,t){Ke(this,Fn(this.sel.ranges,e),t)}),setSelections:t(function(e,t,r){if(e.length){for(var n=0,i=[];n<e.length;n++)i[n]=new P(E(this,e[n].anchor),E(this,e[n].head));F(this,I(i,t=null==t?Math.min(e.length-1,this.sel.primIndex):t),r)}}),addSelection:t(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new P(E(this,e),E(this,t||e))),F(this,I(n,n.length-1),r)}),getSelection:function(e){for(var t=this.sel.ranges,r=0;r<t.length;r++)var n=gn(this,t[r].from(),t[r].to()),i=i?i.concat(n):n;return!1===e?i:i.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=gn(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:t(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var l=i.ranges[o];n[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:r}}for(t=t&&"end"!=t&&function(e,t,r){for(var n=[],i=c=q(e.first,0),o=0;o<t.length;o++){var l=t[o],a=sr(l.from,c,i),s=sr(zi(l),c,i),c=l.to,i=s;"around"==r?(l=e.sel.ranges[o],l=_(l.head,l.anchor)<0,n[o]=new P(l?s:a,l?a:s)):n[o]=new P(a,a)}return new Ee(n,e.sel.primIndex)}(this,n,t),o=n.length-1;0<=o;o--)ur(this,n[o]);t?qe(this,t):this.cm&&yr(this.cm)}),undo:t(function(){hr(this,"undo")}),redo:t(function(){hr(this,"redo")}),undoSelection:t(function(){hr(this,"undo",!0)}),redoSelection:t(function(){hr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(n=0;n<e.undone.length;n++)e.undone[n].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new wn(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Mn(this.history.done),undone:Mn(this.history.undone)}},setHistory:function(e){var t=this.history=new wn(this.history.maxGeneration);t.done=Mn(e.done.slice(0),null,!0),t.undone=Mn(e.undone.slice(0),null,!0)},addLineClass:t(function(e,r,n){return xr(this,e,"gutter"==r?"gutter":"class",function(e){var t="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(e[t]){if(_n(n).test(e[t]))return;e[t]+=" "+n}else e[t]=n;return 1})}),removeLineClass:t(function(e,o,l){return xr(this,e,"gutter"==o?"gutter":"class",function(e){var t="text"==o?"textClass":"background"==o?"bgClass":"gutter"==o?"gutterClass":"wrapClass",r=e[t];if(r){if(null==l)e[t]=null;else{var n=r.match(_n(l));if(!n)return;var i=n.index+n[0].length;e[t]=r.slice(0,n.index)+(n.index&&i!=r.length?" ":"")+r.slice(i)||null}return 1}})}),addLineWidget:t(function(e,t,r){return e=e,i=new Qi(n=this,t,r),(o=n.cm)&&i.noHScroll&&(o.display.alignWidgets=!0),xr(n,e,"widget",function(e){var t=e.widgets||(e.widgets=[]);return null==i.insertAt?t.push(i):t.splice(Math.min(t.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!qr(n,e)&&(t=bn(e)<n.scrollTop,vn(e,e.height+Xr(i)),t&&vr(o,null,i.height),o.curOp.forceUpdate=!0),1}),i;var n,i,o}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Tr(this,E(this,e),E(this,t),r,"range")},setBookmark:function(e,t){t={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Tr(this,e=E(this,e),e,t,"bookmark")},findMarksAt:function(e){var t=[],r=R(this,(e=E(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(i,o,l){i=E(this,i),o=E(this,o);var a=[],s=i.line;return this.iter(i.line,o.line+1,function(e){var t=e.markedSpans;if(t)for(var r=0;r<t.length;r++){var n=t[r];s==i.line&&i.ch>n.to||null==n.from&&s!=i.line||s==o.line&&n.from>o.ch||l&&!l(n.marker)||a.push(n.marker.parent||n.marker)}++s}),a},getAllMarks:function(){var n=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var r=0;r<t.length;++r)null!=t[r].from&&n.push(t[r].marker)}),n},posFromIndex:function(t){var r,n=this.first;return this.iter(function(e){e=e.text.length+1;return t<e?(r=t,!0):(t-=e,void++n)}),E(this,q(n,r))},indexFromPos:function(e){var t=(e=E(this,e)).ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new M(mn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){for(var t=this.first,r=this.first+this.size,r=(null!=(e=e||{}).from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to),new M(mn(this,t,r),e.mode||this.modeOption,t,this.lineSep)),n=(e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],r),i=Ar(this),o=0;o<i.length;o++){var l=i[o],a=l.find(),s=n.clipPos(a.from),a=n.clipPos(a.to);_(s,a)&&(s=Tr(n,s,a,l.primary,l.primary.type),l.markers.push(s),s.parent=l)}return r},unlinkDoc:function(e){if(e instanceof p&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),function(e){for(var t=0;t<e.length;t++){var r=e[t],n=[r.primary.doc];fn(r.primary.doc,function(e){n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==k(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}}}(Ar(this));break}var r;e.history==this.history&&(r=[e.id],fn(e,function(e){r.push(e.id)},!0),e.history=new wn(null),e.history.done=Mn(this.history.done,r),e.history.undone=Mn(this.history.undone,r))},iterLinkedDocs:function(e){fn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):No(e)},lineSeparator:function(){return this.lineSep||"\n"}}),M.prototype.eachLine=M.prototype.iter,"iter insert remove copy getEditor constructor".split(" "));for(Si in M.prototype)M.prototype.hasOwnProperty(Si)&&k(no,Si)<0&&(p.prototype[Si]=function(e){return function(){return e.apply(this.doc,arguments)}}(M.prototype[Si]));Pn(M);var X=p.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},io=p.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},oo=p.e_stop=function(e){X(e),io(e)},$=p.on=function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):((e=e._handlers||(e._handlers={}))[t]||(e[t]=[])).push(r)},lo=p.off=function(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers&&e._handlers[t];if(n)for(var i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}}},A=p.signal=function(e,t){var r=e._handlers&&e._handlers[t];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)},ao=null,so=30,co=p.Pass={toString:function(){return"CodeMirror.Pass"}},uo={scroll:!1},ho={origin:"*mouse"},fo={origin:"+move"},po=(In.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)},p.countColumn=function(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,l=i||0;;){var a=e.indexOf("\t",o);if(a<0||t<=a)return l+(t-o);l=(l+=a-o)+(r-l%r),o=a+1}}),go=p.findColumn=function(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n),l=(o=-1==o?e.length:o)-n;if(o==e.length||t<=i+l)return n+Math.min(l,t-i);if(i+=o-n,n=o+1,t<=(i+=r-i%r))return n}},mo=[""],vo=function(e){e.select()};hi?vo=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:G&&(vo=function(e){try{e.select()}catch(e){}});var yo=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,bo=p.isWordChar=function(e){return/\w/.test(e)||""<e&&(e.toUpperCase()!=e.toLowerCase()||yo.test(e))},wo=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,xo=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n},ko=p.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if((t=11==t.nodeType?t.host:t)==e)return!0}while(t=t.parentNode)};G&&K<11&&(qn=function(){try{return document.activeElement}catch(e){return document.body}});for(var Co,So,Lo=p.rmClass=function(e,t){var r,n=e.className,t=_n(t).exec(n);t&&(r=n.slice(t.index+t[0].length),e.className=n.slice(0,t.index)+(r?t[1]+r:""))},Mo=p.addClass=function(e,t){var r=e.className;_n(t).test(r)||(e.className+=(r?" ":"")+t)},To=!1,Ao=(!(G&&K<9)&&("draggable"in(ai=T("div"))||"dragDrop"in ai)),No=p.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t),o=(-1==i&&(i=e.length),e.slice(t,"\r"==e.charAt(i-1)?i-1:i)),l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Oo=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Wo=("oncopy"in(gi=T("div"))||(gi.setAttribute("oncopy","return;"),"function"==typeof gi.oncopy)),zo=null,Do=p.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},n=0;n<10;n++)Do[n+48]=Do[n+96]=String(n);for(n=65;n<=90;n++)Do[n]=String.fromCharCode(n);for(n=1;n<=12;n++)Do[n+111]=Do[n+63235]="F"+n;Po=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,Io=/[stwN]/,Eo=/[LRr]/,Fo=/[Lb1n]/,Bo=/[1n]/;var Ho,Po,Io,Eo,Fo,Bo,Ro=function(e){if(!Po.test(e))return!1;for(var t,r=e.length,n=[],i=0;i<r;++i)n.push(u=(t=e.charCodeAt(i))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L");for(var i=0,o="L";i<r;++i)"m"==(u=n[i])?n[i]=o:o=u;for(var i=0,l="L";i<r;++i)"1"==(u=n[i])&&"r"==l?n[i]="n":Eo.test(u)&&"r"==(l=u)&&(n[i]="R");for(i=1,o=n[0];i<r-1;++i)"+"==(u=n[i])&&"1"==o&&"1"==n[i+1]?n[i]="1":","!=u||o!=n[i+1]||"1"!=o&&"n"!=o||(n[i]=o),o=u;for(i=0;i<r;++i)if(","==(u=n[i]))n[i]="N";else if("%"==u){for(var a=i+1;a<r&&"%"==n[a];++a);for(var s=i&&"!"==n[i-1]||a<r&&"1"==n[a]?"1":"N",c=i;c<a;++c)n[c]=s;i=a-1}for(i=0,l="L";i<r;++i){var u=n[i];"L"==l&&"1"==u?n[i]="L":Eo.test(u)&&(l=u)}for(i=0;i<r;++i)if(Io.test(n[i])){for(a=i+1;a<r&&Io.test(n[a]);++a);for(s="L"==(i?n[i-1]:"L")||"L"==(a<r?n[a]:"L")?"L":"R",c=i;c<a;++c)n[c]=s;i=a-1}for(var d,h=[],i=0;i<r;)if(Fo.test(n[i])){var f=i;for(++i;i<r&&Fo.test(n[i]);++i);h.push(new jo(0,f,i))}else{var p=i,g=h.length;for(++i;i<r&&"L"!=n[i];++i);for(c=p;c<i;)if(Bo.test(n[c])){p<c&&h.splice(g,0,new jo(1,p,c));var m=c;for(++c;c<i&&Bo.test(n[c]);++c);h.splice(g,0,new jo(2,m,c)),p=c}else++c;p<i&&h.splice(g,0,new jo(1,p,i))}return 1==h[0].level&&(d=e.match(/^\s+/))&&(h[0].from=d[0].length,h.unshift(new jo(0,0,d[0].length))),1==x(h).level&&(d=e.match(/\s+$/))&&(x(h).to-=d[0].length,h.push(new jo(0,r-d[0].length,r))),2==h[0].level&&h.unshift(new jo(1,h[0].to,h[0].to)),h[0].level!=x(h).level&&h.push(new jo(h[0].level,r,r)),h};function jo(e,t,r){this.level=e,this.from=t,this.to=r}return p.version="5.6.1",p}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(N){"use strict";function e(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=!0;return t}function r(e,t){for(var r,n=!1;null!=(r=e.next());){if(n&&"/"==r){t.tokenize=null;break}n="*"==r}return["comment","comment"]}N.defineMode("css",function(e,t){function i(e,t){return h=t,e}function o(i){return function(e,t){for(var r,n=!1;null!=(r=e.next());){if(r==i&&!n){")"==i&&e.backUp(1);break}n=!n&&"\\"==r}return r!=i&&(n||")"==i)||(t.tokenize=null),h="string"}}function l(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=o(")"),h="(",null}function a(e,t,r){this.type=e,this.indent=t,this.prev=r}function n(e,t,r,n){return e.context=new a(r,t.indentation()+(!1===n?0:p),e.context),r}function s(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function c(e,t,r){return A[r.context.type](e,t,r)}function u(e,t,r,n){for(var i=n||1;0<i;i--)r.context=r.context.prev;return c(e,t,r)}function d(e){e=e.current().toLowerCase();f=L.hasOwnProperty(e)?"atom":S.hasOwnProperty(e)?"keyword":"variable"}var r=t;(t=t.propertyKeywords?t:N.resolveMode("text/css")).inline=r.inline;var h,f,p=e.indentUnit,g=t.tokenHooks,m=t.documentTypes||{},v=t.mediaTypes||{},y=t.mediaFeatures||{},b=t.mediaValueKeywords||{},w=t.propertyKeywords||{},x=t.nonStandardPropertyKeywords||{},k=t.fontProperties||{},C=t.counterDescriptors||{},S=t.colorKeywords||{},L=t.valueKeywords||{},M=t.allowNested,T=!0===t.supportsAtComponent,A={top:function(e,t,r){if("{"==e)return n(r,t,"block");if("}"==e&&r.context.prev)return s(r);if(T&&/@component/.test(e))return n(r,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return n(r,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return n(r,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return r.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return n(r,t,"at");if("hash"==e)f="builtin";else if("word"==e)f="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return n(r,t,"interpolation");if(":"==e)return"pseudo";if(M&&"("==e)return n(r,t,"parens")}return r.context.type},block:function(e,t,r){var n;return"word"==e?(n=t.current().toLowerCase(),w.hasOwnProperty(n)?(f="property","maybeprop"):x.hasOwnProperty(n)?(f="string-2","maybeprop"):M?(f=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(f+=" error","maybeprop")):"meta"==e?"block":M||"hash"!=e&&"qualifier"!=e?A.top(e,t,r):(f="error","block")},maybeprop:function(e,t,r){return":"==e?n(r,t,"prop"):c(e,t,r)},prop:function(e,t,r){if(";"==e)return s(r);if("{"==e&&M)return n(r,t,"propBlock");if("}"==e||"{"==e)return u(e,t,r);if("("==e)return n(r,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)d(t);else if("interpolation"==e)return n(r,t,"interpolation")}else f+=" error";return"prop"},propBlock:function(e,t,r){return"}"==e?s(r):"word"==e?(f="property","maybeprop"):r.context.type},parens:function(e,t,r){return"{"==e||"}"==e?u(e,t,r):")"==e?s(r):"("==e?n(r,t,"parens"):"interpolation"==e?n(r,t,"interpolation"):("word"==e&&d(t),"parens")},pseudo:function(e,t,r){return"word"==e?(f="variable-3",r.context.type):c(e,t,r)},documentTypes:function(e,t,r){return"word"==e&&m.hasOwnProperty(t.current())?(f="tag",r.context.type):A.atBlock(e,t,r)},atBlock:function(e,t,r){return"("==e?n(r,t,"atBlock_parens"):"}"==e||";"==e?u(e,t,r):"{"==e?s(r)&&n(r,t,M?"block":"top"):("word"==e&&(e=t.current().toLowerCase(),f="only"==e||"not"==e||"and"==e||"or"==e?"keyword":v.hasOwnProperty(e)?"attribute":y.hasOwnProperty(e)?"property":b.hasOwnProperty(e)?"keyword":w.hasOwnProperty(e)?"property":x.hasOwnProperty(e)?"string-2":L.hasOwnProperty(e)?"atom":S.hasOwnProperty(e)?"keyword":"error"),r.context.type)},atComponentBlock:function(e,t,r){return"}"==e?u(e,t,r):"{"==e?s(r)&&n(r,t,M?"block":"top",!1):("word"==e&&(f="error"),r.context.type)},atBlock_parens:function(e,t,r){return")"==e?s(r):"{"==e||"}"==e?u(e,t,r,2):A.atBlock(e,t,r)},restricted_atBlock_before:function(e,t,r){return"{"==e?n(r,t,"restricted_atBlock"):"word"==e&&"@counter-style"==r.stateArg?(f="variable","restricted_atBlock_before"):c(e,t,r)},restricted_atBlock:function(e,t,r){return"}"==e?(r.stateArg=null,s(r)):"word"==e?(f="@font-face"==r.stateArg&&!k.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==r.stateArg&&!C.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,r){return"word"==e?(f="variable","keyframes"):"{"==e?n(r,t,"top"):c(e,t,r)},at:function(e,t,r){return";"==e?s(r):"{"==e||"}"==e?u(e,t,r):("word"==e?f="tag":"hash"==e&&(f="builtin"),"at")},interpolation:function(e,t,r){return"}"==e?s(r):"{"==e||";"==e?u(e,t,r):("word"==e?f="variable":"variable"!=e&&"("!=e&&")"!=e&&(f="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:t.inline?"block":"top",stateArg:null,context:new a(t.inline?"block":"top",e||0,null)}},token:function(e,t){var r;return!t.tokenize&&e.eatSpace()?null:((r=(t.tokenize||function(e,t){var r=e.next();if(g[r]){var n=g[r](e,t);if(!1!==n)return n}return"@"==r?(e.eatWhile(/[\w\\\-]/),i("def",e.current())):"="==r||("~"==r||"|"==r)&&e.eat("=")?(h="compare",null):'"'==r||"'"==r?(t.tokenize=o(r),t.tokenize(e,t)):"#"==r?(e.eatWhile(/[\w\\\-]/),h="hash","atom"):"!"==r?(e.match(/^\s*\w*/),h="important","keyword"):/\d/.test(r)||"."==r&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),h="unit","number"):"-"!==r?/[,+>*\/]/.test(r)?(h="select-op",null):"."==r&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?h="qualifier":/[:;{}\[\]\(\)]/.test(r)?i(null,r):"u"==r&&e.match(/rl(-prefix)?\(/)||"d"==r&&e.match("omain(")||"r"==r&&e.match("egexp(")?(e.backUp(1),t.tokenize=l,h="word","property"):/[\w\\\-]/.test(r)?(e.eatWhile(/[\w\\\-]/),h="word","property"):h=null:/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),h="unit","number"):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),h=e.match(/^\s*:/,!1)?"variable-definition":"variable","variable-2"):e.match(/^\w+-/)?h="meta":void 0})(e,t))&&"object"==typeof r&&(h=r[1],r=r[0]),f=r,t.state=A[t.state](h,e,t),f)},indent:function(e,t){var e=e.context,t=t&&t.charAt(0),r=e.indent;return(e="prop"!=e.type||"}"!=t&&")"!=t?e:e.prev).prev&&("}"!=t||"block"!=e.type&&"top"!=e.type&&"interpolation"!=e.type&&"restricted_atBlock"!=e.type?(")"!=t||"parens"!=e.type&&"atBlock_parens"!=e.type)&&("{"!=t||"at"!=e.type&&"atBlock"!=e.type)||(r=Math.max(0,e.indent-p),e=e.prev):r=(e=e.prev).indent),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var t=["domain","regexp","url","url-prefix"],n=e(t),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=e(i),l=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],a=e(l),s=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=e(s),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=e(u),h=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=e(h),p=e(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),g=e(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),m=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=e(m),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","column-reverse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],b=e(y),t=t.concat(i).concat(l).concat(s).concat(u).concat(h).concat(m).concat(y);N.registerHelper("hintWords","css",t),N.defineMIME("text/css",{documentTypes:n,mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:g,colorKeywords:v,valueKeywords:b,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=r)(e,t)}},name:"css"}),N.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=r)(e,t):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/)&&[null,"{"]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),N.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:a,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=r)(e,t):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),N.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:o,mediaFeatures:a,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:g,colorKeywords:v,valueKeywords:b,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=r)(e,t)}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(d){"use strict";function h(e,t){for(var r=e.pos;0<=r&&"<"!==e.string.charAt(r);)r--;return r<0?r:(t=e.string.slice(r,e.pos).match(n[t=t]||(n[t]=new RegExp("\\s+"+t+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))))?t[2]:""}function f(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function i(e,t){for(var r in e)for(var n=t[r]||(t[r]=[]),i=e[r],o=i.length-1;0<=o;o--)n.unshift(i[o])}var o={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},n={};d.defineMode("htmlmixed",function(a,e){function s(e,t){var o,l,r=t.htmlState.tagName,n=r&&u[r.toLowerCase()],i=c.token(e,t.htmlState);return n&&/\btag\b/.test(i)&&">"===e.current()&&(n=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!n[0]||n[1].test(h(t,n[0])))return n[2]}}(n,e))&&(e=d.getMode(a,n),o=f(r,!0),l=f(r,!1),t.token=function(e,t){return e.match(o,!1)?(t.token=s,t.localState=t.localMode=null):(r=e,n=l,e=t.localMode.token(e,t.localState),t=r.current(),-1<(i=t.search(n))?r.backUp(t.length-i):t.match(/<\/?$/)&&(r.backUp(t.length),r.match(n,!1)||r.match(t)),e);var r,n,i},t.localMode=e,t.localState=d.startState(e,c.indent(t.htmlState,""))),i}var c=d.getMode(a,{name:"xml",htmlMode:!0,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag}),u={},t=e&&e.tags,r=e&&e.scriptTypes;if(i(o,u),t&&i(t,u),r)for(var n=r.length-1;0<=n;n--)u.script.unshift(["type",r[n].matches,r[n].mode]);return{startState:function(){return{token:s,localMode:null,localState:null,htmlState:c.startState()}},copyState:function(e){var t;return e.localState&&(t=d.copyState(e.localMode,e.localState)),{token:e.token,localMode:e.localMode,localState:t,htmlState:d.copyState(c,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return!e.localMode||/^\s*<\//.test(t)?c.indent(e.htmlState,t):e.localMode.indent?e.localMode.indent(e.localState,t):d.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||c}}}},"xml","javascript","css"),d.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(Le){"use strict";Le.defineMode("javascript",function(e,s){function o(e,t,r){return W=e,z=r,t}function c(e,t){var i,r=e.next();return'"'==r||"'"==r?(t.tokenize=(i=r,function(e,t){var r,n=!1;if(H&&"@"==e.peek()&&e.match(ke))return t.tokenize=c,o("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=i||n);)n=!n&&"\\"==r;return n||(t.tokenize=c),o("string","string")}),t.tokenize(e,t)):"."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/)?o("number","number"):"."==r&&e.match("..")?o("spread","meta"):/[\[\]{}\(\),;\:\.]/.test(r)?o(r):"="==r&&e.eat(">")?o("=>","operator"):"0"==r&&e.eat(/x/i)?(e.eatWhile(/[\da-f]/i),o("number","number")):"0"==r&&e.eat(/o/i)?(e.eatWhile(/[0-7]/i),o("number","number")):"0"==r&&e.eat(/b/i)?(e.eatWhile(/[01]/i),o("number","number")):/\d/.test(r)?(e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number")):"/"==r?e.eat("*")?(t.tokenize=u)(e,t):e.eat("/")?(e.skipToEnd(),o("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(function(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(e.eatWhile(I),o("operator","operator",e.current())):"`"==r?(t.tokenize=F)(e,t):"#"==r?(e.skipToEnd(),o("error","error")):I.test(r)?(e.eatWhile(I),o("operator","operator",e.current())):we.test(r)?(e.eatWhile(we),r=e.current(),(e=xe.propertyIsEnumerable(r)&&xe[r])&&"."!=t.lastType?o(e.type,e.style,r):o("variable","variable",r)):void 0}function u(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=c;break}n="*"==r}return o("comment","comment")}function F(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=c;break}n=!n&&"\\"==r}return o("quasi","string-2",e.current())}function n(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){for(var n=0,i=!1,o=r-1;0<=o;--o){var l=e.string.charAt(o),a="([{}])".indexOf(l);if(0<=a&&a<3){if(!n){++o;break}if(0==--n)break}else if(3<=a&&a<6)++n;else if(we.test(l))i=!0;else{if(/["'\/]/.test(l))return;if(i&&!n){++o;break}}}i&&!n&&(t.fatArrowAt=o)}}function B(e,t,r,n,i,o){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function R(e,t,r,n,i){var o=e.cc;for(E.state=e,E.stream=i,E.marked=null,E.cc=o,E.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():P?v:m)(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return E.marked||("variable"==r&&function(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return 1;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return 1}(e,n)?"variable-2":t)}}function l(){for(var e=arguments.length-1;0<=e;e--)E.cc.push(arguments[e])}function a(){return l.apply(null,arguments),!0}function r(r){function e(e){for(var t=e;t;t=t.next)if(t.name==r)return 1}var t=E.state;t.context?(E.marked="def",e(t.localVars)||(t.localVars={name:r,next:t.localVars})):e(t.globalVars)||s.globalVars&&(t.globalVars={name:r,next:t.globalVars})}function d(){E.state.context={prev:E.state.context,vars:E.state.localVars},E.state.localVars=Se}function h(){E.state.localVars=E.state.context.vars,E.state.context=E.state.context.prev}function f(n,i){function e(){var e=E.state,t=e.indented;if("stat"==e.lexical.type)t=e.lexical.indented;else for(var r=e.lexical;r&&")"==r.type&&r.align;r=r.prev)t=r.indented;e.lexical=new B(t,E.stream.column(),n,null,e.lexical,i)}return e.lex=!0,e}function p(){var e=E.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function g(r){return function e(t){return t==r?a():";"==r?l():a(e)}}function m(e,t){return"var"==e?a(f("vardef",t.length),Q,g(";"),p):"keyword a"==e?a(f("form"),v,m,p):"keyword b"==e?a(f("form"),m,p):"{"==e?a(f("}"),L,p):";"==e?a():"if"==e?("else"==E.state.lexical.info&&E.state.cc[E.state.cc.length-1]==p&&E.state.cc.pop()(),a(f("form"),v,m,p,re)):"function"==e?a(A):"for"==e?a(f("form"),ne,m,p):"variable"==e?a(f("stat"),U):"switch"==e?a(f("form"),v,f("}","switch"),g("{"),L,p,p):"case"==e?a(v,g(":")):"default"==e?a(g(":")):"catch"==e?a(f("form"),d,g("("),ae,g(")"),m,p,h):"class"==e?a(f("form"),se,p):"export"==e?a(f("stat"),de,p):"import"==e?a(f("stat"),he,p):l(f("stat"),v,g(";"),p)}function v(e){return t(e,!1)}function y(e){return t(e,!0)}function t(e,t){if(E.state.fatArrowAt==E.stream.start){var r=t?V:K;if("("==e)return a(d,f(")"),C(M,")"),p,g("=>"),r,h);if("variable"==e)return l(d,M,g("=>"),r,h)}r=t?x:w;return Ce.hasOwnProperty(e)?a(r):"async"==e?a(v):"function"==e?a(A,r):"keyword c"==e?a(t?j:b):"("==e?a(f(")"),b,O,g(")"),p,r):"operator"==e||"spread"==e?a(t?y:v):"["==e?a(f("]"),me,p,r):"{"==e?S(_,"}",null,r):"quasi"==e?l(k,r):a()}function b(e){return e.match(/[;\}\)\],]/)?l():l(v)}function j(e){return e.match(/[;\}\)\],]/)?l():l(y)}function w(e,t){return","==e?a(v):x(e,t,!1)}function x(e,t,r){var n=0==r?w:x,i=0==r?v:y;return"=>"==e?a(d,r?V:K,h):"operator"==e?/\+\+|--/.test(t)?a(n):"?"==t?a(v,g(":"),i):a(i):"quasi"==e?l(k,n):";"!=e?"("==e?S(y,")","call",n):"."==e?a(q,n):"["==e?a(f("]"),b,g("]"),p,n):void 0:void 0}function k(e,t){return"quasi"!=e?l():"${"!=t.slice(t.length-2)?a(k):a(v,G)}function G(e){return"}"==e?(E.marked="string-2",E.state.tokenize=F,a(k)):void 0}function K(e){return n(E.stream,E.state),l("{"==e?m:v)}function V(e){return n(E.stream,E.state),l("{"==e?m:y)}function U(e){return":"==e?a(p,m):l(w,g(";"),p)}function q(e){return"variable"==e?(E.marked="property",a()):void 0}function _(e,t){return"async"==e?a(_):"variable"==e||"keyword"==E.style?(E.marked="property",a("get"==t||"set"==t?X:i)):"number"==e||"string"==e?(E.marked=H?"property":E.style+" property",a(i)):"jsonld-keyword"==e?a(i):"["==e?a(v,g("]"),i):void 0}function X(e){return"variable"!=e?l(i):(E.marked="property",a(A))}function i(e){return":"==e?a(y):"("==e?l(A):void 0}function C(r,n){function i(e){var t;return","==e?("call"==(t=E.state.lexical).info&&(t.pos=(t.pos||0)+1),a(r,i)):e==n?a():a(g(n))}return function(e){return e==n?a():l(r,i)}}function S(e,t,r){for(var n=3;n<arguments.length;n++)E.cc.push(arguments[n]);return a(f(t,r),C(e,t),p)}function L(e){return"}"==e?a():l(m,L)}function $(e){return be&&":"==e?a(Z):void 0}function Y(e,t){return"="==t?a(y):void 0}function Z(e){return"variable"==e?(E.marked="variable-3",a()):void 0}function Q(){return l(M,$,ee,te)}function M(e,t){return"variable"==e?(r(t),a()):"["==e?S(M,"]"):"{"==e?S(J,"}"):void 0}function J(e,t){return"variable"!=e||E.stream.match(/^\s*:/,!1)?("variable"==e&&(E.marked="property"),a(g(":"),M,ee)):(r(t),a(ee))}function ee(e,t){return"="==t?a(y):void 0}function te(e){return","==e?a(Q):void 0}function re(e,t){return"keyword b"==e&&"else"==t?a(f("form","else"),m,p):void 0}function ne(e){return"("==e?a(f(")"),ie,g(")"),p):void 0}function ie(e){return"var"==e?a(Q,g(";"),T):";"==e?a(T):"variable"==e?a(oe):l(v,g(";"),T)}function oe(e,t){return"in"==t||"of"==t?(E.marked="keyword",a(v)):a(w,T)}function T(e,t){return";"==e?a(le):"in"==t||"of"==t?(E.marked="keyword",a(v)):l(v,g(";"),le)}function le(e){")"!=e&&a(v)}function A(e,t){return"*"==t?(E.marked="keyword",a(A)):"variable"==e?(r(t),a(A)):"("==e?a(d,f(")"),C(ae,")"),p,m,h):void 0}function ae(e){return"spread"==e?a(ae):l(M,$,Y)}function se(e,t){return"variable"==e?(r(t),a(ce)):void 0}function ce(e,t){return"extends"==t?a(v,ce):"{"==e?a(f("}"),N,p):void 0}function N(e,t){return"variable"==e||"keyword"==E.style?"static"==t?(E.marked="keyword",a(N)):(E.marked="property","get"==t||"set"==t?a(ue,A,N):a(A,N)):"*"==t?(E.marked="keyword",a(N)):";"==e?a(N):"}"==e?a():void 0}function ue(e){return("variable"!=e?l:(E.marked="property",a))()}function de(e,t){return"*"==t?(E.marked="keyword",a(ge,g(";"))):"default"==t?(E.marked="keyword",a(v,g(";"))):l(m)}function he(e){return"string"==e?a():l(fe,ge)}function fe(e,t){return"{"==e?S(fe,"}"):("variable"==e&&r(t),"*"==t&&(E.marked="keyword"),a(pe))}function pe(e,t){return"as"==t?(E.marked="keyword",a(fe)):void 0}function ge(e,t){return"from"==t?(E.marked="keyword",a(v)):void 0}function me(e){return"]"==e?a():l(y,ve)}function ve(e){return"for"==e?l(O,g("]")):","==e?a(C(j,"]")):l(C(y,"]"))}function O(e){return"for"==e?a(ne,O):"if"==e?a(v,O):void 0}var W,z,D=e.indentUnit,ye=s.statementIndent,H=s.jsonld,P=s.json||H,be=s.typescript,we=s.wordCharacters||/[\w$\xa1-\uffff]/,xe=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},l={if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:n,break:n,continue:n,new:n,delete:n,throw:n,debugger:n,var:e("var"),const:e("var"),let:e("var"),async:e("async"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),await:n,yield:n,export:e("export"),import:e("import"),extends:n};if(be){var a,t={type:"variable",style:"variable-3"},s={interface:e("interface"),extends:e("extends"),constructor:e("constructor"),public:e("public"),private:e("private"),protected:e("protected"),static:e("static"),string:t,number:t,bool:t,any:t};for(a in s)l[a]=s[a]}return l}(),I=/[+\-*&%=<>!?|~^]/,ke=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ce={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},E={state:null,column:null,marked:null,cc:null},Se={name:"this",next:{name:"arguments"}};return p.lex=!0,{startState:function(e){e={tokenize:c,lastType:"sof",cc:[],lexical:new B((e||0)-D,0,"block",!1),localVars:s.localVars,context:s.localVars&&{vars:s.localVars},indented:0};return s.globalVars&&"object"==typeof s.globalVars&&(e.globalVars=s.globalVars),e},token:function(e,t){var r;return e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),n(e,t)),t.tokenize!=u&&e.eatSpace()?null:(r=t.tokenize(e,t),"comment"==W?r:(t.lastType="operator"!=W||"++"!=z&&"--"!=z?W:"incdec",R(t,r,W,z,e)))},indent:function(e,t){if(e.tokenize==u)return Le.Pass;if(e.tokenize!=c)return 0;var r=t&&t.charAt(0),n=e.lexical;if(!/^\s*else\b/.test(t))for(var i=e.cc.length-1;0<=i;--i){var o=e.cc[i];if(o==p)n=n.prev;else if(o!=re)break}"stat"==n.type&&"}"==r&&(n=n.prev);var l=(n=ye&&")"==n.type&&"stat"==n.prev.type?n.prev:n).type,a=r==l;return"vardef"==l?n.indented+("operator"==e.lastType||","==e.lastType?n.info+1:0):"form"==l&&"{"==r?n.indented:"form"==l?n.indented+D:"stat"==l?n.indented+(r=t,"operator"==(l=e).lastType||","==l.lastType||I.test(r.charAt(0))||/[,.]/.test(r.charAt(0))?ye||D:0):"switch"!=n.info||a||0==s.doubleIndentSwitch?n.align?n.column+(a?0:1):n.indented+(a?0:D):n.indented+(/^(?:case|default)\b/.test(t)?D:2*D)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:P?null:"/*",blockCommentEnd:P?null:"*/",lineComment:P?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:P?"json":"javascript",jsonldMode:H,jsonMode:P}}),Le.registerHelper("wordChars","javascript",/[\w$]/),Le.defineMIME("text/javascript","javascript"),Le.defineMIME("text/ecmascript","javascript"),Le.defineMIME("application/javascript","javascript"),Le.defineMIME("application/x-javascript","javascript"),Le.defineMIME("application/ecmascript","javascript"),Le.defineMIME("application/json",{name:"javascript",json:!0}),Le.defineMIME("application/x-json",{name:"javascript",json:!0}),Le.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Le.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Le.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(L){"use strict";L.defineMode("xml",function(e,t){function l(t,r){function e(e){return(r.tokenize=e)(t,r)}var n=t.next();return"<"==n?t.eat("!")?t.eat("[")?t.match("CDATA[")?e(i("atom","]]>")):null:t.match("--")?e(i("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),e(function n(i){return function(e,t){for(var r;null!=(r=e.next());){if("<"==r)return t.tokenize=n(i+1),t.tokenize(e,t);if(">"==r){if(1!=i)return t.tokenize=n(i-1),t.tokenize(e,t);t.tokenize=l;break}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),r.tokenize=i("meta","?>"),"meta"):(x=t.eat("/")?"closeTag":"openTag",r.tokenize=a,"tag bracket"):"&"==n?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function a(e,t){var r,n,i=e.next();return">"==i||"/"==i&&e.eat(">")?(t.tokenize=l,x=">"==i?"endTag":"selfcloseTag","tag bracket"):"="==i?(x="equals",null):"<"==i?(t.tokenize=l,t.state=c,t.tagName=t.tagStart=null,(r=t.tokenize(e,t))?r+" tag error":"tag error"):/[\'\"]/.test(i)?(t.tokenize=(n=i,o.isInAttribute=!0,o),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");function o(e,t){for(;!e.eol();)if(e.next()==n){t.tokenize=a;break}return"string"}}function i(r,n){return function(e,t){for(;!e.eol();){if(e.match(n)){t.tokenize=l;break}e.next()}return r}}function o(e,t,r){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=r,(C.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function n(e){e.context&&(e.context=e.context.prev)}function s(e,t){for(var r;;){if(!e.context)return;if(r=e.context.tagName,!C.contextGrabbers.hasOwnProperty(r)||!C.contextGrabbers[r].hasOwnProperty(t))return;n(e)}}function c(e,t,r){return"openTag"==e?(r.tagStart=t.column(),u):"closeTag"==e?d:c}function u(e,t,r){return"word"==e?(r.tagName=t.current(),k="tag",p):(k="error",u)}function d(e,t,r){return"word"==e?(e=t.current(),r.context&&r.context.tagName!=e&&C.implicitlyClosed.hasOwnProperty(r.context.tagName)&&n(r),r.context&&r.context.tagName==e?(k="tag",h):(k="tag error",f)):(k="error",f)}function h(e,t,r){return"endTag"!=e?(k="error",h):(n(r),c)}function f(e,t,r){return k="error",h(e,0,r)}function p(e,t,r){var n,i;return"word"==e?(k="attribute",g):"endTag"==e||"selfcloseTag"==e?(n=r.tagName,i=r.tagStart,r.tagName=r.tagStart=null,"selfcloseTag"==e||C.autoSelfClosers.hasOwnProperty(n)?s(r,n):(s(r,n),r.context=new o(r,n,i==r.indented)),c):(k="error",p)}function g(e,t,r){return"equals"==e?m:(C.allowMissing||(k="error"),p(e,0,r))}function m(e,t,r){return"string"==e?v:"word"==e&&C.allowUnquoted?(k="string",p):(k="error",p(e,0,r))}function v(e,t,r){return"string"==e?v:p(e,0,r)}var y=e.indentUnit,b=t.multilineTagIndentFactor||1,w=t.multilineTagIndentPastTag;null==w&&(w=!0);var x,k,C=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},S=t.alignCDATA;return l.isInText=!0,{startState:function(){return{tokenize:l,state:c,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;x=null;var r=t.tokenize(e,t);return r=(r||x)&&"comment"!=r&&(k=null,t.state=t.state(x||r,e,t),k)?"error"==k?r+" error":k:r},indent:function(e,t,r){var n=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+y;if(n&&n.noIndent)return L.Pass;if(e.tokenize!=a&&e.tokenize!=l)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return w?e.tagStart+e.tagName.length+2:e.tagStart+y*b;if(S&&/<!\[CDATA\[/.test(t))return 0;var i=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(i&&i[1])for(;n;){if(n.tagName==i[2]){n=n.prev;break}if(!C.implicitlyClosed.hasOwnProperty(n.tagName))break;n=n.prev}else if(i)for(;n;){var o=C.contextGrabbers[n.tagName];if(!o||!o.hasOwnProperty(i[2]))break;n=n.prev}for(;n&&!n.startOfLine;)n=n.prev;return n?n.indent+y:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:t.htmlMode?"html":"xml",helperType:t.htmlMode?"html":"xml"}}),L.defineMIME("text/xml","xml"),L.defineMIME("application/xml","xml"),L.mimeModes.hasOwnProperty("text/html")||L.defineMIME("text/html",{name:"xml",htmlMode:!0})});
!function(a){a.fn.dragster=function(e){var o=a.extend({enter:a.noop,leave:a.noop,over:a.noop,drop:a.noop},e);return this.each(function(){var r=!1,t=!1,n=a(this);n.on({dragenter:function(e){r?t=!0:(r=!0,n.trigger("dragster:enter",e),e.preventDefault())},dragleave:function(e){t?t=!1:r=r&&!1,r||t||n.trigger("dragster:leave",e),e.preventDefault()},dragover:function(e){n.trigger("dragster:over",e),e.preventDefault()},drop:function(e){t?t=!1:r=r&&!1,r||t||n.trigger("dragster:drop",e),e.preventDefault()},"dragster:enter":o.enter,"dragster:leave":o.leave,"dragster:over":o.over,"dragster:drop":o.drop})})}}(jQuery);
!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).unbrotli=e()}(function(){return function r(i,o,s){function f(n,e){if(!o[n]){if(!i[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(a)return a(n,!0);throw(e=new Error("Cannot find module '"+n+"'")).code="MODULE_NOT_FOUND",e}t=o[n]={exports:{}},i[n][0].call(t.exports,function(e){return f(i[n][1][e]||e)},t,t.exports,r,i,o,s)}return o[n].exports}for(var a="function"==typeof require&&require,e=0;e<s.length;e++)f(s[e]);return f}({1:[function(e,n,t){var r=4096,i=new Uint32Array([0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215]);function o(e){this.buf_=new Uint8Array(8224),this.input_=e,this.reset()}o.READ_SIZE=r,o.IBUF_MASK=8191,o.prototype.reset=function(){this.buf_ptr_=0,this.val_=0,this.pos_=0,this.bit_pos_=0,this.bit_end_pos_=0,this.eos_=0,this.readMoreInput();for(var e=0;e<4;e++)this.val_|=this.buf_[this.pos_]<<8*e,++this.pos_;return 0<this.bit_end_pos_},o.prototype.readMoreInput=function(){if(!(256<this.bit_end_pos_))if(this.eos_){if(this.bit_pos_>this.bit_end_pos_)throw new Error("Unexpected end of input "+this.bit_pos_+" "+this.bit_end_pos_)}else{var e=this.buf_ptr_,n=this.input_.read(this.buf_,e,r);if(n<0)throw new Error("Unexpected end of input");if(n<r){this.eos_=1;for(var t=0;t<32;t++)this.buf_[e+n+t]=0}if(0===e){for(t=0;t<32;t++)this.buf_[8192+t]=this.buf_[t];this.buf_ptr_=r}else this.buf_ptr_=0;this.bit_end_pos_+=n<<3}},o.prototype.fillBitWindow=function(){for(;8<=this.bit_pos_;)this.val_>>>=8,this.val_|=this.buf_[8191&this.pos_]<<24,++this.pos_,this.bit_pos_=this.bit_pos_-8>>>0,this.bit_end_pos_=this.bit_end_pos_-8>>>0},o.prototype.readBits=function(e){32-this.bit_pos_<e&&this.fillBitWindow();var n=this.val_>>>this.bit_pos_&i[e];return this.bit_pos_+=e,n},n.exports=o},{}],2:[function(e,n,t){t.lookup=new Uint8Array([0,0,0,0,0,0,0,0,0,4,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,12,16,12,12,20,12,16,24,28,12,12,32,12,36,12,44,44,44,44,44,44,44,44,44,44,32,32,24,40,28,12,12,48,52,52,52,48,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,24,12,28,12,12,12,56,60,60,60,56,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,24,12,28,12,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,56,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,22,22,22,22,23,23,23,23,24,24,24,24,25,25,25,25,26,26,26,26,27,27,27,27,28,28,28,28,29,29,29,29,30,30,30,30,31,31,31,31,32,32,32,32,33,33,33,33,34,34,34,34,35,35,35,35,36,36,36,36,37,37,37,37,38,38,38,38,39,39,39,39,40,40,40,40,41,41,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,53,53,53,53,54,54,54,54,55,55,55,55,56,56,56,56,57,57,57,57,58,58,58,58,59,59,59,59,60,60,60,60,61,61,61,61,62,62,62,62,63,63,63,63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.lookupOffsets=new Uint16Array([1024,1536,1280,1536,0,256,768,512])},{}],3:[function(e,t,n){var r=e("./streams").BrotliInput,i=e("./streams").BrotliOutput,h0=e("./bit_reader"),c0=e("./dictionary"),b0=e("./huffman").HuffmanCode,H=e("./huffman").BrotliBuildHuffmanTable,l0=e("./context"),y0=e("./prefix"),m0=e("./transform"),M=8,A=16,v0=256,W0=704,x0=26,U0=6,E0=2,g=8,o=255,V0=1080,F=18,Z=new Uint8Array([1,2,3,4,0,5,17,6,16,7,8,9,10,11,12,13,14,15]),O0=16,N0=new Uint8Array([3,2,1,0,3,3,3,3,3,3,2,2,2,2,2,2]),Z0=new Int8Array([0,0,0,0,-1,1,-2,2,-3,3,-1,1,-2,2,-3,3]),a=new Uint16Array([256,402,436,468,500,534,566,598,630,662,694,726,758,790,822,854,886,920,952,984,1016,1048,1080]);function q0(e){var n;return 0===e.readBits(1)?16:0<(n=e.readBits(3))?17+n:0<(n=e.readBits(3))?8+n:17}function Y0(e){var n;return e.readBits(1)?0===(n=e.readBits(3))?1:e.readBits(n)+(1<<n):0}function w(){this.meta_block_length=0,this.input_end=0,this.is_uncompressed=0,this.is_metadata=!1}function B0(e){var n,t,r,i=new w;if(i.input_end=e.readBits(1),!i.input_end||!e.readBits(1)){if(7===(n=e.readBits(2)+4)){if(i.is_metadata=!0,0!==e.readBits(1))throw new Error("Invalid reserved bit");if(0===(t=e.readBits(2)))return i;for(r=0;r<t;r++){var o=e.readBits(8);if(r+1===t&&1<t&&0===o)throw new Error("Invalid size byte");i.meta_block_length|=o<<8*r}}else for(r=0;r<n;++r){var s=e.readBits(4);if(r+1===n&&4<n&&0===s)throw new Error("Invalid size nibble");i.meta_block_length|=s<<4*r}++i.meta_block_length,i.input_end||i.is_metadata||(i.is_uncompressed=e.readBits(1))}return i}function R0(e,n,t){var r;return t.fillBitWindow(),0<(r=e[n+=t.val_>>>t.bit_pos_&o].bits-g)&&(t.bit_pos_+=g,n=(n+=e[n].value)+(t.val_>>>t.bit_pos_&(1<<r)-1)),t.bit_pos_+=e[n].bits,e[n].value}function H0(e,n,t,r){var i=new Uint8Array(e);if(r.readMoreInput(),1===(l=r.readBits(2))){for(var o=e-1,s=0,f=new Int32Array(4),a=r.readBits(2)+1;o;)o>>=1,++s;for(w=0;w<a;++w)f[w]=r.readBits(s)%e,i[f[w]]=2;switch(a){case i[f[0]]=1:break;case 3:if(f[0]===f[1]||f[0]===f[2]||f[1]===f[2])throw new Error("[ReadHuffmanCode] invalid symbols");break;case 2:if(f[0]===f[1])throw new Error("[ReadHuffmanCode] invalid symbols");i[f[1]]=1;break;case 4:if(f[0]===f[1]||f[0]===f[2]||f[0]===f[3]||f[1]===f[2]||f[1]===f[3]||f[2]===f[3])throw new Error("[ReadHuffmanCode] invalid symbols");r.readBits(1)?(i[f[2]]=3,i[f[3]]=3):i[f[0]]=2}}else{var w,d=new Uint8Array(F),u=32,p=0,h=[new b0(2,0),new b0(2,4),new b0(2,3),new b0(3,2),new b0(2,0),new b0(2,4),new b0(2,3),new b0(4,1),new b0(2,0),new b0(2,4),new b0(2,3),new b0(3,2),new b0(2,0),new b0(2,4),new b0(2,3),new b0(4,5)];for(w=l;w<F&&0<u;++w){var c=Z[w],b=0;r.fillBitWindow(),b+=r.val_>>>r.bit_pos_&15,r.bit_pos_+=h[b].bits,b=h[b].value,0!==(d[c]=b)&&(u-=32>>b,++p)}if(1!==p&&0!==u)throw new Error("[ReadHuffmanCode] invalid num_codes or space");for(var l=d,y=e,m=i,v=r,W=0,x=M,U=0,E=0,V=32768,O=[],N=0;N<32;N++)O.push(new b0(0,0));for(H(O,0,5,l,F);W<y&&0<V;){var q=0;if(v.readMoreInput(),v.fillBitWindow(),q+=v.val_>>>v.bit_pos_&31,v.bit_pos_+=O[q].bits,(q=255&O[q].value)<A)(U=0)!=(m[W++]=q)&&(V-=32768>>(x=q));else{var Y,B=q-14,q=q===A?x:0;if(E!==q&&(U=0,E=q),0<(q=U)&&(U=U-2<<B),y<W+(Y=(U+=v.readBits(B)+3)-q))throw new Error("[ReadHuffmanCodeLengths] symbol + repeat_delta > num_symbols");for(var R=0;R<Y;R++)m[W+R]=E;W+=Y,0!==E&&(V-=Y<<15-E)}}if(0!==V)throw new Error("[ReadHuffmanCodeLengths] space = "+V);for(;W<y;W++)m[W]=0}if(0===(l=H(n,t,g,i,e)))throw new Error("[ReadHuffmanCode] BuildHuffmanTable failed: ");return l}function M0(e,n,t){e=R0(e,n,t),n=y0.kBlockLengthPrefixCode[e].nbits;return y0.kBlockLengthPrefixCode[e].offset+t.readBits(n)}function A0(e,n){this.alphabet_size=e,this.num_htrees=n,this.codes=new Array(n+n*a[e+31>>>5]),this.htrees=new Uint32Array(n)}function g0(e,n){var t,r,i,o={num_htrees:null,context_map:null},s=0,f=(n.readMoreInput(),o.num_htrees=Y0(n)+1),a=o.context_map=new Uint8Array(e);if(!(f<=1)){for(n.readBits(1)&&(s=n.readBits(4)+1),t=[],r=0;r<V0;r++)t[r]=new b0(0,0);for(H0(f+s,t,0,n),r=0;r<e;)if(n.readMoreInput(),0===(i=R0(t,0,n)))a[r]=0,++r;else if(i<=s)for(var w=1+(1<<i)+n.readBits(i);--w;){if(e<=r)throw new Error("[DecodeContextMap] i >= context_map_size");a[r]=0,++r}else a[r]=i-s,++r;if(n.readBits(1)){for(var d=a,u=e,p=new Uint8Array(256),h=0;h<256;++h)p[h]=h;for(h=0;h<u;++h){var c=d[h];if(d[h]=p[c],c){m=y=l=b=void 0;for(var b=p,l=c,y=b[l],m=l;m;--m)b[m]=b[m-1];b[0]=y}}}}return o}function F0(e,n,t,r,i,o,s){var f=2*t,a=t,n=R0(n,t*V0,s),s=0===n?i[f+(1&o[a])]:1===n?i[f+(o[a]-1&1)]+1:n-2;e<=s&&(s-=e),r[t]=s,i[f+(1&o[a])]=s,++o[a]}function s(e){e=new r(e),e=new h0(e);return q0(e),B0(e).meta_block_length}function f(Z,e){for(var n=0,P=0,k=0,K=[16,15,11,4],X=0,t=0,r=0,i=[new A0(0,0),new A0(0,0),new A0(0,0)],G=128+h0.READ_SIZE,o=new h0(Z),L=(1<<(Z=q0(o)))-16,s=1<<Z,f=s-1,a=new Uint8Array(s+G+c0.maxDictionaryWordLength),J=s,w=[],d=[],T=0;T<3*V0;T++)w[T]=new b0(0,0),d[T]=new b0(0,0);for(;!P;){for(var u,z,D,I,p,j,h=0,c=[1<<28,1<<28,1<<28],b=[0],l=[1,1,1],Q=[0,1,0,1,0,1],C=[0],S=null,_=null,$=null,e0=0,n0=0,y=0;y<3;++y)i[y].codes=null,i[y].htrees=null;o.readMoreInput();var t0,m=B0(o);if(n+(h=m.meta_block_length)>e.buffer.length&&((t0=new Uint8Array(n+h)).set(e.buffer),e.buffer=t0),P=m.input_end,t0=m.is_uncompressed,m.is_metadata)for(m=void 0,m=(U=o).bit_pos_+7&-8,U.readBits(m-U.bit_pos_);0<h;--h)o.readMoreInput(),o.readBits(8);else if(0!==h)if(t0){o.bit_pos_=o.bit_pos_+7&-8,Y=q=v=N=O=V=E=U=x=m=W=r0=void 0;var v,r0=e,W=h,m=n,x=a,U=f,E=o,V=U+1,O=m&U,N=E.pos_&h0.IBUF_MASK;if(W<8||E.bit_pos_+(W<<3)<E.bit_end_pos_)for(;0<W--;)E.readMoreInput(),x[O++]=E.readBits(8),O===V&&(r0.write(x,V),O=0);else{if(E.bit_end_pos_<32)throw new Error("[CopyUncompressedBlockToOutput] br.bit_end_pos_ < 32");for(;E.bit_pos_<32;)x[O]=E.val_>>>E.bit_pos_,E.bit_pos_+=8,++O,--W;if(N+(v=E.bit_end_pos_-E.bit_pos_>>3)>h0.IBUF_MASK){for(var q=h0.IBUF_MASK+1-N,Y=0;Y<q;Y++)x[O+Y]=E.buf_[N+Y];v-=q,O+=q,W-=q,N=0}for(Y=0;Y<v;Y++)x[O+Y]=E.buf_[N+Y];if(W-=v,V<=(O+=v)){r0.write(x,V),O-=V;for(Y=0;Y<O;Y++)x[Y]=x[V+Y]}for(;V<=O+W;){if(E.input_.read(x,O,v=V-O)<v)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");r0.write(x,V),W-=v,O=0}if(E.input_.read(x,O,W)<W)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");E.reset()}n+=h}else{for(y=0;y<3;++y)l[y]=Y0(o)+1,2<=l[y]&&(H0(l[y]+2,w,y*V0,o),H0(x0,d,y*V0,o),c[y]=M0(d,y*V0,o),C[y]=1);for(o.readMoreInput(),D=(1<<(u=o.readBits(2)))-1,m=(z=O0+(o.readBits(4)<<u))+(48<<u),S=new Uint8Array(l[0]),y=0;y<l[0];++y)o.readMoreInput(),S[y]=o.readBits(2)<<1;var i0,B,R,H,o0,M,s0=g0(l[0]<<U0,o),f0=s0.num_htrees,a0=s0.context_map,s0=g0(l[2]<<E0,o),w0=s0.num_htrees,d0=s0.context_map;for(i[0]=new A0(v0,f0),i[1]=new A0(W0,l[1]),i[2]=new A0(m,w0),y=0;y<3;++y)i[y].decode(o);for(p=S[b[$=_=0]],e0=l0.lookupOffsets[p],n0=l0.lookupOffsets[p+1],j=i[1].htrees[0];0<h;){for(o.readMoreInput(),0===c[1]&&(F0(l[1],w,1,b,Q,C,o),c[1]=M0(d,V0,o),j=i[1].htrees[b[1]]),--c[1],M=2<=(A=(F=R0(i[1].codes,j,o))>>6)?(A-=2,-1):0,g=y0.kInsertRangeLut[A]+(F>>3&7),A=y0.kCopyRangeLut[A]+(7&F),i0=y0.kInsertLengthPrefixCode[g].offset+o.readBits(y0.kInsertLengthPrefixCode[g].nbits),B=y0.kCopyLengthPrefixCode[A].offset+o.readBits(y0.kCopyLengthPrefixCode[A].nbits),t=a[n-1&f],r=a[n-2&f],H=0;H<i0;++H)o.readMoreInput(),0===c[0]&&(F0(l[0],w,0,b,Q,C,o),c[0]=M0(d,0,o),_=b[0]<<U0,p=S[b[0]],e0=l0.lookupOffsets[p],n0=l0.lookupOffsets[p+1]),I=a0[_+(l0.lookup[e0+t]|l0.lookup[n0+r])],--c[0],r=t,t=R0(i[0].codes,i[0].htrees[I],o),a[n&f]=t,(n&f)==f&&e.write(a,s),++n;if((h-=i0)<=0)break;if(M<0&&(o.readMoreInput(),0===c[2]&&(F0(l[2],w,2,b,Q,C,o),c[2]=M0(d,2*V0,o),$=b[2]<<E0),--c[2],F=d0[$+(255&(4<B?3:B-2))],z<=(M=R0(i[2].codes,i[2].htrees[F],o)))&&(g=(M-=z)&D,M=z+((u0=(2+(1&(M>>=u))<<(A=1+(M>>1)))-4)+o.readBits(A)<<u)+g),F=K,A=X,(R=F=(g=M)<O0?F[A=A+N0[g]&3]+Z0[g]:g-O0+1)<0)throw new Error("[BrotliDecompress] invalid distance");if(o0=n&f,(k=n<L&&k!==L?n:L)<R){if(!(B>=c0.minDictionaryWordLength&&B<=c0.maxDictionaryWordLength))throw new Error("Invalid backward reference. pos: "+n+" distance: "+R+" len: "+B+" bytes left: "+h);var u0=c0.offsetsByLength[B],A=R-k-1,g=c0.sizeBitsByLength[B],F=A>>g;if(u0+=(A&(1<<g)-1)*B,!(F<m0.kNumTransforms))throw new Error("Invalid backward reference. pos: "+n+" distance: "+R+" len: "+B+" bytes left: "+h);A=m0.transformDictionaryWord(a,o0,u0,B,F);if(n+=A,h-=A,J<=(o0+=A)){e.write(a,s);for(var p0=0;p0<o0-J;p0++)a[p0]=a[J+p0]}}else{if(0<M&&(K[3&X]=R,++X),h<B)throw new Error("Invalid backward reference. pos: "+n+" distance: "+R+" len: "+B+" bytes left: "+h);for(H=0;H<B;++H)a[n&f]=a[n-R&f],(n&f)==f&&e.write(a,s),++n,--h}t=a[n-1&f],r=a[n-2&f]}n&=1073741823}}e.write(a,n&f)}A0.prototype.decode=function(e){for(var n=0,t=0;t<this.num_htrees;++t)this.htrees[t]=n,n+=H0(this.alphabet_size,this.codes,n,e)},n.BrotliDecompressedSize=s,n.BrotliDecompressBuffer=function(e,n){var t=new r(e),e=(null==n&&(n=s(e)),new Uint8Array(n)),n=new i(e);return f(t,n),n.pos<n.buffer.length&&(n.buffer=n.buffer.subarray(0,n.pos)),n.buffer},n.BrotliDecompress=f,c0.init()},{"./bit_reader":1,"./context":2,"./dictionary":6,"./huffman":7,"./prefix":9,"./streams":10,"./transform":11}],4:[function(e,n,t){var r=e("base64-js");t.init=function(){return(0,e("./decode").BrotliDecompressBuffer)(r.toByteArray(e("./dictionary.bin.js")))}},{"./decode":3,"./dictionary.bin.js":5,"base64-js":8}],5:[function(e,n,t){n.exports="W5/fcQLn5gKf2XUbAiQ1XULX+TZz6ADToDsgqk6qVfeC0e4m6OO2wcQ1J76ZBVRV1fRkEsdu//62zQsFEZWSTCnMhcsQKlS2qOhuVYYMGCkV0fXWEoMFbESXrKEZ9wdUEsyw9g4bJlEt1Y6oVMxMRTEVbCIwZzJzboK5j8m4YH02qgXYhv1V+PM435sLVxyHJihaJREEhZGqL03txGFQLm76caGO/ovxKvzCby/3vMTtX/459f0igi7WutnKiMQ6wODSoRh/8Lx1V3Q99MvKtwB6bHdERYRY0hStJoMjNeTsNX7bn+Y7e4EQ3bf8xBc7L0BsyfFPK43dGSXpL6clYC/I328h54/VYrQ5i0648FgbGtl837svJ35L3Mot/+nPlNpWgKx1gGXQYqX6n+bbZ7wuyCHKcUok12Xjqub7NXZGzqBx0SD+uziNf87t7ve42jxSKQoW3nyxVrWIGlFShhCKxjpZZ5MeGna0+lBkk+kaN8F9qFBAFgEogyMBdcX/T1W/WnMOi/7ycWUQloEBKGeC48MkiwqJkJO+12eQiOFHMmck6q/IjWW3RZlany23TBm+cNr/84/oi5GGmGBZWrZ6j+zykVozz5fT/QH/Da6WTbZYYPynVNO7kxzuNN2kxKKWche5WveitPKAecB8YcAHz/+zXLjcLzkdDSktNIDwZE9J9X+tto43oJy65wApM3mDzYtCwX9lM+N5VR3kXYo0Z3t0TtXfgBFg7gU8oN0Dgl7fZlUbhNll+0uuohRVKjrEd8egrSndy5/Tgd2gqjA4CAVuC7ESUmL3DZoGnfhQV8uwnpi8EGvAVVsowNRxPudck7+oqAUDkwZopWqFnW1riss0t1z6iCISVKreYGNvQcXv+1L9+jbP8cd/dPUiqBso2q+7ZyFBvENCkkVr44iyPbtOoOoCecWsiuqMSML5lv+vN5MzUr+Dnh73G7Q1YnRYJVYXHRJaNAOByiaK6CusgFdBPE40r0rvqXV7tksKO2DrHYXBTv8P5ysqxEx8VDXUDDqkPH6NNOV/a2WH8zlkXRELSa8P+heNyJBBP7PgsG1EtWtNef6/i+lcayzQwQCsduidpbKfhWUDgAEmyhGu/zVTacI6RS0zTABrOYueemnVa19u9fT23N/Ta6RvTpof5DWygqreCqrDAgM4LID1+1T/taU6yTFVLqXOv+/MuQOFnaF8vLMKD7tKWDoBdALgxF33zQccCcdHx8fKIVdW69O7qHtXpeGr9jbbpFA+qRMWr5hp0s67FPc7HAiLV0g0/peZlW7hJPYEhZyhpSwahnf93/tZgfqZWXFdmdXBzqxGHLrQKxoAY6fRoBhgCRPmmGueYZ5JexTVDKUIXzkG/fqp/0U3hAgQdJ9zumutK6nqWbaqvm1pgu03IYR+G+8s0jDBBz8cApZFSBeuWasyqo2OMDKAZCozS+GWSvL/HsE9rHxooe17U3s/lTE+VZAk4j3dp6uIGaC0JMiqR5CUsabPyM0dOYDR7Ea7ip4USZlya38YfPtvrX/tBlhHilj55nZ1nfN24AOAi9BVtz/Mbn8AEDJCqJgsVUa6nQnSxv2Fs7l/NlCzpfYEjmPrNyib/+t0ei2eEMjvNhLkHCZlci4WhBe7ePZTmzYqlY9+1pxtS4GB+5lM1BHT9tS270EWUDYFq1I0yY/fNiAk4bk9yBgmef/f2k6AlYQZHsNFnW8wBQxCd68iWv7/35bXfz3JZmfGligWAKRjIs3IpzxQ27vAglHSiOzCYzJ9L9A1CdiyFvyR66ucA4jKifu5ehwER26yV7HjKqn5Mfozo7Coxxt8LWWPT47BeMxX8p0Pjb7hZn+6bw7z3Lw+7653j5sI8CLu5kThpMlj1m4c2ch3jGcP1FsT13vuK3qjecKTZk2kHcOZY40UX+qdaxstZqsqQqgXz+QGF99ZJLqr3VYu4aecl1Ab5GmqS8k/GV5b95zxQ5d4EfXUJ6kTS/CXF/aiqKDOT1T7Jz5z0PwDUcwr9clLN1OJGCiKfqvah+h3XzrBOiLOW8wvn8gW6qE8vPxi+Efv+UH55T7PQFVMh6cZ1pZQlzJpKZ7P7uWvwPGJ6DTlR6wbyj3Iv2HyefnRo/dv7dNx+qaa0N38iBsR++Uil7Wd4afwDNsrzDAK4fXZwvEY/jdKuIKXlfrQd2C39dW7ntnRbIp9OtGy9pPBn/V2ASoi/2UJZfS+xuGLH8bnLuPlzdTNS6zdyk8Dt/h6sfOW5myxh1f+zf3zZ3MX/mO9cQPp5pOx967ZA6/pqHvclNfnUFF+rq+Vd7alKr6KWPcIDhpn6v2K6NlUu6LrKo8b/pYpU/Gazfvtwhn7tEOUuXht5rUJdSf6sLjYf0VTYDgwJ81yaqKTUYej/tbHckSRb/HZicwGJqh1mAHB/IuNs9dc9yuvF3D5Xocm3elWFdq5oEy70dYFit79yaLiNjPj5UUcVmZUVhQEhW5V2Z6Cm4HVH/R8qlamRYwBileuh07CbEce3TXa2JmXWBf+ozt319psboobeZhVnwhMZzOeQJzhpTDbP71Tv8HuZxxUI/+ma3XW6DFDDs4+qmpERwHGBd2edxwUKlODRdUWZ/g0GOezrbzOZauFMai4QU6GVHV6aPNBiBndHSsV4IzpvUiiYyg6OyyrL4Dj5q/Lw3N5kAwftEVl9rNd7Jk5PDij2hTH6wIXnsyXkKePxbmHYgC8A6an5Fob/KH5GtC0l4eFso+VpxedtJHdHpNm+Bvy4C79yVOkrZsLrQ3OHCeB0Ra+kBIRldUGlDCEmq2RwXnfyh6Dz+alk6eftI2n6sastRrGwbwszBeDRS/Fa/KwRJkCzTsLr/JCs5hOPE/MPLYdZ1F1fv7D+VmysX6NpOC8aU9F4Qs6HvDyUy9PvFGDKZ/P5101TYHFl8pjj6wm/qyS75etZhhfg0UEL4OYmHk6m6dO192AzoIyPSV9QedDA4Ml23rRbqxMPMxf7FJnDc5FTElVS/PyqgePzmwVZ26NWhRDQ+oaT7ly7ell4s3DypS1s0g+tOr7XHrrkZj9+x/mJBttrLx98lFIaRZzHz4aC7r52/JQ4VjHahY2/YVXZn/QC2ztQb/sY3uRlyc5vQS8nLPGT/n27495i8HPA152z7Fh5aFpyn1GPJKHuPL8Iw94DuW3KjkURAWZXn4EQy89xiKEHN1mk/tkM4gYDBxwNoYvRfE6LFqsxWJtPrDGbsnLMap3Ka3MUoytW0cvieozOmdERmhcqzG+3HmZv2yZeiIeQTKGdRT4HHNxekm1tY+/n06rGmFleqLscSERzctTKM6G9P0Pc1RmVvrascIxaO1CQCiYPE15bD7c3xSeW7gXxYjgxcrUlcbIvO0r+Yplhx0kTt3qafDOmFyMjgGxXu73rddMHpV1wMubyAGcf/v5dLr5P72Ta9lBF+fzMJrMycwv+9vnU3ANIl1cH9tfW7af8u0/HG0vV47jNFXzFTtaha1xvze/s8KMtCYucXc1nzfd/MQydUXn/b72RBt5wO/3jRcMH9BdhC/yctKBIveRYPrNpDWqBsO8VMmP+WvRaOcA4zRMR1PvSoO92rS7pYEv+fZfEfTMzEdM+6X5tLlyxExhqLRkms5EuLovLfx66de5fL2/yX02H52FPVwahrPqmN/E0oVXnsCKhbi/yRxX83nRbUKWhzYceXOntfuXn51NszJ6MO73pQf5Pl4in3ec4JU8hF7ppV34+mm9r1LY0ee/i1O1wpd8+zfLztE0cqBxggiBi5Bu95v9l3r9r/U5hweLn+TbfxowrWDqdJauKd8+q/dH8sbPkc9ttuyO94f7/XK/nHX46MPFLEb5qQlNPvhJ50/59t9ft3LXu7uVaWaO2bDrDCnRSzZyWvFKxO1+vT8MwwunR3bX0CkfPjqb4K9O19tn5X50PvmYpEwHtiW9WtzuV/s76B1zvLLNkViNd8ySxIl/3orfqP90TyTGaf7/rx8jQzeHJXdmh/N6YDvbvmTBwCdxfEQ1NcL6wNMdSIXNq7b1EUzRy1/Axsyk5p22GMG1b+GxFgbHErZh92wuvco0AuOLXct9hvw2nw/LqIcDRRmJmmZzcgUa7JpM/WV/S9IUfbF56TL2orzqwebdRD8nIYNJ41D/hz37Fo11p2Y21wzPcn713qVGhqtevStYfGH4n69OEJtPvbbLYWvscDqc3Hgnu166+tAyLnxrX0Y5zoYjV++1sI7t5kMr02KT/+uwtkc+rZLOf/qn/s3nYCf13Dg8/sB2diJgjGqjQ+TLhxbzyue2Ob7X6/9lUwW7a+lbznHzOYy8LKW1C/uRPbQY3KW/0gO9LXunHLvPL97afba9bFtc9hmz7GAttjVYlCvQAiOwAk/gC5+hkLEs6tr3AZKxLJtOEwk2dLxTYWsIB/j/ToWtIWzo906FrSG8iaqqqqqqiIiIiAgzMzMzNz+AyK+01/zi8n8S+Y1MjoRaQ80WU/G8MBlO+53VPXANrWm4wzGUVZUjjBJZVdhpcfkjsmcWaO+UEldXi1e+zq+HOsCpknYshuh8pOLISJun7TN0EIGW2xTnlOImeecnoGW4raxe2G1T3HEvfYUYMhG+gAFOAwh5nK8mZhwJMmN7r224QVsNFvZ87Z0qatvknklyPDK3Hy45PgVKXji52Wen4d4PlFVVYGnNap+fSpFbK90rYnhUc6n91Q3AY9E0tJOFrcfZtm/491XbcG/jsViUPPX76qmeuiz+qY1Hk7/1VPM405zWVuoheLUimpWYdVzCmUdKHebMdzgrYrb8mL2eeLSnRWHdonfZa8RsOU9F37w+591l5FLYHiOqWeHtE/lWrBHcRKp3uhtr8yXm8LU/5ms+NM6ZKsqu90cFZ4o58+k4rdrtB97NADFbwmEG7lXqvirhOTOqU14xuUF2myIjURcPHrPOQ4lmM3PeMg7bUuk0nnZi67bXsU6H8lhqIo8TaOrEafCO1ARK9PjC0QOoq2BxmMdgYB9G/lIb9++fqNJ2s7BHGFyBNmZAR8J3KCo012ikaSP8BCrf6VI0X5xdnbhHIO+B5rbOyB54zXkzfObyJ4ecwxfqBJMLFc7m59rNcw7hoHnFZ0b00zee+gTqvjm61Pb4xn0kcDX4jvHM0rBXZypG3DCKnD/Waa/ZtHmtFPgO5eETx+k7RrVg3aSwm2YoNXnCs3XPQDhNn+Fia6IlOOuIG6VJH7TP6ava26ehKHQa2T4N0tcZ9dPCGo3ZdnNltsHQbeYt5vPnJezV/cAeNypdml1vCHI8M81nSRP5Qi2+mI8v/sxiZru9187nRtp3f/42NemcONa+4eVC3PCZzc88aZh851CqSsshe70uPxeN/dmYwlwb3trwMrN1Gq8jbnApcVDx/yDPeYs5/7r62tsQ6lLg+DiFXTEhzR9dHqv0iT4tgj825W+H3XiRUNUZT2kR9Ri0+lp+UM3iQtS8uOE23Ly4KYtvqH13jghUntJRAewuzNLDXp8RxdcaA3cMY6TO2IeSFRXezeWIjCqyhsUdMYuCgYTZSKpBype1zRfq8FshvfBPc6BAQWl7/QxIDp3VGo1J3vn42OEs3qznws+YLRXbymyB19a9XBx6n/owcyxlEYyFWCi+kG9F+EyD/4yn80+agaZ9P7ay2Dny99aK2o91FkfEOY8hBwyfi5uwx2y5SaHmG+oq/zl1FX/8irOf8Y3vAcX/6uLP6A6nvMO24edSGPjQc827Rw2atX+z2bKq0CmW9mOtYnr5/AfDa1ZfPaXnKtlWborup7QYx+Or2uWb+N3N//2+yDcXMqIJdf55xl7/vsj4WoPPlxLxtVrkJ4w/tTe3mLdATOOYwxcq52w5Wxz5MbPdVs5O8/lhfE7dPj0bIiPQ3QV0iqm4m3YX8hRfc6jQ3fWepevMqUDJd86Z4vwM40CWHnn+WphsGHfieF02D3tmZvpWD+kBpNCFcLnZhcmmrhpGzzbdA+sQ1ar18OJD87IOKOFoRNznaHPNHUfUNhvY1iU+uhvEvpKHaUn3qK3exVVyX4joipp3um7FmYJWmA+WbIDshRpbVRx5/nqstCgy87FGbfVB8yDGCqS+2qCsnRwnSAN6zgzxfdB2nBT/vZ4/6uxb6oH8b4VBRxiIB93wLa47hG3w2SL/2Z27yOXJFwZpSJaBYyvajA7vRRYNKqljXKpt/CFD/tSMr18DKKbwB0xggBePatl1nki0yvqW5zchlyZmJ0OTxJ3D+fsYJs/mxYN5+Le5oagtcl+YsVvy8kSjI2YGvGjvmpkRS9W2dtXqWnVuxUhURm1lKtou/hdEq19VBp9OjGvHEQSmrpuf2R24mXGheil8KeiANY8fW1VERUfBImb64j12caBZmRViZHbeVMjCrPDg9A90IXrtnsYCuZtRQ0PyrKDjBNOsPfKsg1pA02gHlVr0OXiFhtp6nJqXVzcbfM0KnzC3ggOENPE9VBdmHKN6LYaijb4wXxJn5A0FSDF5j+h1ooZx885Jt3ZKzO5n7Z5WfNEOtyyPqQEnn7WLv5Fis3PdgMshjF1FRydbNyeBbyKI1oN1TRVrVK7kgsb/zjX4NDPIRMctVeaxVB38Vh1x5KbeJbU138AM5KzmZu3uny0ErygxiJF7GVXUrPzFxrlx1uFdAaZFDN9cvIb74qD9tzBMo7L7WIEYK+sla1DVMHpF0F7b3+Y6S+zjvLeDMCpapmJo1weBWuxKF3rOocih1gun4BoJh1kWnV/Jmiq6uOhK3VfKxEHEkafjLgK3oujaPzY6SXg8phhL4TNR1xvJd1Wa0aYFfPUMLrNBDCh4AuGRTbtKMc6Z1Udj8evY/ZpCuMAUefdo69DZUngoqE1P9A3PJfOf7WixCEj+Y6t7fYeHbbxUAoFV3M89cCKfma3fc1+jKRe7MFWEbQqEfyzO2x/wrO2VYH7iYdQ9BkPyI8/3kXBpLaCpU7eC0Yv/am/tEDu7HZpqg0EvHo0nf/R/gRzUWy33/HXMJQeu1GylKmOkXzlCfGFruAcPPhaGqZOtu19zsJ1SO2Jz4Ztth5cBX6mRQwWmDwryG9FUMlZzNckMdK+IoMJv1rOWnBamS2w2KHiaPMPLC15hCZm4KTpoZyj4E2TqC/P6r7/EhnDMhKicZZ1ZwxuC7DPzDGs53q8gXaI9kFTK+2LTq7bhwsTbrMV8Rsfua5lMS0FwbTitUVnVa1yTb5IX51mmYnUcP9wPr8Ji1tiYJeJV9GZTrQhF7vvdU2OTU42ogJ9FDwhmycI2LIg++03C6scYhUyUuMV5tkw6kGUoL+mjNC38+wMdWNljn6tGPpRES7veqrSn5TRuv+dh6JVL/iDHU1db4c9WK3++OrH3PqziF916UMUKn8G67nN60GfWiHrXYhUG3yVWmyYak59NHj8t1smG4UDiWz2rPHNrKnN4Zo1LBbr2/eF9YZ0n0blx2nG4X+EKFxvS3W28JESD+FWk61VCD3z/URGHiJl++7TdBwkCj6tGOH3qDb0QqcOF9Kzpj0HUb/KyFW3Yhj2VMKJqGZleFBH7vqvf7WqLC3XMuHV8q8a4sTFuxUtkD/6JIBvKaVjv96ndgruKZ1k/BHzqf2K9fLk7HGXANyLDd1vxkK/i055pnzl+zw6zLnwXlVYVtfmacJgEpRP1hbGgrYPVN6v2lG+idQNGmwcKXu/8xEj/P6qe/sB2WmwNp6pp8jaISMkwdleFXYK55NHWLTTbutSUqjBfDGWo/Yg918qQ+8BRZSAHZbfuNZz2O0sov1Ue4CWlVg3rFhM3Kljj9ksGd/NUhk4nH+a5UN2+1i8+NM3vRNp7uQ6sqexSCukEVlVZriHNqFi5rLm9TMWa4qm3idJqppQACol2l4VSuvWLfta4JcXy3bROPNbXOgdOhG47LC0CwW/dMlSx4Jf17aEU3yA1x9p+Yc0jupXgcMuYNku64iYOkGToVDuJvlbEKlJqsmiHbvNrIVZEH+yFdF8DbleZ6iNiWwMqvtMp/mSpwx5KxRrT9p3MAPTHGtMbfvdFhyj9vhaKcn3At8Lc16Ai+vBcSp1ztXi7rCJZx/ql7TXcclq6Q76UeKWDy9boS0WHIjUuWhPG8LBmW5y2rhuTpM5vsLt+HOLh1Yf0DqXa9tsfC+kaKt2htA0ai/L2i7RKoNjEwztkmRU0GfgW1TxUvPFhg0V7DdfWJk5gfrccpYv+MA9M0dkGTLECeYwUixRzjRFdmjG7zdZIl3XKB9YliNKI31lfa7i2JG5C8Ss+rHe0D7Z696/V3DEAOWHnQ9yNahMUl5kENWS6pHKKp2D1BaSrrHdE1w2qNxIztpXgUIrF0bm15YML4b6V1k+GpNysTahKMVrrS85lTVo9OGJ96I47eAy5rYWpRf/mIzeoYU1DKaQCTUVwrhHeyNoDqHel+lLxr9WKzhSYw7vrR6+V5q0pfi2k3L1zqkubY6rrd9ZLvSuWNf0uqnkY+FpTvFzSW9Fp0b9l8JA7THV9eCi/PY/SCZIUYx3BU2alj7Cm3VV6eYpios4b6WuNOJdYXUK3zTqj5CVG2FqYM4Z7CuIU0qO05XR0d71FHM0YhZmJmTRfLlXEumN82BGtzdX0S19t1e+bUieK8zRmqpa4Qc5TSjifmaQsY2ETLjhI36gMR1+7qpjdXXHiceUekfBaucHShAOiFXmv3sNmGQyU5iVgnoocuonQXEPTFwslHtS8R+A47StI9wj0iSrtbi5rMysczFiImsQ+bdFClnFjjpXXwMy6O7qfjOr8Fb0a7ODItisjnn3EQO16+ypd1cwyaAW5Yzxz5QknfMO7643fXW/I9y3U2xH27Oapqr56Z/tEzglj6IbT6HEHjopiXqeRbe5mQQvxtcbDOVverN0ZgMdzqRYRjaXtMRd56Q4cZSmdPvZJdSrhJ1D9zNXPqAEqPIavPdfubt5oke2kmv0dztIszSv2VYuoyf1UuopbsYb+uX9h6WpwjpgtZ6fNNawNJ4q8O3CFoSbioAaOSZMx2GYaPYB+rEb6qjQiNRFQ76TvwNFVKD+BhH9VhcKGsXzmMI7BptU/CNWolM7YzROvpFAntsiWJp6eR2d3GarcYShVYSUqhmYOWj5E96NK2WvmYNTeY7Zs4RUEdv9h9QT4EseKt6LzLrqEOs3hxAY1MaNWpSa6zZx8F3YOVeCYMS88W+CYHDuWe4yoc6YK+djDuEOrBR5lvh0r+Q9uM88lrjx9x9AtgpQVNE8r+3O6Gvw59D+kBF/UMXyhliYUtPjmvXGY6Dk3x+kEOW+GtdMVC4EZTqoS/jmR0P0LS75DOc/w2vnri97M4SdbZ8qeU7gg8DVbERkU5geaMQO3mYrSYyAngeUQqrN0C0/vsFmcgWNXNeidsTAj7/4MncJR0caaBUpbLK1yBCBNRjEv6KvuVSdpPnEMJdsRRtqJ+U8tN1gXA4ePHc6ZT0eviI73UOJF0fEZ8YaneAQqQdGphNvwM4nIqPnXxV0xA0fnCT+oAhJuyw/q8jO0y8CjSteZExwBpIN6SvNp6A5G/abi6egeND/1GTguhuNjaUbbnSbGd4L8937Ezm34Eyi6n1maeOBxh3PI0jzJDf5mh/BsLD7F2GOKvlA/5gtvxI3/eV4sLfKW5Wy+oio+es/u6T8UU+nsofy57Icb/JlZHPFtCgd/x+bwt3ZT+xXTtTtTrGAb4QehC6X9G+8YT+ozcLxDsdCjsuOqwPFnrdLYaFc92Ui0m4fr39lYmlCaqTit7G6O/3kWDkgtXjNH4BiEm/+jegQnihOtfffn33WxsFjhfMd48HT+f6o6X65j7XR8WLSHMFkxbvOYsrRsF1bowDuSQ18Mkxk4qz2zoGPL5fu9h2Hqmt1asl3Q3Yu3szOc+spiCmX4AETBM3pLoTYSp3sVxahyhL8eC4mPN9k2x3o0xkiixIzM3CZFzf5oR4mecQ5+ax2wCah3/crmnHoqR0+KMaOPxRif1oEFRFOO/kTPPmtww+NfMXxEK6gn6iU32U6fFruIz8Q4WgljtnaCVTBgWx7diUdshC9ZEa5yKpRBBeW12r/iNc/+EgNqmhswNB8SBoihHXeDF7rrWDLcmt3V8GYYN7pXRy4DZjj4DJuUBL5iC3DQAaoo4vkftqVTYRGLS3mHZ7gdmdTTqbgNN/PTdTCOTgXolc88MhXAEUMdX0iy1JMuk5wLsgeu0QUYlz2S4skTWwJz6pOm/8ihrmgGfFgri+ZWUK2gAPHgbWa8jaocdSuM4FJYoKicYX/ZSENkg9Q1ZzJfwScfVnR2DegOGwCvmogaWJCLQepv9WNlU6QgsmOwICquU28Mlk3d9W5E81lU/5Ez0LcX6lwKMWDNluNKfBDUy/phJgBcMnfkh9iRxrdOzgs08JdPB85Lwo+GUSb4t3nC+0byqMZtO2fQJ4U2zGIr49t/28qmmGv2RanDD7a3FEcdtutkW8twwwlUSpb8QalodddbBfNHKDQ828BdE7OBgFdiKYohLawFYqpybQoxATZrheLhdI7+0Zlu9Q1myRcd15r9UIm8K2LGJxqTegntqNVMKnf1a8zQiyUR1rxoqjiFxeHxqFcYUTHfDu7rhbWng6qOxOsI+5A1p9mRyEPdVkTlE24vY54W7bWc6jMgZvNXdfC9/9q7408KDsbdL7Utz7QFSDetz2picArzrdpL8OaCHC9V26RroemtDZ5yNM/KGkWMyTmfnInEvwtSD23UcFcjhaE3VKzkoaEMKGBft4XbIO6forTY1lmGQwVmKicBCiArDzE+1oIxE08fWeviIOD5TznqH+OoHadvoOP20drMPe5Irg3XBQziW2XDuHYzjqQQ4wySssjXUs5H+t3FWYMHppUnBHMx/nYIT5d7OmjDbgD9F6na3m4l7KdkeSO3kTEPXafiWinogag7b52taiZhL1TSvBFmEZafFq2H8khQaZXuitCewT5FBgVtPK0j4xUHPfUz3Q28eac1Z139DAP23dgki94EC8vbDPTQC97HPPSWjUNG5tWKMsaxAEMKC0665Xvo1Ntd07wCLNf8Q56mrEPVpCxlIMVlQlWRxM3oAfpgIc+8KC3rEXUog5g06vt7zgXY8grH7hhwVSaeuvC06YYRAwpbyk/Unzj9hLEZNs2oxPQB9yc+GnL6zTgq7rI++KDJwX2SP8Sd6YzTuw5lV/kU6eQxRD12omfQAW6caTR4LikYkBB1CMOrvgRr/VY75+NSB40Cni6bADAtaK+vyxVWpf9NeKJxN2KYQ8Q2xPB3K1s7fuhvWbr2XpgW044VD6DRs0qXoqKf1NFsaGvKJc47leUV3pppP/5VTKFhaGuol4Esfjf5zyCyUHmHthChcYh4hYLQF+AFWsuq4t0wJyWgdwQVOZiV0efRHPoK5+E1vjz9wTJmVkITC9oEstAsyZSgE/dbicwKr89YUxKZI+owD205Tm5lnnmDRuP/JnzxX3gMtlrcX0UesZdxyQqYQuEW4R51vmQ5xOZteUd8SJruMlTUzhtVw/Nq7eUBcqN2/HVotgfngif60yKEtoUx3WYOZlVJuJOh8u59fzSDPFYtQgqDUAGyGhQOAvKroXMcOYY0qjnStJR/G3aP+Jt1sLVlGV8POwr/6OGsqetnyF3TmTqZjENfnXh51oxe9qVUw2M78EzAJ+IM8lZ1MBPQ9ZWSVc4J3mWSrLKrMHReA5qdGoz0ODRsaA+vwxXA2cAM4qlfzBJA6581m4hzxItQw5dxrrBL3Y6kCbUcFxo1S8jyV44q//+7ASNNudZ6xeaNOSIUffqMn4A9lIjFctYn2gpEPAb3f7p3iIBN8H14FUGQ9ct2hPsL+cEsTgUrR47uJVN4n4wt/wgfwwHuOnLd4yobkofy8JvxSQTA7rMpDIc608SlZFJfZYcmbT0tAHpPE8MrtQ42siTUNWxqvWZOmvu9f0JPoQmg+6l7sZWwyfi6PXkxJnwBraUG0MYG4zYHQz3igy/XsFkx5tNQxw43qvI9dU3f0DdhOUlHKjmi1VAr2Kiy0HZwD8VeEbhh0OiDdMYspolQsYdSwjCcjeowIXNZVUPmL2wwIkYhmXKhGozdCJ4lRKbsf4NBh/XnQoS92NJEWOVOFs2YhN8c5QZFeK0pRdAG40hqvLbmoSA8xQmzOOEc7wLcme9JOsjPCEgpCwUs9E2DohMHRhUeyGIN6TFvrbny8nDuilsDpzrH5mS76APoIEJmItS67sQJ+nfwddzmjPxcBEBBCw0kWDwd0EZCkNeOD7NNQhtBm7KHL9mRxj6U1yWU2puzlIDtpYxdH4ZPeXBJkTGAJfUr/oTCz/iypY6uXaR2V1doPxJYlrw2ghH0D5gbrhFcIxzYwi4a/4hqVdf2DdxBp6vGYDjavxMAAoy+1+3aiO6S3W/QAKNVXagDtvsNtx7Ks+HKgo6U21B+QSZgIogV5Bt+BnXisdVfy9VyXV+2P5fMuvdpAjM1o/K9Z+XnE4EOCrue+kcdYHqAQ0/Y/OmNlQ6OI33jH/uD1RalPaHpJAm2av0/xtpqdXVKNDrc9F2izo23Wu7firgbURFDNX9eGGeYBhiypyXZft2j3hTvzE6PMWKsod//rEILDkzBXfi7xh0eFkfb3/1zzPK/PI5Nk3FbZyTl4mq5BfBoVoqiPHO4Q4QKZAlrQ3MdNfi3oxIjvsM3kAFv3fdufurqYR3PSwX/mpGy/GFI/B2MNPiNdOppWVbs/gjF3YH+QA9jMhlAbhvasAHstB0IJew09iAkmXHl1/TEj+jvHOpOGrPRQXbPADM+Ig2/OEcUcpgPTItMtW4DdqgfYVI/+4hAFWYjUGpOP/UwNuB7+BbKOcALbjobdgzeBQfjgNSp2GOpxzGLj70Vvq5cw2AoYENwKLUtJUX8sGRox4dVa/TN4xKwaKcl9XawQR/uNus700Hf17pyNnezrUgaY9e4MADhEDBpsJT6y1gDJs1q6wlwGhuUzGR7C8kgpjPyHWwsvrf3yn1zJEIRa5eSxoLAZOCR9xbuztxFRJW9ZmMYfCFJ0evm9F2fVnuje92Rc4Pl6A8bluN8MZyyJGZ0+sNSb//DvAFxC2BqlEsFwccWeAl6CyBcQV1bx4mQMBP1Jxqk1EUADNLeieS2dUFbQ/c/kvwItbZ7tx0st16viqd53WsRmPTKv2AD8CUnhtPWg5aUegNpsYgasaw2+EVooeNKmrW3MFtj76bYHJm5K9gpAXZXsE5U8DM8XmVOSJ1F1WnLy6nQup+jx52bAb+rCq6y9WXl2B2oZDhfDkW7H3oYfT/4xx5VncBuxMXP2lNfhUVQjSSzSRbuZFE4vFawlzveXxaYKVs8LpvAb8IRYF3ZHiRnm0ADeNPWocwxSzNseG7NrSEVZoHdKWqaGEBz1N8Pt7kFbqh3LYmAbm9i1IChIpLpM5AS6mr6OAPHMwwznVy61YpBYX8xZDN/a+lt7n+x5j4bNOVteZ8lj3hpAHSx1VR8vZHec4AHO9XFCdjZ9eRkSV65ljMmZVzaej2qFn/qt1lvWzNZEfHxK3qOJrHL6crr0CRzMox5f2e8ALBB4UGFZKA3tN6F6IXd32GTJXGQ7DTi9j/dNcLF9jCbDcWGKxoKTYblIwbLDReL00LRcDPMcQuXLMh5YzgtfjkFK1DP1iDzzYYVZz5M/kWYRlRpig1htVRjVCknm+h1M5LiEDXOyHREhvzCGpFZjHS0RsK27o2avgdilrJkalWqPW3D9gmwV37HKmfM3F8YZj2ar+vHFvf3B8CRoH4kDHIK9mrAg+owiEwNjjd9V+FsQKYR8czJrUkf7Qoi2YaW6EVDZp5zYlqiYtuXOTHk4fAcZ7qBbdLDiJq0WNV1l2+Hntk1mMWvxrYmc8kIx8G3rW36J6Ra4lLrTOCgiOihmow+YnzUT19jbV2B3RWqSHyxkhmgsBqMYWvOcUom1jDQ436+fcbu3xf2bbeqU/ca+C4DOKE+e3qvmeMqW3AxejfzBRFVcwVYPq4L0APSWWoJu+5UYX4qg5U6YTioqQGPG9XrnuZ/BkxuYpe6Li87+18EskyQW/uA+uk2rpHpr6hut2TlVbKgWkFpx+AZffweiw2+VittkEyf/ifinS/0ItRL2Jq3tQOcxPaWO2xrG68GdFoUpZgFXaP2wYVtRc6xYCfI1CaBqyWpg4bx8OHBQwsV4XWMibZZ0LYjWEy2IxQ1mZrf1/UNbYCJplWu3nZ4WpodIGVA05d+RWSS+ET9tH3RfGGmNI1cIY7evZZq7o+a0bjjygpmR3mVfalkT/SZGT27Q8QGalwGlDOS9VHCyFAIL0a1Q7JiW3saz9gqY8lqKynFrPCzxkU4SIfLc9VfCI5edgRhDXs0edO992nhTKHriREP1NJC6SROMgQ0xO5kNNZOhMOIT99AUElbxqeZF8A3xrfDJsWtDnUenAHdYWSwAbYjFqQZ+D5gi3hNK8CSxU9i6f6ClL9IGlj1OPMQAsr84YG6ijsJpCaGWj75c3yOZKBB9mNpQNPUKkK0D6wgLH8MGoyRxTX6Y05Q4AnYNXMZwXM4eij/9WpsM/9CoRnFQXGR6MEaY+FXvXEO3RO0JaStk6OXuHVATHJE+1W+TU3bSZ2ksMtqjO0zfSJCdBv7y2d8DMx6TfVme3q0ZpTKMMu4YL/t7ciTNtdDkwPogh3Cnjx7qk08SHwf+dksZ7M2vCOlfsF0hQ6J4ehPCaHTNrM/zBSOqD83dBEBCW/F/LEmeh0nOHd7oVl3/Qo/9GUDkkbj7yz+9cvvu+dDAtx8NzCDTP4iKdZvk9MWiizvtILLepysflSvTLFBZ37RLwiriqyRxYv/zrgFd/9XVHh/OmzBvDX4mitMR/lUavs2Vx6cR94lzAkplm3IRNy4TFfu47tuYs9EQPIPVta4P64tV+sZ7n3ued3cgEx2YK+QL5+xms6osk8qQbTyuKVGdaX9FQqk6qfDnT5ykxk0VK7KZ62b6DNDUfQlqGHxSMKv1P0XN5BqMeKG1P4Wp5QfZDUCEldppoX0U6ss2jIko2XpURKCIhfaOqLPfShdtS37ZrT+jFRSH2xYVV1rmT/MBtRQhxiO4MQ3iAGlaZi+9PWBEIXOVnu9jN1f921lWLZky9bqbM3J2MAAI9jmuAx3gyoEUa6P2ivs0EeNv/OR+AX6q5SW6l5HaoFuS6jr6yg9limu+P0KYKzfMXWcQSfTXzpOzKEKpwI3YGXZpSSy2LTlMgfmFA3CF6R5c9xWEtRuCg2ZPUQ2Nb6dRFTNd4TfGHrnEWSKHPuRyiJSDAZ+KX0VxmSHjGPbQTLVpqixia2uyhQ394gBMt7C3ZAmxn/DJS+l1fBsAo2Eir/C0jG9csd4+/tp12pPc/BVJGaK9mfvr7M/CeztrmCO5qY06Edi4xAGtiEhnWAbzLy2VEyazE1J5nPmgU4RpW4Sa0TnOT6w5lgt3/tMpROigHHmexBGAMY0mdcDbDxWIz41NgdD6oxgHsJRgr5RnT6wZAkTOcStU4NMOQNemSO7gxGahdEsC+NRVGxMUhQmmM0llWRbbmFGHzEqLM4Iw0H7577Kyo+Zf+2cUFIOw93gEY171vQaM0HLwpjpdRR6Jz7V0ckE7XzYJ0TmY9znLdzkva0vNrAGGT5SUZ5uaHDkcGvI0ySpwkasEgZPMseYcu85w8HPdSNi+4T6A83iAwDbxgeFcB1ZM2iGXzFcEOUlYVrEckaOyodfvaYSQ7GuB4ISE0nYJc15X/1ciDTPbPCgYJK55VkEor4LvzL9S2WDy4xj+6FOqVyTAC2ZNowheeeSI5hA/02l8UYkv4nk9iaVn+kCVEUstgk5Hyq+gJm6R9vG3rhuM904he/hFmNQaUIATB1y3vw+OmxP4X5Yi6A5I5jJufHCjF9+AGNwnEllZjUco6XhsO5T5+R3yxz5yLVOnAn0zuS+6zdj0nTJbEZCbXJdtpfYZfCeCOqJHoE2vPPFS6eRLjIJlG69X93nfR0mxSFXzp1Zc0lt/VafDaImhUMtbnqWVb9M4nGNQLN68BHP7AR8Il9dkcxzmBv8PCZlw9guY0lurbBsmNYlwJZsA/B15/HfkbjbwPddaVecls/elmDHNW2r4crAx43feNkfRwsaNq/yyJ0d/p5hZ6AZajz7DBfUok0ZU62gCzz7x8eVfJTKA8IWn45vINLSM1q+HF9CV9qF3zP6Ml21kPPL3CXzkuYUlnSqT+Ij4tI/od5KwIs+tDajDs64owN7tOAd6eucGz+KfO26iNcBFpbWA5732bBNWO4kHNpr9D955L61bvHCF/mwSrz6eQaDjfDEANqGMkFc+NGxpKZzCD2sj/JrHd+zlPQ8Iz7Q+2JVIiVCuCKoK/hlAEHzvk/Piq3mRL1rT/fEh9hoT5GJmeYswg1otiKydizJ/fS2SeKHVu6Z3JEHjiW8NaTQgP5xdBli8nC57XiN9hrquBu99hn9zqwo92+PM2JXtpeVZS0PdqR5mDyDreMMtEws+CpwaRyyzoYtfcvt9PJIW0fJVNNi/FFyRsea7peLvJrL+5b4GOXJ8tAr+ATk9f8KmiIsRhqRy0vFzwRV3Z5dZ3QqIU8JQ/uQpkJbjMUMFj2F9sCFeaBjI4+fL/oN3+LQgjI4zuAfQ+3IPIPFQBccf0clJpsfpnBxD84atwtupkGqKvrH7cGNl/QcWcSi6wcVDML6ljOgYbo+2BOAWNNjlUBPiyitUAwbnhFvLbnqw42kR3Yp2kv2dMeDdcGOX5kT4S6M44KHEB/SpCfl7xgsUvs+JNY9G3O2X/6FEt9FyAn57lrbiu+tl83sCymSvq9eZbe9mchL7MTf/Ta78e80zSf0hYY5eUU7+ff14jv7Xy8qjzfzzzvaJnrIdvFb5BLWKcWGy5/w7+vV2cvIfwHqdTB+RuJK5oj9mbt0Hy94AmjMjjwYNZlNS6uiyxNnwNyt3gdreLb64p/3+08nXkb92LTkkRgFOwk1oGEVllcOj5lv1hfAZywDows0944U8vUFw+A/nuVq/UCygsrmWIBnHyU01d0XJPwriEOvx/ISK6Pk4y2w0gmojZs7lU8TtakBAdne4v/aNxmMpK4VcGMp7si0yqsiolXRuOi1Z1P7SqD3Zmp0CWcyK4Ubmp2SXiXuI5nGLCieFHKHNRIlcY3Pys2dwMTYCaqlyWSITwr2oGXvyU3h1Pf8eQ3w1bnD7ilocVjYDkcXR3Oo1BXgMLTUjNw2xMVwjtp99NhSVc5aIWrDQT5DHPKtCtheBP4zHcw4dz2eRdTMamhlHhtfgqJJHI7NGDUw1XL8vsSeSHyKqDtqoAmrQqsYwvwi7HW3ojWyhIa5oz5xJTaq14NAzFLjVLR12rRNUQ6xohDnrWFb5bG9yf8aCD8d5phoackcNJp+Dw3Due3RM+5Rid7EuIgsnwgpX0rUWh/nqPtByMhMZZ69NpgvRTKZ62ViZ+Q7Dp5r4K0d7EfJuiy06KuIYauRh5Ecrhdt2QpTS1k1AscEHvapNbU3HL1F2TFyR33Wxb5MvH5iZsrn3SDcsxlnnshO8PLwmdGN+paWnQuORtZGX37uhFT64SeuPsx8UOokY6ON85WdQ1dki5zErsJGazcBOddWJEKqNPiJpsMD1GrVLrVY+AOdPWQneTyyP1hRX/lMM4ZogGGOhYuAdr7F/DOiAoc++cn5vlf0zkMUJ40Z1rlgv9BelPqVOpxKeOpzKdF8maK+1Vv23MO9k/8+qpLoxrIGH2EDQlnGmH8CD31G8QqlyQIcpmR5bwmSVw9/Ns6IHgulCRehvZ/+VrM60Cu/r3AontFfrljew74skYe2uyn7JKQtFQBQRJ9ryGic/zQOsbS4scUBctA8cPToQ3x6ZBQu6DPu5m1bnCtP8TllLYA0UTQNVqza5nfew3Mopy1GPUwG5jsl0OVXniPmAcmLqO5HG8Hv3nSLecE9oOjPDXcsTxoCBxYyzBdj4wmnyEV4kvFDunipS8SSkvdaMnTBN9brHUR8xdmmEAp/Pdqk9uextp1t+JrtXwpN/MG2w/qhRMpSNxQ1uhg/kKO30eQ/FyHUDkWHT8V6gGRU4DhDMxZu7xXij9Ui6jlpWmQCqJg3FkOTq3WKneCRYZxBXMNAVLQgHXSCGSqNdjebY94oyIpVjMYehAiFx/tqzBXFHZaL5PeeD74rW5OysFoUXY8sebUZleFTUa/+zBKVTFDopTReXNuZq47QjkWnxjirCommO4L/GrFtVV21EpMyw8wyThL5Y59d88xtlx1g1ttSICDwnof6lt/6zliPzgVUL8jWBjC0o2D6Kg+jNuThkAlaDJsq/AG2aKA//A76avw2KNqtv223P+Wq3StRDDNKFFgtsFukYt1GFDWooFVXitaNhb3RCyJi4cMeNjROiPEDb4k+G3+hD8tsg+5hhmSc/8t2JTSwYoCzAI75doq8QTHe+E/Tw0RQSUDlU+6uBeNN3h6jJGX/mH8oj0i3caCNsjvTnoh73BtyZpsflHLq6AfwJNCDX4S98h4+pCOhGKDhV3rtkKHMa3EG4J9y8zFWI4UsfNzC/Rl5midNn7gwoN9j23HGCQQ+OAZpTTPMdiVow740gIyuEtd0qVxMyNXhHcnuXRKdw5wDUSL358ktjMXmAkvIB73BLa1vfF9BAUZInPYJiwxqFWQQBVk7gQH4ojfUQ/KEjn+A/WR6EEe4CtbpoLe1mzHkajgTIoE0SLDHVauKhrq12zrAXBGbPPWKCt4DGedq3JyGRbmPFW32bE7T20+73BatV/qQhhBWfWBFHfhYWXjALts38FemnoT+9bn1jDBMcUMmYgSc0e7GQjv2MUBwLU8ionCpgV+Qrhg7iUIfUY6JFxR0Y+ZTCPM+rVuq0GNLyJXX6nrUTt8HzFBRY1E/FIm2EeVA9NcXrj7S6YYIChVQCWr/m2fYUjC4j0XLkzZ8GCSLfmkW3PB/xq+nlXsKVBOj7vTvqKCOMq7Ztqr3cQ+N8gBnPaAps+oGwWOkbuxnRYj/x/WjiDclVrs22xMK4qArE1Ztk1456kiJriw6abkNeRHogaPRBgbgF9Z8i/tbzWELN4CvbqtrqV9TtGSnmPS2F9kqOIBaazHYaJ9bi3AoDBvlZasMluxt0BDXfhp02Jn411aVt6S4TUB8ZgFDkI6TP6gwPY85w+oUQSsjIeXVminrwIdK2ZAawb8Se6XOJbOaliQxHSrnAeONDLuCnFejIbp4YDtBcQCwMsYiRZfHefuEJqJcwKTTJ8sx5hjHmJI1sPFHOr6W9AhZ2NAod38mnLQk1gOz2LCAohoQbgMbUK9RMEA3LkiF7Sr9tLZp6lkciIGhE2V546w3Mam53VtVkGbB9w0Yk2XiRnCmbpxmHr2k4eSC0RuNbjNsUfDIfc8DZvRvgUDe1IlKdZTzcT4ZGEb53dp8VtsoZlyXzLHOdAbsp1LPTVaHvLA0GYDFMbAW/WUBfUAdHwqLFAV+3uHvYWrCfhUOR2i89qvCBoOb48usAGdcF2M4aKn79k/43WzBZ+xR1L0uZfia70XP9soQReeuhZiUnXFDG1T8/OXNmssTSnYO+3kVLAgeiY719uDwL9FQycgLPessNihMZbAKG7qwPZyG11G1+ZA3jAX2yddpYfmaKBlmfcK/V0mwIRUDC0nJSOPUl2KB8h13F4dlVZiRhdGY5farwN+f9hEb1cRi41ZcGDn6Xe9MMSTOY81ULJyXIHSWFIQHstVYLiJEiUjktlHiGjntN5/btB8Fu+vp28zl2fZXN+dJDyN6EXhS+0yzqpl/LSJNEUVxmu7BsNdjAY0jVsAhkNuuY0E1G48ej25mSt+00yPbQ4SRCVkIwb6ISvYtmJRPz9Zt5dk76blf+lJwAPH5KDF+vHAmACLoCdG2Adii6dOHnNJnTmZtoOGO8Q1jy1veMw6gbLFToQmfJa7nT7Al89mRbRkZZQxJTKgK5Kc9INzmTJFp0tpAPzNmyL/F08bX3nhCumM/cR/2RPn9emZ3VljokttZD1zVWXlUIqEU7SLk5I0lFRU0AcENXBYazNaVzsVHA/sD3o9hm42wbHIRb/BBQTKzAi8s3+bMtpOOZgLdQzCYPfX3UUxKd1WYVkGH7lh/RBBgMZZwXzU9+GYxdBqlGs0LP+DZ5g2BWNh6FAcR944B+K/JTWI3t9YyVyRhlP4CCoUk/mmF7+r2pilVBjxXBHFaBfBtr9hbVn2zDuI0kEOG3kBx8CGdPOjX1ph1POOZJUO1JEGG0jzUy2tK4X0CgVNYhmkqqQysRNtKuPdCJqK3WW57kaV17vXgiyPrl4KEEWgiGF1euI4QkSFHFf0TDroQiLNKJiLbdhH0YBhriRNCHPxSqJmNNoketaioohqMglh6wLtEGWSM1EZbQg72h0UJAIPVFCAJOThpQGGdKfFovcwEeiBuZHN2Ob4uVM7+gwZLz1D9E7ta4RmMZ24OBBAg7Eh6dLXGofZ4U2TFOCQMKjwhVckjrydRS+YaqCw1kYt6UexuzbNEDyYLTZnrY1PzsHZJT4U+awO2xlqTSYu6n/U29O2wPXgGOEKDMSq+zTUtyc8+6iLp0ivav4FKx+xxVy4FxhIF/pucVDqpsVe2jFOfdZhTzLz2QjtzvsTCvDPU7bzDH2eXVKUV9TZ+qFtaSSxnYgYdXKwVreIgvWhT9eGDB2OvnWyPLfIIIfNnfIxU8nW7MbcH05nhlsYtaW9EZRsxWcKdEqInq1DiZPKCz7iGmAU9/ccnnQud2pNgIGFYOTAWjhIrd63aPDgfj8/sdlD4l+UTlcxTI9jbaMqqN0gQxSHs60IAcW3cH4p3V1aSciTKB29L1tz2eUQhRiTgTvmqc+sGtBNh4ky0mQJGsdycBREP+fAaSs1EREDVo5gvgi5+aCN7NECw30owbCc1mSpjiahyNVwJd1jiGgzSwfTpzf2c5XJvG/g1n0fH88KHNnf+u7ZiRMlXueSIsloJBUtW9ezvsx9grfsX/FNxnbxU1Lvg0hLxixypHKGFAaPu0xCD8oDTeFSyfRT6s8109GMUZL8m2xXp8X2dpPCWWdX84iga4BrTlOfqox4shqEgh/Ht4qRst52cA1xOIUuOxgfUivp6v5f8IVyaryEdpVk72ERAwdT4aoY1usBgmP+0m06Q216H/nubtNYxHaOIYjcach3A8Ez/zc0KcShhel0HCYjFsA0FjYqyJ5ZUH1aZw3+zWC0hLpM6GDfcAdn9fq2orPmZbW6XXrf+Krc9RtvII5jeD3dFoT1KwZJwxfUMvc5KLfn8rROW23Jw89sJ2a5dpB3qWDUBWF2iX8OCuKprHosJ2mflBR+Wqs86VvgI/XMnsqb97+VlKdPVysczPj8Jhzf+WCvGBHijAqYlavbF60soMWlHbvKT+ScvhprgeTln51xX0sF+Eadc/l2s2a5BgkVbHYyz0E85p0LstqH+gEGiR84nBRRFIn8hLSZrGwqjZ3E29cuGi+5Z5bp7EM8MWFa9ssS/vy4VrDfECSv7DSU84DaP0sXI3Ap4lWznQ65nQoTKRWU30gd7Nn8ZowUvGIx4aqyXGwmA/PB4qN8msJUODezUHEl0VP9uo+cZ8vPFodSIB4C7lQYjEFj8yu49C2KIV3qxMFYTevG8KqAr0TPlkbzHHnTpDpvpzziAiNFh8xiT7C/TiyH0EguUw4vxAgpnE27WIypV+uFN2zW7xniF/n75trs9IJ5amB1zXXZ1LFkJ6GbS/dFokzl4cc2mamVwhL4XU0Av5gDWAl+aEWhAP7t2VIwU+EpvfOPDcLASX7H7lZpXA2XQfbSlD4qU18NffNPoAKMNSccBfO9YVVgmlW4RydBqfHAV7+hrZ84WJGho6bNT0YMhxxLdOx/dwGj0oyak9aAkNJ8lRJzUuA8sR+fPyiyTgUHio5+Pp+YaKlHrhR41jY5NESPS3x+zTMe0S2HnLOKCOQPpdxKyviBvdHrCDRqO+l96HhhNBLXWv4yEMuEUYo8kXnYJM8oIgVM4XJ+xXOev4YbWeqsvgq0lmw4/PiYr9sYLt+W5EAuYSFnJEan8CwJwbtASBfLBBpJZiRPor/aCJBZsM+MhvS7ZepyHvU8m5WSmaZnxuLts8ojl6KkS8oSAHkq5GWlCB/NgJ5W3rO2Cj1MK7ahxsCrbTT3a0V/QQH+sErxV4XUWDHx0kkFy25bPmBMBQ6BU3HoHhhYcJB9JhP6NXUWKxnE0raXHB6U9KHpWdQCQI72qevp5fMzcm+AvC85rsynVQhruDA9fp9COe7N56cg1UKGSas89vrN+WlGLYTwi5W+0xYdKEGtGCeNJwXKDU0XqU5uQYnWsMwTENLGtbQMvoGjIFIEMzCRal4rnBAg7D/CSn8MsCvS+FDJJAzoiioJEhZJgAp9n2+1Yznr7H+6eT4YkJ9Mpj60ImcW4i4iHDLn9RydB8dx3QYm3rsX6n4VRrZDsYK6DCGwkwd5n3/INFEpk16fYpP6JtMQpqEMzcOfQGAHXBTEGzuLJ03GYQL9bmV2/7ExDlRf+Uvf1sM2frRtCWmal12pMgtonvSCtR4n1CLUZRdTHDHP1Otwqd+rcdlavnKjUB/OYXQHUJzpNyFoKpQK+2OgrEKpGyIgIBgn2y9QHnTJihZOpEvOKIoHAMGAXHmj21Lym39Mbiow4IF+77xNuewziNVBxr6KD5e+9HzZSBIlUa/AmsDFJFXeyrQakR3FwowTGcADJHcEfhGkXYNGSYo4dh4bxwLM+28xjiqkdn0/3R4UEkvcBrBfn/SzBc1XhKM2VPlJgKSorjDac96V2UnQYXl1/yZPT4DVelgO+soMjexXwYO58VLl5xInQUZI8jc3H2CPnCNb9X05nOxIy4MlecasTqGK6s2az4RjpF2cQP2G28R+7wDPsZDZC/kWtjdoHC7SpdPmqQrUAhMwKVuxCmYTiD9q/O7GHtZvPSN0CAUQN/rymXZNniYLlJDE70bsk6Xxsh4kDOdxe7A2wo7P9F5YvqqRDI6brf79yPCSp4I0jVoO4YnLYtX5nzspR5WB4AKOYtR1ujXbOQpPyYDvfRE3FN5zw0i7reehdi7yV0YDRKRllGCGRk5Yz+Uv1fYl2ZwrnGsqsjgAVo0xEUba8ohjaNMJNwTwZA/wBDWFSCpg1eUH8MYL2zdioxRTqgGQrDZxQyNzyBJPXZF0+oxITJAbj7oNC5JwgDMUJaM5GqlGCWc//KCIrI+aclEe4IA0uzv7cuj6GCdaJONpi13O544vbtIHBF+A+JeDFUQNy61Gki3rtyQ4aUywn6ru314/dkGiP8Iwjo0J/2Txs49ZkwEl4mx+iYUUO55I6pJzU4P+7RRs+DXZkyKUYZqVWrPF4I94m4Wx1tXeE74o9GuX977yvJ/jkdak8+AmoHVjI15V+WwBdARFV2IPirJgVMdsg1Pez2VNHqa7EHWdTkl3XTcyjG9BiueWFvQfXI8aWSkuuRmqi/HUuzqyvLJfNfs0txMqldYYflWB1BS31WkuPJGGwXUCpjiQSktkuBMWwHjSkQxeehqw1Kgz0Trzm7QbtgxiEPDVmWCNCAeCfROTphd1ZNOhzLy6XfJyG6Xgd5MCAZw4xie0Sj5AnY1/akDgNS9YFl3Y06vd6FAsg2gVQJtzG7LVq1OH2frbXNHWH/NY89NNZ4QUSJqL2yEcGADbT38X0bGdukqYlSoliKOcsSTuqhcaemUeYLLoI8+MZor2RxXTRThF1LrHfqf/5LcLAjdl4EERgUysYS2geE+yFdasU91UgUDsc2cSQ1ZoT9+uLOwdgAmifwQqF028INc2IQEDfTmUw3eZxvz7Ud1z3xc1PQfeCvfKsB9jOhRj7rFyb9XcDWLcYj0bByosychMezMLVkFiYcdBBQtvI6K0KRuOZQH2kBsYHJaXTkup8F0eIhO1/GcIwWKpr2mouB7g5TUDJNvORXPXa/mU8bh27TAZYBe2sKx4NSv5OjnHIWD2RuysCzBlUfeNXhDd2jxnHoUlheJ3jBApzURy0fwm2FwwsSU0caQGl0Kv8hopRQE211NnvtLRsmCNrhhpEDoNiZEzD2QdJWKbRRWnaFedXHAELSN0t0bfsCsMf0ktfBoXBoNA+nZN9+pSlmuzspFevmsqqcMllzzvkyXrzoA+Ryo1ePXpdGOoJvhyru+EBRsmOp7MXZ0vNUMUqHLUoKglg1p73sWeZmPc+KAw0pE2zIsFFE5H4192KwDvDxdxEYoDBDNZjbg2bmADTeUKK57IPD4fTYF4c6EnXx/teYMORBDtIhPJneiZny7Nv/zG+YmekIKCoxr6kauE2bZtBLufetNG0BtBY7f+/ImUypMBvdWu/Q7vTMRzw5aQGZWuc1V0HEsItFYMIBnoKGZ0xcarba/TYZq50kCaflFysYjA4EDKHqGdpYWdKYmm+a7TADmW35yfnOYpZYrkpVEtiqF0EujI00aeplNs2k+qyFZNeE3CDPL9P6b4PQ/kataHkVpLSEVGK7EX6rAa7IVNrvZtFvOA6okKvBgMtFDAGZOx88MeBcJ8AR3AgUUeIznAN6tjCUipGDZONm1FjWJp4A3QIzSaIOmZ7DvF/ysYYbM/fFDOV0jntAjRdapxJxL0eThpEhKOjCDDq2ks+3GrwxqIFKLe1WdOzII8XIOPGnwy6LKXVfpSDOTEfaRsGujhpS4hBIsMOqHbl16PJxc4EkaVu9wpEYlF/84NSv5Zum4drMfp9yXbzzAOJqqS4YkI4cBrFrC7bMPiCfgI3nNZAqkk3QOZqR+yyqx+nDQKBBBZ7QKrfGMCL+XpqFaBJU0wpkBdAhbR4hJsmT5aynlvkouoxm/NjD5oe6BzVIO9uktM+/5dEC5P7vZvarmuO/lKXz4sBabVPIATuKTrwbJP8XUkdM6uEctHKXICUJGjaZIWRbZp8czquQYfY6ynBUCfIU+gG6wqSIBmYIm9pZpXdaL121V7q0VjDjmQnXvMe7ysoEZnZL15B0SpxS1jjd83uNIOKZwu5MPzg2NhOx3xMOPYwEn2CUzbSrwAs5OAtrz3GAaUkJOU74XwjaYUmGJdZBS1NJVkGYrToINLKDjxcuIlyfVsKQSG/G4DyiO2SlQvJ0d0Ot1uOG5IFSAkq+PRVMgVMDvOIJMdqjeCFKUGRWBW9wigYvcbU7CQL/7meF2KZAaWl+4y9uhowAX7elogAvItAAxo2+SFxGRsHGEW9BnhlTuWigYxRcnVUBRQHV41LV+Fr5CJYV7sHfeywswx4XMtUx6EkBhR+q8AXXUA8uPJ73Pb49i9KG9fOljvXeyFj9ixgbo6CcbAJ7WHWqKHy/h+YjBwp6VcN7M89FGzQ04qbrQtgrOFybg3gQRTYG5xn73ArkfQWjCJROwy3J38Dx/D7jOa6BBNsitEw1wGq780EEioOeD+ZGp2J66ADiVGMayiHYucMk8nTK2zzT9CnEraAk95kQjy4k0GRElLL5YAKLQErJ5rp1eay9O4Fb6yJGm9U4FaMwPGxtKD6odIIHKoWnhKo1U8KIpFC+MVn59ZXmc7ZTBZfsg6FQ8W10YfTr4u0nYrpHZbZ1jXiLmooF0cOm0+mPnJBXQtepc7n0BqOipNCqI6yyloTeRShNKH04FIo0gcMk0H/xThyN4pPAWjDDkEp3lNNPRNVfpMI44CWRlRgViP64eK0JSRp0WUvCWYumlW/c58Vcz/yMwVcW5oYb9+26TEhwvbxiNg48hl1VI1UXTU//Eta+BMKnGUivctfL5wINDD0giQL1ipt6U7C9cd4+lgqY2lMUZ02Uv6Prs+ZEZer7ZfWBXVghlfOOrClwsoOFKzWEfz6RZu1eCs+K8fLvkts5+BX0gyrFYve0C3qHrn5U/Oh6D/CihmWIrY7HUZRhJaxde+tldu6adYJ+LeXupQw0XExC36RETdNFxcq9glMu4cNQSX9cqR/GQYp+IxUkIcNGWVU7ZtGa6P3XAyodRt0XeS3Tp01AnCh0ZbUh4VrSZeV9RWfSoWyxnY3hzcZ30G/InDq4wxRrEejreBxnhIQbkxenxkaxl+k7eLUQkUR6vKJ2iDFNGX3WmVA1yaOH+mvhBd+sE6vacQzFobwY5BqEAFmejwW5ne7HtVNolOUgJc8CsUxmc/LBi8N5mu9VsIA5HyErnS6zeCz7VLI9+n/hbT6hTokMXTVyXJRKSG2hd2labXTbtmK4fNH3IZBPreSA4FMeVouVN3zG5x9CiGpLw/3pceo4qGqp+rVp+z+7yQ98oEf+nyH4F3+J9IheDBa94Wi63zJbLBCIZm7P0asHGpIJt3PzE3m0S4YIWyXBCVXGikj8MudDPB/6Nm2v4IxJ5gU0ii0guy5SUHqGUYzTP0jIJU5E82RHUXtX4lDdrihBLdP1YaG1AGUC12rQKuIaGvCpMjZC9bWSCYnjDlvpWbkdXMTNeBHLKiuoozMGIvkczmP0aRJSJ8PYnLCVNhKHXBNckH79e8Z8Kc2wUej4sQZoH8qDRGkg86maW/ZQWGNnLcXmq3FlXM6ssR/3P6E/bHMvm6HLrv1yRixit25JsH3/IOr2UV4BWJhxXW5BJ6Xdr07n9kF3ZNAk6/Xpc5MSFmYJ2R7bdL8Kk7q1OU9Elg/tCxJ8giT27wSTySF0GOxg4PbYJdi/Nyia9Nn89CGDulfJemm1aiEr/eleGSN+5MRrVJ4K6lgyTTIW3i9cQ0dAi6FHt0YMbH3wDSAtGLSAccezzxHitt1QdhW36CQgPcA8vIIBh3/JNjf/Obmc2yzpk8edSlS4lVdwgW5vzbYEyFoF4GCBBby1keVNueHAH+evi+H7oOVfS3XuPQSNTXOONAbzJeSb5stwdQHl1ZjrGoE49I8+A9j3t+ahhQj74FCSWpZrj7wRSFJJnnwi1T9HL5qrCFW/JZq6P62XkMWTb+u4lGpKfmmwiJWx178GOG7KbrZGqyWwmuyKWPkNswkZ1q8uptUlviIi+AXh2bOOTOLsrtNkfqbQJeh24reebkINLkjut5r4d9GR/r8CBa9SU0UQhsnZp5cP+RqWCixRm7i4YRFbtZ4EAkhtNa6jHb6gPYQv7MKqkPLRmX3dFsK8XsRLVZ6IEVrCbmNDc8o5mqsogjAQfoC9Bc7R6gfw03m+lQpv6kTfhxscDIX6s0w+fBxtkhjXAXr10UouWCx3C/p/FYwJRS/AXRKkjOb5CLmK4XRe0+xeDDwVkJPZau52bzLEDHCqV0f44pPgKOkYKgTZJ33fmk3Tu8SdxJ02SHM8Fem5SMsWqRyi2F1ynfRJszcFKykdWlNqgDA/L9lKYBmc7Zu/q9ii1FPF47VJkqhirUob53zoiJtVVRVwMR34gV9iqcBaHbRu9kkvqk3yMpfRFG49pKKjIiq7h/VpRwPGTHoY4cg05X5028iHsLvUW/uz+kjPyIEhhcKUwCkJAwbR9pIEGOn8z6svAO8i89sJ3dL5qDWFYbS+HGPRMxYwJItFQN86YESeJQhn2urGiLRffQeLptDl8dAgb+Tp47UQPxWOw17OeChLN1WnzlkPL1T5O+O3Menpn4C3IY5LEepHpnPeZHbvuWfeVtPlkH4LZjPbBrkJT3NoRJzBt86CO0Xq59oQ+8dsm0ymRcmQyn8w71mhmcuEI5byuF+C88VPYly2sEzjlzAQ3vdn/1+Hzguw6qFNNbqenhZGbdiG6RwZaTG7jTA2X9RdXjDN9yj1uQpyO4Lx8KRAcZcbZMafp4wPOd5MdXoFY52V1A8M9hi3sso93+uprE0qYNMjkE22CvK4HuUxqN7oIz5pWuETq1lQAjqlSlqdD2Rnr/ggp/TVkQYjn9lMfYelk2sH5HPdopYo7MHwlV1or9Bxf+QCyLzm92vzG2wjiIjC/ZHEJzeroJl6bdFPTpZho5MV2U86fLQqxNlGIMqCGy+9WYhJ8ob1r0+Whxde9L2PdysETv97O+xVw+VNN1TZSQN5I6l9m5Ip6pLIqLm4a1B1ffH6gHyqT9p82NOjntRWGIofO3bJz5GhkvSWbsXueTAMaJDou99kGLqDlhwBZNEQ4mKPuDvVwSK4WmLluHyhA97pZiVe8g+JxmnJF8IkV/tCs4Jq/HgOoAEGR9tCDsDbDmi3OviUQpG5D8XmKcSAUaFLRXb2lmJTNYdhtYyfjBYZQmN5qT5CNuaD3BVnlkCk7bsMW3AtXkNMMTuW4HjUERSJnVQ0vsBGa1wo3Qh7115XGeTF3NTz8w0440AgU7c3bSXO/KMINaIWXd0oLpoq/0/QJxCQSJ9XnYy1W7TYLBJpHsVWD1ahsA7FjNvRd6mxCiHsm8g6Z0pnzqIpF1dHUtP2ITU5Z1hZHbu+L3BEEStBbL9XYvGfEakv1bmf+bOZGnoiuHEdlBnaChxYKNzB23b8sw8YyT7Ajxfk49eJIAvdbVkdFCe2J0gMefhQ0bIZxhx3fzMIysQNiN8PgOUKxOMur10LduigREDRMZyP4oGWrP1GFY4t6groASsZ421os48wAdnrbovNhLt7ScNULkwZ5AIZJTrbaKYTLjA1oJ3sIuN/aYocm/9uoQHEIlacF1s/TM1fLcPTL38O9fOsjMEIwoPKfvt7opuI9G2Hf/PR4aCLDQ7wNmIdEuXJ/QNL72k5q4NejAldPfe3UVVqzkys8YZ/jYOGOp6c+YzRCrCuq0M11y7TiN6qk7YXRMn/gukxrEimbMQjr3jwRM6dKVZ4RUfWQr8noPXLJq6yh5R3EH1IVOHESst/LItbG2D2vRsZRkAObzvQAAD3mb3/G4NzopI0FAiHfbpq0X72adg6SRj+8OHMShtFxxLZlf/nLgRLbClwl5WmaYSs+yEjkq48tY7Z2bE0N91mJwt+ua0NlRJIDh0HikF4UvSVorFj2YVu9YeS5tfvlVjPSoNu/Zu6dEUfBOT555hahBdN3Sa5Xuj2Rvau1lQNIaC944y0RWj9UiNDskAK1WoL+EfXcC6IbBXFRyVfX/WKXxPAwUyIAGW8ggZ08hcijKTt1YKnUO6QPvcrmDVAb0FCLIXn5id4fD/Jx4tw/gbXs7WF9b2RgXtPhLBG9vF5FEkdHAKrQHZAJC/HWvk7nvzzDzIXZlfFTJoC3JpGgLPBY7SQTjGlUvG577yNutZ1hTfs9/1nkSXK9zzKLRZ3VODeKUovJe0WCq1zVMYxCJMenmNzPIU2S8TA4E7wWmbNkxq9rI2dd6v0VpcAPVMxnDsvWTWFayyqvKZO7Z08a62i/oH2/jxf8rpmfO64in3FLiL1GX8IGtVE9M23yGsIqJbxDTy+LtaMWDaPqkymb5VrQdzOvqldeU0SUi6IirG8UZ3jcpRbwHa1C0Dww9G/SFX3gPvTJQE+kyz+g1BeMILKKO+olcHzctOWgzxYHnOD7dpCRtuZEXACjgqesZMasoPgnuDC4nUviAAxDc5pngjoAITIkvhKwg5d608pdrZcA+qn5TMT6Uo/QzBaOxBCLTJX3Mgk85rMfsnWx86oLxf7p2PX5ONqieTa/qM3tPw4ZXvlAp83NSD8F7+ZgctK1TpoYwtiU2h02HCGioH5tkVCqNVTMH5p00sRy2JU1qyDBP2CII/Dg4WDsIl+zgeX7589srx6YORRQMBfKbodbB743Tl4WLKOEnwWUVBsm94SOlCracU72MSyj068wdpYjyz1FwC2bjQnxnB6Mp/pZ+yyZXtguEaYB+kqhjQ6UUmwSFazOb+rhYjLaoiM+aN9/8KKn0zaCTFpN9eKwWy7/u4EHzO46TdFSNjMfn2iPSJwDPCFHc0I1+vjdAZw5ZjqR/uzi9Zn20oAa5JnLEk/EA3VRWE7J/XrupfFJPtCUuqHPpnlL7ISJtRpSVcB8qsZCm2QEkWoROtCKKxUh3yEcMbWYJwk6DlEBG0bZP6eg06FL3v6RPb7odGuwm7FN8fG4woqtB8e7M5klPpo97GoObNwt+ludTAmxyC5hmcFx+dIvEZKI6igFKHqLH01iY1o7903VzG9QGetyVx5RNmBYUU+zIuSva/yIcECUi4pRmE3VkF2avqulQEUY4yZ/wmNboBzPmAPey3+dSYtBZUjeWWT0pPwCz4Vozxp9xeClIU60qvEFMQCaPvPaA70WlOP9f/ey39macvpGCVa+zfa8gO44wbxpJUlC8GN/pRMTQtzY8Z8/hiNrU+Zq64ZfFGIkdj7m7abcK1EBtws1X4J/hnqvasPvvDSDYWN+QcQVGMqXalkDtTad5rYY0TIR1Eqox3czwPMjKPvF5sFv17Thujr1IZ1Ytl4VX1J0vjXKmLY4lmXipRAro0qVGEcXxEVMMEl54jQMd4J7RjgomU0j1ptjyxY+cLiSyXPfiEcIS2lWDK3ISAy6UZ3Hb5vnPncA94411jcy75ay6B6DSTzK6UTCZR9uDANtPBrvIDgjsfarMiwoax2OlLxaSoYn4iRgkpEGqEkwox5tyI8aKkLlfZ12lO11TxsqRMY89j5JaO55XfPJPDL1LGSnC88Re9Ai+Nu5bZjtwRrvFITUFHPR4ZmxGslQMecgbZO7nHk32qHxYkdvWpup07ojcMCaVrpFAyFZJJbNvBpZfdf39Hdo2kPtT7v0/f8R/B5Nz4f1t9/3zNM/7n6SUHfcWk5dfQFJvcJMgPolGCpOFb/WC0FGWU2asuQyT+rm88ZKZ78Cei/CAh939CH0JYbpZIPtxc2ufXqjS3pHH9lnWK4iJ7OjR/EESpCo2R3MYKyE7rHfhTvWho4cL1QdN4jFTyR6syMwFm124TVDDRXMNveI1Dp/ntwdz8k8kxw7iFSx6+Yx6O+1LzMVrN0BBzziZi9kneZSzgollBnVwBh6oSOPHXrglrOj+QmR/AESrhDpKrWT+8/AiMDxS/5wwRNuGQPLlJ9ovomhJWn8sMLVItQ8N/7IXvtD8kdOoHaw+vBSbFImQsv/OCAIui99E+YSIOMlMvBXkAt+NAZK8wB9Jf8CPtB+TOUOR+z71d/AFXpPBT6+A5FLjxMjLIEoJzrQfquvxEIi+WoUzGR1IzQFNvbYOnxb2PyQ0kGdyXKzW2axQL8lNAXPk6NEjqrRD1oZtKLlFoofrXw0dCNWASHzy+7PSzOUJ3XtaPZsxLDjr+o41fKuKWNmjiZtfkOzItvlV2MDGSheGF0ma04qE3TUEfqJMrXFm7DpK+27DSvCUVf7rbNoljPhha5W7KBqVq0ShUSTbRmuqPtQreVWH4JET5yMhuqMoSd4r/N8sDmeQiQQvi1tcZv7Moc7dT5X5AtCD6kNEGZOzVcNYlpX4AbTsLgSYYliiPyVoniuYYySxsBy5cgb3pD+EK0Gpb0wJg031dPgaL8JZt6sIvzNPEHfVPOjXmaXj4bd4voXzpZ5GApMhILgMbCEWZ2zwgdeQgjNHLbPIt+KqxRwWPLTN6HwZ0Ouijj4UF+Sg0Au8XuIKW0WxlexdrFrDcZJ8Shauat3X0XmHygqgL1nAu2hrJFb4wZXkcS+i36KMyU1yFvYv23bQUJi/3yQpqr/naUOoiEWOxckyq/gq43dFou1DVDaYMZK9tho7+IXXokBCs5GRfOcBK7g3A+jXQ39K4YA8PBRW4m5+yR0ZAxWJncjRVbITvIAPHYRt1EJ3YLiUbqIvoKHtzHKtUy1ddRUQ0AUO41vonZDUOW+mrszw+SW/6Q/IUgNpcXFjkM7F4CSSQ2ExZg85otsMs7kqsQD4OxYeBNDcSpifjMoLb7GEbGWTwasVObmB/bfPcUlq0wYhXCYEDWRW02TP5bBrYsKTGWjnWDDJ1F7zWai0zW/2XsCuvBQjPFcTYaQX3tSXRSm8hsAoDdjArK/OFp6vcWYOE7lizP0Yc+8p16i7/NiXIiiQTp7c7Xus925VEtlKAjUdFhyaiLT7VxDagprMFwix4wZ05u0qj7cDWFd0W9OYHIu3JbJKMXRJ1aYNovugg+QqRN7fNHSi26VSgBpn+JfMuPo3aeqPWik/wI5Rz3BWarPQX4i5+dM0npwVOsX+KsOhC7vDg+OJsz4Q5zlnIeflUWL6QYMbf9WDfLmosLF4Qev3mJiOuHjoor/dMeBpA9iKDkMjYBNbRo414HCxjsHrB4EXNbHzNMDHCLuNBG6Sf+J4MZ/ElVsDSLxjIiGsTPhw8BPjxbfQtskj+dyNMKOOcUYIRBEIqbazz3lmjlRQhplxq673VklMMY6597vu+d89ec/zq7Mi4gQvh87ehYbpOuZEXj5g/Q7S7BFDAAB9DzG35SC853xtWVcnZQoH54jeOqYLR9NDuwxsVthTV7V99n/B7HSbAytbEyVTz/5NhJ8gGIjG0E5j3griULUd5Rg7tQR+90hJgNQKQH2btbSfPcaTOfIexc1db1BxUOhM1vWCpLaYuKr3FdNTt/T3PWCpEUWDKEtzYrjpzlL/wri3MITKsFvtF8QVV/NhVo97aKIBgdliNc10dWdXVDpVtsNn+2UIolrgqdWA4EY8so0YvB4a+aLzMXiMAuOHQrXY0tr+CL10JbvZzgjJJuB1cRkdT7DUqTvnswVUp5kkUSFVtIIFYK05+tQxT6992HHNWVhWxUsD1PkceIrlXuUVRogwmfdhyrf6zzaL8+c0L7GXMZOteAhAVQVwdJh+7nrX7x4LaIIfz2F2v7Dg/uDfz2Fa+4gFm2zHAor8UqimJG3VTJtZEoFXhnDYXvxMJFc6ku2bhbCxzij2z5UNuK0jmp1mnvkVNUfR+SEmj1Lr94Lym75PO7Fs0MIr3GdsWXRXSfgLTVY0FLqba97u1In8NAcY7IC6TjWLigwKEIm43NxTdaVTv9mcKkzuzBkKd8x/xt1p/9BbP7Wyb4bpo1K1gnOpbLvKz58pWl3B55RJ/Z5mRDLPtNQg14jdOEs9+h/V5UVpwrAI8kGbX8KPVPDIMfIqKDjJD9UyDOPhjZ3vFAyecwyq4akUE9mDOtJEK1hpDyi6Ae87sWAClXGTiwPwN7PXWwjxaR79ArHRIPeYKTunVW24sPr/3HPz2IwH8oKH4OlWEmt4BLM6W5g4kMcYbLwj2usodD1088stZA7VOsUSpEVl4w7NMb1EUHMRxAxLF0CIV+0L3iZb+ekB1vSDSFjAZ3hfLJf7gFaXrOKn+mhR+rWw/eTXIcAgl4HvFuBg1LOmOAwJH3eoVEjjwheKA4icbrQCmvAtpQ0mXG0agYp5mj4Rb6mdQ+RV4QBPbxMqh9C7o8nP0Wko2ocnCHeRGhN1XVyT2b9ACsL+6ylUy+yC3QEnaKRIJK91YtaoSrcWZMMwxuM0E9J68Z+YyjA0g8p1PfHAAIROy6Sa04VXOuT6A351FOWhKfTGsFJ3RTJGWYPoLk5FVK4OaYR9hkJvezwF9vQN1126r6isMGXWTqFW+3HL3I/jurlIdDWIVvYY+s6yq7lrFSPAGRdnU7PVwY/SvWbZGpXzy3BQ2LmAJlrONUsZs4oGkly0V267xbD5KMY8woNNsmWG1VVgLCra8aQBBcI4DP2BlNwxhiCtHlaz6OWFoCW0vMR3ErrG7JyMjTSCnvRcsEHgmPnwA6iNpJ2DrFb4gLlhKJyZGaWkA97H6FFdwEcLT6DRQQL++fOkVC4cYGW1TG/3iK5dShRSuiBulmihqgjR45Vi03o2RbQbP3sxt90VxQ6vzdlGfkXmmKmjOi080JSHkLntjvsBJnv7gKscOaTOkEaRQqAnCA4HWtB4XnMtOhpRmH2FH8tTXrIjAGNWEmudQLCkcVlGTQ965Kh0H6ixXbgImQP6b42B49sO5C8pc7iRlgyvSYvcnH9FgQ3azLbQG2cUW96SDojTQStxkOJyOuDGTHAnnWkz29aEwN9FT8EJ4yhXOg+jLTrCPKeEoJ9a7lDXOjEr8AgX4BmnMQ668oW0zYPyQiVMPxKRHtpfnEEyaKhdzNVThlxxDQNdrHeZiUFb6NoY2KwvSb7BnRcpJy+/g/zAYx3fYSN5QEaVD2Y1VsNWxB0BSO12MRsRY8JLfAezRMz5lURuLUnG1ToKk6Q30FughqWN6gBNcFxP/nY/iv+iaUQOa+2Nuym46wtI/DvSfzSp1jEi4SdYBE7YhTiVV5cX9gwboVDMVgZp5YBQlHOQvaDNfcCoCJuYhf5kz5kwiIKPjzgpcRJHPbOhJajeoeRL53cuMahhV8Z7IRr6M4hW0JzT7mzaMUzQpm866zwM7Cs07fJYXuWvjAMkbe5O6V4bu71sOG6JQ4oL8zIeXHheFVavzxmlIyBkgc9IZlEDplMPr8xlcyss4pVUdwK1e7CK2kTsSdq7g5SHRAl3pYUB9Ko4fsh4qleOyJv1z3KFSTSvwEcRO/Ew8ozEDYZSqpfoVW9uhJfYrNAXR0Z3VmeoAD+rVWtwP/13sE/3ICX3HhDG3CMc476dEEC0K3umSAD4j+ZQLVdFOsWL2C1TH5+4KiSWH+lMibo+B55hR3Gq40G1n25sGcN0mEcoU2wN9FCVyQLBhYOu9aHVLWjEKx2JIUZi5ySoHUAI9b8hGzaLMxCZDMLhv8MkcpTqEwz9KFDpCpqQhVmsGQN8m24wyB82FAKNmjgfKRsXRmsSESovAwXjBIoMKSG51p6Um8b3i7GISs7kjTq/PZoioCfJzfKdJTN0Q45kQEQuh9H88M3yEs3DbtRTKALraM0YC8laiMiOOe6ADmTcCiREeAWZelBaEXRaSuj2lx0xHaRYqF65O0Lo5OCFU18A8cMDE4MLYm9w2QSr9NgQAIcRxZsNpA7UJR0e71JL+VU+ISWFk5I97lra8uGg7GlQYhGd4Gc6rxsLFRiIeGO4abP4S4ekQ1fiqDCy87GZHd52fn5aaDGuvOmIofrzpVwMvtbreZ/855OaXTRcNiNE0wzGZSxbjg26v8ko8L537v/XCCWP2MFaArJpvnkep0pA+O86MWjRAZPQRfznZiSIaTppy6m3p6HrNSsY7fDtz7Cl4V/DJAjQDoyiL2uwf1UHVd2AIrzBUSlJaTj4k6NL97a/GqhWKU9RUmjnYKpm2r+JYUcrkCuZKvcYvrg8pDoUKQywY9GDWg03DUFSirlUXBS5SWn/KAntnf0IdHGL/7mwXqDG+LZYjbEdQmqUqq4y54TNmWUP7IgcAw5816YBzwiNIJiE9M4lPCzeI/FGBeYy3p6IAmH4AjXXmvQ4Iy0Y82NTobcAggT2Cdqz6Mx4TdGoq9fn2etrWKUNFyatAHydQTVUQ2S5OWVUlugcNvoUrlA8cJJz9MqOa/W3iVno4zDHfE7zhoY5f5lRTVZDhrQbR8LS4eRLz8iPMyBL6o4PiLlp89FjdokQLaSBmKHUwWp0na5fE3v9zny2YcDXG/jfI9sctulHRbdkI5a4GOPJx4oAJQzVZ/yYAado8KNZUdEFs9ZPiBsausotXMNebEgr0dyopuqfScFJ3ODNPHgclACPdccwv0YJGQdsN2lhoV4HVGBxcEUeUX/alr4nqpcc1CCR3vR7g40zteQg/JvWmFlUE4mAiTpHlYGrB7w+U2KdSwQz2QJKBe/5eiixWipmfP15AFWrK8Sh1GBBYLgzki1wTMhGQmagXqJ2+FuqJ8f0XzXCVJFHQdMAw8xco11HhM347alrAu+wmX3pDFABOvkC+WPX0Uhg1Z5MVHKNROxaR84YV3s12UcM+70cJ460SzEaKLyh472vOMD3XnaK7zxZcXlWqenEvcjmgGNR2OKbI1s8U+iwiW+HotHalp3e1MGDy6BMVIvajnAzkFHbeVsgjmJUkrP9OAwnEHYXVBqYx3q7LvXjoVR0mY8h+ZaOnh053pdsGkmbqhyryN01eVHySr+CkDYkSMeZ1xjPNVM+gVLTDKu2VGsMUJqWO4TwPDP0VOg2/8ITbAUaMGb4LjL7L+Pi11lEVMXTYIlAZ/QHmTENjyx3kDkBdfcvvQt6tKk6jYFM4EG5UXDTaF5+1ZjRz6W7MdJPC+wTkbDUim4p5QQH3b9kGk2Bkilyeur8Bc20wm5uJSBO95GfYDI1EZipoRaH7uVveneqz43tlTZGRQ4a7CNmMHgXyOQQOL6WQkgMUTQDT8vh21aSdz7ERiZT1jK9F+v6wgFvuEmGngSvIUR2CJkc5tx1QygfZnAruONobB1idCLB1FCfO7N1ZdRocT8/Wye+EnDiO9pzqIpnLDl4bkaRKW+ekBVwHn46Shw1X0tclt/0ROijuUB4kIInrVJU4buWf4YITJtjOJ6iKdr1u+flgQeFH70GxKjhdgt/MrwfB4K/sXczQ+9zYcrD4dhY6qZhZ010rrxggWA8JaZyg2pYij8ieYEg1aZJkZK9O1Re7sB0iouf60rK0Gd+AYlp7soqCBCDGwfKeUQhCBn0E0o0GS6PdmjLi0TtCYZeqazqwN+yNINIA8Lk3iPDnWUiIPLGNcHmZDxfeK0iAdxm/T7LnN+gemRL61hHIc0NCAZaiYJR+OHnLWSe8sLrK905B5eEJHNlWq4RmEXIaFTmo49f8w61+NwfEUyuJAwVqZCLFcyHBKAcIVj3sNzfEOXzVKIndxHw+AR93owhbCxUZf6Gs8cz6/1VdrFEPrv330+9s6BtMVPJ3zl/Uf9rUi0Z/opexfdL3ykF76e999GPfVv8fJv/Y/+/5hEMon1tqNFyVRevV9y9/uIvsG3dbB8GRRrgaEXfhx+2xeOFt+cEn3RZanNxdEe2+B6MHpNbrRE53PlDifPvFcp4kO78ILR0T4xyW/WGPyBsqGdoA7zJJCu1TKbGfhnqgnRbxbB2B3UZoeQ2bz2sTVnUwokTcTU21RxN1PYPS3Sar7T0eRIsyCNowr9amwoMU/od9s2APtiKNL6ENOlyKADstAEWKA+sdKDhrJ6BOhRJmZ+QJbAaZ3/5Fq0/lumCgEzGEbu3yi0Y4I4EgVAjqxh4HbuQn0GrRhOWyAfsglQJAVL1y/6yezS2k8RE2MstJLh92NOB3GCYgFXznF4d25qiP4ZCyI4RYGesut6FXK6GwPpKK8WHEkhYui0AyEmr5Ml3uBFtPFdnioI8RiCooa7Z1G1WuyIi3nSNglutc+xY8BkeW3JJXPK6jd2VIMpaSxpVtFq+R+ySK9J6WG5Qvt+C+QH1hyYUOVK7857nFmyDBYgZ/o+AnibzNVqyYCJQvyDXDTK+iXdkA71bY7TL3bvuLxLBQ8kbTvTEY9aqkQ3+MiLWbEgjLzOH+lXgco1ERgzd80rDCymlpaRQbOYnKG/ODoFl46lzT0cjM5FYVvv0qLUbD5lyJtMUaC1pFlTkNONx6lliaX9o0i/1vws5bNKn5OuENQEKmLlcP4o2ZmJjD4zzd3Fk32uQ4uRWkPSUqb4LBe3EXHdORNB2BWsws5daRnMfNVX7isPSb1hMQdAJi1/qmDMfRUlCU74pmnzjbXfL8PVG8NsW6IQM2Ne23iCPIpryJjYbVnm5hCvKpMa7HLViNiNc+xTfDIaKm3jctViD8A1M9YPJNk003VVr4Zo2MuGW8vil8SLaGpPXqG7I4DLdtl8a4Rbx1Lt4w5Huqaa1XzZBtj208EJVGcmKYEuaeN27zT9EE6a09JerXdEbpaNgNqYJdhP1NdqiPKsbDRUi86XvvNC7rME5mrSQtrzAZVndtSjCMqd8BmaeGR4l4YFULGRBeXIV9Y4yxLFdyoUNpiy2IhePSWzBofYPP0eIa2q5JP4j9G8at/AqoSsLAUuRXtvgsqX/zYwsE+of6oSDbUOo4RMJw+DOUTJq+hnqwKim9Yy/napyZNTc2rCq6V9jHtJbxGPDwlzWj/Sk3zF/BHOlT/fSjSq7FqlPI1q6J+ru8Aku008SFINXZfOfnZNOvGPMtEmn2gLPt+H4QLA+/SYe4j398auzhKIp2Pok3mPC5q1IN1HgR+mnEfc4NeeHYwd2/kpszR3cBn7ni9NbIqhtSWFW8xbUJuUPVOeeXu3j0IGZmFNiwaNZ6rH4/zQ2ODz6tFxRLsUYZu1bfd1uIvfQDt4YD/efKYv8VF8bHGDgK22w2Wqwpi43vNCOXFJZCGMqWiPbL8mil6tsmOTXAWCyMCw73e2rADZj2IK6rqksM3EXF2cbLb4vjB14wa/yXK5vwU+05MzERJ5nXsXsW21o7M+gO0js2OyKciP5uF2iXyb2DiptwQeHeqygkrNsqVCSlldxBMpwHi1vfc8RKpP/4L3Lmpq6DZcvhDDfxTCE3splacTcOtXdK2g303dIWBVe2wD/Gvja1cClFQ67gw0t1ZUttsUgQ1Veky8oOpS6ksYEc4bqseCbZy766SvL3FodmnahlWJRgVCNjPxhL/fk2wyvlKhITH/VQCipOI0dNcRa5B1M5HmOBjTLeZQJy237e2mobwmDyJNHePhdDmiknvLKaDbShL+Is1XTCJuLQd2wmdJL7+mKvs294whXQD+vtd88KKk0DXP8B1Xu9J+xo69VOuFgexgTrcvI6SyltuLix9OPuE6/iRJYoBMEXxU4shQMf4Fjqwf1PtnJ/wWSZd29rhZjRmTGgiGTAUQqRz+nCdjeMfYhsBD5Lv60KILWEvNEHfmsDs2L0A252351eUoYxAysVaCJVLdH9QFWAmqJDCODUcdoo12+gd6bW2boY0pBVHWL6LQDK5bYWh1V8vFvi0cRpfwv7cJiMX3AZNJuTddHehTIdU0YQ/sQ1dLoF2xQPcCuHKiuCWOY30DHe1OwcClLAhqAKyqlnIbH/8u9ScJpcS4kgp6HKDUdiOgRaRGSiUCRBjzI5gSksMZKqy7Sd51aeg0tgJ+x0TH9YH2Mgsap9N7ENZdEB0bey2DMTrBA1hn56SErNHf3tKtqyL9b6yXEP97/rc+jgD2N1LNUH6RM9AzP3kSipr06RkKOolR7HO768jjWiH1X92jA7dkg7gcNcjqsZCgfqWw0tPXdLg20cF6vnQypg7gLtkazrHAodyYfENPQZsdfnjMZiNu4nJO97D1/sQE+3vNFzrSDOKw+keLECYf7RJwVHeP/j79833oZ0egonYB2FlFE5qj02B/LVOMJQlsB8uNg3Leg4qtZwntsOSNidR0abbZmAK4sCzvt8Yiuz2yrNCJoH5O8XvX/vLeR/BBYTWj0sOPYM/jyxRd5+/JziKAABaPcw/34UA3aj/gLZxZgRCWN6m4m3demanNgsx0P237/Q+Ew5VYnJPkyCY0cIVHoFn2Ay/e7U4P19APbPFXEHX94N6KhEMPG7iwB3+I+O1jd5n6VSgHegxgaSawO6iQCYFgDsPSMsNOcUj4q3sF6KzGaH/0u5PQoAj/8zq6Uc9MoNrGqhYeb2jQo0WlGlXjxtanZLS24/OIN5Gx/2g684BPDQpwlqnkFcxpmP/osnOXrFuu4PqifouQH0eF5qCkvITQbJw/Zvy5mAHWC9oU+cTiYhJmSfKsCyt1cGVxisKu+NymEQIAyaCgud/V09qT3nk/9s/SWsYtha7yNpzBIMM40rCSGaJ9u6lEkl00vXBiEt7p9P5IBCiavynEOv7FgLqPdeqxRiCwuFVMolSIUBcoyfUC2e2FJSAUgYdVGFf0b0Kn2EZlK97yyxrT2MVgvtRikfdaAW8RwEEfN+B7/eK8bBdp7URpbqn1xcrC6d2UjdsKbzCjBFqkKkoZt7Mrhg6YagE7spkqj0jOrWM+UGQ0MUlG2evP1uE1p2xSv4dMK0dna6ENcNUF+xkaJ7B764NdxLCpuvhblltVRAf7vK5qPttJ/9RYFUUSGcLdibnz6mf7WkPO3MkUUhR2mAOuGv8IWw5XG1ZvoVMnjSAZe6T7WYA99GENxoHkMiKxHlCuK5Gd0INrISImHQrQmv6F4mqU/TTQ8nHMDzCRivKySQ8dqkpQgnUMnwIkaAuc6/FGq1hw3b2Sba398BhUwUZSAIO8XZvnuLdY2n6hOXws+gq9BHUKcKFA6kz6FDnpxLPICa3qGhnc97bo1FT/XJk48LrkHJ2CAtBv0RtN97N21plfpXHvZ8gMJb7Zc4cfI6MbPwsW7AilCSXMFIEUEmir8XLEklA0ztYbGpTTGqttp5hpFTTIqUyaAIqvMT9A/x+Ji5ejA4Bhxb/cl1pUdOD6epd3yilIdO6j297xInoiBPuEDW2/UfslDyhGkQs7Wy253bVnlT+SWg89zYIK/9KXFl5fe+jow2rd5FXv8zDPrmfMXiUPt9QBO/iK4QGbX5j/7Rx1c1vzsY8ONbP3lVIaPrhL4+1QrECTN3nyKavGG0gBBtHvTKhGoBHgMXHStFowN+HKrPriYu+OZ05Frn8okQrPaaxoKP1ULCS/cmKFN3gcH7HQlVjraCeQmtjg1pSQxeuqXiSKgLpxc/1OiZsU4+n4lz4hpahGyWBURLi4642n1gn9qz9bIsaCeEPJ0uJmenMWp2tJmIwLQ6VSgDYErOeBCfSj9P4G/vI7oIF+l/n5fp956QgxGvur77ynawAu3G9MdFbJbu49NZnWnnFcQHjxRuhUYvg1U/e84N4JTecciDAKb/KYIFXzloyuE1eYXf54MmhjTq7B/yBToDzzpx3tJCTo3HCmVPYfmtBRe3mPYEE/6RlTIxbf4fSOcaKFGk4gbaUWe44hVk9SZzhW80yfW5QWBHxmtUzvMhfVQli4gZTktIOZd9mjJ5hsbmzttaHQB29Am3dZkmx3g/qvYocyhZ2PXAWsNQiIaf+Q8W/MWPIK7/TjvCx5q2XRp4lVWydMc2wIQkhadDB0xsnw/kSEyGjLKjI4coVIwtubTF3E7MJ6LS6UOsJKj82XVAVPJJcepfewbzE91ivXZvOvYfsmMevwtPpfMzGmC7WJlyW2j0jh7AF1JLmwEJSKYwIvu6DHc3YnyLH9ZdIBnQ+nOVDRiP+REpqv++typYHIvoJyICGA40d8bR7HR2k7do6UQTHF4oriYeIQbxKe4Th6+/l1BjUtS9hqORh3MbgvYrStXTfSwaBOmAVQZzpYNqsAmQyjY56MUqty3c/xH6GuhNvNaG9vGbG6cPtBM8UA3e8r51D0AR9kozKuGGSMgLz3nAHxDNnc7GTwpLj7/6HeWp1iksDeTjwCLpxejuMtpMnGJgsiku1sOACwQ9ukzESiDRN77YNESxR5LphOlcASXA5uIts1LnBIcn1J7BLWs49DMALSnuz95gdOrTZr0u1SeYHinno/pE58xYoXbVO/S+FEMMs5qyWkMnp8Q3ClyTlZP52Y9nq7b8fITPuVXUk9ohG5EFHw4gAEcjFxfKb3xuAsEjx2z1wxNbSZMcgS9GKyW3R6KwJONgtA64LTyxWm8Bvudp0M1FdJPEGopM4Fvg7G/hsptkhCfHFegv4ENwxPeXmYhxwZy7js+BeM27t9ODBMynVCLJ7RWcBMteZJtvjOYHb5lOnCLYWNEMKC59BA7covu1cANa2PXL05iGdufOzkgFqqHBOrgQVUmLEc+Mkz4Rq8O6WkNr7atNkH4M8d+SD1t/tSzt3oFql+neVs+AwEI5JaBJaxARtY2Z4mKoUqxds4UpZ0sv3zIbNoo0J4fihldQTX3XNcuNcZmcrB5LTWMdzeRuAtBk3cZHYQF6gTi3PNuDJ0nmR+4LPLoHvxQIxRgJ9iNNXqf2SYJhcvCtJiVWo85TsyFOuq7EyBPJrAdhEgE0cTq16FQXhYPJFqSfiVn0IQnPOy0LbU4BeG94QjdYNB0CiQ3QaxQqD2ebSMiNjaVaw8WaM4Z5WnzcVDsr4eGweSLa2DE3BWViaxhZFIcSTjgxNCAfelg+hznVOYoe5VqTYs1g7WtfTm3e4/WduC6p+qqAM8H4ZyrJCGpewThTDPe6H7CzX/zQ8Tm+r65HeZn+MsmxUciEWPlAVaK/VBaQBWfoG/aRL/jSZIQfep/89GjasWmbaWzeEZ2R1FOjvyJT37O9B8046SRSKVEnXWlBqbkb5XCS3qFeuE9xb9+frEknxWB5h1D/hruz2iVDEAS7+qkEz5Ot5agHJc7WCdY94Ws61sURcX5nG8UELGBAHZ3i+3VulAyT0nKNNz4K2LBHBWJcTBX1wzf+//u/j/9+//v87+9/l9Lbh/L/uyNYiTsWV2LwsjaA6MxTuzFMqmxW8Jw/+IppdX8t/Clgi1rI1SN0UC/r6tX/4lUc2VV1OQReSeCsjUpKZchw4XUcjHfw6ryCV3R8s6VXm67vp4n+lcPV9gJwmbKQEsmrJi9c2vkwrm8HFbVYNTaRGq8D91t9n5+U+aD/hNtN3HjC/nC/vUoGFSCkXP+NlRcmLUqLbiUBl4LYf1U/CCvwtd3ryCH8gUmGITAxiH1O5rnGTz7y1LuFjmnFGQ1UWuM7HwfXtWl2fPFKklYwNUpF2IL/TmaRETjQiM5SJacI+3Gv5MBU8lP5Io6gWkawpyzNEVGqOdx4YlO1dCvjbWFZWbCmeiFKPSlMKtKcMFLs/KQxtgAHi7NZNCQ32bBAW2mbHflVZ8wXKi1JKVHkW20bnYnl3dKWJeWJOiX3oKPBD6Zbi0ZvSIuWktUHB8qDR8DMMh1ZfkBL9FS9x5r0hBGLJ8pUCJv3NYH+Ae8p40mZWd5m5fhobFjQeQvqTT4VKWIYfRL0tfaXKiVl75hHReuTJEcqVlug+eOIIc4bdIydtn2K0iNZPsYWQvQio2qbO3OqAlPHDDOB7DfjGEfVF51FqqNacd6QmgFKJpMfLp5DHTv4wXlONKVXF9zTJpDV4m1sYZqJPhotcsliZM8yksKkCkzpiXt+EcRQvSQqmBS9WdWkxMTJXPSw94jqI3varCjQxTazjlMH8jTS8ilaW8014/vwA/LNa+YiFoyyx3s/KswP3O8QW1jtq45yTM/DX9a8M4voTVaO2ebvw1EooDw/yg6Y1faY+WwrdVs5Yt0hQ5EwRfYXSFxray1YvSM+kYmlpLG2/9mm1MfmbKHXr44Ih8nVKb1M537ZANUkCtdsPZ80JVKVKabVHCadaLXg+IV8i5GSwpZti0h6diTaKs9sdpUKEpd7jDUpYmHtiX33SKiO3tuydkaxA7pEc9XIQEOfWJlszj5YpL5bKeQyT7aZSBOamvSHl8xsWvgo26IP/bqk+0EJUz+gkkcvlUlyPp2kdKFtt7y5aCdks9ZJJcFp5ZWeaWKgtnXMN3ORwGLBE0PtkEIek5FY2aVssUZHtsWIvnljMVJtuVIjpZup/5VL1yPOHWWHkOMc6YySWMckczD5jUj2mlLVquFaMU8leGVaqeXis+aRRL8zm4WuBk6cyWfGMxgtr8useQEx7k/PvRoZyd9nde1GUCV84gMX8Ogu/BWezYPSR27llzQnA97oo0pYyxobYUJfsj+ysTm9zJ+S4pk0TGo9VTG0KjqYhTmALfoDZVKla2b5yhv241PxFaLJs3i05K0AAIdcGxCJZmT3ZdT7CliR7q+kur7WdQjygYtOWRL9B8E4s4LI8KpAj7bE0dg7DLOaX+MGeAi0hMMSSWZEz+RudXbZCsGYS0QqiXjH9XQbd8sCB+nIVTq7/T/FDS+zWY9q7Z2fdq1tdLb6v3hKKVDAw5gjj6o9r1wHFROdHc18MJp4SJ2Ucvu+iQ9EgkekW8VCM+psM6y+/2SBy8tNN4a3L1MzP+OLsyvESo5gS7IQOnIqMmviJBVc6zbVG1n8eXiA3j46kmvvtJlewwNDrxk4SbJOtP/TV/lIVK9ueShNbbMHfwnLTLLhbZuO79ec5XvfgRwLFK+w1r5ZWW15rVFZrE+wKqNRv5KqsLNfpGgnoUU6Y71NxEmN7MyqwqAQqoIULOw/LbuUB2+uE75gJt+kq1qY4LoxV+qR/zalupea3D5+WMeaRIn0sAI6DDWDh158fqUb4YhAxhREbUN0qyyJYkBU4V2KARXDT65gW3gRsiv7xSPYEKLwzgriWcWgPr0sbZnv7m1XHNFW6xPdGNZUdxFiUYlmXNjDVWuu7LCkX/nVkrXaJhiYktBISC2xgBXQnNEP+cptWl1eG62a7CPXrnrkTQ5BQASbEqUZWMDiZUisKyHDeLFOaJILUo5f6iDt4ZO8MlqaKLto0AmTHVVbkGuyPa1R/ywZsWRoRDoRdNMMHwYTsklMVnlAd2S0282bgMI8fiJpDh69OSL6K3qbo20KfpNMurnYGQSr/stFqZ7hYsxKlLnKAKhsmB8AIpEQ4bd/NrTLTXefsE6ChRmKWjXKVgpGoPs8GAicgKVw4K0qgDgy1A6hFq1WRat3fHF+FkU+b6H4NWpOU3KXTxrIb2qSHAb+qhm8hiSROi/9ofapjxhyKxxntPpge6KL5Z4+WBMYkAcE6+0Hd3Yh2zBsK2MV3iW0Y6cvOCroXlRb2MMJtdWx+3dkFzGh2Pe3DZ9QpSqpaR/rE1ImOrHqYYyccpiLC22amJIjRWVAherTfpQLmo6/K2pna85GrDuQPlH1Tsar8isAJbXLafSwOof4gg9RkAGm/oYpBQQiPUoyDk2BCQ1k+KILq48ErFo4WSRhHLq/y7mgw3+L85PpP6xWr6cgp9sOjYjKagOrxF148uhuaWtjet953fh1IQiEzgC+d2IgBCcUZqgTAICm2bR8oCjDLBsmg+ThyhfD+zBalsKBY1Ce54Y/t9cwfbLu9SFwEgphfopNA3yNxgyDafUM3mYTovZNgPGdd4ZFFOj1vtfFW3u7N+iHEN1HkeesDMXKPyoCDCGVMo4GCCD6PBhQ3dRZIHy0Y/3MaE5zU9mTCrwwnZojtE+qNpMSkJSpmGe0EzLyFelMJqhfFQ7a50uXxZ8pCc2wxtAKWgHoeamR2O7R+bq7IbPYItO0esdRgoTaY38hZLJ5y02oIVwoPokGIzxAMDuanQ1vn2WDQ00Rh6o5QOaCRu99fwDbQcN0XAuqkFpxT/cfz3slGRVokrNU0iqiMAJFEbKScZdmSkTUznC0U+MfwFOGdLgsewRyPKwBZYSmy6U325iUhBQNxbAC3FLKDV9VSOuQpOOukJ/GAmu/tyEbX9DgEp6dv1zoU0IqzpG6gssSjIYRVPGgU1QAQYRgIT8gEV0EXr1sqeh2I6rXjtmoCYyEDCe/PkFEi/Q48FuT29p557iN+LCwk5CK/CZ2WdAdfQZh2Z9QGrzPLSNRj5igUWzl9Vi0rCqH8G1Kp4QMLkuwMCAypdviDXyOIk0AHTM8HBYKh3b0/F+DxoNj4ZdoZfCpQVdnZarqoMaHWnMLNVcyevytGsrXQEoIbubqWYNo7NRHzdc0zvT21fWVirj7g36iy6pxogfvgHp1xH1Turbz8QyyHnXeBJicpYUctbzApwzZ1HT+FPEXMAgUZetgeGMwt4G+DHiDT2Lu+PT21fjJCAfV16a/Wu1PqOkUHSTKYhWW6PhhHUlNtWzFnA7MbY+r64vkwdpfNB2JfWgWXAvkzd42K4lN9x7Wrg4kIKgXCb4mcW595MCPJ/cTfPAMQMFWwnqwde4w8HZYJFpQwcSMhjVz4B8p6ncSCN1X4klxoIH4BN2J6taBMj6lHkAOs8JJAmXq5xsQtrPIPIIp/HG6i21xMGcFgqDXSRF0xQg14d2uy6HgKE13LSvQe52oShF5Jx1R6avyL4thhXQZHfC94oZzuPUBKFYf1VvDaxIrtV6dNGSx7DO0i1p6CzBkuAmEqyWceQY7F9+U0ObYDzoa1iKao/cOD/v6Q9gHrrr1uCeOk8fST9MG23Ul0KmM3r+Wn6Hi6WAcL7gEeaykicvgjzkjSwFsAXIR81Zx4QJ6oosVyJkCcT+4xAldCcihqvTf94HHUPXYp3REIaR4dhpQF6+FK1H0i9i7Pvh8owu3lO4PT1iuqu+DkL2Bj9+kdfGAg2TXw03iNHyobxofLE2ibjsYDPgeEQlRMR7afXbSGQcnPjI2D+sdtmuQ771dbASUsDndU7t58jrrNGRzISvwioAlHs5FA+cBE5Ccznkd8NMV6BR6ksnKLPZnMUawRDU1MZ/ib3xCdkTblHKu4blNiylH5n213yM0zubEie0o4JhzcfAy3H5qh2l17uLooBNLaO+gzonTH2uF8PQu9EyH+pjGsACTMy4cHzsPdymUSXYJOMP3yTkXqvO/lpvt0cX5ekDEu9PUfBeZODkFuAjXCaGdi6ew4qxJ8PmFfwmPpkgQjQlWqomFY6UkjmcnAtJG75EVR+NpzGpP1Ef5qUUbfowrC3zcSLX3BxgWEgEx/v9cP8H8u1Mvt9/rMDYf6sjwU1xSOPBgzFEeJLMRVFtKo5QHsUYT8ZRLCah27599EuqoC9PYjYO6aoAMHB8X1OHwEAYouHfHB3nyb2B+SnZxM/vw/bCtORjLMSy5aZoEpvgdGvlJfNPFUu/p7Z4VVK1hiI0/UTuB3ZPq4ohEbm7Mntgc1evEtknaosgZSwnDC2BdMmibpeg48X8Ixl+/8+xXdbshQXUPPvx8jT3fkELivHSmqbhblfNFShWAyQnJ3WBU6SMYSIpTDmHjdLVAdlADdz9gCplZw6mTiHqDwIsxbm9ErGusiVpg2w8Q3khKV/R9Oj8PFeF43hmW/nSd99nZzhyjCX3QOZkkB6BsH4H866WGyv9E0hVAzPYah2tkRfQZMmP2rinfOeQalge0ovhduBjJs9a1GBwReerceify49ctOh5/65ATYuMsAkVltmvTLBk4oHpdl6i+p8DoNj4Fb2vhdFYer2JSEilEwPd5n5zNoGBXEjreg/wh2NFnNRaIUHSOXa4eJRwygZoX6vnWnqVdCRT1ARxeFrNBJ+tsdooMwqnYhE7zIxnD8pZH+P0Nu1wWxCPTADfNWmqx626IBJJq6NeapcGeOmbtXvl0TeWG0Y7OGGV4+EHTtNBIT5Wd0Bujl7inXgZgfXTM5efD3qDTJ54O9v3Bkv+tdIRlq1kXcVD0BEMirmFxglNPt5pedb1AnxuCYMChUykwsTIWqT23XDpvTiKEru1cTcEMeniB+HQDehxPXNmkotFdwUPnilB/u4Nx5Xc6l8J9jH1EgKZUUt8t8cyoZleDBEt8oibDmJRAoMKJ5Oe9CSWS5ZMEJvacsGVdXDWjp/Ype5x0p9PXB2PAwt2LRD3d+ftNgpuyvxlP8pB84oB1i73vAVpwyrmXW72hfW6Dzn9Jkj4++0VQ4d0KSx1AsDA4OtXXDo63/w+GD+zC7w5SJaxsmnlYRQ4dgdjA7tTl2KNLnpJ+mvkoDxtt1a4oPaX3EVqj96o9sRKBQqU7ZOiupeAIyLMD+Y3YwHx30XWHB5CQiw7q3mj1EDlP2eBsZbz79ayUMbyHQ7s8gu4Lgip1LiGJj7NQj905/+rgUYKAA5qdrlHKIknWmqfuR+PB8RdBkDg/NgnlT89G72h2NvySnj7UyBwD+mi/IWs1xWbxuVwUIVXun5cMqBtFbrccI+DILjsVQg6eeq0itiRfedn89CvyFtpkxaauEvSANuZmB1p8FGPbU94J9medwsZ9HkUYjmI7OH5HuxendLbxTaYrPuIfE2ffXFKhoNBUp33HsFAXmCV/Vxpq5AYgFoRr5Ay93ZLRlgaIPjhZjXZZChT+aE5iWAXMX0oSFQEtwjiuhQQItTQX5IYrKfKB+queTNplR1Hoflo5/I6aPPmACwQCE2jTOYo5Dz1cs7Sod0KTG/3kEDGk3kUaUCON19xSJCab3kNpWZhSWkO8l+SpW70Wn3g0ciOIJO5JXma6dbos6jyisuxXwUUhj2+1uGhcvuliKtWwsUTw4gi1c/diEEpZHoKoxTBeMDmhPhKTx7TXWRakV8imJR355DcIHkR9IREHxohP4TbyR5LtFU24umRPRmEYHbpe1LghyxPx7YgUHjNbbQFRQhh4KeU1EabXx8FS3JAxp2rwRDoeWkJgWRUSKw6gGP5U2PuO9V4ZuiKXGGzFQuRuf+tkSSsbBtRJKhCi3ENuLlXhPbjTKD4djXVnfXFds6Zb+1XiUrRfyayGxJq1+SYBEfbKlgjiSmk0orgTqzSS+DZ5rTqsJbttiNtp+KMqGE2AHGFw6jQqM5vD6vMptmXV9OAjq49Uf/Lx9Opam+Hn5O9p8qoBBAQixzQZ4eNVkO9sPzJAMyR1y4/RCQQ1s0pV5KAU5sKLw3tkcFbI/JqrjCsK4Mw+W8aod4lioYuawUiCyVWBE/qPaFi5bnkgpfu/ae47174rI1fqQoTbW0HrU6FAejq7ByM0V4zkZTg02/YJK2N7hUQRCeZ4BIgSEqgD8XsjzG6LIsSbuHoIdz/LhFzbNn1clci1NHWJ0/6/O8HJMdIpEZbqi1RrrFfoo/rI/7ufm2MPG5lUI0IYJ4MAiHRTSOFJ2oTverFHYXThkYFIoyFx6rMYFgaOKM4xNWdlOnIcKb/suptptgTOTdVIf4YgdaAjJnIAm4qNNHNQqqAzvi53GkyRCEoseUBrHohZsjUbkR8gfKtc/+Oa72lwxJ8Mq6HDfDATbfbJhzeIuFQJSiw1uZprHlzUf90WgqG76zO0eCB1WdPv1IT6sNxxh91GEL2YpgC97ikFHyoaH92ndwduqZ6IYjkg20DX33MWdoZk7QkcKUCgisIYslOaaLyvIIqRKWQj16jE1DlQWJJaPopWTJjXfixEjRJJo8g4++wuQjbq+WVYjsqCuNIQW3YjnxKe2M5ZKEqq+cX7ZVgnkbsU3RWIyXA1rxv4kGersYJjD//auldXGmcEbcfTeF16Y1708FB1HIfmWv6dSFi6oD4E+RIjCsEZ+kY7dKnwReJJw3xCjKvi3kGN42rvyhUlIz0Bp+fNSV5xwFiuBzG296e5s/oHoFtUyUplmPulIPl+e1CQIQVtjlzLzzzbV+D/OVQtYzo5ixtMi5BmHuG4N/uKfJk5UIREp7+12oZlKtPBomXSzAY0KgtbPzzZoHQxujnREUgBU+O/jKKhgxVhRPtbqyHiUaRwRpHv7pgRPyUrnE7fYkVblGmfTY28tFCvlILC04Tz3ivkNWVazA+OsYrxvRM/hiNn8Fc4bQBeUZABGx5S/xFf9Lbbmk298X7iFg2yeimvsQqqJ+hYbt6uq+Zf9jC+Jcwiccd61NKQtFvGWrgJiHB5lwi6fR8KzYS7EaEHf/ka9EC7H8D+WEa3TEACHBkNSj/cXxFeq4RllC+fUFm2xtstYLL2nos1DfzsC9vqDDdRVcPA3Ho95aEQHvExVThXPqym65llkKlfRXbPTRiDepdylHjmV9YTWAEjlD9DdQnCem7Aj/ml58On366392214B5zrmQz/9ySG2mFqEwjq5sFl5tYJPw5hNz8lyZPUTsr5E0F2C9VMPnZckWP7+mbwp/BiN7f4kf7vtGnZF2JGvjK/sDX1RtcFY5oPQnE4lIAYV49U3C9SP0LCY/9i/WIFK9ORjzM9kG/KGrAuwFmgdEpdLaiqQNpCTGZVuAO65afkY1h33hrqyLjZy92JK3/twdj9pafFcwfXONmPQWldPlMe7jlP24Js0v9m8bIJ9TgS2IuRvE9ZVRaCwSJYOtAfL5H/YS4FfzKWKbek+GFulheyKtDNlBtrdmr+KU+ibHTdalzFUmMfxw3f36x+3cQbJLItSilW9cuvZEMjKw987jykZRlsH/UI+HlKfo2tLwemBEeBFtmxF2xmItA/dAIfQ+rXnm88dqvXa+GapOYVt/2waFimXFx3TC2MUiOi5/Ml+3rj/YU6Ihx2hXgiDXFsUeQkRAD6wF3SCPi2flk7XwKAA4zboqynuELD312EJ88lmDEVOMa1W/K/a8tGylZRMrMoILyoMQzzbDJHNZrhH77L9qSC42HVmKiZ5S0016UTp83gOhCwz9XItK9fgXfK3F5d7nZCBUekoLxrutQaPHa16Rjsa0gTrzyjqTnmcIcrxg6X6dkKiucudc0DD5W4pJPf0vuDW8r5/uw24YfMuxFRpD2ovT2mFX79xH6Jf+MVdv2TYqR6/955QgVPe3JCD/WjAYcLA9tpXgFiEjge2J5ljeI/iUzg91KQuHkII4mmHZxC3XQORLAC6G7uFn5LOmlnXkjFdoO976moNTxElS8HdxWoPAkjjocDR136m2l+f5t6xaaNgdodOvTu0rievnhNAB79WNrVs6EsPgkgfahF9gSFzzAd+rJSraw5Mllit7vUP5YxA843lUpu6/5jAR0RvH4rRXkSg3nE+O5GFyfe+L0s5r3k05FyghSFnKo4TTgs07qj4nTLqOYj6qaW9knJTDkF5OFMYbmCP+8H16Ty482OjvERV6OFyw043L9w3hoJi408sR+SGo1WviXUu8d7qS+ehKjpKwxeCthsm2LBFSFeetx0x4AaKPxtp3CxdWqCsLrB1s/j5TAhc1jNZsXWl6tjo/WDoewxzg8T8NnhZ1niUwL/nhfygLanCnRwaFGDyLw+sfZhyZ1UtYTp8TYB6dE7R3VsKKH95CUxJ8u8N+9u2/9HUNKHW3x3w5GQrfOPafk2w5qZq8MaHT0ebeY3wIsp3rN9lrpIsW9c1ws3VNV+JwNz0Lo9+V7zZr6GD56We6gWVIvtmam5GPPkVAbr74r6SwhuL+TRXtW/0pgyX16VNl4/EAD50TnUPuwrW6OcUO2VlWXS0inq872kk7GUlW6o/ozFKq+Sip6LcTtSDfDrPTcCHhx75H8BeRon+KG2wRwzfDgWhALmiWOMO6h3pm1UCZEPEjScyk7tdLx6WrdA2N1QTPENvNnhCQjW6kl057/qv7IwRryHrZBCwVSbLLnFRiHdTwk8mlYixFt1slEcPD7FVht13HyqVeyD55HOXrh2ElAxJyinGeoFzwKA91zfrdLvDxJSjzmImfvTisreI25EDcVfGsmxLVbfU8PGe/7NmWWKjXcdTJ11jAlVIY/Bv/mcxg/Q10vCHwKG1GW/XbJq5nxDhyLqiorn7Wd7VEVL8UgVzpHMjQ+Z8DUgSukiVwWAKkeTlVVeZ7t1DGnCgJVIdBPZAEK5f8CDyDNo7tK4/5DBjdD5MPV86TaEhGsLVFPQSI68KlBYy84FievdU9gWh6XZrugvtCZmi9vfd6db6V7FmoEcRHnG36VZH8N4aZaldq9zZawt1uBFgxYYx+Gs/qW1jwANeFy+LCoymyM6zgG7j8bGzUyLhvrbJkTYAEdICEb4kMKusKT9V3eIwMLsjdUdgijMc+7iKrr+TxrVWG0U+W95SGrxnxGrE4eaJFfgvAjUM4SAy8UaRwE9j6ZQH5qYAWGtXByvDiLSDfOD0yFA3UCMKSyQ30fyy1mIRg4ZcgZHLNHWl+c9SeijOvbOJxoQy7lTN2r3Y8p6ovxvUY74aOYbuVezryqXA6U+fcp6wSV9X5/OZKP18tB56Ua0gMyxJI7XyNT7IrqN8GsB9rL/kP5KMrjXxgqKLDa+V5OCH6a5hmOWemMUsea9vQl9t5Oce76PrTyTv50ExOqngE3PHPfSL//AItPdB7kGnyTRhVUUFNdJJ2z7RtktZwgmQzhBG/G7QsjZmJfCE7k75EmdIKH7xlnmDrNM/XbTT6FzldcH/rcRGxlPrv4qDScqE7JSmQABJWqRT/TUcJSwoQM+1jvDigvrjjH8oeK2in1S+/yO1j8xAws/T5u0VnIvAPqaE1atNuN0cuRliLcH2j0nTL4JpcR7w9Qya0JoaHgsOiALLCCzRkl1UUESz+ze/gIXHGtDwgYrK6pCFKJ1webSDog4zTlPkgXZqxlQDiYMjhDpwTtBW2WxthWbov9dt2X9XFLFmcF+eEc1UaQ74gqZiZsdj63pH1qcv3Vy8JYciogIVKsJ8Yy3J9w/GhjWVSQAmrS0BPOWK+RKV+0lWqXgYMnIFwpcZVD7zPSp547i9HlflB8gVnSTGmmq1ClO081OW/UH11pEQMfkEdDFzjLC1Cdo/BdL3s7cXb8J++Hzz1rhOUVZFIPehRiZ8VYu6+7Er7j5PSZu9g/GBdmNzJmyCD9wiswj9BZw+T3iBrg81re36ihMLjoVLoWc+62a1U/7qVX5CpvTVF7rocSAKwv4cBVqZm7lLDS/qoXs4fMs/VQi6BtVbNA3uSzKpQfjH1o3x4LrvkOn40zhm6hjduDglzJUwA0POabgdXIndp9fzhOo23Pe+Rk9GSLX0d71Poqry8NQDTzNlsa+JTNG9+UrEf+ngxCjGEsDCc0bz+udVRyHQI1jmEO3S+IOQycEq7XwB6z3wfMfa73m8PVRp+iOgtZfeSBl01xn03vMaQJkyj7vnhGCklsCWVRUl4y+5oNUzQ63B2dbjDF3vikd/3RUMifPYnX5Glfuk2FsV/7RqjI9yKTbE8wJY+74p7qXO8+dIYgjtLD/N8TJtRh04N9tXJA4H59IkMmLElgvr0Q5OCeVfdAt+5hkh4pQgfRMHpL74XatLQpPiOyHRs/OdmHtBf8nOZcxVKzdGclIN16lE7kJ+pVMjspOI+5+TqLRO6m0ZpNXJoZRv9MPDRcAfJUtNZHyig/s2wwReakFgPPJwCQmu1I30/tcBbji+Na53i1W1N+BqoY7Zxo+U/M9XyJ4Ok2SSkBtoOrwuhAY3a03Eu6l8wFdIG1cN+e8hopTkiKF093KuH/BcB39rMiGDLn6XVhGKEaaT/vqb/lufuAdpGExevF1+J9itkFhCfymWr9vGb3BTK4j598zRH7+e+MU9maruZqb0pkGxRDRE1CD4Z8LV4vhgPidk5w2Bq816g3nHw1//j3JStz7NR9HIWELO8TMn3QrP/zZp//+Dv9p429/ogv+GATR+n/UdF+ns9xNkXZQJXY4t9jMkJNUFygAtzndXwjss+yWH9HAnLQQfhAskdZS2l01HLWv7L7us5uTH409pqitvfSOQg/c+Zt7k879P3K9+WV68n7+3cZfuRd/dDPP/03rn+d+/nBvWfgDlt8+LzjqJ/vx3CnNOwiXhho778C96iD+1TBvRZYeP+EH81LE0vVwOOrmCLB3iKzI1x+vJEsrPH4uF0UB4TJ4X3uDfOCo3PYpYe0MF4bouh0DQ/l43fxUF7Y+dpWuvTSffB0yO2UQUETI/LwCZE3BvnevJ7c9zUlY3H58xzke6DNFDQG8n0WtDN4LAYN4nogKav1ezOfK/z+t6tsCTp+dhx4ymjWuCJk1dEUifDP+HyS4iP/Vg9B2jTo9L4NbiBuDS4nuuHW6H+JDQn2JtqRKGkEQPEYE7uzazXIkcxIAqUq1esasZBETlEZY7y7Jo+RoV/IsjY9eIMkUvr42Hc0xqtsavZvhz1OLwSxMOTuqzlhb0WbdOwBH9EYiyBjatz40bUxTHbiWxqJ0uma19qhPruvcWJlbiSSH48OLDDpaHPszvyct41ZfTu10+vjox6kOqK6v0K/gEPphEvMl/vwSv+A4Hhm36JSP9IXTyCZDm4kKsqD5ay8b1Sad/vaiyO5N/sDfEV6Z4q95E+yfjxpqBoBETW2C7xl4pIO2bDODDFurUPwE7EWC2Uplq+AHmBHvir2PSgkR12/Ry65O0aZtQPeXi9mTlF/Wj5GQ+vFkYyhXsLTjrBSP9hwk4GPqDP5rBn5/l8b0mLRAvRSzXHc293bs3s8EsdE3m2exxidWVB4joHR+S+dz5/W+v00K3TqN14CDBth8eWcsTbiwXPsygHdGid0PEdy6HHm2v/IUuV5RVapYmzGsX90mpnIdNGcOOq64Dbc5GUbYpD9M7S+6cLY//QmjxFLP5cuTFRm3vA5rkFZroFnO3bjHF35uU3s8mvL7Tp9nyTc4mymTJ5sLIp7umSnGkO23faehtz3mmTS7fbVx5rP7x3HXIjRNeq/A3xCs9JNB08c9S9BF2O3bOur0ItslFxXgRPdaapBIi4dRpKGxVz7ir69t/bc9qTxjvtOyGOfiLGDhR4fYywHv1WdOplxIV87TpLBy3Wc0QP0P9s4G7FBNOdITS/tep3o3h1TEa5XDDii7fWtqRzUEReP2fbxz7bHWWJdbIOxOUJZtItNZpTFRfj6vm9sYjRxQVO+WTdiOhdPeTJ+8YirPvoeL88l5iLYOHd3b/Imkq+1ZN1El3UikhftuteEYxf1Wujof8Pr4ICTu5ezZyZ4tHQMxlzUHLYO2VMOoNMGL/20S5i2o2obfk+8qqdR7xzbRDbgU0lnuIgz4LelQ5XS7xbLuSQtNS95v3ZUOdaUx/Qd8qxCt6xf2E62yb/HukLO6RyorV8KgYl5YNc75y+KvefrxY+lc/64y9kvWP0a0bDz/rojq+RWjO06WeruWqNFU7r3HPIcLWRql8ICZsz2Ls/qOm/CLn6++X+Qf7mGspYCrZod/lpl6Rw4xN/yuq8gqV4B6aHk1hVE1SfILxWu5gvXqbfARYQpspcxKp1F/c8XOPzkZvmoSw+vEqBLdrq1fr3wAPv5NnM9i8F+jdAuxkP5Z71c6uhK3enlnGymr7UsWZKC12qgUiG8XXGQ9mxnqz4GSIlybF9eXmbqj2sHX+a1jf0gRoONHRdRSrIq03Ty89eQ1GbV/Bk+du4+V15zls+vvERvZ4E7ZbnxWTVjDjb4o/k8jlw44pTIrUGxxuJvBeO+heuhOjpFsO6lVJ/aXnJDa/bM0Ql1cLbXE/Pbv3EZ3vj3iVrB5irjupZTzlnv677NrI9UNYNqbPgp/HZXS+lJmk87wec+7YOxTDo2aw2l3NfDr34VNlvqWJBknuK7oSlZ6/T10zuOoPZOeoIk81N+sL843WJ2Q4Z0fZ3scsqC/JV2fuhWi1jGURSKZV637lf53Xnnx16/vKEXY89aVJ0fv91jGdfG+G4+sniwHes4hS+udOr4RfhFhG/F5gUG35QaU+McuLmclb5ZWmR+sG5V6nf+PxYzlrnFGxpZaK8eqqVo0NfmAWoGfXDiT/FnUbWvzGDOTr8aktOZWg4BYvz5YH12ZbfCcGtNk+dDAZNGWvHov+PIOnY9Prjg8h/wLRrT69suaMVZ5bNuK00lSVpnqSX1NON/81FoP92rYndionwgOiA8WMf4vc8l15KqEEG4yAm2+WAN5Brfu1sq9suWYqgoajgOYt/JCk1gC8wPkK+XKCtRX6TAtgvrnuBgNRmn6I8lVDipOVB9kX6Oxkp4ZKyd1M6Gj8/v2U7k+YQBL95Kb9PQENucJb0JlW3b5tObN7m/Z1j1ev388d7o15zgXsI9CikAGAViR6lkJv7nb4Ak40M2G8TJ447kN+pvfHiOFjSUSP6PM+QfbAywKJCBaxSVxpizHseZUyUBhq59vFwrkyGoRiHbo0apweEZeSLuNiQ+HAekOnarFg00dZNXaPeoHPTRR0FmEyqYExOVaaaO8c0uFUh7U4e/UxdBmthlBDgg257Q33j1hA7HTxSeTTSuVnPZbgW1nodwmG16aKBDKxEetv7D9OjO0JhrbJTnoe+kcGoDJazFSO8/fUN9Jy/g4XK5PUkw2dgPDGpJqBfhe7GA+cjzfE/EGsMM+FV9nj9IAhrSfT/J3QE5TEIYyk5UjsI6ZZcCPr6A8FZUF4g9nnpVmjX90MLSQysIPD0nFzqwCcSJmIb5mYv2Cmk+C1MDFkZQyCBq4c/Yai9LJ6xYkGS/x2s5/frIW2vmG2Wrv0APpCdgCA9snFvfpe8uc0OwdRs4G9973PGEBnQB5qKrCQ6m6X/H7NInZ7y/1674/ZXOVp7OeuCRk8JFS516VHrnH1HkIUIlTIljjHaQtEtkJtosYul77cVwjk3gW1Ajaa6zWeyHGLlpk3VHE2VFzT2yI/EvlGUSz2H9zYE1s4nsKMtMqNyKNtL/59CpFJki5Fou6VXGm8vWATEPwrUVOLvoA8jLuwOzVBCgHB2Cr5V6OwEWtJEKokJkfc87h+sNHTvMb0KVTp5284QTPupoWvQVUwUeogZR3kBMESYo0mfukewRVPKh5+rzLQb7HKjFFIgWhj1w3yN/qCNoPI8XFiUgBNT1hCHBsAz8L7Oyt8wQWUFj92ONn/APyJFg8hzueqoJdNj57ROrFbffuS/XxrSXLTRgj5uxZjpgQYceeMc2wJrahReSKpm3QjHfqExTLAB2ipVumE8pqcZv8LYXQiPHHsgb5BMW8zM5pvQit+mQx8XGaVDcfVbLyMTlY8xcfmm/RSAT/H09UQol5gIz7rESDmnrQ4bURIB4iRXMDQwxgex1GgtDxKp2HayIkR+E/aDmCttNm2C6lytWdfOVzD6X2SpDWjQDlMRvAp1symWv4my1bPCD+E1EmGnMGWhNwmycJnDV2WrQNxO45ukEb08AAffizYKVULp15I4vbNK5DzWwCSUADfmKhfGSUqii1L2UsE8rB7mLuHuUJZOx4+WiizHBJ/hwboaBzhpNOVvgFTf5cJsHef7L1HCI9dOUUbb+YxUJWn6dYOLz+THi91kzY5dtO5c+grX7v0jEbsuoOGnoIreDIg/sFMyG+TyCLIcAWd1IZ1UNFxE8Uie13ucm40U2fcxC0u3WLvLOxwu+F7MWUsHsdtFQZ7W+nlfCASiAKyh8rnP3EyDByvtJb6Kax6/HkLzT9SyEyTMVM1zPtM0MJY14DmsWh4MgD15Ea9Hd00AdkTZ0EiG5NAGuIBzQJJ0JR0na+OB7lQA6UKxMfihIQ7GCCnVz694QvykWXTxpS2soDu+smru1UdIxSvAszBFD1c8c6ZOobA8bJiJIvuycgIXBQIXWwhyTgZDQxJTRXgEwRNAawGSXO0a1DKjdihLVNp/taE/xYhsgwe+VpKEEB4LlraQyE84gEihxCnbfoyOuJIEXy2FIYw+JjRusybKlU2g/vhTSGTydvCvXhYBdtAXtS2v7LkHtmXh/8fly1do8FI/D0f8UbzVb5h+KRhMGSAmR2mhi0YG/uj7wgxcfzCrMvdjitUIpXDX8ae2JcF/36qUWIMwN6JsjaRGNj+jEteGDcFyTUb8X/NHSucKMJp7pduxtD6KuxVlyxxwaeiC1FbGBESO84lbyrAugYxdl+2N8/6AgWpo/IeoAOcsG35IA/b3AuSyoa55L7llBLlaWlEWvuCFd8f8NfcTUgzJv6CbB+6ohWwodlk9nGWFpBAOaz5uEW5xBvmjnHFeDsb0mXwayj3mdYq5gxxNf3H3/tnCgHwjSrpSgVxLmiTtuszdRUFIsn6LiMPjL808vL1uQhDbM7aA43mISXReqjSskynIRcHCJ9qeFopJfx9tqyUoGbSwJex/0aDE3plBPGtNBYgWbdLom3+Q/bjdizR2/AS/c/dH/d3G7pyl1qDXgtOFtEqidwLqxPYtrNEveasWq3vPUUtqTeu8gpov4bdOQRI2kneFvRNMrShyVeEupK1PoLDPMSfWMIJcs267mGB8X9CehQCF0gIyhpP10mbyM7lwW1e6TGvHBV1sg/UyTghHPGRqMyaebC6pbB1WKNCQtlai1GGvmq9zUKaUzLaXsXEBYtHxmFbEZ2kJhR164LhWW2Tlp1dhsGE7ZgIWRBOx3Zcu2DxgH+G83WTPceKG0TgQKKiiNNOlWgvqNEbnrk6fVD+AqRam2OguZb0YWSTX88N+i/ELSxbaUUpPx4vJUzYg/WonSeA8xUK6u7DPHgpqWpEe6D4cXg5uK9FIYVba47V/nb+wyOtk+zG8RrS4EA0ouwa04iByRLSvoJA2FzaobbZtXnq8GdbfqEp5I2dpfpj59TCVif6+E75p665faiX8gS213RqBxTZqfHP46nF6NSenOneuT+vgbLUbdTH2/t0REFXZJOEB6DHvx6N6g9956CYrY/AYcm9gELJXYkrSi+0F0geKDZgOCIYkLU/+GOW5aGj8mvLFgtFH5+XC8hvAE3CvHRfl4ofM/Qwk4x2A+R+nyc9gNu/9Tem7XW4XRnyRymf52z09cTOdr+PG6+P/Vb4QiXlwauc5WB1z3o+IJjlbxI8MyWtSzT+k4sKVbhF3xa+vDts3NxXa87iiu+xRH9cAprnOL2h6vV54iQRXuOAj1s8nLFK8gZ70ThIQcWdF19/2xaJmT0efrkNDkWbpAQPdo92Z8+Hn/aLjbOzB9AI/k12fPs9HhUNDJ1u6ax2VxD3R6PywN7BrLJ26z6s3QoMp76qzzwetrDABKSGkfW5PwS1GvYNUbK6uRqxfyVGNyFB0E+OugMM8kKwmJmupuRWO8XkXXXQECyRVw9UyIrtCtcc4oNqXqr7AURBmKn6Khz3eBN96LwIJrAGP9mr/59uTOSx631suyT+QujDd4beUFpZ0kJEEnjlP+X/Kr2kCKhnENTg4BsMTOmMqlj2WMFLRUlVG0fzdCBgUta9odrJfpVdFomTi6ak0tFjXTcdqqvWBAzjY6hVrH9sbt3Z9gn+AVDpTcQImefbB4edirjzrsNievve4ZT4EUZWV3TxEsIW+9MT/RJoKfZZYSRGfC1CwPG/9rdMOM8qR/LUYvw5f/emUSoD7YSFuOoqchdUg2UePd1eCtFSKgxLSZ764oy4lvRCIH6bowPxZWwxNFctksLeil47pfevcBipkkBIc4ngZG+kxGZ71a72KQ7VaZ6MZOZkQJZXM6kb/Ac0/XkJx8dvyfJcWbI3zONEaEPIW8GbkYjsZcwy+eMoKrYjDmvEEixHzkCSCRPRzhOfJZuLdcbx19EL23MA8rnjTZZ787FGMnkqnpuzB5/90w1gtUSRaWcb0eta8198VEeZMUSfIhyuc4/nywFQ9uqn7jdqXh+5wwv+RK9XouNPbYdoEelNGo34KyySwigsrfCe0v/PlWPvQvQg8R0KgHO18mTVThhQrlbEQ0Kp/JxPdjHyR7E1QPw/ut0r+HDDG7BwZFm9IqEUZRpv2WpzlMkOemeLcAt5CsrzskLGaVOAxyySzZV/D2EY7ydNZMf8e8VhHcKGHAWNszf1EOq8fNstijMY4JXyATwTdncFFqcNDfDo+mWFvxJJpc4sEZtjXyBdoFcxbUmniCoKq5jydUHNjYJxMqN1KzYV62MugcELVhS3Bnd+TLLOh7dws/zSXWzxEb4Nj4aFun5x4kDWLK5TUF/yCXB/cZYvI9kPgVsG2jShtXkxfgT+xzjJofXqPEnIXIQ1lnIdmVzBOM90EXvJUW6a0nZ/7XjJGl8ToO3H/fdxnxmTNKBZxnkpXLVgLXCZywGT3YyS75w/PAH5I/jMuRspej8xZObU9kREbRA+kqjmKRFaKGWAmFQspC+QLbKPf0RaK3OXvBSWqo46p70ws/eZpu6jCtZUgQy6r4tHMPUdAgWGGUYNbuv/1a6K+MVFsd3T183+T8capSo6m0+Sh57fEeG/95dykGJBQMj09DSW2bY0mUonDy9a8trLnnL5B5LW3Nl8rJZNysO8Zb+80zXxqUGFpud3Qzwb7bf+8mq6x0TAnJU9pDQR9YQmZhlna2xuxJt0aCO/f1SU8gblOrbIyMsxTlVUW69VJPzYU2HlRXcqE2lLLxnObZuz2tT9CivfTAUYfmzJlt/lOPgsR6VN64/xQd4Jlk/RV7UKVv2Gx/AWsmTAuCWKhdwC+4HmKEKYZh2Xis4KsUR1BeObs1c13wqFRnocdmuheaTV30gvVXZcouzHKK5zwrN52jXJEuX6dGx3BCpV/++4f3hyaW/cQJLFKqasjsMuO3B3WlMq2gyYfdK1e7L2pO/tRye2mwzwZPfdUMrl5wdLqdd2Kv/wVtnpyWYhd49L6rsOV+8HXPrWH2Kup89l2tz6bf80iYSd+V4LROSOHeamvexR524q4r43rTmtFzQvArpvWfLYFZrbFspBsXNUqqenjxNNsFXatZvlIhk7teUPfK+YL32F8McTnjv0BZNppb+vshoCrtLXjIWq3EJXpVXIlG6ZNL0dh6qEm2WMwDjD3LfOfkGh1/czYc/0qhiD2ozNnH4882MVVt3JbVFkbwowNCO3KL5IoYW5wlVeGCViOuv1svZx7FbzxKzA4zGqBlRRaRWCobXaVq4yYCWbZf8eiJwt3OY+MFiSJengcFP2t0JMfzOiJ7cECvpx7neg1Rc5x+7myPJOXt2FohVRyXtD+/rDoTOyGYInJelZMjolecVHUhUNqvdZWg2J2t0jPmiLFeRD/8fOT4o+NGILb+TufCo9ceBBm3JLVn+MO2675n7qiEX/6W+188cYg3Zn5NSTjgOKfWFSAANa6raCxSoVU851oJLY11WIoYK0du0ec5E4tCnAPoKh71riTsjVIp3gKvBbEYQiNYrmH22oLQWA2AdwMnID6PX9b58dR2QKo4qag1D1Z+L/FwEKTR7osOZPWECPJIHQqPUsM5i/CH5YupVPfFA5pHUBcsesh8eO5YhyWnaVRPZn/BmdXVumZWPxMP5e28zm2uqHgFoT9CymHYNNrzrrjlXZM06HnzDxYNlI5b/QosxLmmrqDFqmogQdqk0WLkUceoAvQxHgkIyvWU69BPFr24VB6+lx75Rna6dGtrmOxDnvBojvi1/4dHjVeg8owofPe1cOnxU1ioh016s/Vudv9mhV9f35At+Sh28h1bpp8xhr09+vf47Elx3Ms6hyp6QvB3t0vnLbOhwo660cp7K0vvepabK7YJfxEWWfrC2YzJfYOjygPwfwd/1amTqa0hZ5ueebhWYVMubRTwIjj+0Oq0ohU3zfRfuL8gt59XsHdwKtxTQQ4Y2qz6gisxnm2UdlmpEkgOsZz7iEk6QOt8BuPwr+NR01LTqXmJo1C76o1N274twJvl+I069TiLpenK/miRxhyY8jvYV6W1WuSwhH9q7kuwnJMtm7IWcqs7HsnyHSqWXLSpYtZGaR1V3t0gauninFPZGtWskF65rtti48UV9uV9KM8kfDYs0pgB00S+TlzTXV6P8mxq15b9En8sz3jWSszcifZa/NuufPNnNTb031pptt0+sRSH/7UG8pzbsgtt3OG3ut7B9JzDMt2mTZuyRNIV8D54TuTrpNcHtgmMlYJeiY9XS83NYJicjRjtJSf9BZLsQv629QdDsKQhTK5CnXhpk7vMNkHzPhm0ExW/VCGApHfPyBagtZQTQmPHx7g5IXXsrQDPzIVhv2LB6Ih138iSDww1JNHrDvzUxvp73MsQBVhW8EbrReaVUcLB1R3PUXyaYG4HpJUcLVxMgDxcPkVRQpL7VTAGabDzbKcvg12t5P8TSGQkrj/gOrpnbiDHwluA73xbXts/L7u468cRWSWRtgTwlQnA47EKg0OiZDgFxAKQQUcsbGomITgeXUAAyKe03eA7Mp4gnyKQmm0LXJtEk6ddksMJCuxDmmHzmVhO+XaN2A54MIh3niw5CF7PwiXFZrnA8wOdeHLvvhdoqIDG9PDI7UnWWHq526T8y6ixJPhkuVKZnoUruOpUgOOp3iIKBjk+yi1vHo5cItHXb1PIKzGaZlRS0g5d3MV2pD8FQdGYLZ73aae/eEIUePMc4NFz8pIUfLCrrF4jVWH5gQneN3S8vANBmUXrEcKGn6hIUN95y1vpsvLwbGpzV9L0ZKTan6TDXM05236uLJcIEMKVAxKNT0K8WljuwNny3BNQRfzovA85beI9zr1AGNYnYCVkR1aGngWURUrgqR+gRrQhxW81l3CHevjvGEPzPMTxdsIfB9dfGRbZU0cg/1mcubtECX4tvaedmNAvTxCJtc2QaoUalGfENCGK7IS/O8CRpdOVca8EWCRwv2sSWE8CJPW5PCugjCXPd3h6U60cPD+bdhtXZuYB6stcoveE7Sm5MM2yvfUHXFSW7KzLmi7/EeEWL0wqcOH9MOSKjhCHHmw+JGLcYE/7SBZQCRggox0ZZTAxrlzNNXYXL5fNIjkdT4YMqVUz6p8YDt049v4OXGdg3qTrtLBUXOZf7ahPlZAY/O+7Sp0bvGSHdyQ8B1LOsplqMb9Se8VAE7gIdSZvxbRSrfl+Lk5Qaqi5QJceqjitdErcHXg/3MryljPSIAMaaloFm1cVwBJ8DNmkDqoGROSHFetrgjQ5CahuKkdH5pRPigMrgTtlFI8ufJPJSUlGgTjbBSvpRc0zypiUn6U5KZqcRoyrtzhmJ7/caeZkmVRwJQeLOG8LY6vP5ChpKhc8Js0El+n6FXqbx9ItdtLtYP92kKfaTLtCi8StLZdENJa9Ex1nOoz1kQ7qxoiZFKRyLf4O4CHRT0T/0W9F8epNKVoeyxUXhy3sQMMsJjQJEyMOjmOhMFgOmmlscV4eFi1CldU92yjwleirEKPW3bPAuEhRZV7JsKV3Lr5cETAiFuX5Nw5UlF7d2HZ96Bh0sgFIL5KGaKSoVYVlvdKpZJVP5+NZ7xDEkQhmDgsDKciazJCXJ6ZN2B3FY2f6VZyGl/t4aunGIAk/BHaS+i+SpdRfnB/OktOvyjinWNfM9Ksr6WwtCa1hCmeRI6icpFM4o8quCLsikU0tMoZI/9EqXRMpKGaWzofl4nQuVQm17d5fU5qXCQeCDqVaL9XJ9qJ08n3G3EFZS28SHEb3cdRBdtO0YcTzil3QknNKEe/smQ1fTb0XbpyNB5xAeuIlf+5KWlEY0DqJbsnzJlQxJPOVyHiKMx5Xu9FcEv1Fbg6Fhm4t+Jyy5JC1W3YO8dYLsO0PXPbxodBgttTbH3rt9Cp1lJIk2r3O1Zqu94eRbnIz2f50lWolYzuKsj4PMok4abHLO8NAC884hiXx5Fy5pWKO0bWL7uEGXaJCtznhP67SlQ4xjWIfgq6EpZ28QMtuZK7JC0RGbl9nA4XtFLug/NLMoH1pGt9IonAJqcEDLyH6TDROcbsmGPaGIxMo41IUAnQVPMPGByp4mOmh9ZQMkBAcksUK55LsZj7E5z5XuZoyWCKu6nHmDq22xI/9Z8YdxJy4kWpD16jLVrpwGLWfyOD0Wd+cBzFBxVaGv7S5k9qwh/5t/LQEXsRqI3Q9Rm3QIoaZW9GlsDaKOUyykyWuhNOprSEi0s1G4rgoiX1V743EELti+pJu5og6X0g6oTynUqlhH9k6ezyRi05NGZHz0nvp3HOJr7ebrAUFrDjbkFBObEvdQWkkUbL0pEvMU46X58vF9j9F3j6kpyetNUBItrEubW9ZvMPM4qNqLlsSBJqOH3XbNwv/cXDXNxN8iFLzUhteisYY+RlHYOuP29/Cb+L+xv+35Rv7xudnZ6ohK4cMPfCG8KI7dNmjNk/H4e84pOxn/sZHK9psfvj8ncA8qJz7O8xqbxESDivGJOZzF7o5PJLQ7g34qAWoyuA+x3btU98LT6ZyGyceIXjrqob2CAVql4VOTQPUQYvHV/g4zAuCZGvYQBtf0wmd5lilrvuEn1BXLny01B4h4SMDlYsnNpm9d7m9h578ufpef9Z4WplqWQvqo52fyUA7J24eZD5av6SyGIV9kpmHNqyvdfzcpEMw97BvknV2fq+MFHun9BT3Lsf8pbzvisWiIQvYkng+8Vxk1V+dli1u56kY50LRjaPdotvT5BwqtwyF+emo/z9J3yVUVGfKrxQtJMOAQWoQii/4dp9wgybSa5mkucmRLtEQZ/pz0tL/NVcgWAd95nEQ3Tg6tNbuyn3Iepz65L3huMUUBntllWuu4DbtOFSMSbpILV4fy6wlM0SOvi6CpLh81c1LreIvKd61uEWBcDw1lUBUW1I0Z+m/PaRlX+PQ/oxg0Ye6KUiIiTF4ADNk59Ydpt5/rkxmq9tV5Kcp/eQLUVVmBzQNVuytQCP6Ezd0G8eLxWyHpmZWJ3bAzkWTtg4lZlw42SQezEmiUPaJUuR/qklVA/87S4ArFCpALdY3QRdUw3G3XbWUp6aq9z0zUizcPa7351p9JXOZyfdZBFnqt90VzQndXB/mwf8LC9STj5kenVpNuqOQQP3mIRJj7eV21FxG8VAxKrEn3c+XfmZ800EPb9/5lIlijscUbB6da0RQaMook0zug1G0tKi/JBC4rw7/D3m4ARzAkzMcVrDcT2SyFtUdWAsFlsPDFqV3N+EjyXaoEePwroaZCiLqEzb8MW+PNE9TmTC01EzWli51PzZvUqkmyuROU+V6ik+Le/9qT6nwzUzf9tP68tYei0YaDGx6kAd7jn1cKqOCuYbiELH9zYqcc4MnRJjkeGiqaGwLImhyeKs+xKJMBlOJ05ow9gGCKZ1VpnMKoSCTbMS+X+23y042zOb5MtcY/6oBeAo1Vy89OTyhpavFP78jXCcFH0t7Gx24hMEOm2gsEfGabVpQgvFqbQKMsknFRRmuPHcZu0Su/WMFphZvB2r/EGbG72rpGGho3h+Msz0uGzJ7hNK2uqQiE1qmn0zgacKYYZBCqsxV+sjbpoVdSilW/b94n2xNb648VmNIoizqEWhBnsen+d0kbCPmRItfWqSBeOd9Wne3c6bcd6uvXOJ6WdiSsuXq0ndhqrQ4QoWUjCjYtZ0EAhnSOP1m44xkf0O7jXghrzSJWxP4a/t72jU29Vu2rvu4n7HfHkkmQOMGSS+NPeLGO5I73mC2B7+lMiBQQZRM9/9liLIfowupUFAbPBbR+lxDM6M8Ptgh1paJq5Rvs7yEuLQv/7d1oU2woFSb3FMPWQOKMuCuJ7pDDjpIclus5TeEoMBy2YdVB4fxmesaCeMNsEgTHKS5WDSGyNUOoEpcC2OFWtIRf0w27ck34/DjxRTVIcc9+kqZE6iMSiVDsiKdP/Xz5XfEhm/sBhO50p1rvJDlkyyxuJ9SPgs7YeUJBjXdeAkE+P9OQJm6SZnn1svcduI78dYmbkE2mtziPrcjVisXG78spLvbZaSFx/Rks9zP4LKn0Cdz/3JsetkT06A8f/yCgMO6Mb1Hme0JJ7b2wZz1qleqTuKBGokhPVUZ0dVu+tnQYNEY1fmkZSz6+EGZ5EzL7657mreZGR3jUfaEk458PDniBzsSmBKhDRzfXameryJv9/D5m6HIqZ0R+ouCE54Dzp4IJuuD1e4Dc5i+PpSORJfG23uVgqixAMDvchMR0nZdH5brclYwRoJRWv/rlxGRI5ffD5NPGmIDt7vDE1434pYdVZIFh89Bs94HGGJbTwrN8T6lh1HZFTOB4lWzWj6EVqxSMvC0/ljWBQ3F2kc/mO2b6tWonT2JEqEwFts8rz2h+oWNds9ceR2cb7zZvJTDppHaEhK5avWqsseWa2Dt5BBhabdWSktS80oMQrL4TvAM9b5HMmyDnO+OkkbMXfUJG7eXqTIG6lqSOEbqVR+qYdP7uWb57WEJqzyh411GAVsDinPs7KvUeXItlcMdOUWzXBH6zscymV1LLVCtc8IePojzXHF9m5b5zGwBRdzcyUJkiu938ApmAayRdJrX1PmVguWUvt2ThQ62czItTyWJMW2An/hdDfMK7SiFQlGIdAbltHz3ycoh7j9V7GxNWBpbtcSdqm4XxRwTawc3cbZ+xfSv9qQfEkDKfZTwCkqWGI/ur250ItXlMlh6vUNWEYIg9A3GzbgmbqvTN8js2YMo87CU5y6nZ4dbJLDQJj9fc7yM7tZzJDZFtqOcU8+mZjYlq4VmifI23iHb1ZoT9E+kT2dolnP1AfiOkt7PQCSykBiXy5mv637IegWSKj9IKrYZf4Lu9+I7ub+mkRdlvYzehh/jaJ9n7HUH5b2IbgeNdkY7wx1yVzxS7pbvky6+nmVUtRllEFfweUQ0/nG017WoUYSxs+j2B4FV/F62EtHlMWZXYrjGHpthnNb1x66LKZ0Qe92INWHdfR/vqp02wMS8r1G4dJqHok8KmQ7947G13a4YXbsGgHcBvRuVu1eAi4/A5+ZixmdSXM73LupB/LH7O9yxLTVXJTyBbI1S49TIROrfVCOb/czZ9pM4JsZx8kUz8dQGv7gUWKxXvTH7QM/3J2OuXXgciUhqY+cgtaOliQQVOYthBLV3xpESZT3rmfEYNZxmpBbb24CRao86prn+i9TNOh8VxRJGXJfXHATJHs1T5txgc/opYrY8XjlGQQbRcoxIBcnVsMjmU1ymmIUL4dviJXndMAJ0Yet+c7O52/p98ytlmAsGBaTAmMhimAnvp1TWNGM9BpuitGj+t810CU2UhorrjPKGtThVC8WaXw04WFnT5fTjqmPyrQ0tN3CkLsctVy2xr0ZWgiWVZ1OrlFjjxJYsOiZv2cAoOvE+7sY0I/TwWcZqMoyIKNOftwP7w++Rfg67ljfovKYa50if3fzE/8aPYVey/Nq35+nH2sLPh/fP5TsylSKGOZ4k69d2PnH43+kq++sRXHQqGArWdwhx+hpwQC6JgT2uxehYU4Zbw7oNb6/HLikPyJROGK2ouyr+vzseESp9G50T4AyFrSqOQ0rroCYP4sMDFBrHn342EyZTMlSyk47rHSq89Y9/nI3zG5lX16Z5lxphguLOcZUndL8wNcrkyjH82jqg8Bo8OYkynrxZvbFno5lUS3OPr8Ko3mX9NoRPdYOKKjD07bvgFgpZ/RF+YzkWvJ/Hs/tUbfeGzGWLxNAjfDzHHMVSDwB5SabQLsIZHiBp43FjGkaienYoDd18hu2BGwOK7U3o70K/WY/kuuKdmdrykIBUdG2mvE91L1JtTbh20mOLbk1vCAamu7utlXeGU2ooVikbU/actcgmsC1FKk2qmj3GWeIWbj4tGIxE7BLcBWUvvcnd/lYxsMV4F917fWeFB/XbINN3qGvIyTpCalz1lVewdIGqeAS/gB8Mi+sA+BqDiX3VGD2eUunTRbSY+AuDy4E3Qx3hAhwnSXX+B0zuj3eQ1miS8Vux2z/l6/BkWtjKGU72aJkOCWhGcSf3+kFkkB15vGOsQrSdFr6qTj0gBYiOlnBO41170gOWHSUoBVRU2JjwppYdhIFDfu7tIRHccSNM5KZOFDPz0TGMAjzzEpeLwTWp+kn201kU6NjbiMQJx83+LX1e1tZ10kuChJZ/XBUQ1dwaBHjTDJDqOympEk8X2M3VtVw21JksChA8w1tTefO3RJ1FMbqZ01bHHkudDB/OhLfe7P5GOHaI28ZXKTMuqo0hLWQ4HabBsGG7NbP1RiXtETz074er6w/OerJWEqjmkq2y51q1BVI+JUudnVa3ogBpzdhFE7fC7kybrAt2Z6RqDjATAUEYeYK45WMupBKQRtQlU+uNsjnzj6ZmGrezA+ASrWxQ6LMkHRXqXwNq7ftv28dUx/ZSJciDXP2SWJsWaN0FjPX9Yko6LobZ7aYW/IdUktI9apTLyHS8DyWPyuoZyxN1TK/vtfxk3HwWh6JczZC8Ftn0bIJay2g+n5wd7lm9rEsKO+svqVmi+c1j88hSCxbzrg4+HEP0Nt1/B6YW1XVm09T1CpAKjc9n18hjqsaFGdfyva1ZG0Xu3ip6N6JGpyTSqY5h4BOlpLPaOnyw45PdXTN+DtAKg7DLrLFTnWusoSBHk3s0d7YouJHq85/R09Tfc37ENXZF48eAYLnq9GLioNcwDZrC6FW6godB8JnqYUPvn0pWLfQz0lM0Yy8Mybgn84Ds3Q9bDP10bLyOV+qzxa4Rd9Dhu7cju8mMaONXK3UqmBQ9qIg7etIwEqM/kECk/Dzja4Bs1xR+Q/tCbc8IKrSGsTdJJ0vge7IG20W687uVmK6icWQ6cD3lwFzgNMGtFvO5qyJeKflGLAAcQZOrkxVwy3cWvqlGpvjmf9Qe6Ap20MPbV92DPV0OhFM4kz8Yr0ffC2zLWSQ1kqY6QdQrttR3kh1YLtQd1kCEv5hVoPIRWl5ERcUTttBIrWp6Xs5Ehh5OUUwI5aEBvuiDmUoENmnVw1FohCrbRp1A1E+XSlWVOTi7ADW+5Ohb9z1vK4qx5R5lPdGCPBJZ00mC+Ssp8VUbgpGAvXWMuWQQRbCqI6Rr2jtxZxtfP7W/8onz+yz0Gs76LaT5HX9ecyiZCB/ZR/gFtMxPsDwohoeCRtiuLxE1GM1vUEUgBv86+eehL58/P56QFGQ/MqOe/vC76L63jzmeax4exd/OKTUvkXg+fOJUHych9xt/9goJMrapSgvXrj8+8vk/N80f22Sewj6cyGqt1B6mztoeklVHHraouhvHJaG/OuBz6DHKMpFmQULU1bRWlyYE0RPXYYkUycIemN7TLtgNCJX6BqdyxDKkegO7nJK5xQ7OVYDZTMf9bVHidtk6DQX9Et+V9M7esgbsYBdEeUpsB0Xvw2kd9+rI7V+m47u+O/tq7mw7262HU1WlS9uFzsV6JxIHNmUCy0QS9e077JGRFbG65z3/dOKB/Zk+yDdKpUmdXjn/aS3N5nv4fK7bMHHmPlHd4E2+iTbV5rpzScRnxk6KARuDTJ8Q1LpK2mP8gj1EbuJ9RIyY+EWK4hCiIDBAS1Tm2IEXAFfgKPgdL9O6mAa06wjCcUAL6EsxPQWO9VNegBPm/0GgkZbDxCynxujX/92vmGcjZRMAY45puak2sFLCLSwXpEsyy5fnF0jGJBhm+fNSHKKUUfy+276A7/feLOFxxUuHRNJI2Osenxyvf8DAGObT60pfTTlhEg9u/KKkhJqm5U1/+BEcSkpFDA5XeCqxwXmPac1jcuZ3JWQ+p0NdWzb/5v1ZvF8GtMTFFEdQjpLO0bwPb0BHNWnip3liDXI2fXf05jjvfJ0NpjLCUgfTh9CMFYVFKEd4Z/OG/2C+N435mnK+9t1gvCiVcaaH7rK4+PjCvpVNiz+t2QyqH1O8x3JKZVl6Q+Lp/XK8wMjVMslOq9FdSw5FtUs/CptXH9PW+wbWHgrV17R5jTVOtGtKFu3nb80T+E0tv9QkzW3J2dbaw/8ddAKZ0pxIaEqLjlPrji3VgJ3GvdFvlqD8075woxh4fVt0JZE0KVFsAvqhe0dqN9b35jtSpnYMXkU+vZq+IAHad3IHc2s/LYrnD1anfG46IFiMIr9oNbZDWvwthqYNqOigaKd/XlLU4XHfk/PXIjPsLy/9/kAtQ+/wKH+hI/IROWj5FPvTZAT9f7j4ZXQyG4M0TujMAFXYkKvEHv1xhySekgXGGqNxWeWKlf8dDAlLuB1cb/qOD+rk7cmwt+1yKpk9cudqBanTi6zTbXRtV8qylNtjyOVKy1HTz0GW9rjt6sSjAZcT5R+KdtyYb0zyqG9pSLuCw5WBwAn7fjBjKLLoxLXMI+52L9cLwIR2B6OllJZLHJ8vDxmWdtF+QJnmt1rsHPIWY20lftk8fYePkAIg6Hgn532QoIpegMxiWgAOfe5/U44APR8Ac0NeZrVh3gEhs12W+tVSiWiUQekf/YBECUy5fdYbA08dd7VzPAP9aiVcIB9k6tY7WdJ1wNV+bHeydNtmC6G5ICtFC1ZwmJU/j8hf0I8TRVKSiz5oYIa93EpUI78X8GYIAZabx47/n8LDAAJ0nNtP1rpROprqKMBRecShca6qXuTSI3jZBLOB3Vp381B5rCGhjSvh/NSVkYp2qIdP/Bg="},{}],6:[function(e,n,t){var r=e("./dictionary-browser");t.init=function(){t.dictionary=r.init()},t.offsetsByLength=new Uint32Array([0,0,0,0,0,4096,9216,21504,35840,44032,53248,63488,74752,87040,93696,100864,104704,106752,108928,113536,115968,118528,119872,121280,122016]),t.sizeBitsByLength=new Uint8Array([0,0,0,0,10,10,11,11,10,10,10,10,10,9,9,8,7,7,8,7,7,6,6,5,5]),t.minDictionaryWordLength=4,t.maxDictionaryWordLength=24},{"./dictionary-browser":4}],7:[function(e,n,t){function m(e,n){this.bits=e,this.value=n}t.HuffmanCode=m;function v(e,n){for(var t=1<<n-1;e&t;)t>>=1;return(e&t-1)+t}function W(e,n,t,r,i){for(;e[n+(r-=t)]=new m(i.bits,i.value),0<r;);}t.BrotliBuildHuffmanTable=function(e,n,t,r,i){for(var o,s,f,a,w,d,u,p,h=n,c=new Int32Array(16),b=new Int32Array(16),l=new Int32Array(i),y=0;y<i;y++)c[r[y]]++;for(b[1]=0,o=1;o<15;o++)b[o+1]=b[o]+c[o];for(y=0;y<i;y++)0!==r[y]&&(l[b[r[y]]++]=y);if(p=u=1<<t,1===b[15])for(s=0;s<p;++s)e[n+s]=new m(0,65535&l[0]);else{for(y=s=0,o=1,f=2;o<=t;++o,f<<=1)for(;0<c[o];--c[o])W(e,n+s,f,u,new m(255&o,65535&l[y++])),s=v(s,o);for(w=p-1,a=-1,o=t+1,f=2;o<=15;++o,f<<=1)for(;0<c[o];--c[o])(s&w)!==a&&(n+=u,p+=u=1<<(d=function(e,n,t){for(var r=1<<n-t;n<15&&!((r-=e[n])<=0);)++n,r<<=1;return n-t}(c,o,t)),e[h+(a=s&w)]=new m(d+t&255,n-h-a&65535)),W(e,n+(s>>t),f,u,new m(o-t&255,65535&l[y++])),s=v(s,o)}return p}},{}],8:[function(e,n,t){"use strict";t.byteLength=function(e){var e=d(e),n=e[0],e=e[1];return 3*(n+e)/4-e},t.toByteArray=function(e){for(var n,t=d(e),r=t[0],t=t[1],i=new w(function(e,n){return 3*(e+n)/4-n}(r,t)),o=0,s=0<t?r-4:r,f=0;f<s;f+=4)n=a[e.charCodeAt(f)]<<18|a[e.charCodeAt(f+1)]<<12|a[e.charCodeAt(f+2)]<<6|a[e.charCodeAt(f+3)],i[o++]=n>>16&255,i[o++]=n>>8&255,i[o++]=255&n;2===t&&(n=a[e.charCodeAt(f)]<<2|a[e.charCodeAt(f+1)]>>4,i[o++]=255&n);1===t&&(n=a[e.charCodeAt(f)]<<10|a[e.charCodeAt(f+1)]<<4|a[e.charCodeAt(f+2)]>>2,i[o++]=n>>8&255,i[o++]=255&n);return i},t.fromByteArray=function(e){for(var n,t=e.length,r=t%3,i=[],o=0,s=t-r;o<s;o+=16383)i.push(function(e,n,t){for(var r,i=[],o=n;o<t;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(function(e){return f[e>>18&63]+f[e>>12&63]+f[e>>6&63]+f[63&e]}(r));return i.join("")}(e,o,s<o+16383?s:o+16383));1==r?(n=e[t-1],i.push(f[n>>2]+f[n<<4&63]+"==")):2==r&&(n=(e[t-2]<<8)+e[t-1],i.push(f[n>>10]+f[n>>4&63]+f[n<<2&63]+"="));return i.join("")};for(var f=[],a=[],w="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)f[i]=r[i],a[r.charCodeAt(i)]=i;function d(e){var n=e.length;if(0<n%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("="),n=(e=-1===e?n:e)===n?0:4-e%4;return[e,n]}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],9:[function(e,n,t){function r(e,n){this.offset=e,this.nbits=n}t.kBlockLengthPrefixCode=[new r(1,2),new r(5,2),new r(9,2),new r(13,2),new r(17,3),new r(25,3),new r(33,3),new r(41,3),new r(49,4),new r(65,4),new r(81,4),new r(97,4),new r(113,5),new r(145,5),new r(177,5),new r(209,5),new r(241,6),new r(305,6),new r(369,7),new r(497,8),new r(753,9),new r(1265,10),new r(2289,11),new r(4337,12),new r(8433,13),new r(16625,24)],t.kInsertLengthPrefixCode=[new r(0,0),new r(1,0),new r(2,0),new r(3,0),new r(4,0),new r(5,0),new r(6,1),new r(8,1),new r(10,2),new r(14,2),new r(18,3),new r(26,3),new r(34,4),new r(50,4),new r(66,5),new r(98,5),new r(130,6),new r(194,7),new r(322,8),new r(578,9),new r(1090,10),new r(2114,12),new r(6210,14),new r(22594,24)],t.kCopyLengthPrefixCode=[new r(2,0),new r(3,0),new r(4,0),new r(5,0),new r(6,0),new r(7,0),new r(8,0),new r(9,0),new r(10,1),new r(12,1),new r(14,2),new r(18,2),new r(22,3),new r(30,3),new r(38,4),new r(54,4),new r(70,5),new r(102,5),new r(134,6),new r(198,7),new r(326,8),new r(582,9),new r(1094,10),new r(2118,24)],t.kInsertRangeLut=[0,0,8,8,0,16,8,16,16],t.kCopyRangeLut=[0,8,0,8,16,0,16,8,16]},{}],10:[function(e,n,t){function r(e){this.buffer=e,this.pos=0}function i(e){this.buffer=e,this.pos=0}r.prototype.read=function(e,n,t){this.pos+t>this.buffer.length&&(t=this.buffer.length-this.pos);for(var r=0;r<t;r++)e[n+r]=this.buffer[this.pos+r];return this.pos+=t,t},t.BrotliInput=r,i.prototype.write=function(e,n){if(this.pos+n>this.buffer.length)throw new Error("Output buffer is not large enough");return this.buffer.set(e.subarray(0,n),this.pos),this.pos+=n,n},t.BrotliOutput=i},{}],11:[function(e,n,t){var c=e("./dictionary");function r(e,n,t){this.prefix=new Uint8Array(e.length),this.transform=n,this.suffix=new Uint8Array(t.length);for(var r=0;r<e.length;r++)this.prefix[r]=e.charCodeAt(r);for(r=0;r<t.length;r++)this.suffix[r]=t.charCodeAt(r)}var b=[new r("",0,""),new r("",0," "),new r(" ",0," "),new r("",12,""),new r("",10," "),new r("",0," the "),new r(" ",0,""),new r("s ",0," "),new r("",0," of "),new r("",10,""),new r("",0," and "),new r("",13,""),new r("",1,""),new r(", ",0," "),new r("",0,", "),new r(" ",10," "),new r("",0," in "),new r("",0," to "),new r("e ",0," "),new r("",0,'"'),new r("",0,"."),new r("",0,'">'),new r("",0,"\n"),new r("",3,""),new r("",0,"]"),new r("",0," for "),new r("",14,""),new r("",2,""),new r("",0," a "),new r("",0," that "),new r(" ",10,""),new r("",0,". "),new r(".",0,""),new r(" ",0,", "),new r("",15,""),new r("",0," with "),new r("",0,"'"),new r("",0," from "),new r("",0," by "),new r("",16,""),new r("",17,""),new r(" the ",0,""),new r("",4,""),new r("",0,". The "),new r("",11,""),new r("",0," on "),new r("",0," as "),new r("",0," is "),new r("",7,""),new r("",1,"ing "),new r("",0,"\n\t"),new r("",0,":"),new r(" ",0,". "),new r("",0,"ed "),new r("",20,""),new r("",18,""),new r("",6,""),new r("",0,"("),new r("",10,", "),new r("",8,""),new r("",0," at "),new r("",0,"ly "),new r(" the ",0," of "),new r("",5,""),new r("",9,""),new r(" ",10,", "),new r("",10,'"'),new r(".",0,"("),new r("",11," "),new r("",10,'">'),new r("",0,'="'),new r(" ",0,"."),new r(".com/",0,""),new r(" the ",0," of the "),new r("",10,"'"),new r("",0,". This "),new r("",0,","),new r(".",0," "),new r("",10,"("),new r("",10,"."),new r("",0," not "),new r(" ",0,'="'),new r("",0,"er "),new r(" ",11," "),new r("",0,"al "),new r(" ",11,""),new r("",0,"='"),new r("",11,'"'),new r("",10,". "),new r(" ",0,"("),new r("",0,"ful "),new r(" ",10,". "),new r("",0,"ive "),new r("",0,"less "),new r("",11,"'"),new r("",0,"est "),new r(" ",10,"."),new r("",11,'">'),new r(" ",0,"='"),new r("",10,","),new r("",0,"ize "),new r("",11,"."),new r("Â ",0,""),new r(" ",0,","),new r("",10,'="'),new r("",11,'="'),new r("",0,"ous "),new r("",11,", "),new r("",10,"='"),new r(" ",10,","),new r(" ",11,'="'),new r(" ",11,", "),new r("",11,","),new r("",11,"("),new r("",11,". "),new r(" ",11,"."),new r("",11,"='"),new r(" ",11,". "),new r(" ",10,'="'),new r(" ",11,"='"),new r(" ",10,"='")];function l(e,n){return e[n]<192?(97<=e[n]&&e[n]<=122&&(e[n]^=32),1):e[n]<224?(e[n+1]^=32,2):(e[n+2]^=5,3)}t.kTransforms=b,t.kNumTransforms=b.length,t.transformDictionaryWord=function(e,n,t,r,i){for(var o,s=b[i].prefix,f=b[i].suffix,i=b[i].transform,a=i<12?0:i-11,w=0,d=n,u=(r<a&&(a=r),0);u<s.length;)e[n++]=s[u++];for(t+=a,r-=a,i<=9&&(r-=i),w=0;w<r;w++)e[n++]=c.dictionary[t+w];if(o=n-r,10===i)l(e,o);else if(11===i)for(;0<r;){var p=l(e,o);o+=p,r-=p}for(var h=0;h<f.length;)e[n++]=f[h++];return n-d}},{"./dictionary":6}],12:[function(e,n,t){n.exports=e("./dec/decode").BrotliDecompressBuffer},{"./dec/decode":3}]},{},[12])(12)});
!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=e()}(function(){return function n(a,r,o){function s(t,e){if(!r[t]){if(!a[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(f)return f(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}i=r[t]={exports:{}},a[t][0].call(i.exports,function(e){return s(a[t][1][e]||e)},i,i.exports,n,a,r,o)}return r[t].exports}for(var f="function"==typeof require&&require,e=0;e<o.length;e++)s(o[e]);return s}({1:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t,i,n=Array.prototype.slice.call(arguments,1);n.length;){var a=n.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var r in a)t=a,i=r,Object.prototype.hasOwnProperty.call(t,i)&&(e[r]=a[r])}}return e},i.shrinkBuf=function(e,t){if(e.length!==t){if(e.subarray)return e.subarray(0,t);e.length=t}return e};var a={arraySet:function(e,t,i,n,a){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),a);else for(var r=0;r<n;r++)e[a+r]=t[i+r]},flattenChunks:function(e){for(var t,i,n,a=0,r=0,o=e.length;r<o;r++)a+=e[r].length;for(n=new Uint8Array(a),r=t=0,o=e.length;r<o;r++)i=e[r],n.set(i,t),t+=i.length;return n}},r={arraySet:function(e,t,i,n,a){for(var r=0;r<n;r++)e[a+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(n)},{}],2:[function(e,t,i){"use strict";var f=e("./common"),a=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){r=!1}for(var l=new f.Buf8(256),n=0;n<256;n++)l[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;function d(e,t){if(t<65534&&(e.subarray&&r||!e.subarray&&a))return String.fromCharCode.apply(null,f.shrinkBuf(e,t));for(var i="",n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i}l[254]=l[254]=1,i.string2buf=function(e){for(var t,i,n,a,r=e.length,o=0,s=0;s<r;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<r&&56320==(64512&(n=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),o+=i<128?1:i<2048?2:i<65536?3:4;for(t=new f.Buf8(o),s=a=0;a<o;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<r&&56320==(64512&(n=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?t[a++]=i:(i<2048?t[a++]=192|i>>>6:(i<65536?t[a++]=224|i>>>12:(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63),t[a++]=128|i>>>6&63),t[a++]=128|63&i);return t},i.buf2binstring=function(e){return d(e,e.length)},i.binstring2buf=function(e){for(var t=new f.Buf8(e.length),i=0,n=t.length;i<n;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){for(var i,n,a=t||e.length,r=new Array(2*a),o=0,s=0;s<a;)if((i=e[s++])<128)r[o++]=i;else if(4<(n=l[i]))r[o++]=65533,s+=n-1;else{for(i&=2===n?31:3===n?15:7;1<n&&s<a;)i=i<<6|63&e[s++],n--;1<n?r[o++]=65533:i<65536?r[o++]=i:(i-=65536,r[o++]=55296|i>>10&1023,r[o++]=56320|1023&i)}return d(r,o)},i.utf8border=function(e,t){for(var i=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=i&&128==(192&e[i]);)i--;return!(i<0)&&0!==i&&i+l[e[i]]>t?i:t}},{"./common":1}],3:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){for(var a=65535&e|0,r=e>>>16&65535|0,o=0;0!==i;){for(i-=o=2e3<i?2e3:i;r=r+(a=a+t[n++]|0)|0,--o;);a%=65521,r%=65521}return a|r<<16|0}},{}],4:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,i){"use strict";var s=function(){for(var e=[],t=0;t<256;t++){for(var i=t,n=0;n<8;n++)i=1&i?3988292384^i>>>1:i>>>1;e[t]=i}return e}();t.exports=function(e,t,i,n){var a=s,r=n+i;e^=-1;for(var o=n;o<r;o++)e=e>>>8^a[255&(e^t[o])];return-1^e}},{}],6:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],7:[function(e,t,i){"use strict";t.exports=function(e,t){var i,n,a,r,o,s,f=e.state,l=e.next_in,d=e.input,c=l+(e.avail_in-5),u=e.next_out,h=e.output,b=u-(t-e.avail_out),m=u+(e.avail_out-257),w=f.dmax,k=f.wsize,_=f.whave,g=f.wnext,v=f.window,p=f.hold,y=f.bits,x=f.lencode,S=f.distcode,E=(1<<f.lenbits)-1,Z=(1<<f.distbits)-1;e:do{for(y<15&&(p+=d[l++]<<y,y+=8,p+=d[l++]<<y,y+=8),i=x[p&E];;){if(p>>>=n=i>>>24,y-=n,0===(n=i>>>16&255))h[u++]=65535&i;else{if(!(16&n)){if(0==(64&n)){i=x[(65535&i)+(p&(1<<n)-1)];continue}if(32&n){f.mode=12;break e}e.msg="invalid literal/length code",f.mode=30;break e}for(a=65535&i,(n&=15)&&(y<n&&(p+=d[l++]<<y,y+=8),a+=p&(1<<n)-1,p>>>=n,y-=n),y<15&&(p+=d[l++]<<y,y+=8,p+=d[l++]<<y,y+=8),i=S[p&Z];;){if(p>>>=n=i>>>24,y-=n,!(16&(n=i>>>16&255))){if(0==(64&n)){i=S[(65535&i)+(p&(1<<n)-1)];continue}e.msg="invalid distance code",f.mode=30;break e}if(r=65535&i,y<(n&=15)&&(p+=d[l++]<<y,(y+=8)<n)&&(p+=d[l++]<<y,y+=8),w<(r+=p&(1<<n)-1)){e.msg="invalid distance too far back",f.mode=30;break e}if(p>>>=n,y-=n,(n=u-b)<r){if(_<(n=r-n)&&f.sane){e.msg="invalid distance too far back",f.mode=30;break e}if(s=v,(o=0)===g){if(o+=k-n,n<a){for(a-=n;h[u++]=v[o++],--n;);o=u-r,s=h}}else if(g<n){if(o+=k+g-n,(n-=g)<a){for(a-=n;h[u++]=v[o++],--n;);if(o=0,g<a){for(a-=n=g;h[u++]=v[o++],--n;);o=u-r,s=h}}}else if(o+=g-n,n<a){for(a-=n;h[u++]=v[o++],--n;);o=u-r,s=h}for(;2<a;)h[u++]=s[o++],h[u++]=s[o++],h[u++]=s[o++],a-=3;a&&(h[u++]=s[o++],1<a)&&(h[u++]=s[o++])}else{for(o=u-r;h[u++]=h[o++],h[u++]=h[o++],h[u++]=h[o++],2<(a-=3););a&&(h[u++]=h[o++],1<a)&&(h[u++]=h[o++])}break}}break}}while(l<c&&u<m);p&=(1<<(y-=(a=y>>3)<<3))-1,e.next_in=l-=a,e.next_out=u,e.avail_in=l<c?c-l+5:5-(l-c),e.avail_out=u<m?m-u+257:257-(u-m),f.hold=p,f.bits=y}},{}],8:[function(e,t,i){"use strict";var N=e("../utils/common"),O=e("./adler32"),C=e("./crc32"),I=e("./inffast"),D=e("./inftrees"),T=1,U=2,F=0,L=-2,H=1,n=852,a=592;function j(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new N.Buf16(320),this.work=new N.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=H,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new N.Buf32(n),t.distcode=t.distdyn=new N.Buf32(a),t.sane=1,t.back=-1,F):L}function s(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,o(e)):L}function f(e,t){var i,n;return!e||!e.state||(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t))?L:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,s(e))}function l(e,t){var i;return e?(i=new r,(e.state=i).window=null,(i=f(e,t))!==F&&(e.state=null),i):L}var K,M,P=!0;function Y(e,t,i,n){var a,e=e.state;return null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new N.Buf8(e.wsize)),n>=e.wsize?(N.arraySet(e.window,t,i-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(n<(a=e.wsize-e.wnext)&&(a=n),N.arraySet(e.window,t,i-n,a,e.wnext),(n-=a)?(N.arraySet(e.window,t,i-n,n,0),e.wnext=n,e.whave=e.wsize):(e.wnext+=a,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=a))),0}i.inflateReset=s,i.inflateReset2=f,i.inflateResetKeep=o,i.inflateInit=function(e){return l(e,15)},i.inflateInit2=l,i.inflate=function(e,t){var i,n,a,r,o,s,f,l,d,c,u,h,b,m,w,k,_,g,v,p,y,x,S,E,Z=0,B=new N.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return L;12===(i=e.state).mode&&(i.mode=13),o=e.next_out,a=e.output,f=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=i.hold,d=i.bits,c=s,u=f,x=F;e:for(;;)switch(i.mode){case H:if(0===i.wrap)i.mode=13;else{for(;d<16;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(2&i.wrap&&35615===l)B[i.check=0]=255&l,B[1]=l>>>8&255,i.check=C(i.check,B,2,0),d=l=0,i.mode=2;else if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&l)<<8)+(l>>8))%31)e.msg="incorrect header check",i.mode=30;else if(8!=(15&l))e.msg="unknown compression method",i.mode=30;else{if(d-=4,y=8+(15&(l>>>=4)),0===i.wbits)i.wbits=y;else if(y>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<y,e.adler=i.check=1,i.mode=512&l?10:12,d=l=0}}break;case 2:for(;d<16;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(i.flags=l,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=l>>8&1),512&i.flags&&(B[0]=255&l,B[1]=l>>>8&255,i.check=C(i.check,B,2,0)),d=l=0,i.mode=3;case 3:for(;d<32;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.head&&(i.head.time=l),512&i.flags&&(B[0]=255&l,B[1]=l>>>8&255,B[2]=l>>>16&255,B[3]=l>>>24&255,i.check=C(i.check,B,4,0)),d=l=0,i.mode=4;case 4:for(;d<16;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.head&&(i.head.xflags=255&l,i.head.os=l>>8),512&i.flags&&(B[0]=255&l,B[1]=l>>>8&255,i.check=C(i.check,B,2,0)),d=l=0,i.mode=5;case 5:if(1024&i.flags){for(;d<16;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.length=l,i.head&&(i.head.extra_len=l),512&i.flags&&(B[0]=255&l,B[1]=l>>>8&255,i.check=C(i.check,B,2,0)),d=l=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((h=s<(h=i.length)?s:h)&&(i.head&&(y=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),N.arraySet(i.head.extra,n,r,h,y)),512&i.flags&&(i.check=C(i.check,n,h,r)),s-=h,r+=h,i.length-=h),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===s)break e;for(h=0;y=n[r+h++],i.head&&y&&i.length<65536&&(i.head.name+=String.fromCharCode(y)),y&&h<s;);if(512&i.flags&&(i.check=C(i.check,n,h,r)),s-=h,r+=h,y)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===s)break e;for(h=0;y=n[r+h++],i.head&&y&&i.length<65536&&(i.head.comment+=String.fromCharCode(y)),y&&h<s;);if(512&i.flags&&(i.check=C(i.check,n,h,r)),s-=h,r+=h,y)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;d<16;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(l!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}d=l=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;d<32;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}e.adler=i.check=j(l),d=l=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=d,2;e.adler=i.check=1,i.mode=12;case 12:if(5===t||6===t)break e;case 13:if(i.last)l>>>=7&d,d-=7&d,i.mode=27;else{for(;d<3;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}switch(i.last=1&l,--d,3&(l>>>=1)){case 0:i.mode=14;break;case 1:z=R=void 0;var z,R=i;if(P){for(K=new N.Buf32(512),M=new N.Buf32(32),z=0;z<144;)R.lens[z++]=8;for(;z<256;)R.lens[z++]=9;for(;z<280;)R.lens[z++]=7;for(;z<288;)R.lens[z++]=8;for(D(T,R.lens,0,288,K,0,R.work,{bits:9}),z=0;z<32;)R.lens[z++]=5;D(U,R.lens,0,32,M,0,R.work,{bits:5}),P=!1}if(R.lencode=K,R.lenbits=9,R.distcode=M,R.distbits=5,i.mode=20,6!==t)break;l>>>=2,d-=2;break e;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}l>>>=2,d-=2}break;case 14:for(l>>>=7&d,d-=7&d;d<32;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&l,d=l=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(h=i.length){if(0===(h=f<(h=s<h?s:h)?f:h))break e;N.arraySet(a,n,r,h,o),s-=h,r+=h,f-=h,o+=h,i.length-=h}else i.mode=12;break;case 17:for(;d<14;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(i.nlen=257+(31&l),l>>>=5,d-=5,i.ndist=1+(31&l),l>>>=5,d-=5,i.ncode=4+(15&l),l>>>=4,d-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;d<3;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.lens[A[i.have++]]=7&l,l>>>=3,d-=3}for(;i.have<19;)i.lens[A[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,S={bits:i.lenbits},x=D(0,i.lens,0,19,i.lencode,0,i.work,S),i.lenbits=S.bits,x){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;k=(Z=i.lencode[l&(1<<i.lenbits)-1])>>>16&255,_=65535&Z,!((w=Z>>>24)<=d);){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(_<16)l>>>=w,d-=w,i.lens[i.have++]=_;else{if(16===_){for(E=w+2;d<E;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(l>>>=w,d-=w,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}y=i.lens[i.have-1],h=3+(3&l),l>>>=2,d-=2}else if(17===_){for(E=w+3;d<E;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}y=0,h=3+(7&(l>>>=w)),l>>>=3,d=d-w-3}else{for(E=w+7;d<E;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}y=0,h=11+(127&(l>>>=w)),l>>>=7,d=d-w-7}if(i.have+h>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;h--;)i.lens[i.have++]=y}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,S={bits:i.lenbits},x=D(T,i.lens,0,i.nlen,i.lencode,0,i.work,S),i.lenbits=S.bits,x){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,S={bits:i.distbits},x=D(U,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,S),i.distbits=S.bits,x){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(6<=s&&258<=f){e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=d,I(e,u),o=e.next_out,a=e.output,f=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,l=i.hold,d=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;k=(Z=i.lencode[l&(1<<i.lenbits)-1])>>>16&255,_=65535&Z,!((w=Z>>>24)<=d);){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(k&&0==(240&k)){for(g=w,v=k,p=_;k=(Z=i.lencode[p+((l&(1<<g+v)-1)>>g)])>>>16&255,_=65535&Z,!(g+(w=Z>>>24)<=d);){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}l>>>=g,d-=g,i.back+=g}if(l>>>=w,d-=w,i.back+=w,i.length=_,0===k){i.mode=26;break}if(32&k){i.back=-1,i.mode=12;break}if(64&k){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&k,i.mode=22;case 22:if(i.extra){for(E=i.extra;d<E;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.length+=l&(1<<i.extra)-1,l>>>=i.extra,d-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;k=(Z=i.distcode[l&(1<<i.distbits)-1])>>>16&255,_=65535&Z,!((w=Z>>>24)<=d);){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(0==(240&k)){for(g=w,v=k,p=_;k=(Z=i.distcode[p+((l&(1<<g+v)-1)>>g)])>>>16&255,_=65535&Z,!(g+(w=Z>>>24)<=d);){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}l>>>=g,d-=g,i.back+=g}if(l>>>=w,d-=w,i.back+=w,64&k){e.msg="invalid distance code",i.mode=30;break}i.offset=_,i.extra=15&k,i.mode=24;case 24:if(i.extra){for(E=i.extra;d<E;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}i.offset+=l&(1<<i.extra)-1,l>>>=i.extra,d-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===f)break e;if(i.offset>(h=u-f)){if((h=i.offset-h)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}b=h>i.wnext?(h-=i.wnext,i.wsize-h):i.wnext-h,h>i.length&&(h=i.length),m=i.window}else m=a,b=o-i.offset,h=i.length;for(f-=h=f<h?f:h,i.length-=h;a[o++]=m[b++],--h;);0===i.length&&(i.mode=21);break;case 26:if(0===f)break e;a[o++]=i.length,f--,i.mode=21;break;case 27:if(i.wrap){for(;d<32;){if(0===s)break e;s--,l|=n[r++]<<d,d+=8}if(u-=f,e.total_out+=u,i.total+=u,u&&(e.adler=i.check=(i.flags?C:O)(i.check,a,u,o-u)),u=f,(i.flags?l:j(l))!==i.check){e.msg="incorrect data check",i.mode=30;break}d=l=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;d<32;){if(0===s)break e;s--,l+=n[r++]<<d,d+=8}if(l!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}d=l=0}i.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;default:return L}return e.next_out=o,e.avail_out=f,e.next_in=r,e.avail_in=s,i.hold=l,i.bits=d,(i.wsize||u!==e.avail_out&&i.mode<30&&(i.mode<27||4!==t))&&Y(e,e.output,e.next_out,u-e.avail_out)?(i.mode=31,-4):(c-=e.avail_in,u-=e.avail_out,e.total_in+=c,e.total_out+=u,i.total+=u,i.wrap&&u&&(e.adler=i.check=(i.flags?C:O)(i.check,a,u,e.next_out-u)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==c&&0===u||4===t)&&x===F?-5:x)},i.inflateEnd=function(e){var t;return e&&e.state?((t=e.state).window&&(t.window=null),e.state=null,F):L},i.inflateGetHeader=function(e,t){return!e||!e.state||0==(2&(e=e.state).wrap)?L:((e.head=t).done=!1,F)},i.inflateSetDictionary=function(e,t){var i,n=t.length;return!e||!e.state||0!==(i=e.state).wrap&&11!==i.mode?L:11===i.mode&&O(1,t,n,0)!==i.check?-3:Y(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,F)},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,i){"use strict";var I=e("../utils/common"),D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],T=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],F=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,n,a,r,o,s){for(var f,l,d,c,u,h,b,m,w,k=s.bits,_=0,g=0,v=0,p=0,y=0,x=0,S=0,E=0,Z=0,B=0,A=null,z=0,R=new I.Buf16(16),N=new I.Buf16(16),O=null,C=0,_=0;_<=15;_++)R[_]=0;for(g=0;g<n;g++)R[t[i+g]]++;for(y=k,p=15;1<=p&&0===R[p];p--);if(p<y&&(y=p),0===p)a[r++]=20971520,a[r++]=20971520,s.bits=1;else{for(v=1;v<p&&0===R[v];v++);for(y<v&&(y=v),_=E=1;_<=15;_++)if((E=(E<<=1)-R[_])<0)return-1;if(0<E&&(0===e||1!==p))return-1;for(N[1]=0,_=1;_<15;_++)N[_+1]=N[_]+R[_];for(g=0;g<n;g++)0!==t[i+g]&&(o[N[t[i+g]]++]=g);if(h=0===e?(A=O=o,19):1===e?(A=D,z-=257,O=T,C-=257,256):(A=U,O=F,-1),_=v,u=r,S=g=B=0,d=-1,c=(Z=1<<(x=y))-1,1===e&&852<Z||2===e&&592<Z)return 1;for(;;){for(w=o[g]<h?(m=0,o[g]):o[g]>h?(m=O[C+o[g]],A[z+o[g]]):(m=96,0),f=1<<(b=_-S),v=l=1<<x;a[u+(B>>S)+(l-=f)]=b<<24|m<<16|w|0,0!==l;);for(f=1<<_-1;B&f;)f>>=1;if(B=0!==f?(B&f-1)+f:0,g++,0==--R[_]){if(_===p)break;_=t[i+o[g]]}if(y<_&&(B&c)!==d){for(u+=v,E=1<<(x=_-(S=0===S?y:S));x+S<p&&!((E-=R[x+S])<=0);)x++,E<<=1;if(Z+=1<<x,1===e&&852<Z||2===e&&592<Z)return 1;a[d=B&c]=y<<24|x<<16|u-r|0}}0!==B&&(a[u+B]=_-S<<24|64<<16|0),s.bits=y}return 0}},{"../utils/common":1}],10:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/inflate.js":[function(e,t,i){"use strict";var c=e("./zlib/inflate"),u=e("./utils/common"),h=e("./utils/strings"),b=e("./zlib/constants"),n=e("./zlib/messages"),a=e("./zlib/zstream"),r=e("./zlib/gzheader"),m=Object.prototype.toString;function o(e){if(!(this instanceof o))return new o(e);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options,e=(t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits)&&(t.windowBits=-15),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0,c.inflateInit2(this.strm,t.windowBits));if(e!==b.Z_OK)throw new Error(n[e]);if(this.header=new r,c.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=h.string2buf(t.dictionary):"[object ArrayBuffer]"===m.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(e=c.inflateSetDictionary(this.strm,t.dictionary))!==b.Z_OK)throw new Error(n[e])}function s(e,t){t=new o(t);if(t.push(e,!0),t.err)throw t.msg||n[t.err];return t.result}o.prototype.push=function(e,t){var i,n,a,r,o,s=this.strm,f=this.options.chunkSize,l=this.options.dictionary,d=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?b.Z_FINISH:b.Z_NO_FLUSH,"string"==typeof e?s.input=h.binstring2buf(e):"[object ArrayBuffer]"===m.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new u.Buf8(f),s.next_out=0,s.avail_out=f),(i=(i=c.inflate(s,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&l?c.inflateSetDictionary(this.strm,l):i)===b.Z_BUF_ERROR&&!0===d&&(i=b.Z_OK,d=!1),i!==b.Z_STREAM_END&&i!==b.Z_OK)return this.onEnd(i),!(this.ended=!0)}while(!s.next_out||0!==s.avail_out&&i!==b.Z_STREAM_END&&(0!==s.avail_in||n!==b.Z_FINISH&&n!==b.Z_SYNC_FLUSH)||("string"===this.options.to?(a=h.utf8border(s.output,s.next_out),r=s.next_out-a,o=h.buf2string(s.output,a),s.next_out=r,s.avail_out=f-r,r&&u.arraySet(s.output,s.output,a,r,0),this.onData(o)):this.onData(u.shrinkBuf(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(d=!0),(0<s.avail_in||0===s.avail_out)&&i!==b.Z_STREAM_END);return(n=i===b.Z_STREAM_END?b.Z_FINISH:n)===b.Z_FINISH?(i=c.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===b.Z_OK):n!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),!(s.avail_out=0))},o.prototype.onData=function(e){this.chunks.push(e)},o.prototype.onEnd=function(e){e===b.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=o,i.inflate=s,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,s(e,t)},i.ungzip=s},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")});
!function(t,e){"function"==typeof define&&define.amd?define(["exports"],e):"undefined"!=typeof exports?e(exports):(e(e={}),t.repl=e)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Font=void 0;let s=globalThis.fetch;if(!s){let r=[];s=globalThis.fetch=(...s)=>new Promise((t,e)=>{r.push({args:s,resolve:t,reject:e})}),import("fs").then(e=>{for(s=globalThis.fetch=async function(t){return new Promise((s,r)=>{e.readFile(t,(t,e)=>{if(t)return r(t);s({ok:!0,arrayBuffer:()=>e.buffer})})})};r.length;){let e=r.shift();s(...e.args).then(t=>e.resolve(t)).catch(t=>e.reject(t))}}).catch(t=>{throw console.error(t),new Error("lib-font cannot run unless either the Fetch API or Node's filesystem module is available.")})}class r{constructor(t,e={},s){this.type=t,this.detail=e,this.msg=s,Object.defineProperty(this,"__mayPropagate",{enumerable:!1,writable:!0}),this.__mayPropagate=!0}preventDefault(){}stopPropagation(){this.__mayPropagate=!1}valueOf(){return this}toString(){return this.msg?`[${this.type} event]: `+this.msg:`[${this.type} event]`}}const e=new Date("1904-01-01T00:00:00+0000").getTime();class z{constructor(t,e,s){this.name=(s||t.tag||"").trim(),this.length=t.length,this.start=t.offset,this.offset=0,this.data=e,["getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getBigInt64","getBigUint64"].forEach(t=>{var e=t.replace(/get(Big)?/,"").toLowerCase();let s=parseInt(t.replace(/[^\d]/g,""))/8;Object.defineProperty(this,e,{get:()=>this.getValue(t,s)})})}get currentPosition(){return this.start+this.offset}set currentPosition(t){this.start=t,this.offset=0}skip(t=0,e=8){this.offset+=t*e/8}getValue(e,s){var t=this.start+this.offset;this.offset+=s;try{return this.data[e](t)}catch(t){throw console.error("parser",e,s,this),console.error("parser",this.start,this.offset),t}}flags(t){if(8===t||16===t||32===t||64===t)return this["uint"+t].toString(2).padStart(t,0).split("").map(t=>"1"===t);console.error("Error parsing flags: flag types can only be 1, 2, 4, or 8 bytes long"),console.trace()}get tag(){var t=this.uint32;return t=[t>>24&255,t>>16&255,t>>8&255,255&t],Array.from(t).map(t=>String.fromCharCode(t)).join("")}get fixed(){return this.int16+Math.round(1e3*this.uint16/65356)/1e3}get legacyFixed(){var t=this.uint16,e=this.uint16.toString(16).padStart(4,0);return parseFloat(t+"."+e)}get uint24(){return(this.uint8<<16)+(this.uint8<<8)+this.uint8}get uint128(){let e=0;for(let t=0;t<5;t++){var s=this.uint8;if(e=128*e+(127&s),s<128)break}return e}get longdatetime(){return new Date(e+1e3*parseInt(this.int64.toString()))}get fword(){return this.int16}get ufword(){return this.uint16}get Offset16(){return this.uint16}get Offset32(){return this.uint32}get F2DOT14(){var t=p.uint16;return[0,1,-2,-1][t>>14]+(16383&t)/16384}verifyLength(){this.offset!=this.length&&console.error(`unexpected parsed table size (${this.offset}) for "${this.name}" (expected ${this.length})`)}readBytes(t=0,e=0,s=8,r=!1){if(0===(t=t||this.length))return[];e&&(this.currentPosition=e);for(var i=`${r?"":"u"}int`+s,n=[];t--;)n.push(this[i]);return n}}class i{constructor(t){Object.defineProperty(this,"parser",{enumerable:!1,get:()=>t});const e=t.currentPosition;Object.defineProperty(this,"start",{enumerable:!1,get:()=>e})}load(s){Object.keys(s).forEach(t=>{var e=Object.getOwnPropertyDescriptor(s,t);e.get?this[t]=e.get.bind(this):void 0!==e.value&&(this[t]=e.value)}),this.parser.length&&this.parser.verifyLength()}}class n extends i{constructor(t,e,s){const{parser:r,start:i}=super(new z(t,e,s));Object.defineProperty(this,"p",{enumerable:!1,get:()=>r});t={enumerable:!1,get:()=>i};Object.defineProperty(this,"tableStart",t)}}function h(t,e,s){let r;Object.defineProperty(t,e,{get:()=>r=r||s(),enumerable:!0})}class j extends n{constructor(t,e,s){const r=super({offset:0,length:12},e,"sfnt")["p"];this.version=r.uint32,this.numTables=r.uint16,this.searchRange=r.uint16,this.entrySelector=r.uint16,this.rangeShift=r.uint16,r.verifyLength(),this.directory=[...new Array(this.numTables)].map(t=>new E(r)),this.tables={},this.directory.forEach(t=>{h(this.tables,t.tag.trim(),()=>s(this.tables,{tag:t.tag,offset:t.offset,length:t.length},e))})}}class E{constructor(t){this.tag=t.tag,this.checksum=t.uint32,this.offset=t.uint32,this.length=t.uint32}}const u=globalThis.pako?globalThis.pako.inflate:void 0;let c=void 0;u||import("zlib").then(e=>{c=t=>e.unzipSync(t)});class B extends n{constructor(t,e,s){const r=super({offset:0,length:44},e,"woff")["p"];var n,o,a;this.signature=r.tag,this.flavor=r.uint32,this.length=r.uint32,this.numTables=r.uint16,r.uint16,this.totalSfntSize=r.uint32,this.majorVersion=r.uint16,this.minorVersion=r.uint16,this.metaOffset=r.uint32,this.metaLength=r.uint32,this.metaOrigLength=r.uint32,this.privOffset=r.uint32,this.privLength=r.uint32,r.verifyLength(),this.directory=[...new Array(this.numTables)].map(t=>new M(r)),o=e,a=s,(n=this).tables={},n.directory.forEach(i=>{h(n.tables,i.tag.trim(),()=>{let t=0,e=o;if(i.compLength!==i.origLength){var s,r=o.buffer.slice(i.offset,i.offset+i.compLength);let t;if(u)t=u(new Uint8Array(r));else{if(!c)throw s="no brotli decoder available to decode WOFF2 font",font.onerror&&font.onerror(s),new Error(s);t=c(new Uint8Array(r))}e=new DataView(t.buffer)}else t=i.offset;return a(n.tables,{tag:i.tag,offset:t,length:i.origLength},e)})})}}class M{constructor(t){this.tag=t.tag,this.offset=t.uint32,this.compLength=t.uint32,this.origLength=t.uint32,this.origChecksum=t.uint32}}const l=globalThis.unbrotli;let f=void 0;l||import("zlib").then(e=>{f=t=>e.brotliDecompressSync(t)});class q extends n{constructor(t,e,s){const r=super({offset:0,length:48},e,"woff2")["p"];this.signature=r.tag,this.flavor=r.uint32,this.length=r.uint32,this.numTables=r.uint16,r.uint16,this.totalSfntSize=r.uint32,this.totalCompressedSize=r.uint32,this.majorVersion=r.uint16,this.minorVersion=r.uint16,this.metaOffset=r.uint32,this.metaLength=r.uint32,this.metaOrigLength=r.uint32,this.privOffset=r.uint32,this.privLength=r.uint32,r.verifyLength(),this.directory=[...new Array(this.numTables)].map(t=>new U(r));var i=r.currentPosition;this.directory[0].offset=0,this.directory.forEach((t,e)=>{e=this.directory[e+1];e&&(e.offset=t.offset+(void 0!==t.transformLength?t.transformLength:t.origLength))});let n;var o,a,u,e=e.buffer.slice(i);if(l)n=l(new Uint8Array(e));else{if(!f)throw i="no brotli decoder available to decode WOFF2 font",t.onerror&&t.onerror(i),new Error(i);n=new Uint8Array(f(e))}o=this,a=n,u=s,o.tables={},o.directory.forEach(s=>{h(o.tables,s.tag.trim(),()=>{var t=s.offset,e=t+(s.transformLength||s.origLength),t=new DataView(a.slice(t,e).buffer);try{return u(o.tables,{tag:s.tag,offset:0,length:s.origLength},t)}catch(t){console.error(t)}})})}}class U{constructor(t){this.flags=t.uint8;var e=this.tagNumber=63&this.flags,e=(this.tag=63==e?t.tag:["cmap","head","hhea","hmtx","maxp","name","OS/2","post","cvt ","fpgm","glyf","loca","prep","CFF ","VORG","EBDT","EBLC","gasp","hdmx","kern","LTSH","PCLT","VDMX","vhea","vmtx","BASE","GDEF","GPOS","GSUB","EBSC","JSTF","MATH","CBDT","CBLC","COLR","CPAL","SVG ","sbix","acnt","avar","bdat","bloc","bsln","cvar","fdsc","feat","fmtx","fvar","gvar","hsty","just","lcar","mort","morx","opbd","prop","trak","Zapf","Silf","Glat","Gloc","Feat","Sill"][63&e],this.transformVersion=(192&this.flags)>>6);let s=0!=e;"glyf"!==this.tag&&"loca"!==this.tag||(s=3!==this.transformVersion),this.origLength=t.uint128,s&&(this.transformLength=t.uint128)}}const o={};let a=!1;function N(t,e,s){var r=e.tag.replace(/[^\w\d]/g,""),i=o[r];return i?new i(e,s,t):(console.warn(`lib-font has no definition for ${r}. The table was skipped.`),{})}function Y(){let r=0;return new Promise((t,e)=>function t(e,s){if(!a)return 10<r?s(new Error("loading took too long")):(r++,setTimeout(()=>t(e),250));e(N)}(t))}async function H(e,s,r={}){if(globalThis.document){var i=function(t,e){var s=t.lastIndexOf("."),r={ttf:"truetype",otf:"opentype",woff:"woff",woff2:"woff2"}[s=(t.substring(s+1)||"").toLowerCase()];if(r)return r;let i={eot:"The .eot format is not supported: it died in January 12, 2016, when Microsoft retired all versions of IE that didn't already support WOFF.",svg:"The .svg format is not supported: SVG fonts (not to be confused with OpenType with embedded SVG) were so bad we took the entire fonts chapter out of the SVG specification again.",fon:"The .fon format is not supported: this is an ancient Windows bitmap font format.",ttc:"Based on the current CSS specification, font collections are not (yet?) supported."}[s];if(i=i||t+" is not a known webfont format.",e)throw new Error(i);console.warn("Could not load font: "+i)}(s,r.errorOnStyle);if(i){var n=document.createElement("style");n.className="injected-by-Font-js";let t=[];return r.styleRules&&(t=Object.entries(r.styleRules).map(([t,e])=>t+`: ${e};`)),n.textContent=`
@font-face {
    font-family: "${e}";
    ${t.join(`
	`)}
    src: url("${s}") format("${i}");
}`,globalThis.document.head.appendChild(n),n}}}Promise.all([Promise.resolve().then(function(){return ft}),Promise.resolve().then(function(){return pt}),Promise.resolve().then(function(){return dt}),Promise.resolve().then(function(){return mt}),Promise.resolve().then(function(){return yt}),Promise.resolve().then(function(){return vt}),Promise.resolve().then(function(){return Ot}),Promise.resolve().then(function(){return wt}),Promise.resolve().then(function(){return Dt}),Promise.resolve().then(function(){return Mt}),Promise.resolve().then(function(){return _e}),Promise.resolve().then(function(){return Le}),Promise.resolve().then(function(){return De}),Promise.resolve().then(function(){return Ge}),Promise.resolve().then(function(){return Fe}),Promise.resolve().then(function(){return Ve}),Promise.resolve().then(function(){return je}),Promise.resolve().then(function(){return Ee}),Promise.resolve().then(function(){return Be}),Promise.resolve().then(function(){return Me}),Promise.resolve().then(function(){return qe}),Promise.resolve().then(function(){return Ue}),Promise.resolve().then(function(){return Ye}),Promise.resolve().then(function(){return We}),Promise.resolve().then(function(){return Xe}),Promise.resolve().then(function(){return Ke}),Promise.resolve().then(function(){return Ze}),Promise.resolve().then(function(){return Je}),Promise.resolve().then(function(){return Qe}),Promise.resolve().then(function(){return es}),Promise.resolve().then(function(){return os}),Promise.resolve().then(function(){return hs}),Promise.resolve().then(function(){return ls}),Promise.resolve().then(function(){return ds}),Promise.resolve().then(function(){return gs}),Promise.resolve().then(function(){return ms}),Promise.resolve().then(function(){return bs}),Promise.resolve().then(function(){return Cs}),Promise.resolve().then(function(){return Ss}),Promise.resolve().then(function(){return xs}),Promise.resolve().then(function(){return As})]).then(t=>{t.forEach(t=>{var e=Object.keys(t)[0];o[e]=t[e]}),a=!0});const $=[0,1,0,0],W=[79,84,84,79],X=[119,79,70,70],K=[119,79,70,50];function d(e,s){if(e.length===s.length){for(let t=0;t<e.length;t++)if(e[t]!==s[t])return;return 1}}class g extends class{constructor(){this.listeners={}}addEventListener(t,e,s){var r=this.listeners[t]||[];s?r.unshift(e):r.push(e),this.listeners[t]=r}removeEventListener(t,e){var s=this.listeners[t]||[],r=s.findIndex(t=>t===e);-1<r&&(s.splice(r,1),this.listeners[t]=s)}dispatch(s){var r=this.listeners[s.type];if(r)for(let t=0,e=r.length;t<e&&s.__mayPropagate;t++)r[t](s)}}{constructor(t,e={}){super(),this.name=t,this.options=e,this.metrics=!1}get src(){return this.__src}set src(t){this.__src=t,(async()=>{globalThis.document&&!this.options.skipStyleSheet&&await H(this.name,t,this.options),this.loadFont(t)})()}async loadFont(e,s){fetch(e).then(t=>function(t){if(t.ok)return t;throw new Error(`HTTP ${t.status} - `+t.statusText)}(t)&&t.arrayBuffer()).then(t=>this.fromDataBuffer(t,s||e)).catch(t=>{t=new r("error",t,"Failed to load font at "+(s||e));this.dispatch(t),this.onerror&&this.onerror(t)})}async fromDataBuffer(t,e){this.fontData=new DataView(t);t=d(t=[(t=this.fontData).getUint8(0),t.getUint8(1),t.getUint8(2),t.getUint8(3)],$)||d(t,W)?"SFNT":d(t,X)?"WOFF":d(t,K)?"WOFF2":void 0;if(!t)throw new Error(e+" is either an unsupported font format, or not a font at all.");await this.parseBasicData(t);e=new r("load",{font:this});this.dispatch(e),this.onload&&this.onload(e)}async parseBasicData(e){return Y().then(t=>("SFNT"===e&&(this.opentype=new j(this,this.fontData,t)),"WOFF"===e&&(this.opentype=new B(this,this.fontData,t)),"WOFF2"===e&&(this.opentype=new q(this,this.fontData,t)),this.opentype))}getGlyphId(t){return this.opentype.tables.cmap.getGlyphId(t)}reverse(t){return this.opentype.tables.cmap.reverse(t)}supports(t){return 0!==this.getGlyphId(t)}supportsVariation(t){return!1!==this.opentype.tables.cmap.supportsVariation(t)}measureText(t,e=16){if(this.__unloaded)throw new Error("Cannot measure text: font was unloaded. Please reload before calling measureText()");var s=document.createElement("div"),t=(s.textContent=t,s.style.fontFamily=this.name,s.style.fontSize=e+"px",s.style.color="transparent",s.style.background="transparent",s.style.top="0",s.style.left="0",s.style.position="absolute",document.body.appendChild(s),s.getBoundingClientRect()),s=(document.body.removeChild(s),this.opentype.tables["OS/2"]);return t.fontSize=e,t.ascender=s.sTypoAscender,t.descender=s.sTypoDescender,t}unload(){var t;this.styleElement.parentNode&&(this.styleElement.parentNode.removeElement(this.styleElement),t=new r("unload",{font:this}),this.dispatch(t),this.onunload)&&this.onunload(t),this._unloaded=!0}load(){var t;this.__unloaded&&(delete this.__unloaded,document.head.appendChild(this.styleElement),t=new r("load",{font:this}),this.dispatch(t),this.onload)&&this.onload(t)}}t.Font=g,globalThis.Font=g;class m extends i{constructor(t,e,s){super(t),this.plaformID=e,this.encodingID=s}}class Z extends m{constructor(e,t,s){super(e,t,s),this.format=0,this.length=e.uint16,this.language=e.uint16,this.glyphIdArray=[...new Array(256)].map(t=>e.uint8)}supports(t){return t.charCodeAt&&(t=-1,console.warn("supports(character) not implemented for cmap subtable format 0. only supports(id) is implemented.")),0<=t&&t<=255}reverse(t){return console.warn("reverse not implemented for cmap subtable format 0"),{}}getSupportedCharCodes(){return[{start:1,end:256}]}}class J extends m{constructor(e,t,s){super(e,t,s),this.format=2,this.length=e.uint16,this.language=e.uint16,this.subHeaderKeys=[...new Array(256)].map(t=>e.uint16);const r=Math.max(...this.subHeaderKeys),i=e.currentPosition,n=(h(this,"subHeaders",()=>(e.currentPosition=i,[...new Array(r)].map(t=>new Q(e)))),i+8*r);h(this,"glyphIndexArray",()=>(e.currentPosition=n,[...new Array(r)].map(t=>e.uint16)))}supports(t){t.charCodeAt&&(t=-1,console.warn("supports(character) not implemented for cmap subtable format 2. only supports(id) is implemented."));var e=t&&255,t=this.subHeaders[t&&65280],t=this.subHeaders[t],s=t.firstCode,t=s+t.entryCount;return s<=e&&e<=t}reverse(t){return console.warn("reverse not implemented for cmap subtable format 2"),{}}getSupportedCharCodes(t=!1){return t?this.subHeaders.map(t=>({firstCode:t.firstCode,lastCode:t.lastCode})):this.subHeaders.map(t=>({start:t.firstCode,end:t.lastCode}))}}class Q{constructor(t){this.firstCode=t.uint16,this.entryCount=t.uint16,this.lastCode=this.first+this.entryCount,this.idDelta=t.int16,this.idRangeOffset=t.uint16}}class tt extends m{constructor(t,e,s){super(t,e,s),this.format=4,this.length=t.uint16,this.language=t.uint16,this.segCountX2=t.uint16,this.segCount=this.segCountX2/2,this.searchRange=t.uint16,this.entrySelector=t.uint16,this.rangeShift=t.uint16;const r=t.currentPosition,i=(h(this,"endCode",()=>t.readBytes(this.segCount,r,16)),r+2+this.segCountX2),n=(h(this,"startCode",()=>t.readBytes(this.segCount,i,16)),i+this.segCountX2),o=(h(this,"idDelta",()=>t.readBytes(this.segCount,n,16,!0)),n+this.segCountX2),a=(h(this,"idRangeOffset",()=>t.readBytes(this.segCount,o,16)),o+this.segCountX2),u=this.length-(a-this.tableStart);h(this,"glyphIdArray",()=>t.readBytes(u,a,16)),h(this,"segments",()=>this.buildSegments(o,a,t))}buildSegments(u,t,h){return[...new Array(this.segCount)].map((t,e)=>{var s=this.startCode[e],r=this.endCode[e],i=this.idDelta[e],n=this.idRangeOffset[e],o=u+2*e,a=[];if(0===n)for(let t=s+i,e=r+i;t<=e;t++)a.push(t);else for(let t=0,e=r-s;t<=e;t++)h.currentPosition=o+n+2*t,a.push(h.uint16);return{startCode:s,endCode:r,idDelta:i,idRangeOffset:n,glyphIDs:a}})}reverse(e){var t=this.segments.find(t=>t.glyphIDs.includes(e));return t?{code:t=t.startCode+t.glyphIDs.indexOf(e),unicode:String.fromCodePoint(t)}:{}}getGlyphId(e){var t;return!(55296<=(e=e.charCodeAt?e.charCodeAt(0):e)&&e<=57343)&&65534!=(65534&e)&&65535!=(65535&e)&&(t=this.segments.find(t=>t.startCode<=e&&e<=t.endCode))?t.glyphIDs[e-t.startCode]:0}supports(t){return 0!==this.getGlyphId(t)}getSupportedCharCodes(t=!1){return t?this.segments:this.segments.map(t=>({start:t.startCode,end:t.endCode}))}}class et extends m{constructor(e,t,s){super(e,t,s),this.format=6,this.length=e.uint16,this.language=e.uint16,this.firstCode=e.uint16,this.entryCount=e.uint16,this.lastCode=this.firstCode+this.entryCount-1;h(this,"glyphIdArray",()=>[...new Array(this.entryCount)].map(t=>e.uint16))}supports(t){return t.charCodeAt&&(t=-1,console.warn("supports(character) not implemented for cmap subtable format 6. only supports(id) is implemented.")),t<this.firstCode||t>this.firstCode+this.entryCount?{}:{code:t=t-this.firstCode,unicode:String.fromCodePoint(t)}}reverse(t){t=this.glyphIdArray.indexOf(t);if(-1<t)return this.firstCode+t}getSupportedCharCodes(t=!1){return t?[{firstCode:this.firstCode,lastCode:this.lastCode}]:[{start:this.firstCode,end:this.lastCode}]}}class st extends m{constructor(e,t,s){super(e,t,s),this.format=8,e.uint16,this.length=e.uint32,this.language=e.uint32,this.is32=[...new Array(8192)].map(t=>e.uint8),this.numGroups=e.uint32;h(this,"groups",()=>[...new Array(this.numGroups)].map(t=>new rt(e)))}supports(e){return e.charCodeAt&&(e=-1,console.warn("supports(character) not implemented for cmap subtable format 8. only supports(id) is implemented.")),-1!==this.groups.findIndex(t=>t.startcharCode<=e&&e<=t.endcharCode)}reverse(t){return console.warn("reverse not implemented for cmap subtable format 8"),{}}getSupportedCharCodes(t=!1){return t?this.groups:this.groups.map(t=>({start:t.startcharCode,end:t.endcharCode}))}}class rt{constructor(t){this.startcharCode=t.uint32,this.endcharCode=t.uint32,this.startGlyphID=t.uint32}}class it extends m{constructor(e,t,s){super(e,t,s),this.format=10,e.uint16,this.length=e.uint32,this.language=e.uint32,this.startCharCode=e.uint32,this.numChars=e.uint32,this.endCharCode=this.startCharCode+this.numChars;h(this,"glyphs",()=>[...new Array(this.numChars)].map(t=>e.uint16))}supports(t){return t.charCodeAt&&(t=-1,console.warn("supports(character) not implemented for cmap subtable format 10. only supports(id) is implemented.")),!(t<this.startCharCode||t>this.startCharCode+this.numChars)&&t-this.startCharCode}reverse(t){return console.warn("reverse not implemented for cmap subtable format 10"),{}}getSupportedCharCodes(t=!1){return t?[{startCharCode:this.startCharCode,endCharCode:this.endCharCode}]:[{start:this.startCharCode,end:this.endCharCode}]}}class nt extends m{constructor(e,t,s){super(e,t,s),this.format=12,e.uint16,this.length=e.uint32,this.language=e.uint32,this.numGroups=e.uint32;h(this,"groups",()=>[...new Array(this.numGroups)].map(t=>new ot(e)))}supports(e){return 55296<=(e=e.charCodeAt?e.charCodeAt(0):e)&&e<=57343||65534==(65534&e)||65535==(65535&e)?0:-1!==this.groups.findIndex(t=>t.startCharCode<=e&&e<=t.endCharCode)}reverse(t){for(var e of this.groups){var s=e.startGlyphID;if(!(t<s)){if(s===t)return e.startCharCode;var r=s+(e.endCharCode-e.startCharCode);if(!(r<t))return{code:r=e.startCharCode+(t-s),unicode:String.fromCodePoint(r)}}}return{}}getSupportedCharCodes(t=!1){return t?this.groups:this.groups.map(t=>({start:t.startCharCode,end:t.endCharCode}))}}class ot{constructor(t){this.startCharCode=t.uint32,this.endCharCode=t.uint32,this.startGlyphID=t.uint32}}class at extends m{constructor(e,t,s){super(e,t,s),this.format=13,e.uint16,this.length=e.uint32,this.language=e.uint32,this.numGroups=e.uint32,h(this,"groups",[...new Array(this.numGroups)].map(t=>new ut(e)))}supports(e){return e.charCodeAt&&(e=e.charCodeAt(0)),-1!==this.groups.findIndex(t=>t.startCharCode<=e&&e<=t.endCharCode)}reverse(t){return console.warn("reverse not implemented for cmap subtable format 13"),{}}getSupportedCharCodes(t=!1){return t?this.groups:this.groups.map(t=>({start:t.startCharCode,end:t.endCharCode}))}}class ut{constructor(t){this.startCharCode=t.uint32,this.endCharCode=t.uint32,this.glyphID=t.uint32}}class ht extends m{constructor(e,t,s){super(e,t,s),this.subTableStart=e.currentPosition,this.format=14,this.length=e.uint32,this.numVarSelectorRecords=e.uint32,h(this,"varSelectors",()=>[...new Array(this.numVarSelectorRecords)].map(t=>new ct(e)))}supports(){return console.warn("supports not implemented for cmap subtable format 14"),0}getSupportedCharCodes(){return console.warn("getSupportedCharCodes not implemented for cmap subtable format 14"),[]}reverse(t){return console.warn("reverse not implemented for cmap subtable format 14"),{}}supportsVariation(e){var t=this.varSelector.find(t=>t.varSelector===e);return t||!1}getSupportedVariations(){return this.varSelectors.map(t=>t.varSelector)}}class ct{constructor(t){this.varSelector=t.uint24,this.defaultUVSOffset=t.Offset32,this.nonDefaultUVSOffset=t.Offset32}}class lt{constructor(i,n){const o=this.platformID=i.uint16,a=this.encodingID=i.uint16,u=this.offset=i.Offset32;h(this,"table",()=>{return i.currentPosition=n+u,t=i,e=o,s=a,0===(r=t.uint16)?new Z(t,e,s):2===r?new J(t,e,s):4===r?new tt(t,e,s):6===r?new et(t,e,s):8===r?new st(t,e,s):10===r?new it(t,e,s):12===r?new nt(t,e,s):13===r?new at(t,e,s):14===r?new ht(t,e,s):{};var t,e,s,r})}}var ft=Object.freeze({__proto__:null,cmap:class extends n{constructor(t,e){const s=super(t,e)["p"];this.version=s.uint16,this.numTables=s.uint16,this.encodingRecords=[...new Array(this.numTables)].map(t=>new lt(s,this.tableStart))}getSubTable(t){return this.encodingRecords[t].table}getSupportedEncodings(){return this.encodingRecords.map(t=>({platformID:t.platformID,encodingID:t.encodingID}))}getSupportedCharCodes(e,s){var t=this.encodingRecords.findIndex(t=>t.platformID===e&&t.encodingID===s);return-1!==t&&this.getSubTable(t).getSupportedCharCodes()}reverse(e){for(let t=0;t<this.numTables;t++){var s=this.getSubTable(t).reverse(e);if(s)return s}}getGlyphId(s){let r=0;return this.encodingRecords.some((t,e)=>{e=this.getSubTable(e);return!!e.getGlyphId&&0!==(r=e.getGlyphId(s))}),r}supports(s){return this.encodingRecords.some((t,e)=>{e=this.getSubTable(e);return e.supports&&!1!==e.supports(s)})}supportsVariation(s){return this.encodingRecords.some((t,e)=>{e=this.getSubTable(e);return e.supportsVariation&&!1!==e.supportsVariation(s)})}}});var pt=Object.freeze({__proto__:null,head:class extends n{constructor(t,e){t=super(t,e).p;this.load({majorVersion:t.uint16,minorVersion:t.uint16,fontRevision:t.fixed,checkSumAdjustment:t.uint32,magicNumber:t.uint32,flags:t.flags(16),unitsPerEm:t.uint16,created:t.longdatetime,modified:t.longdatetime,xMin:t.int16,yMin:t.int16,xMax:t.int16,yMax:t.int16,macStyle:t.flags(16),lowestRecPPEM:t.uint16,fontDirectionHint:t.uint16,indexToLocFormat:t.uint16,glyphDataFormat:t.uint16})}}});var dt=Object.freeze({__proto__:null,hhea:class extends n{constructor(t,e){t=super(t,e).p;this.majorVersion=t.uint16,this.minorVersion=t.uint16,this.ascender=t.fword,this.descender=t.fword,this.lineGap=t.fword,this.advanceWidthMax=t.ufword,this.minLeftSideBearing=t.fword,this.minRightSideBearing=t.fword,this.xMaxExtent=t.fword,this.caretSlopeRise=t.int16,this.caretSlopeRun=t.int16,this.caretOffset=t.int16,t.int16,t.int16,t.int16,t.int16,this.metricDataFormat=t.int16,this.numberOfHMetrics=t.uint16,t.verifyLength()}}});class gt{constructor(t,e){this.advanceWidth=t,this.lsb=e}}var mt=Object.freeze({__proto__:null,hmtx:class extends n{constructor(t,e,s){const r=super(t,e)["p"],i=s.hhea.numberOfHMetrics,n=s.maxp.numGlyphs,o=r.currentPosition;if(h(this,"hMetrics",()=>(r.currentPosition=o,[...new Array(i)].map(t=>new gt(r.uint16,r.int16)))),i<n){const a=o+4*i;h(this,"leftSideBearings",()=>(r.currentPosition=a,[...new Array(n-i)].map(t=>r.int16)))}}}});var yt=Object.freeze({__proto__:null,maxp:class extends n{constructor(t,e){t=super(t,e).p;this.version=t.legacyFixed,this.numGlyphs=t.uint16,1===this.version&&(this.maxPoints=t.uint16,this.maxContours=t.uint16,this.maxCompositePoints=t.uint16,this.maxCompositeContours=t.uint16,this.maxZones=t.uint16,this.maxTwilightPoints=t.uint16,this.maxStorage=t.uint16,this.maxFunctionDefs=t.uint16,this.maxInstructionDefs=t.uint16,this.maxStackElements=t.uint16,this.maxSizeOfInstructions=t.uint16,this.maxComponentElements=t.uint16,this.maxComponentDepth=t.uint16),t.verifyLength()}}});class bt{constructor(t,e){this.length=t,this.offset=e}}class Ct{constructor(n,o){this.platformID=n.uint16,this.encodingID=n.uint16,this.languageID=n.uint16,this.nameID=n.uint16,this.length=n.uint16,this.offset=n.Offset16,h(this,"string",()=>{n.currentPosition=o.stringStart+this.offset;{var s=n,t,{platformID:t,length:r}=t=this;if(0===r)return"";if(0===t||3===t){const i=[];for(let t=0,e=r/2;t<e;t++)i[t]=String.fromCharCode(s.uint16);return i.join("")}const e=s.readBytes(r),i=[];return e.forEach(function(t,e){i[e]=String.fromCharCode(t)}),i.join("")}})}}var vt=Object.freeze({__proto__:null,name:class extends n{constructor(t,e){const s=super(t,e)["p"];this.format=s.uint16,this.count=s.uint16,this.stringOffset=s.Offset16,this.nameRecords=[...new Array(this.count)].map(t=>new Ct(s,this)),1===this.format&&(this.langTagCount=s.uint16,this.langTagRecords=[...new Array(this.langTagCount)].map(t=>new bt(s.uint16,s.Offset16))),this.stringStart=this.tableStart+this.stringOffset}get(e){var t=this.nameRecords.find(t=>t.nameID===e);if(t)return t.string}}});var Ot=Object.freeze({__proto__:null,OS2:class extends n{constructor(t,e){const s=super(t,e)["p"];return this.version=s.uint16,this.xAvgCharWidth=s.int16,this.usWeightClass=s.uint16,this.usWidthClass=s.uint16,this.fsType=s.uint16,this.ySubscriptXSize=s.int16,this.ySubscriptYSize=s.int16,this.ySubscriptXOffset=s.int16,this.ySubscriptYOffset=s.int16,this.ySuperscriptXSize=s.int16,this.ySuperscriptYSize=s.int16,this.ySuperscriptXOffset=s.int16,this.ySuperscriptYOffset=s.int16,this.yStrikeoutSize=s.int16,this.yStrikeoutPosition=s.int16,this.sFamilyClass=s.int16,this.panose=[...new Array(10)].map(t=>s.uint8),this.ulUnicodeRange1=s.flags(32),this.ulUnicodeRange2=s.flags(32),this.ulUnicodeRange3=s.flags(32),this.ulUnicodeRange4=s.flags(32),this.achVendID=s.tag,this.fsSelection=s.uint16,this.usFirstCharIndex=s.uint16,this.usLastCharIndex=s.uint16,this.sTypoAscender=s.int16,this.sTypoDescender=s.int16,this.sTypoLineGap=s.int16,this.usWinAscent=s.uint16,this.usWinDescent=s.uint16,0===this.version||(this.ulCodePageRange1=s.flags(32),this.ulCodePageRange2=s.flags(32),1===this.version)||(this.sxHeight=s.int16,this.sCapHeight=s.int16,this.usDefaultChar=s.uint16,this.usBreakChar=s.uint16,this.usMaxContext=s.uint16,this.version<=4)||(this.usLowerOpticalPointSize=s.uint16,this.usUpperOpticalPointSize=s.uint16,5===this.version)?s.verifyLength():void 0}}});const y=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];var wt=Object.freeze({__proto__:null,post:class extends n{constructor(t,e){const s=super(t,e)["p"];if(this.version=s.legacyFixed,this.italicAngle=s.fixed,this.underlinePosition=s.fword,this.underlineThickness=s.fword,this.isFixedPitch=s.uint32,this.minMemType42=s.uint32,this.maxMemType42=s.uint32,this.minMemType1=s.uint32,this.maxMemType1=s.uint32,1===this.version||3===this.version)return s.verifyLength();if(this.numGlyphs=s.uint16,2===this.version){this.glyphNameIndex=[...new Array(this.numGlyphs)].map(t=>s.uint16),this.namesOffset=s.currentPosition,this.glyphNameOffsets=[1];for(let t=0;t<this.numGlyphs;t++){var r;this.glyphNameIndex[t]<y.length?this.glyphNameOffsets.push(this.glyphNameOffsets[t]):(r=s.int8,s.skip(r),this.glyphNameOffsets.push(this.glyphNameOffsets[t]+r+1))}}2.5===this.version&&(this.offset=[...new Array(this.numGlyphs)].map(t=>s.int8))}getGlyphName(t){var e;return 2!==this.version?(console.warn(`post table version ${this.version} does not support glyph name lookups`),""):(e=this.glyphNameIndex[t])<258?y[e]:(e=this.glyphNameOffsets[t],0==(t=this.glyphNameOffsets[t+1]-e-1)?".notdef.":(this.parser.currentPosition=this.namesOffset+e,this.parser.readBytes(t,this.namesOffset+e,8,!0).map(t=>String.fromCharCode(t)).join("")))}}});class b extends n{constructor(t,e){var s=super(t,e,"AxisTable")["p"];this.baseTagListOffset=s.Offset16,this.baseScriptListOffset=s.Offset16,h(this,"baseTagList",()=>new St({offset:t.offset+this.baseTagListOffset},e)),h(this,"baseScriptList",()=>new xt({offset:t.offset+this.baseScriptListOffset},e))}}class St extends n{constructor(t,e){const s=super(t,e,"BaseTagListTable")["p"];this.baseTagCount=s.uint16,this.baselineTags=[...new Array(this.baseTagCount)].map(t=>s.tag)}}class xt extends n{constructor(t,e){const s=super(t,e,"BaseScriptListTable")["p"],r=(this.baseScriptCount=s.uint16,s.currentPosition);h(this,"baseScriptRecords",()=>(s.currentPosition=r,[...new Array(this.baseScriptCount)].map(t=>new Pt(this.start,s))))}}class Pt{constructor(t,e){this.baseScriptTag=e.tag,this.baseScriptOffset=e.Offset16,h(this,"baseScriptTable",()=>(e.currentPosition=t+this.baseScriptOffset,new At(e)))}}class At{constructor(e){this.start=e.currentPosition,this.baseValuesOffset=e.Offset16,this.defaultMinMaxOffset=e.Offset16,this.baseLangSysCount=e.uint16,this.baseLangSysRecords=[...new Array(this.baseLangSysCount)].map(t=>new _t(this.start,e)),h(this,"baseValues",()=>(e.currentPosition=this.start+this.baseValuesOffset,new Lt(e))),h(this,"defaultMinMax",()=>(e.currentPosition=this.start+this.defaultMinMaxOffset,new C(e)))}}class _t{constructor(t,e){this.baseLangSysTag=e.tag,this.minMaxOffset=e.Offset16,h(this,"minMax",()=>(e.currentPosition=t+this.minMaxOffset,new C(e)))}}class Lt{constructor(e){this.parser=e,this.start=e.currentPosition,this.defaultBaselineIndex=e.uint16,this.baseCoordCount=e.uint16,this.baseCoords=[...new Array(this.baseCoordCount)].map(t=>e.Offset16)}getTable(t){return this.parser.currentPosition=this.start+this.baseCoords[t],new kt(this.parser)}}class C{constructor(e){this.minCoord=e.Offset16,this.maxCoord=e.Offset16,this.featMinMaxCount=e.uint16;const t=e.currentPosition;h(this,"featMinMaxRecords",()=>(e.currentPosition=t,[...new Array(this.featMinMaxCount)].map(t=>new Tt(e))))}}class Tt{constructor(t){this.featureTableTag=t.tag,this.minCoord=t.Offset16,this.maxCoord=t.Offset16}}class kt{constructor(t){this.baseCoordFormat=t.uint16,this.coordinate=t.int16,2===this.baseCoordFormat&&(this.referenceGlyph=t.uint16,this.baseCoordPoint=t.uint16),3===this.baseCoordFormat&&(this.deviceTable=t.Offset16)}}var Dt=Object.freeze({__proto__:null,BASE:class extends n{constructor(t,e){var s=super(t,e)["p"];this.majorVersion=s.uint16,this.minorVersion=s.uint16,this.horizAxisOffset=s.Offset16,this.vertAxisOffset=s.Offset16,h(this,"horizAxis",()=>new b({offset:t.offset+this.horizAxisOffset},e)),h(this,"vertAxis",()=>new b({offset:t.offset+this.vertAxisOffset},e)),1===this.majorVersion&&1===this.minorVersion&&(this.itemVarStoreOffset=s.Offset32,h(this,"itemVarStore",()=>new b({offset:t.offset+this.itemVarStoreOffset},e)))}}});class v{constructor(e){this.classFormat=e.uint16,1===this.classFormat&&(this.startGlyphID=e.uint16,this.glyphCount=e.uint16,this.classValueArray=[...new Array(this.glyphCount)].map(t=>e.uint16)),2===this.classFormat&&(this.classRangeCount=e.uint16,this.classRangeRecords=[...new Array(this.classRangeCount)].map(t=>new Rt(e)))}}class Rt{constructor(t){this.startGlyphID=t.uint16,this.endGlyphID=t.uint16,this.class=t.uint16}}class O extends i{constructor(e){super(e),this.coverageFormat=e.uint16,1===this.coverageFormat&&(this.glyphCount=e.uint16,this.glyphArray=[...new Array(this.glyphCount)].map(t=>e.uint16)),2===this.coverageFormat&&(this.rangeCount=e.uint16,this.rangeRecords=[...new Array(this.rangeCount)].map(t=>new It(e)))}}class It{constructor(t){this.startGlyphID=t.uint16,this.endGlyphID=t.uint16,this.startCoverageIndex=t.uint16}}class Gt{constructor(t,e){this.table=t,this.parser=e,this.start=e.currentPosition,this.format=e.uint16,this.variationRegionListOffset=e.Offset32,this.itemVariationDataCount=e.uint16,this.itemVariationDataOffsets=[...new Array(this.itemVariationDataCount)].map(t=>e.Offset32)}}class Ft extends i{constructor(e){super(e),this.coverageOffset=e.Offset16,this.glyphCount=e.uint16,this.attachPointOffsets=[...new Array(this.glyphCount)].map(t=>e.Offset16)}getPoint(t){return this.parser.currentPosition=this.start+this.attachPointOffsets[t],new Vt(this.parser)}}class Vt{constructor(e){this.pointCount=e.uint16,this.pointIndices=[...new Array(this.pointCount)].map(t=>e.uint16)}}class zt extends i{constructor(e){super(e),this.coverageOffset=e.Offset16,h(this,"coverage",()=>(e.currentPosition=this.start+this.coverageOffset,new O(e))),this.ligGlyphCount=e.uint16,this.ligGlyphOffsets=[...new Array(this.ligGlyphCount)].map(t=>e.Offset16)}getLigGlyph(t){return this.parser.currentPosition=this.start+this.ligGlyphOffsets[t],new jt(this.parser)}}class jt extends i{constructor(e){super(e),this.caretCount=e.uint16,this.caretValueOffsets=[...new Array(this.caretCount)].map(t=>e.Offset16)}getCaretValue(t){return this.parser.currentPosition=this.start+this.caretValueOffsets[t],new Et(this.parser)}}class Et{constructor(t){this.caretValueFormat=t.uint16,1===this.caretValueFormat&&(this.coordinate=t.int16),2===this.caretValueFormat&&(this.caretValuePointIndex=t.uint16),3===this.caretValueFormat&&(this.coordinate=t.int16,this.deviceOffset=t.Offset16)}}class Bt extends i{constructor(e){super(e),this.markGlyphSetTableFormat=e.uint16,this.markGlyphSetCount=e.uint16,this.coverageOffsets=[...new Array(this.markGlyphSetCount)].map(t=>e.Offset32)}getMarkGlyphSet(t){return this.parser.currentPosition=this.start+this.coverageOffsets[t],new O(this.parser)}}var Mt=Object.freeze({__proto__:null,GDEF:class extends n{constructor(t,e){const s=super(t,e)["p"];this.majorVersion=s.uint16,this.minorVersion=s.uint16,this.glyphClassDefOffset=s.Offset16,h(this,"glyphClassDefs",()=>{if(0!==this.glyphClassDefOffset)return s.currentPosition=this.tableStart+this.glyphClassDefOffset,new v(s)}),this.attachListOffset=s.Offset16,h(this,"attachList",()=>{if(0!==this.attachListOffset)return s.currentPosition=this.tableStart+this.attachListOffset,new Ft(s)}),this.ligCaretListOffset=s.Offset16,h(this,"ligCaretList",()=>{if(0!==this.ligCaretListOffset)return s.currentPosition=this.tableStart+this.ligCaretListOffset,new zt(s)}),this.markAttachClassDefOffset=s.Offset16,h(this,"markAttachClassDef",()=>{if(0!==this.markAttachClassDefOffset)return s.currentPosition=this.tableStart+this.markAttachClassDefOffset,new v(s)}),2<=this.minorVersion&&(this.markGlyphSetsDefOffset=s.Offset16,h(this,"markGlyphSetsDef",()=>{if(0!==this.markGlyphSetsDefOffset)return s.currentPosition=this.tableStart+this.markGlyphSetsDefOffset,new Bt(s)})),3===this.minorVersion&&(this.itemVarStoreOffset=s.Offset32,h(this,"itemVarStore",()=>{if(0!==this.itemVarStoreOffset)return s.currentPosition=this.tableStart+this.itemVarStoreOffset,new Gt(s)}))}}});class w extends i{static EMPTY={scriptCount:0,scriptRecords:[]};constructor(e){super(e),this.scriptCount=e.uint16,this.scriptRecords=[...new Array(this.scriptCount)].map(t=>new qt(e))}}class qt{constructor(t){this.scriptTag=t.tag,this.scriptOffset=t.Offset16}}class Ut extends i{constructor(e){super(e),this.defaultLangSys=e.Offset16,this.langSysCount=e.uint16,this.langSysRecords=[...new Array(this.langSysCount)].map(t=>new Nt(e))}}class Nt{constructor(t){this.langSysTag=t.tag,this.langSysOffset=t.Offset16}}class S{constructor(e){this.lookupOrder=e.Offset16,this.requiredFeatureIndex=e.uint16,this.featureIndexCount=e.uint16,this.featureIndices=[...new Array(this.featureIndexCount)].map(t=>e.uint16)}}class x extends i{static EMPTY={featureCount:0,featureRecords:[]};constructor(e){super(e),this.featureCount=e.uint16,this.featureRecords=[...new Array(this.featureCount)].map(t=>new Yt(e))}}class Yt{constructor(t){this.featureTag=t.tag,this.featureOffset=t.Offset16}}class Ht extends i{constructor(e){super(e),this.featureParams=e.Offset16,this.lookupIndexCount=e.uint16,this.lookupListIndices=[...new Array(this.lookupIndexCount)].map(t=>e.uint16)}getFeatureParams(){var t,e;if(0<this.featureParams)return(t=this.parser).currentPosition=this.start+this.featureParams,"size"===(e=this.featureTag)?new Wt(t):e.startsWith("cv")?new $t(t):e.startsWith("ss")?new Xt(t):void 0}}class $t{constructor(e){this.format=e.uint16,this.featUiLabelNameId=e.uint16,this.featUiTooltipTextNameId=e.uint16,this.sampleTextNameId=e.uint16,this.numNamedParameters=e.uint16,this.firstParamUiLabelNameId=e.uint16,this.charCount=e.uint16,this.character=[...new Array(this.charCount)].map(t=>e.uint24)}}class Wt{constructor(t){this.designSize=t.uint16,this.subfamilyIdentifier=t.uint16,this.subfamilyNameID=t.uint16,this.smallEnd=t.uint16,this.largeEnd=t.uint16}}class Xt{constructor(t){this.version=t.uint16,this.UINameID=t.uint16}}function P(t){t.parser.currentPosition-=2,delete t.coverageOffset,delete t.getCoverageTable}class A extends i{constructor(t){super(t),this.substFormat=t.uint16,this.coverageOffset=t.Offset16}getCoverageTable(){var t=this.parser;return t.currentPosition=this.start+this.coverageOffset,new O(t)}}class _{constructor(t){this.glyphSequenceIndex=t.uint16,this.lookupListIndex=t.uint16}}class Kt extends A{constructor(t){super(t),this.deltaGlyphID=t.int16}}class Zt extends A{constructor(e){super(e),this.sequenceCount=e.uint16,this.sequenceOffsets=[...new Array(this.sequenceCount)].map(t=>e.Offset16)}getSequence(t){var e=this.parser;return e.currentPosition=this.start+this.sequenceOffsets[t],new Jt(e)}}class Jt{constructor(e){this.glyphCount=e.uint16,this.substituteGlyphIDs=[...new Array(this.glyphCount)].map(t=>e.uint16)}}class Qt extends A{constructor(e){super(e),this.alternateSetCount=e.uint16,this.alternateSetOffsets=[...new Array(this.alternateSetCount)].map(t=>e.Offset16)}getAlternateSet(t){var e=this.parser;return e.currentPosition=this.start+this.alternateSetOffsets[t],new te(e)}}class te{constructor(e){this.glyphCount=e.uint16,this.alternateGlyphIDs=[...new Array(this.glyphCount)].map(t=>e.uint16)}}class ee extends A{constructor(e){super(e),this.ligatureSetCount=e.uint16,this.ligatureSetOffsets=[...new Array(this.ligatureSetCount)].map(t=>e.Offset16)}getLigatureSet(t){var e=this.parser;return e.currentPosition=this.start+this.ligatureSetOffsets[t],new se(e)}}class se extends i{constructor(e){super(e),this.ligatureCount=e.uint16,this.ligatureOffsets=[...new Array(this.ligatureCount)].map(t=>e.Offset16)}getLigature(t){var e=this.parser;return e.currentPosition=this.start+this.ligatureOffsets[t],new re(e)}}class re{constructor(e){this.ligatureGlyph=e.uint16,this.componentCount=e.uint16,this.componentGlyphIDs=[...new Array(this.componentCount-1)].map(t=>e.uint16)}}class ie extends A{constructor(e){super(e),1===this.substFormat&&(this.subRuleSetCount=e.uint16,this.subRuleSetOffsets=[...new Array(this.subRuleSetCount)].map(t=>e.Offset16)),2===this.substFormat&&(this.classDefOffset=e.Offset16,this.subClassSetCount=e.uint16,this.subClassSetOffsets=[...new Array(this.subClassSetCount)].map(t=>e.Offset16)),3===this.substFormat&&(P(this),this.glyphCount=e.uint16,this.substitutionCount=e.uint16,this.coverageOffsets=[...new Array(this.glyphCount)].map(t=>e.Offset16),this.substLookupRecords=[...new Array(this.substitutionCount)].map(t=>new _(e)))}getSubRuleSet(t){if(1!==this.substFormat)throw new Error(`lookup type 5.${this.substFormat} has no subrule sets.`);var e=this.parser;return e.currentPosition=this.start+this.subRuleSetOffsets[t],new ne(e)}getSubClassSet(t){if(2!==this.substFormat)throw new Error(`lookup type 5.${this.substFormat} has no subclass sets.`);var e=this.parser;return e.currentPosition=this.start+this.subClassSetOffsets[t],new oe(e)}getCoverageTable(t){if(3!==this.substFormat&&!t)return super.getCoverageTable();var e;if(t)return(e=this.parser).currentPosition=this.start+this.coverageOffsets[t],new O(e);throw new Error(`lookup type 5.${this.substFormat} requires an coverage table index.`)}}class ne extends i{constructor(e){super(e),this.subRuleCount=e.uint16,this.subRuleOffsets=[...new Array(this.subRuleCount)].map(t=>e.Offset16)}getSubRule(t){var e=this.parser;return e.currentPosition=this.start+this.subRuleOffsets[t],new L(e)}}class L{constructor(e){this.glyphCount=e.uint16,this.substitutionCount=e.uint16,this.inputSequence=[...new Array(this.glyphCount-1)].map(t=>e.uint16),this.substLookupRecords=[...new Array(this.substitutionCount)].map(t=>new _(e))}}class oe extends i{constructor(e){super(e),this.subClassRuleCount=e.uint16,this.subClassRuleOffsets=[...new Array(this.subClassRuleCount)].map(t=>e.Offset16)}getSubClass(t){var e=this.parser;return e.currentPosition=this.start+this.subClassRuleOffsets[t],new ae(e)}}class ae extends L{constructor(t){super(t)}}class ue extends A{constructor(e){super(e),1===this.substFormat&&(this.chainSubRuleSetCount=e.uint16,this.chainSubRuleSetOffsets=[...new Array(this.chainSubRuleSetCount)].map(t=>e.Offset16)),2===this.substFormat&&(this.backtrackClassDefOffset=e.Offset16,this.inputClassDefOffset=e.Offset16,this.lookaheadClassDefOffset=e.Offset16,this.chainSubClassSetCount=e.uint16,this.chainSubClassSetOffsets=[...new Array(this.chainSubClassSetCount)].map(t=>e.Offset16)),3===this.substFormat&&(P(this),this.backtrackGlyphCount=e.uint16,this.backtrackCoverageOffsets=[...new Array(this.backtrackGlyphCount)].map(t=>e.Offset16),this.inputGlyphCount=e.uint16,this.inputCoverageOffsets=[...new Array(this.inputGlyphCount)].map(t=>e.Offset16),this.lookaheadGlyphCount=e.uint16,this.lookaheadCoverageOffsets=[...new Array(this.lookaheadGlyphCount)].map(t=>e.Offset16),this.seqLookupCount=e.uint16,this.seqLookupRecords=[...new Array(this.substitutionCount)].map(t=>new T(e)))}getChainSubRuleSet(t){if(1!==this.substFormat)throw new Error(`lookup type 6.${this.substFormat} has no chainsubrule sets.`);var e=this.parser;return e.currentPosition=this.start+this.chainSubRuleSetOffsets[t],new he(e)}getChainSubClassSet(t){if(2!==this.substFormat)throw new Error(`lookup type 6.${this.substFormat} has no chainsubclass sets.`);var e=this.parser;return e.currentPosition=this.start+this.chainSubClassSetOffsets[t],new le(e)}getCoverageFromOffset(t){if(3!==this.substFormat)throw new Error(`lookup type 6.${this.substFormat} does not use contextual coverage offsets.`);var e=this.parser;return e.currentPosition=this.start+t,new O(e)}}class he extends i{constructor(e){super(e),this.chainSubRuleCount=e.uint16,this.chainSubRuleOffsets=[...new Array(this.chainSubRuleCount)].map(t=>e.Offset16)}getSubRule(t){var e=this.parser;return e.currentPosition=this.start+this.chainSubRuleOffsets[t],new ce(e)}}class ce{constructor(e){this.backtrackGlyphCount=e.uint16,this.backtrackSequence=[...new Array(this.backtrackGlyphCount)].map(t=>e.uint16),this.inputGlyphCount=e.uint16,this.inputSequence=[...new Array(this.inputGlyphCount-1)].map(t=>e.uint16),this.lookaheadGlyphCount=e.uint16,this.lookAheadSequence=[...new Array(this.lookAheadGlyphCount)].map(t=>e.uint16),this.substitutionCount=e.uint16,this.substLookupRecords=[...new Array(this.SubstCount)].map(t=>new _(e))}}class le extends i{constructor(e){super(e),this.chainSubClassRuleCount=e.uint16,this.chainSubClassRuleOffsets=[...new Array(this.chainSubClassRuleCount)].map(t=>e.Offset16)}getSubClass(t){var e=this.parser;return e.currentPosition=this.start+this.chainSubRuleOffsets[t],new fe(e)}}class fe{constructor(e){this.backtrackGlyphCount=e.uint16,this.backtrackSequence=[...new Array(this.backtrackGlyphCount)].map(t=>e.uint16),this.inputGlyphCount=e.uint16,this.inputSequence=[...new Array(this.inputGlyphCount-1)].map(t=>e.uint16),this.lookaheadGlyphCount=e.uint16,this.lookAheadSequence=[...new Array(this.lookAheadGlyphCount)].map(t=>e.uint16),this.substitutionCount=e.uint16,this.substLookupRecords=[...new Array(this.substitutionCount)].map(t=>new T(e))}}class T extends i{constructor(t){super(t),this.sequenceIndex=t.uint16,this.lookupListIndex=t.uint16}}class pe extends i{constructor(t){super(t),this.substFormat=t.uint16,this.extensionLookupType=t.uint16,this.extensionOffset=t.Offset32}}class de extends A{constructor(e){super(e),this.backtrackGlyphCount=e.uint16,this.backtrackCoverageOffsets=[...new Array(this.backtrackGlyphCount)].map(t=>e.Offset16),this.lookaheadGlyphCount=e.uint16,this.lookaheadCoverageOffsets=[new Array(this.lookaheadGlyphCount)].map(t=>e.Offset16),this.glyphCount=e.uint16,this.substituteGlyphIDs=[...new Array(this.glyphCount)].map(t=>e.uint16)}}var ge={buildSubtable:function(t,e){e=new[void 0,Kt,Zt,Qt,ee,ie,ue,pe,de][t](e);return e.type=t,e}};class k extends i{constructor(t){super(t)}}class me extends k{constructor(t){super(t),console.log("lookup type 1")}}class ye extends k{constructor(t){super(t),console.log("lookup type 2")}}class be extends k{constructor(t){super(t),console.log("lookup type 3")}}class Ce extends k{constructor(t){super(t),console.log("lookup type 4")}}class ve extends k{constructor(t){super(t),console.log("lookup type 5")}}class Oe extends k{constructor(t){super(t),console.log("lookup type 6")}}class we extends k{constructor(t){super(t),console.log("lookup type 7")}}class Se extends k{constructor(t){super(t),console.log("lookup type 8")}}class xe extends k{constructor(t){super(t),console.log("lookup type 9")}}var Pe={buildSubtable:function(t,e){e=new[void 0,me,ye,be,Ce,ve,Oe,we,Se,xe][t](e);return e.type=t,e}};class D extends i{static EMPTY={lookupCount:0,lookups:[]};constructor(e){super(e),this.lookupCount=e.uint16,this.lookups=[...new Array(this.lookupCount)].map(t=>e.Offset16)}}class Ae extends i{constructor(e,t){super(e),this.ctType=t,this.lookupType=e.uint16,this.lookupFlag=e.uint16,this.subTableCount=e.uint16,this.subtableOffsets=[...new Array(this.subTableCount)].map(t=>e.Offset16),this.markFilteringSet=e.uint16}get rightToLeft(){return!0&this.lookupFlag}get ignoreBaseGlyphs(){return!0&this.lookupFlag}get ignoreLigatures(){return!0&this.lookupFlag}get ignoreMarks(){return!0&this.lookupFlag}get useMarkFilteringSet(){return!0&this.lookupFlag}get markAttachmentType(){return!0&this.lookupFlag}getSubTable(t){var e="GSUB"===this.ctType?ge:Pe;return this.parser.currentPosition=this.start+this.subtableOffsets[t],e.buildSubtable(this.lookupType,this.parser)}}class R extends n{constructor(t,e,s){const{p:r,tableStart:i}=super(t,e,s),n=(this.majorVersion=r.uint16,this.minorVersion=r.uint16,this.scriptListOffset=r.Offset16,this.featureListOffset=r.Offset16,this.lookupListOffset=r.Offset16,1===this.majorVersion&&1===this.minorVersion&&(this.featureVariationsOffset=r.Offset32),!(this.scriptListOffset||this.featureListOffset||this.lookupListOffset));h(this,"scriptList",()=>n?w.EMPTY:(r.currentPosition=i+this.scriptListOffset,new w(r))),h(this,"featureList",()=>n?x.EMPTY:(r.currentPosition=i+this.featureListOffset,new x(r))),h(this,"lookupList",()=>n?D.EMPTY:(r.currentPosition=i+this.lookupListOffset,new D(r))),this.featureVariationsOffset&&h(this,"featureVariations",()=>n?FeatureVariations.EMPTY:(r.currentPosition=i+this.featureVariationsOffset,new FeatureVariations(r)))}getSupportedScripts(){return this.scriptList.scriptRecords.map(t=>t.scriptTag)}getScriptTable(e){var t=this.scriptList.scriptRecords.find(t=>t.scriptTag===e),t=(this.parser.currentPosition=this.scriptList.start+t.scriptOffset,new Ut(this.parser));return t.scriptTag=e,t}ensureScriptTable(t){return"string"==typeof t?this.getScriptTable(t):t}getSupportedLangSys(t){var e=0!==(t=this.ensureScriptTable(t)).defaultLangSys,t=t.langSysRecords.map(t=>t.langSysTag);return e&&t.unshift("dflt"),t}getDefaultLangSysTable(t){var e=(t=this.ensureScriptTable(t)).defaultLangSys;if(0!==e)return this.parser.currentPosition=t.start+e,(e=new S(this.parser)).langSysTag="",e.defaultForScript=t.scriptTag,e}getLangSysTable(t,e="dflt"){var s;return"dflt"===e?this.getDefaultLangSysTable(t):(s=(t=this.ensureScriptTable(t)).langSysRecords.find(t=>t.langSysTag===e),this.parser.currentPosition=t.start+s.langSysOffset,(t=new S(this.parser)).langSysTag=e,t)}getFeatures(t){return t.featureIndices.map(t=>this.getFeature(t))}getFeature(e){let t;var s;if(t=parseInt(e)==e?this.featureList.featureRecords[e]:this.featureList.featureRecords.find(t=>t.featureTag===e))return this.parser.currentPosition=this.featureList.start+t.featureOffset,(s=new Ht(this.parser)).featureTag=t.featureTag,s}getLookups(t){return t.lookupListIndices.map(t=>this.getLookup(t))}getLookup(t,e){t=this.lookupList.lookups[t];return this.parser.currentPosition=this.lookupList.start+t,new Ae(this.parser,e)}}var _e=Object.freeze({__proto__:null,GSUB:class extends R{constructor(t,e){super(t,e,"GSUB")}getLookup(t){return super.getLookup(t,"GSUB")}}});var Le=Object.freeze({__proto__:null,GPOS:class extends R{constructor(t,e){super(t,e,"GPOS")}getLookup(t){return super.getLookup(t,"GPOS")}}});class Te extends i{constructor(e){super(e),this.numEntries=e.uint16,this.documentRecords=[...new Array(this.numEntries)].map(t=>new ke(e))}getDocument(t){var e,t=this.documentRecords[t];return t?(e=this.start+t.svgDocOffset,this.parser.currentPosition=e,this.parser.readBytes(t.svgDocLength)):""}getDocumentForGlyph(e){var t=this.documentRecords.findIndex(t=>t.startGlyphID<=e&&e<=t.endGlyphID);return-1===t?"":this.getDocument(t)}}class ke{constructor(t){this.startGlyphID=t.uint16,this.endGlyphID=t.uint16,this.svgDocOffset=t.Offset32,this.svgDocLength=t.uint32}}var De=Object.freeze({__proto__:null,SVG:class extends n{constructor(t,e){t=super(t,e).p;this.version=t.uint16,this.offsetToSVGDocumentList=t.Offset32,t.currentPosition=this.tableStart+this.offsetToSVGDocumentList,this.documentList=new Te(t)}}});class Re{constructor(t){this.tag=t.tag,this.minValue=t.fixed,this.defaultValue=t.fixed,this.maxValue=t.fixed,this.flags=t.flags(16),this.axisNameID=t.uint16}}class Ie{constructor(e,t,s){var r=e.currentPosition;this.subfamilyNameID=e.uint16,e.uint16,this.coordinates=[...new Array(t)].map(t=>e.fixed),e.currentPosition-r<s&&(this.postScriptNameID=e.uint16)}}var Ge=Object.freeze({__proto__:null,fvar:class extends n{constructor(t,e){const s=super(t,e)["p"],r=(this.majorVersion=s.uint16,this.minorVersion=s.uint16,this.axesArrayOffset=s.Offset16,s.uint16,this.axisCount=s.uint16,this.axisSize=s.uint16,this.instanceCount=s.uint16,this.instanceSize=s.uint16,this.tableStart+this.axesArrayOffset),i=(h(this,"axes",()=>(s.currentPosition=r,[...new Array(this.axisCount)].map(t=>new Re(s)))),r+this.axisCount*this.axisSize);h(this,"instances",()=>{var e=[];for(let t=0;t<this.instanceCount;t++)s.currentPosition=i+t*this.instanceSize,e.push(new Ie(s,this.axisCount,this.instanceSize));return e})}getSupportedAxes(){return this.axes.map(t=>t.tag)}getAxis(e){return this.axes.find(t=>t.tag===e)}}});var Fe=Object.freeze({__proto__:null,cvt:class extends n{constructor(t,e){const s=super(t,e)["p"],r=t.length/2;h(this,"items",()=>[...new Array(r)].map(t=>s.fword))}}});var Ve=Object.freeze({__proto__:null,fpgm:class extends n{constructor(t,e){const s=super(t,e)["p"];h(this,"instructions",()=>[...new Array(t.length)].map(t=>s.uint8))}}});class ze{constructor(t){this.rangeMaxPPEM=t.uint16,this.rangeGaspBehavior=t.uint16}}var je=Object.freeze({__proto__:null,gasp:class extends n{constructor(t,e){const s=super(t,e)["p"];this.version=s.uint16,this.numRanges=s.uint16;h(this,"gaspRanges",()=>[...new Array(this.numRanges)].map(t=>new ze(s)))}}});var Ee=Object.freeze({__proto__:null,glyf:class extends n{constructor(t,e){super(t,e)}getGlyphData(t,e){return this.parser.currentPosition=this.tableStart+t,this.parser.readBytes(e)}}});var Be=Object.freeze({__proto__:null,loca:class extends n{constructor(t,e,s){const r=super(t,e)["p"],i=s.maxp.numGlyphs+1;0===s.head.indexToLocFormat?(this.x2=!0,h(this,"offsets",()=>[...new Array(i)].map(t=>r.Offset16))):h(this,"offsets",()=>[...new Array(i)].map(t=>r.Offset32))}getGlyphDataOffsetAndLength(t){var e=this.offsets[t]*this.x2?2:1;return{offset:e,length:(this.offsets[t+1]*this.x2?2:1)-e}}}});var Me=Object.freeze({__proto__:null,prep:class extends n{constructor(t,e){const s=super(t,e)["p"];h(this,"instructions",()=>[...new Array(t.length)].map(t=>s.uint8))}}});var qe=Object.freeze({__proto__:null,CFF:class extends n{constructor(t,e){const s=super(t,e)["p"];h(this,"data",()=>s.readBytes())}}});var Ue=Object.freeze({__proto__:null,CFF2:class extends n{constructor(t,e){const s=super(t,e)["p"];h(this,"data",()=>s.readBytes())}}});class Ne{constructor(t){this.glyphIndex=t.uint16,this.vertOriginY=t.int16}}var Ye=Object.freeze({__proto__:null,VORG:class extends n{constructor(t,e){const s=super(t,e)["p"];this.majorVersion=s.uint16,this.minorVersion=s.uint16,this.defaultVertOriginY=s.int16,this.numVertOriginYMetrics=s.uint16,h(this,"vertORiginYMetrics",()=>[...new Array(this.numVertOriginYMetrics)].map(t=>new Ne(s)))}}});class He{constructor(t){this.indexSubTableArrayOffset=t.Offset32,this.indexTablesSize=t.uint32,this.numberofIndexSubTables=t.uint32,this.colorRef=t.uint32,this.hori=new I(t),this.vert=new I(t),this.startGlyphIndex=t.uint16,this.endGlyphIndex=t.uint16,this.ppemX=t.uint8,this.ppemY=t.uint8,this.bitDepth=t.uint8,this.flags=t.int8}}class $e{constructor(t){this.hori=new I(t),this.vert=new I(t),this.ppemX=t.uint8,this.ppemY=t.uint8,this.substitutePpemX=t.uint8,this.substitutePpemY=t.uint8}}class I{constructor(t){this.ascender=t.int8,this.descender=t.int8,this.widthMax=t.uint8,this.caretSlopeNumerator=t.int8,this.caretSlopeDenominator=t.int8,this.caretOffset=t.int8,this.minOriginSB=t.int8,this.minAdvanceSB=t.int8,this.maxBeforeBL=t.int8,this.minAfterBL=t.int8,this.pad1=t.int8,this.pad2=t.int8}}class G extends n{constructor(t,e,s){const r=super(t,e,s)["p"];this.majorVersion=r.uint16,this.minorVersion=r.uint16,this.numSizes=r.uint32,h(this,"bitMapSizes",()=>[...new Array(this.numSizes)].map(t=>new He(r)))}}var We=Object.freeze({__proto__:null,EBLC:G});class F extends n{constructor(t,e,s){t=super(t,e,s).p;this.majorVersion=t.uint16,this.minorVersion=t.uint16}}var Xe=Object.freeze({__proto__:null,EBDT:F});var Ke=Object.freeze({__proto__:null,EBSC:class extends n{constructor(t,e){const s=super(t,e)["p"];this.majorVersion=s.uint16,this.minorVersion=s.uint16,this.numSizes=s.uint32,h(this,"bitmapScales",()=>[...new Array(this.numSizes)].map(t=>new $e(s)))}}});var Ze=Object.freeze({__proto__:null,CBLC:class extends G{constructor(t,e){super(t,e,"CBLC")}}});var Je=Object.freeze({__proto__:null,CBDT:class extends F{constructor(t,e){super(t,e,"CBDT")}}});var Qe=Object.freeze({__proto__:null,sbix:class extends n{constructor(t,e){const s=super(t,e)["p"];this.version=s.uint16,this.flags=s.flags(16),this.numStrikes=s.uint32,h(this,"strikeOffsets",()=>[...new Array(this.numStrikes)].map(t=>s.Offset32))}}});class V{constructor(t){this.gID=t.uint16,this.firstLayerIndex=t.uint16,this.numLayers=t.uint16}}class ts{constructor(t){this.gID=t.uint16,this.paletteIndex=t.uint16}}var es=Object.freeze({__proto__:null,COLR:class extends n{constructor(t,e){t=super(t,e).p;this.version=t.uint16,this.numBaseGlyphRecords=t.uint16,this.baseGlyphRecordsOffset=t.Offset32,this.layerRecordsOffset=t.Offset32,this.numLayerRecords=t.uint16}getBaseGlyphRecord(t){let e=this.tableStart+this.baseGlyphRecordsOffset;this.parser.currentPosition=e;var s=new V(this.parser),r=s.gID;let i=this.tableStart+this.layerRecordsOffset-6;this.parser.currentPosition=i;var n=new V(this.parser),o=n.gID;if(r===t)return s;if(o===t)return n;for(;;){if(e===i)break;var a=e+(i-e)/12,u=(this.parser.currentPosition=a,new V(this.parser)),h=u.gID;if(h===t)return u;t<h?i=a:h<t&&(e=a)}return!1}getLayers(t){t=this.getBaseGlyphRecord(t);return this.parser.currentPosition=this.tableStart+this.layerRecordsOffset+4*t.firstLayerIndex,[...new Array(t.numLayers)].map(t=>new ts(p))}}});class ss{constructor(t){this.blue=t.uint8,this.green=t.uint8,this.red=t.uint8,this.alpha=t.uint8}}class rs{constructor(e,t){this.paletteTypes=[...new Array(t)].map(t=>e.uint32)}}class is{constructor(e,t){this.paletteLabels=[...new Array(t)].map(t=>e.uint16)}}class ns{constructor(e,t){this.paletteEntryLabels=[...new Array(t)].map(t=>e.uint16)}}var os=Object.freeze({__proto__:null,CPAL:class extends n{constructor(t,e){const s=super(t,e)["p"],r=(this.version=s.uint16,this.numPaletteEntries=s.uint16,this.numPalettes=s.uint16);this.numColorRecords=s.uint16,this.offsetFirstColorRecord=s.Offset32,this.colorRecordIndices=[...new Array(this.numPalettes)].map(t=>s.uint16),h(this,"colorRecords",()=>(s.currentPosition=this.tableStart+this.offsetFirstColorRecord,[...new Array(this.numColorRecords)].map(t=>new ss(s)))),1===this.version&&(this.offsetPaletteTypeArray=s.Offset32,this.offsetPaletteLabelArray=s.Offset32,this.offsetPaletteEntryLabelArray=s.Offset32,h(this,"paletteTypeArray",()=>(s.currentPosition=this.tableStart+this.offsetPaletteTypeArray,new rs(s,r))),h(this,"paletteLabelArray",()=>(s.currentPosition=this.tableStart+this.offsetPaletteLabelArray,new is(s,r))),h(this,"paletteEntryLabelArray",()=>(s.currentPosition=this.tableStart+this.offsetPaletteEntryLabelArray,new ns(s,r))))}}});class as{constructor(t){this.format=t.uint32,this.length=t.uint32,this.offset=t.Offset32}}class us{constructor(t){t.uint16,t.uint16,this.signatureLength=t.uint32,this.signature=t.readBytes(this.signatureLength)}}var hs=Object.freeze({__proto__:null,DSIG:class extends n{constructor(t,e){const s=super(t,e)["p"];this.version=s.uint32,this.numSignatures=s.uint16,this.flags=s.uint16,this.signatureRecords=[...new Array(this.numSignatures)].map(t=>new as(s))}getData(t){t=this.signatureRecords[t];return this.parser.currentPosition=this.tableStart+t.offset,new us(this.parser)}}});class cs{constructor(t,e){this.pixelSize=t.uint8,this.maxWidth=t.uint8,this.widths=t.readBytes(e)}}var ls=Object.freeze({__proto__:null,hdmx:class extends n{constructor(t,e,s){const r=super(t,e)["p"],i=s.hmtx.numGlyphs;this.version=r.uint16,this.numRecords=r.int16,this.sizeDeviceRecord=r.int32,this.records=[...new Array(numRecords)].map(t=>new cs(r,i))}}});class fs{constructor(e){this.version=e.uint16,this.length=e.uint16,this.coverage=e.flags(8),this.format=e.uint8,0===this.format&&(this.nPairs=e.uint16,this.searchRange=e.uint16,this.entrySelector=e.uint16,this.rangeShift=e.uint16,h(this,"pairs",()=>[...new Array(this.nPairs)].map(t=>new ps(e)))),2===this.format&&console.warn("Kern subtable format 2 is not supported: this parser currently only parses universal table data.")}get horizontal(){return this.coverage[0]}get minimum(){return this.coverage[1]}get crossstream(){return this.coverage[2]}get override(){return this.coverage[3]}}class ps{constructor(t){this.left=t.uint16,this.right=t.uint16,this.value=t.fword}}var ds=Object.freeze({__proto__:null,kern:class extends n{constructor(t,e){const i=super(t,e)["p"];this.version=i.uint16,this.nTables=i.uint16,h(this,"tables",()=>{let e=this.tableStart+4;var s=[];for(let t=0;t<this.nTables;t++){i.currentPosition=e;var r=new fs(i);s.push(r),e+=r}return s})}}});var gs=Object.freeze({__proto__:null,LTSH:class extends n{constructor(t,e){t=super(t,e).p;this.version=t.uint16,this.numGlyphs=t.uint16,this.yPels=t.readBytes(this.numGlyphs)}}});var ms=Object.freeze({__proto__:null,MERG:class extends n{constructor(t,e){const s=super(t,e)["p"];this.version=s.uint16,this.mergeClassCount=s.uint16,this.mergeDataOffset=s.Offset16,this.classDefCount=s.uint16,this.offsetToClassDefOffsets=s.Offset16,h(this,"mergeEntryMatrix",()=>[...new Array(this.mergeClassCount)].map(t=>s.readBytes(this.mergeClassCount))),console.warn("Full MERG parsing is currently not supported."),console.warn("If you need this table parsed, please file an issue, or better yet, a PR.")}}});class ys{constructor(t,e){this.tableStart=t,this.parser=e,this.tag=e.tag,this.dataOffset=e.Offset32,this.dataLength=e.uint32}getData(){return this.parser.currentField=this.tableStart+this.dataOffset,this.parser.readBytes(this.dataLength)}}var bs=Object.freeze({__proto__:null,meta:class extends n{constructor(t,e){const s=super(t,e)["p"];this.version=s.uint32,this.flags=s.uint32,s.uint32,this.dataMapsCount=s.uint32,this.dataMaps=[...new Array(this.dataMapsCount)].map(t=>new ys(this.tableStart,s))}}});var Cs=Object.freeze({__proto__:null,PCLT:class extends n{constructor(t,e){super(t,e),console.warn("This font uses a PCLT table, which is currently not supported by this parser."),console.warn("If you need this table parsed, please file an issue, or better yet, a PR.")}}});class vs{constructor(t){this.bCharSet=t.uint8,this.xRatio=t.uint8,this.yStartRatio=t.uint8,this.yEndRatio=t.uint8}}class Os{constructor(e){this.recs=e.uint16,this.startsz=e.uint8,this.endsz=e.uint8,this.records=[...new Array(this.recs)].map(t=>new ws(e))}}class ws{constructor(t){this.yPelHeight=t.uint16,this.yMax=t.int16,this.yMin=t.int16}}var Ss=Object.freeze({__proto__:null,VDMX:class extends n{constructor(t,e){const s=super(t,e)["p"];this.version=s.uint16,this.numRecs=s.uint16,this.numRatios=s.uint16,this.ratRanges=[...new Array(this.numRatios)].map(t=>new vs(s)),this.offsets=[...new Array(this.numRatios)].map(t=>s.Offset16),this.VDMXGroups=[...new Array(this.numRecs)].map(t=>new Os(s))}}});var xs=Object.freeze({__proto__:null,vhea:class extends n{constructor(t,e){t=super(t,e).p;this.version=t.fixed,this.ascent=this.vertTypoAscender=t.int16,this.descent=this.vertTypoDescender=t.int16,this.lineGap=this.vertTypoLineGap=t.int16,this.advanceHeightMax=t.int16,this.minTopSideBearing=t.int16,this.minBottomSideBearing=t.int16,this.yMaxExtent=t.int16,this.caretSlopeRise=t.int16,this.caretSlopeRun=t.int16,this.caretOffset=t.int16,this.reserved=t.int16,this.reserved=t.int16,this.reserved=t.int16,this.reserved=t.int16,this.metricDataFormat=t.int16,this.numOfLongVerMetrics=t.uint16,t.verifyLength()}}});class Ps{constructor(t,e){this.advanceHeight=t,this.topSideBearing=e}}var As=Object.freeze({__proto__:null,vmtx:class extends n{constructor(t,e,s){const r=super(t,e)["p"],i=s.vhea.numOfLongVerMetrics,n=s.maxp.numGlyphs,o=r.currentPosition;if(h(this,"vMetrics",()=>(r.currentPosition=o,[...new Array(i)].map(t=>new Ps(r.uint16,r.int16)))),i<n){const a=o+4*i;h(this,"topSideBearings",()=>(r.currentPosition=a,[...new Array(n-i)].map(t=>r.int16)))}}}})});